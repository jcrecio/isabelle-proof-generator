{"file_name": "/home/qj213/afp-2021-10-22/thys/Possibilistic_Noninterference/Compositionality.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Possibilistic_Noninterference", "problem_names": ["theorem discr_Atm[simp]:\n\"discr (Atm atm) = presAtm atm\"", "theorem discr_If[simp]:\nassumes \"discr c1\" and \"discr c2\"\nshows \"discr (If tst c1 c2)\"", "theorem discr_Seq[simp]:\nassumes *: \"discr c1\" and **: \"discr c2\"\nshows \"discr (c1 ;; c2)\"", "theorem discr_While[simp]:\nassumes \"discr c\"\nshows \"discr (While tst c)\"", "theorem discr_Par[simp]:\nassumes *: \"discr c1\" and **: \"discr c2\"\nshows \"discr (Par c1 c2)\"", "theorem discr0_Atm[simp]:\n\"discr0 (Atm atm) = presAtm atm\"", "theorem discr0_If[simp]:\nassumes \"discr0 c1\" and \"discr0 c2\"\nshows \"discr0 (If tst c1 c2)\"", "theorem discr0_Seq[simp]:\nassumes *: \"discr0 c1\" and **: \"discr0 c2\"\nshows \"discr0 (c1 ;; c2)\"", "theorem discr0_While[simp]:\nassumes \"discr0 c\"\nshows \"discr0 (While tst c)\"", "theorem discr0_Par[simp]:\nassumes *: \"discr0 c1\" and **: \"discr0 c2\"\nshows \"discr0 (Par c1 c2)\"", "theorem siso_Atm[simp]:\n\"siso (Atm atm) = compatAtm atm\"", "theorem siso_If[simp]:\nassumes  \"compatTst tst\" and \"siso c1\" and \"siso c2\"\nshows \"siso (If tst c1 c2)\"", "theorem siso_Seq[simp]:\nassumes *: \"siso c1\" and **: \"siso c2\"\nshows \"siso (c1 ;; c2)\"", "theorem siso_While[simp]:\nassumes \"compatTst tst\" and \"siso c\"\nshows \"siso (While tst c)\"", "theorem siso_Par[simp]:\nassumes *: \"siso c1\" and **: \"siso c2\"\nshows \"siso (Par c1 c2)\"", "theorem siso0_Atm[simp]:\n\"siso0 (Atm atm) = compatAtm atm\"", "theorem siso0_If[simp]:\nassumes  \"compatTst tst\" and \"siso0 c1\" and \"siso0 c2\"\nshows \"siso0 (If tst c1 c2)\"", "theorem siso0_Seq[simp]:\nassumes *: \"siso0 c1\" and **: \"siso0 c2\"\nshows \"siso0 (c1 ;; c2)\"", "theorem siso0_While[simp]:\nassumes \"compatTst tst\" and \"siso0 c\"\nshows \"siso0 (While tst c)\"", "theorem siso0_Par[simp]:\nassumes *: \"siso0 c1\" and **: \"siso0 c2\"\nshows \"siso0 (Par c1 c2)\"", "lemma thetaAtm_sym:\n\"sym (thetaAtm atm)\"", "lemma thetaAtm_Sretr:\nassumes \"compatAtm atm\"\nshows \"thetaAtm atm \\<subseteq> Sretr (thetaAtm atm)\"", "lemma thetaAtm_Sbis:\nassumes \"compatAtm atm\"\nshows \"thetaAtm atm \\<subseteq> Sbis\"", "theorem Atm_Sbis[simp]:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>s Atm atm\"", "lemma thetaSeq_sym:\n\"sym thetaSeq\"", "lemma thetaSeq_Sretr:\n\"thetaSeq \\<subseteq> Sretr (thetaSeq Un Sbis)\"", "lemma thetaSeq_Sbis:\n\"thetaSeq \\<subseteq> Sbis\"", "theorem Seq_Sbis[simp]:\nassumes \"c1 \\<approx>s d1\" and \"c2 \\<approx>s d2\"\nshows \"c1 ;; c2 \\<approx>s d1 ;; d2\"", "lemma thetaIf_sym:\n\"sym thetaIf\"", "lemma thetaIf_Sretr:\n\"thetaIf \\<subseteq> Sretr (thetaIf Un Sbis)\"", "lemma thetaIf_Sbis:\n\"thetaIf \\<subseteq> Sbis\"", "theorem If_Sbis[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>s d1\" and \"c2 \\<approx>s d2\"\nshows \"If tst c1 c2 \\<approx>s If tst d1 d2\"", "lemma thetaWhile_sym:\n\"sym thetaWhile\"", "lemma thetaWhile_Sretr:\n\"thetaWhile \\<subseteq> Sretr (thetaWhile Un Sbis)\"", "lemma thetaWhile_Sbis:\n\"thetaWhile \\<subseteq> Sbis\"", "theorem While_Sbis[simp]:\nassumes \"compatTst tst\" and \"c \\<approx>s d\"\nshows \"While tst c \\<approx>s While tst d\"", "lemma thetaPar_sym:\n\"sym thetaPar\"", "lemma thetaPar_Sretr:\n\"thetaPar \\<subseteq> Sretr (thetaPar Un Sbis)\"", "lemma thetaPar_Sbis:\n\"thetaPar \\<subseteq> Sbis\"", "theorem Par_Sbis[simp]:\nassumes \"c1 \\<approx>s d1\" and \"c2 \\<approx>s d2\"\nshows \"Par c1 c2 \\<approx>s Par d1 d2\"", "theorem Atm_ZObisT:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>01T Atm atm\"", "lemma thetaSeqZOT_sym:\n\"sym thetaSeqZOT\"", "lemma thetaSeqZOT_ZOretrT:\n\"thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT Un ZObisT)\"", "lemma thetaSeqZOT_ZObisT:\n\"thetaSeqZOT \\<subseteq> ZObisT\"", "theorem Seq_ZObisT[simp]:\nassumes \"c1 \\<approx>01T d1\" and \"c2 \\<approx>01T d2\"\nshows \"c1 ;; c2 \\<approx>01T d1 ;; d2\"", "lemma thetaIfZOT_sym:\n\"sym thetaIfZOT\"", "lemma thetaIfZOT_ZOretrT:\n\"thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT Un ZObisT)\"", "lemma thetaIfZOT_ZObisT:\n\"thetaIfZOT \\<subseteq> ZObisT\"", "theorem If_ZObisT[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>01T d1\" and \"c2 \\<approx>01T d2\"\nshows \"If tst c1 c2 \\<approx>01T If tst d1 d2\"", "lemma thetaWhileZOT_sym:\n\"sym thetaWhileZOT\"", "lemma thetaWhileZOT_ZOretrT:\n\"thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT Un ZObisT)\"", "lemma thetaWhileZOT_ZObisT:\n\"thetaWhileZOT \\<subseteq> ZObisT\"", "theorem While_ZObisT[simp]:\nassumes \"compatTst tst\" and \"c \\<approx>01T d\"\nshows \"While tst c \\<approx>01T While tst d\"", "lemma thetaParZOT_sym:\n\"sym thetaParZOT\"", "lemma thetaParZOT_ZOretrT:\n\"thetaParZOT \\<subseteq> ZOretrT (thetaParZOT Un ZObisT)\"", "lemma thetaParZOT_ZObisT:\n\"thetaParZOT \\<subseteq> ZObisT\"", "theorem Par_ZObisT[simp]:\nassumes \"c1 \\<approx>01T d1\" and \"c2 \\<approx>01T d2\"\nshows \"Par c1 c2 \\<approx>01T Par d1 d2\"", "theorem discr_ZObis[simp]:\nassumes *: \"discr c\" and **: \"discr d\"\nshows \"c \\<approx>01 d\"", "theorem Atm_ZObis[simp]:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>01 Atm atm\"", "lemma thetaSeqZO_sym:\n\"sym thetaSeqZO\"", "lemma thetaSeqZO_ZOretr:\n\"thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO Un ZObis)\"", "lemma thetaSeqZO_ZObis:\n\"thetaSeqZO \\<subseteq> ZObis\"", "theorem Seq_ZObisT_ZObis[simp]:\nassumes \"c1 \\<approx>01T d1\" and \"c2 \\<approx>01 d2\"\nshows \"c1 ;; c2 \\<approx>01 d1 ;; d2\"", "theorem Seq_siso_ZObis[simp]:\nassumes \"siso e\" and \"c2 \\<approx>01 d2\"\nshows \"e ;; c2 \\<approx>01 e ;; d2\"", "lemma thetaSeqZOD_sym:\n\"sym thetaSeqZOD\"", "lemma thetaSeqZOD_ZOretr:\n\"thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD Un ZObis)\"", "lemma thetaSeqZOD_ZObis:\n\"thetaSeqZOD \\<subseteq> ZObis\"", "theorem Seq_ZObis_discr[simp]:\nassumes \"c1 \\<approx>01 d1\" and \"discr c2\" and \"discr d2\"\nshows \"c1 ;; c2 \\<approx>01 d1 ;; d2\"", "lemma thetaIfZO_sym:\n\"sym thetaIfZO\"", "lemma thetaIfZO_ZOretr:\n\"thetaIfZO \\<subseteq> ZOretr (thetaIfZO Un ZObis)\"", "lemma thetaIfZO_ZObis:\n\"thetaIfZO \\<subseteq> ZObis\"", "theorem If_ZObis[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>01 d1\" and \"c2 \\<approx>01 d2\"\nshows \"If tst c1 c2 \\<approx>01 If tst d1 d2\"", "lemma thetaParZOL1_ZOretr:\n\"thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 Un ZObis)\"", "lemma thetaParZOL1_converse_ZOretr:\n\"thetaParZOL1 ^-1 \\<subseteq> ZOretr (thetaParZOL1 ^-1 Un ZObis)\"", "lemma thetaParZOL1_ZObis:\n\"thetaParZOL1 \\<subseteq> ZObis\"", "theorem Par_ZObis_discrL1[simp]:\nassumes \"c1 \\<approx>01 d\" and \"discr c2\"\nshows \"Par c1 c2 \\<approx>01 d\"", "theorem Par_ZObis_discrR1[simp]:\nassumes \"c \\<approx>01 d1\" and \"discr d2\"\nshows \"c \\<approx>01 Par d1 d2\"", "lemma thetaParZOL2_ZOretr:\n\"thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 Un ZObis)\"", "lemma thetaParZOL2_converse_ZOretr:\n\"thetaParZOL2 ^-1 \\<subseteq> ZOretr (thetaParZOL2 ^-1 Un ZObis)\"", "lemma thetaParZOL2_ZObis:\n\"thetaParZOL2 \\<subseteq> ZObis\"", "theorem Par_ZObis_discrL2[simp]:\nassumes \"c2 \\<approx>01 d\" and \"discr c1\"\nshows \"Par c1 c2 \\<approx>01 d\"", "theorem Par_ZObis_discrR2[simp]:\nassumes \"c \\<approx>01 d2\" and \"discr d1\"\nshows \"c \\<approx>01 Par d1 d2\"", "lemma thetaParZO_sym:\n\"sym thetaParZO\"", "lemma thetaParZO_ZOretr:\n\"thetaParZO \\<subseteq> ZOretr (thetaParZO Un ZObis)\"", "lemma thetaParZO_ZObis:\n\"thetaParZO \\<subseteq> ZObis\"", "theorem Par_ZObis[simp]:\nassumes \"c1 \\<approx>01 d1\" and \"c2 \\<approx>01 d2\"\nshows \"Par c1 c2 \\<approx>01 Par d1 d2\"", "theorem noWhile_discr_WbisT[simp]:\n  assumes \"noWhile c1\" and \"noWhile c2\" \n  and \"discr c1\" and \"discr c2\"\n  shows \"c1 \\<approx>wT c2\"", "theorem Atm_WbisT:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>wT Atm atm\"", "lemma thetaSeqWT_sym:\n\"sym thetaSeqWT\"", "lemma thetaSeqWT_WretrT:\n\"thetaSeqWT \\<subseteq> WretrT (thetaSeqWT Un WbisT)\"", "lemma thetaSeqWT_WbisT:\n\"thetaSeqWT \\<subseteq> WbisT\"", "theorem Seq_WbisT[simp]:\nassumes \"c1 \\<approx>wT d1\" and \"c2 \\<approx>wT d2\"\nshows \"c1 ;; c2 \\<approx>wT d1 ;; d2\"", "lemma thetaIfWT_sym:\n\"sym thetaIfWT\"", "lemma thetaIfWT_WretrT:\n\"thetaIfWT \\<subseteq> WretrT (thetaIfWT Un WbisT)\"", "lemma thetaIfWT_WbisT:\n\"thetaIfWT \\<subseteq> WbisT\"", "theorem If_WbisT[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>wT d1\" and \"c2 \\<approx>wT d2\"\nshows \"If tst c1 c2 \\<approx>wT If tst d1 d2\"", "lemma thetaWhileW_sym:\n\"sym thetaWhileW\"", "lemma thetaWhileW_WretrT:\n\"thetaWhileW \\<subseteq> WretrT (thetaWhileW Un WbisT)\"", "lemma thetaWhileW_WbisT:\n\"thetaWhileW \\<subseteq> WbisT\"", "theorem While_WbisT[simp]:\nassumes \"compatTst tst\" and \"c \\<approx>wT d\"\nshows \"While tst c \\<approx>wT While tst d\"", "lemma thetaParWT_sym:\n\"sym thetaParWT\"", "lemma thetaParWT_WretrT:\n\"thetaParWT \\<subseteq> WretrT (thetaParWT Un WbisT)\"", "lemma thetaParWT_WbisT:\n\"thetaParWT \\<subseteq> WbisT\"", "theorem Par_WbisT[simp]:\nassumes \"c1 \\<approx>wT d1\" and \"c2 \\<approx>wT d2\"\nshows \"Par c1 c2 \\<approx>wT Par d1 d2\"", "lemma thetaFDW0_sym:\n\"sym thetaFDW0\"", "lemma thetaFDW0_RetrT:\n\"thetaFDW0 \\<subseteq> RetrT thetaFDW0\"", "lemma thetaFDW0_BisT:\n\"thetaFDW0 \\<subseteq> BisT\"", "theorem discr0_BisT[simp]:\nassumes \"discr0 c1\" and \"discr0 c2\"\nshows \"c1 \\<approx>T c2\"", "theorem Atm_BisT:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>T Atm atm\"", "lemma thetaSeqTT_sym:\n\"sym thetaSeqTT\"", "lemma thetaSeqTT_RetrT:\n\"thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)\"", "lemma thetaSeqTT_BisT:\n\"thetaSeqTT \\<subseteq> BisT\"", "theorem Seq_BisT[simp]:\nassumes \"c1 \\<approx>T d1\" and \"c2 \\<approx>T d2\"\nshows \"c1 ;; c2 \\<approx>T d1 ;; d2\"", "lemma thetaIfTT_sym:\n\"sym thetaIfTT\"", "lemma thetaIfTT_RetrT:\n\"thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)\"", "lemma thetaIfTT_BisT:\n\"thetaIfTT \\<subseteq> BisT\"", "theorem If_BisT[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>T d1\" and \"c2 \\<approx>T d2\"\nshows \"If tst c1 c2 \\<approx>T If tst d1 d2\"", "lemma thetaWhileW0_sym:\n\"sym thetaWhileW0\"", "lemma thetaWhileW0_RetrT:\n\"thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)\"", "lemma thetaWhileW0_BisT:\n\"thetaWhileW0 \\<subseteq> BisT\"", "theorem While_BisT[simp]:\nassumes \"compatTst tst\" and \"c \\<approx>T d\"\nshows \"While tst c \\<approx>T While tst d\"", "lemma thetaParTT_sym:\n\"sym thetaParTT\"", "lemma thetaParTT_RetrT:\n\"thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)\"", "lemma thetaParTT_BisT:\n\"thetaParTT \\<subseteq> BisT\"", "theorem Par_BisT[simp]:\nassumes \"c1 \\<approx>T d1\" and \"c2 \\<approx>T d2\"\nshows \"Par c1 c2 \\<approx>T Par d1 d2\"", "theorem Atm_Wbis[simp]:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>w Atm atm\"", "theorem discr_Wbis[simp]:\nassumes *: \"discr c\" and **: \"discr d\"\nshows \"c \\<approx>w d\"", "lemma thetaSeqW_sym:\n\"sym thetaSeqW\"", "lemma thetaSeqW_Wretr:\n\"thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)\"", "lemma thetaSeqW_Wbis:\n\"thetaSeqW \\<subseteq> Wbis\"", "theorem Seq_WbisT_Wbis[simp]:\nassumes \"c1 \\<approx>wT d1\" and \"c2 \\<approx>w d2\"\nshows \"c1 ;; c2 \\<approx>w d1 ;; d2\"", "theorem Seq_siso_Wbis[simp]:\nassumes \"siso e\" and \"c2 \\<approx>w d2\"\nshows \"e ;; c2 \\<approx>w e ;; d2\"", "lemma thetaSeqWD_sym:\n\"sym thetaSeqWD\"", "lemma thetaSeqWD_Wretr:\n\"thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)\"", "lemma thetaSeqWD_Wbis:\n\"thetaSeqWD \\<subseteq> Wbis\"", "theorem Seq_Wbis_discr[simp]:\nassumes \"c1 \\<approx>w d1\" and \"discr c2\" and \"discr d2\"\nshows \"c1 ;; c2 \\<approx>w d1 ;; d2\"", "lemma thetaIfW_sym:\n\"sym thetaIfW\"", "lemma thetaIfW_Wretr:\n\"thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)\"", "lemma thetaIfW_Wbis:\n\"thetaIfW \\<subseteq> Wbis\"", "theorem If_Wbis[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>w d1\" and \"c2 \\<approx>w d2\"\nshows \"If tst c1 c2 \\<approx>w If tst d1 d2\"", "lemma thetaParWL1_Wretr:\n\"thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)\"", "lemma thetaParWL1_converse_Wretr:\n\"thetaParWL1 ^-1 \\<subseteq> Wretr (thetaParWL1 ^-1 \\<union> Wbis)\"", "lemma thetaParWL1_Wbis:\n\"thetaParWL1 \\<subseteq> Wbis\"", "theorem Par_Wbis_discrL1[simp]:\nassumes \"c1 \\<approx>w d\" and \"discr c2\"\nshows \"Par c1 c2 \\<approx>w d\"", "theorem Par_Wbis_discrR1[simp]:\nassumes \"c \\<approx>w d1\" and \"discr d2\"\nshows \"c \\<approx>w Par d1 d2\"", "lemma thetaParWL2_Wretr:\n\"thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)\"", "lemma thetaParWL2_converse_Wretr:\n\"thetaParWL2 ^-1 \\<subseteq> Wretr (thetaParWL2 ^-1 \\<union> Wbis)\"", "lemma thetaParWL2_Wbis:\n\"thetaParWL2 \\<subseteq> Wbis\"", "theorem Par_Wbis_discrL2[simp]:\nassumes \"c2 \\<approx>w d\" and \"discr c1\"\nshows \"Par c1 c2 \\<approx>w d\"", "theorem Par_Wbis_discrR2[simp]:\nassumes \"c \\<approx>w d2\" and \"discr d1\"\nshows \"c \\<approx>w Par d1 d2\"", "lemma thetaParW_sym:\n\"sym thetaParW\"", "lemma thetaParW_Wretr:\n\"thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)\"", "lemma thetaParW_Wbis:\n\"thetaParW \\<subseteq> Wbis\"", "theorem Par_Wbis[simp]:\nassumes \"c1 \\<approx>w d1\" and \"c2 \\<approx>w d2\"\nshows \"Par c1 c2 \\<approx>w Par d1 d2\""], "translations": [["", "theorem discr_Atm[simp]:\n\"discr (Atm atm) = presAtm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr (Atm atm) = presAtm atm", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (Atm atm) = presAtm atm", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (Atm atm) = presAtm atm", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (Atm atm) = presAtm atm", "have \n   \"(\\<exists> atm. c = Atm atm \\<and> presAtm atm) \n    \\<Longrightarrow> discr c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>atm. c = Atm atm \\<and> presAtm atm \\<Longrightarrow> discr c", "apply(erule discr_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> presAtm atm;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>atm.\n                              c' = Atm atm \\<and> presAtm atm) \\<or>\n                          discr c')\n 2. \\<And>c s s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> presAtm atm;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis Atm_transC_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c s s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> presAtm atm;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "by (metis PL.Atm_transT_invert presAtm_def)"], ["proof (state)\nthis:\n  \\<exists>atm. c = Atm atm \\<and> presAtm atm \\<Longrightarrow> discr c\n\ngoal (1 subgoal):\n 1. discr (Atm atm) = presAtm atm", "}"], ["proof (state)\nthis:\n  \\<exists>atm. ?c3 = Atm atm \\<and> presAtm atm \\<Longrightarrow> discr ?c3\n\ngoal (1 subgoal):\n 1. discr (Atm atm) = presAtm atm", "moreover"], ["proof (state)\nthis:\n  \\<exists>atm. ?c3 = Atm atm \\<and> presAtm atm \\<Longrightarrow> discr ?c3\n\ngoal (1 subgoal):\n 1. discr (Atm atm) = presAtm atm", "have \"discr (Atm atm) \\<Longrightarrow> presAtm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr (Atm atm) \\<Longrightarrow> presAtm atm", "by (metis Atm presAtm_def discr_transT)"], ["proof (state)\nthis:\n  discr (Atm atm) \\<Longrightarrow> presAtm atm\n\ngoal (1 subgoal):\n 1. discr (Atm atm) = presAtm atm", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>atm. ?c3 = Atm atm \\<and> presAtm atm \\<Longrightarrow> discr ?c3\n  discr (Atm atm) \\<Longrightarrow> presAtm atm", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>atm. ?c3 = Atm atm \\<and> presAtm atm \\<Longrightarrow> discr ?c3\n  discr (Atm atm) \\<Longrightarrow> presAtm atm\n\ngoal (1 subgoal):\n 1. discr (Atm atm) = presAtm atm", "by blast"], ["proof (state)\nthis:\n  discr (Atm atm) = presAtm atm\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem discr_If[simp]:\nassumes \"discr c1\" and \"discr c2\"\nshows \"discr (If tst c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr (if tst then c1 else c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (if tst then c1 else c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (if tst then c1 else c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (if tst then c1 else c2)", "have \n   \"(\\<exists> tst c1 c2. c = If tst c1 c2 \\<and> discr c1 \\<and> discr c2) \\<Longrightarrow> discr c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>tst c1 c2.\n       c = if tst then c1 else c2 \\<and>\n       discr c1 \\<and> discr c2 \\<Longrightarrow>\n    discr c", "apply(erule discr_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   discr c1 \\<and> discr c2;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>tst c1 c2.\n                              c' = if tst then c1 else c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 2. \\<And>c s s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   discr c1 \\<and> discr c2;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis PL.If_transC_invert indis_refl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c s s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   discr c1 \\<and> discr c2;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "by (metis If_transT_invert)"], ["proof (state)\nthis:\n  \\<exists>tst c1 c2.\n     c = if tst then c1 else c2 \\<and>\n     discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr c\n\ngoal (1 subgoal):\n 1. discr (if tst then c1 else c2)", "}"], ["proof (state)\nthis:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr ?c3\n\ngoal (1 subgoal):\n 1. discr (if tst then c1 else c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr ?c3\n\ngoal (1 subgoal):\n 1. discr (if tst then c1 else c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr ?c3\n  discr c1\n  discr c2\n\ngoal (1 subgoal):\n 1. discr (if tst then c1 else c2)", "by blast"], ["proof (state)\nthis:\n  discr (if tst then c1 else c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem discr_Seq[simp]:\nassumes *: \"discr c1\" and **: \"discr c2\"\nshows \"discr (c1 ;; c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr (c1 ;; c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (c1 ;; c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (c1 ;; c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (c1 ;; c2)", "have \n   \"(\\<exists> c1 c2. c = c1 ;; c2 \\<and> discr c1 \\<and> discr c2) \n    \\<Longrightarrow> discr c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c1 c2.\n       c = c1 ;; c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n    discr c", "apply(erule discr_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> discr c1 \\<and> discr c2;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 2. \\<And>c s s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> discr c1 \\<and> discr c2;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "proof(tactic\\<open>clarify_all_tac @{context}\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>c (c', s'); discr c1;\n        discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 2. \\<And>c s s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>t s'; discr c1; discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "fix c s c' s' c1 c2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>c (c', s'); discr c1;\n        discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 2. \\<And>c s s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>t s'; discr c1; discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "assume c1: \"discr c1\" and c2: \"discr c2\""], ["proof (state)\nthis:\n  discr c1\n  discr c2\n\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>c (c', s'); discr c1;\n        discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 2. \\<And>c s s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>t s'; discr c1; discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "assume \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>c (c', s'); discr c1;\n        discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 2. \\<And>c s s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>t s'; discr c1; discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "thus \"s \\<approx> s' \\<and> ((\\<exists>c1 c2. c' = c1 ;; c2 \\<and> discr c1 \\<and> discr c2) \\<or> discr c')\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s \\<approx> s' \\<and>\n    ((\\<exists>c1 c2. c' = c1 ;; c2 \\<and> discr c1 \\<and> discr c2) \\<or>\n     discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s \\<approx> s' \\<and>\n    ((\\<exists>c1 c2. c' = c1 ;; c2 \\<and> discr c1 \\<and> discr c2) \\<or>\n     discr c')", "apply(erule Seq_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 ;; c2 \\<and>\n                           discr c1 \\<and> discr c2) \\<or>\n                       discr c')", "apply (metis c1 c2 discr_transC discr_transC_indis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 ;; c2 \\<and>\n                           discr c1 \\<and> discr c2) \\<or>\n                       discr c')", "by (metis c1 c2 discr.cases)"], ["proof (state)\nthis:\n  s \\<approx> s' \\<and>\n  ((\\<exists>c1 c2. c' = c1 ;; c2 \\<and> discr c1 \\<and> discr c2) \\<or>\n   discr c')\n\ngoal (1 subgoal):\n 1. \\<And>c s s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>t s'; discr c1; discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "qed (insert Seq_transT_invert, blast)"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     c = c1 ;; c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr c\n\ngoal (1 subgoal):\n 1. discr (c1 ;; c2)", "}"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr ?c3\n\ngoal (1 subgoal):\n 1. discr (c1 ;; c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr ?c3\n\ngoal (1 subgoal):\n 1. discr (c1 ;; c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr ?c3\n  discr c1\n  discr c2\n\ngoal (1 subgoal):\n 1. discr (c1 ;; c2)", "by blast"], ["proof (state)\nthis:\n  discr (c1 ;; c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem discr_While[simp]:\nassumes \"discr c\"\nshows \"discr (While tst c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr (while tst do c)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (while tst do c)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (while tst do c)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (while tst do c)", "have \n   \"(\\<exists> tst d. c = While tst d \\<and> discr d) \\<or> \n    (\\<exists> tst d1 d. c = d1 ;; (While tst d) \\<and> discr d1 \\<and> discr d)\n    \\<Longrightarrow> discr c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>tst d. c = while tst do d \\<and> discr d) \\<or>\n    (\\<exists>tst d1 d.\n        c = d1 ;; while tst do d \\<and>\n        discr d1 \\<and> discr d) \\<Longrightarrow>\n    discr c", "apply(erule discr_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>(\\<exists>tst d. c = while tst do d \\<and> discr d) \\<or>\n                (\\<exists>tst d1 d.\n                    c = d1 ;; while tst do d \\<and>\n                    discr d1 \\<and> discr d);\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         (((\\<exists>tst d.\n                               c' = while tst do d \\<and> discr d) \\<or>\n                           (\\<exists>tst d1 d.\n                               c' = d1 ;; while tst do d \\<and>\n                               discr d1 \\<and> discr d)) \\<or>\n                          discr c')\n 2. \\<And>c s s'.\n       \\<lbrakk>(\\<exists>tst d. c = while tst do d \\<and> discr d) \\<or>\n                (\\<exists>tst d1 d.\n                    c = d1 ;; while tst do d \\<and>\n                    discr d1 \\<and> discr d);\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>c s c' s' tst d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = while tst do d;\n        discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 2. \\<And>c s c' s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 3. \\<And>c s c' s' tst d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = while tst do d;\n        discr d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr d1 \\<and> discr d)) \\<or>\n                         discr c'\n 4. \\<And>c s c' s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr d1 \\<and> discr d)) \\<or>\n                         discr c'\n 5. \\<And>c s s' tst d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = while tst do d;\n        discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 6. \\<And>c s s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis While_transC_invert indis_refl)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>c s c' s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 2. \\<And>c s c' s' tst d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = while tst do d;\n        discr d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr d1 \\<and> discr d)) \\<or>\n                         discr c'\n 3. \\<And>c s c' s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr d1 \\<and> discr d)) \\<or>\n                         discr c'\n 4. \\<And>c s s' tst d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = while tst do d;\n        discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 5. \\<And>c s s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis Seq_transC_invert discr.cases)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>c s c' s' tst d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = while tst do d;\n        discr d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr d1 \\<and> discr d)) \\<or>\n                         discr c'\n 2. \\<And>c s c' s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr d1 \\<and> discr d)) \\<or>\n                         discr c'\n 3. \\<And>c s s' tst d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = while tst do d;\n        discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 4. \\<And>c s s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis While_transC_invert)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>c s c' s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>c (c', s'); c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr d1 \\<and> discr d)) \\<or>\n                         discr c'\n 2. \\<And>c s s' tst d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = while tst do d;\n        discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 3. \\<And>c s s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis Seq_transC_invert discr.cases)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s s' tst d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = while tst do d;\n        discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 2. \\<And>c s s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis PL.While_transT_invert indis_refl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c s s' tst d1 d.\n       \\<lbrakk>(c, s) \\<rightarrow>t s'; c = d1 ;; while tst do d;\n        discr d1; discr d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "by (metis Seq_transT_invert)"], ["proof (state)\nthis:\n  (\\<exists>tst d. c = while tst do d \\<and> discr d) \\<or>\n  (\\<exists>tst d1 d.\n      c = d1 ;; while tst do d \\<and>\n      discr d1 \\<and> discr d) \\<Longrightarrow>\n  discr c\n\ngoal (1 subgoal):\n 1. discr (while tst do c)", "}"], ["proof (state)\nthis:\n  (\\<exists>tst d. ?ca3 = while tst do d \\<and> discr d) \\<or>\n  (\\<exists>tst d1 d.\n      ?ca3 = d1 ;; while tst do d \\<and>\n      discr d1 \\<and> discr d) \\<Longrightarrow>\n  discr ?ca3\n\ngoal (1 subgoal):\n 1. discr (while tst do c)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>tst d. ?ca3 = while tst do d \\<and> discr d) \\<or>\n  (\\<exists>tst d1 d.\n      ?ca3 = d1 ;; while tst do d \\<and>\n      discr d1 \\<and> discr d) \\<Longrightarrow>\n  discr ?ca3\n\ngoal (1 subgoal):\n 1. discr (while tst do c)", "using assms"], ["proof (prove)\nusing this:\n  (\\<exists>tst d. ?ca3 = while tst do d \\<and> discr d) \\<or>\n  (\\<exists>tst d1 d.\n      ?ca3 = d1 ;; while tst do d \\<and>\n      discr d1 \\<and> discr d) \\<Longrightarrow>\n  discr ?ca3\n  discr c\n\ngoal (1 subgoal):\n 1. discr (while tst do c)", "by blast"], ["proof (state)\nthis:\n  discr (while tst do c)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem discr_Par[simp]:\nassumes *: \"discr c1\" and **: \"discr c2\"\nshows \"discr (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr (c1 | c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (c1 | c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (c1 | c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr (c1 | c2)", "have \n   \"(\\<exists> c1 c2. c = Par c1 c2 \\<and> discr c1 \\<and> discr c2) \n    \\<Longrightarrow> discr c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c1 c2.\n       c = c1 | c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n    discr c", "apply(erule discr_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> discr c1 \\<and> discr c2;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 2. \\<And>c s s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> discr c1 \\<and> discr c2;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "proof(tactic\\<open>clarify_all_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 | c2, s) \\<rightarrow>c (c', s'); discr c1;\n        discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')", "fix c s c' s' c1 c2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 | c2, s) \\<rightarrow>c (c', s'); discr c1;\n        discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')", "assume c1: \"discr c1\" and c2: \"discr c2\""], ["proof (state)\nthis:\n  discr c1\n  discr c2\n\ngoal (1 subgoal):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 | c2, s) \\<rightarrow>c (c', s'); discr c1;\n        discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 | c2, s) \\<rightarrow>c (c', s'); discr c1;\n        discr c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')", "thus \"s \\<approx> s' \\<and> ((\\<exists>c1 c2. c' = Par c1 c2 \\<and> discr c1 \\<and> discr c2) \\<or> discr c')\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s \\<approx> s' \\<and>\n    ((\\<exists>c1 c2. c' = c1 | c2 \\<and> discr c1 \\<and> discr c2) \\<or>\n     discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s \\<approx> s' \\<and>\n    ((\\<exists>c1 c2. c' = c1 | c2 \\<and> discr c1 \\<and> discr c2) \\<or>\n     discr c')", "apply(erule Par_transC_invert)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 | c2 \\<and>\n                           discr c1 \\<and> discr c2) \\<or>\n                       discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> discr c2) \\<or>\n                          discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 | c2 \\<and>\n                           discr c1 \\<and> discr c2) \\<or>\n                       discr c')", "by(metis c1 c2 discr.cases)+"], ["proof (state)\nthis:\n  s \\<approx> s' \\<and>\n  ((\\<exists>c1 c2. c' = c1 | c2 \\<and> discr c1 \\<and> discr c2) \\<or>\n   discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     c = c1 | c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr c\n\ngoal (1 subgoal):\n 1. discr (c1 | c2)", "}"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr ?c3\n\ngoal (1 subgoal):\n 1. discr (c1 | c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr ?c3\n\ngoal (1 subgoal):\n 1. discr (c1 | c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> discr c1 \\<and> discr c2 \\<Longrightarrow>\n  discr ?c3\n  discr c1\n  discr c2\n\ngoal (1 subgoal):\n 1. discr (c1 | c2)", "by blast"], ["proof (state)\nthis:\n  discr (c1 | c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Discreetness versus language constructs:\\<close>"], ["", "theorem discr0_Atm[simp]:\n\"discr0 (Atm atm) = presAtm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr0 (Atm atm) = presAtm atm", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (Atm atm) = presAtm atm", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (Atm atm) = presAtm atm", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (Atm atm) = presAtm atm", "have \n   \"(\\<exists> atm. c = Atm atm \\<and> presAtm atm) \n    \\<Longrightarrow> discr0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>atm. c = Atm atm \\<and> presAtm atm \\<Longrightarrow> discr0 c", "apply(erule discr0_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>mustT c s; \\<exists>atm. c = Atm atm \\<and> presAtm atm;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>atm.\n                              c' = Atm atm \\<and> presAtm atm) \\<or>\n                          discr0 c')\n 2. \\<And>c s s'.\n       \\<lbrakk>mustT c s; \\<exists>atm. c = Atm atm \\<and> presAtm atm;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis Atm_transC_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c s s'.\n       \\<lbrakk>mustT c s; \\<exists>atm. c = Atm atm \\<and> presAtm atm;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "by (metis discr_Atm discr_transT)"], ["proof (state)\nthis:\n  \\<exists>atm. c = Atm atm \\<and> presAtm atm \\<Longrightarrow> discr0 c\n\ngoal (1 subgoal):\n 1. discr0 (Atm atm) = presAtm atm", "}"], ["proof (state)\nthis:\n  \\<exists>atm. ?c3 = Atm atm \\<and> presAtm atm \\<Longrightarrow>\n  discr0 ?c3\n\ngoal (1 subgoal):\n 1. discr0 (Atm atm) = presAtm atm", "moreover"], ["proof (state)\nthis:\n  \\<exists>atm. ?c3 = Atm atm \\<and> presAtm atm \\<Longrightarrow>\n  discr0 ?c3\n\ngoal (1 subgoal):\n 1. discr0 (Atm atm) = presAtm atm", "have \"discr0 (Atm atm) \\<Longrightarrow> presAtm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr0 (Atm atm) \\<Longrightarrow> presAtm atm", "by (metis Atm discr0_MtransT presAtm_def mustT_Atm transT_MtransT)"], ["proof (state)\nthis:\n  discr0 (Atm atm) \\<Longrightarrow> presAtm atm\n\ngoal (1 subgoal):\n 1. discr0 (Atm atm) = presAtm atm", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>atm. ?c3 = Atm atm \\<and> presAtm atm \\<Longrightarrow>\n  discr0 ?c3\n  discr0 (Atm atm) \\<Longrightarrow> presAtm atm", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>atm. ?c3 = Atm atm \\<and> presAtm atm \\<Longrightarrow>\n  discr0 ?c3\n  discr0 (Atm atm) \\<Longrightarrow> presAtm atm\n\ngoal (1 subgoal):\n 1. discr0 (Atm atm) = presAtm atm", "by blast"], ["proof (state)\nthis:\n  discr0 (Atm atm) = presAtm atm\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem discr0_If[simp]:\nassumes \"discr0 c1\" and \"discr0 c2\"\nshows \"discr0 (If tst c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr0 (if tst then c1 else c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (if tst then c1 else c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (if tst then c1 else c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (if tst then c1 else c2)", "have \n   \"(\\<exists> tst c1 c2. c = If tst c1 c2 \\<and> discr0 c1 \\<and> discr0 c2) \\<Longrightarrow> discr0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>tst c1 c2.\n       c = if tst then c1 else c2 \\<and>\n       discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n    discr0 c", "apply(erule discr0_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>mustT c s;\n        \\<exists>tst c1 c2.\n           c = if tst then c1 else c2 \\<and> discr0 c1 \\<and> discr0 c2;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>tst c1 c2.\n                              c' = if tst then c1 else c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<And>c s s'.\n       \\<lbrakk>mustT c s;\n        \\<exists>tst c1 c2.\n           c = if tst then c1 else c2 \\<and> discr0 c1 \\<and> discr0 c2;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis If_transC_invert indis_refl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c s s'.\n       \\<lbrakk>mustT c s;\n        \\<exists>tst c1 c2.\n           c = if tst then c1 else c2 \\<and> discr0 c1 \\<and> discr0 c2;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "by (metis If_transT_invert)"], ["proof (state)\nthis:\n  \\<exists>tst c1 c2.\n     c = if tst then c1 else c2 \\<and>\n     discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 c\n\ngoal (1 subgoal):\n 1. discr0 (if tst then c1 else c2)", "}"], ["proof (state)\nthis:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 ?c3\n\ngoal (1 subgoal):\n 1. discr0 (if tst then c1 else c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 ?c3\n\ngoal (1 subgoal):\n 1. discr0 (if tst then c1 else c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 ?c3\n  discr0 c1\n  discr0 c2\n\ngoal (1 subgoal):\n 1. discr0 (if tst then c1 else c2)", "by blast"], ["proof (state)\nthis:\n  discr0 (if tst then c1 else c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem discr0_Seq[simp]:\nassumes *: \"discr0 c1\" and **: \"discr0 c2\"\nshows \"discr0 (c1 ;; c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr0 (c1 ;; c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (c1 ;; c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (c1 ;; c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (c1 ;; c2)", "have \n   \"(\\<exists> c1 c2. c = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2) \n    \\<Longrightarrow> discr0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c1 c2.\n       c = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n    discr0 c", "apply(erule discr0_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>mustT c s;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<And>c s s'.\n       \\<lbrakk>mustT c s;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "proof(tactic\\<open>clarify_all_tac @{context}\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>mustT (c1 ;; c2) s; (c1 ;; c2, s) \\<rightarrow>c (c', s');\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<And>c s s' c1 c2.\n       \\<lbrakk>mustT (c1 ;; c2) s; (c1 ;; c2, s) \\<rightarrow>t s';\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "fix c s c' s' c1 c2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>mustT (c1 ;; c2) s; (c1 ;; c2, s) \\<rightarrow>c (c', s');\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<And>c s s' c1 c2.\n       \\<lbrakk>mustT (c1 ;; c2) s; (c1 ;; c2, s) \\<rightarrow>t s';\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "assume mt: \"mustT (c1 ;; c2) s\" \n     and c1: \"discr0 c1\" and c2: \"discr0 c2\""], ["proof (state)\nthis:\n  mustT (c1 ;; c2) s\n  discr0 c1\n  discr0 c2\n\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>mustT (c1 ;; c2) s; (c1 ;; c2, s) \\<rightarrow>c (c', s');\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<And>c s s' c1 c2.\n       \\<lbrakk>mustT (c1 ;; c2) s; (c1 ;; c2, s) \\<rightarrow>t s';\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "assume \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>mustT (c1 ;; c2) s; (c1 ;; c2, s) \\<rightarrow>c (c', s');\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<And>c s s' c1 c2.\n       \\<lbrakk>mustT (c1 ;; c2) s; (c1 ;; c2, s) \\<rightarrow>t s';\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "thus \"s \\<approx> s' \\<and> ((\\<exists>c1 c2. c' = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2) \\<or> discr0 c')\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s \\<approx> s' \\<and>\n    ((\\<exists>c1 c2. c' = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2) \\<or>\n     discr0 c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s \\<approx> s' \\<and>\n    ((\\<exists>c1 c2. c' = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2) \\<or>\n     discr0 c')", "apply(erule Seq_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 ;; c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 ;; c2 \\<and>\n                           discr0 c1 \\<and> discr0 c2) \\<or>\n                       discr0 c')", "apply (metis mustT_Seq_L c1 c2 discr0_MtransC discr0_MtransC_indis mt \n                  transC_MtransC)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 ;; c2 \\<and>\n                           discr0 c1 \\<and> discr0 c2) \\<or>\n                       discr0 c')", "by (metis c1 c2 discr0_transT mt mustT_Seq_L)"], ["proof (state)\nthis:\n  s \\<approx> s' \\<and>\n  ((\\<exists>c1 c2. c' = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2) \\<or>\n   discr0 c')\n\ngoal (1 subgoal):\n 1. \\<And>c s s' c1 c2.\n       \\<lbrakk>mustT (c1 ;; c2) s; (c1 ;; c2, s) \\<rightarrow>t s';\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "qed (insert Seq_transT_invert, blast)"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     c = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 c\n\ngoal (1 subgoal):\n 1. discr0 (c1 ;; c2)", "}"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 ?c3\n\ngoal (1 subgoal):\n 1. discr0 (c1 ;; c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 ?c3\n\ngoal (1 subgoal):\n 1. discr0 (c1 ;; c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 ?c3\n  discr0 c1\n  discr0 c2\n\ngoal (1 subgoal):\n 1. discr0 (c1 ;; c2)", "by blast"], ["proof (state)\nthis:\n  discr0 (c1 ;; c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem discr0_While[simp]:\nassumes \"discr0 c\"\nshows \"discr0 (While tst c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr0 (while tst do c)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (while tst do c)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (while tst do c)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (while tst do c)", "have \n   \"(\\<exists> tst d. c = While tst d \\<and> discr0 d) \\<or> \n    (\\<exists> tst d1 d. c = d1 ;; (While tst d) \\<and> discr0 d1 \\<and> discr0 d)\n    \\<Longrightarrow> discr0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n    (\\<exists>tst d1 d.\n        c = d1 ;; while tst do d \\<and>\n        discr0 d1 \\<and> discr0 d) \\<Longrightarrow>\n    discr0 c", "proof (induct rule: discr0_coind)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>mustT c s;\n        (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n        (\\<exists>tst d1 d.\n            c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         (((\\<exists>tst d.\n                               c' = while tst do d \\<and> discr0 d) \\<or>\n                           (\\<exists>tst d1 d.\n                               c' = d1 ;; while tst do d \\<and>\n                               discr0 d1 \\<and> discr0 d)) \\<or>\n                          discr0 c')\n 2. \\<And>c s s'.\n       \\<lbrakk>mustT c s;\n        (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n        (\\<exists>tst d1 d.\n            c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "case (Term c s s')"], ["proof (state)\nthis:\n  mustT c s\n  (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n  (\\<exists>tst d1 d.\n      c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d)\n  (c, s) \\<rightarrow>t s'\n\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>mustT c s;\n        (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n        (\\<exists>tst d1 d.\n            c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         (((\\<exists>tst d.\n                               c' = while tst do d \\<and> discr0 d) \\<or>\n                           (\\<exists>tst d1 d.\n                               c' = d1 ;; while tst do d \\<and>\n                               discr0 d1 \\<and> discr0 d)) \\<or>\n                          discr0 c')\n 2. \\<And>c s s'.\n       \\<lbrakk>mustT c s;\n        (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n        (\\<exists>tst d1 d.\n            c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "thus \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  mustT c s\n  (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n  (\\<exists>tst d1 d.\n      c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d)\n  (c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "apply (elim exE disjE conjE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>tst d.\n       \\<lbrakk>mustT c s; (c, s) \\<rightarrow>t s'; c = while tst do d;\n        discr0 d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 2. \\<And>tst d1 d.\n       \\<lbrakk>mustT c s; (c, s) \\<rightarrow>t s';\n        c = d1 ;; while tst do d; discr0 d1; discr0 d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "apply (metis While_transT_invert indis_refl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>tst d1 d.\n       \\<lbrakk>mustT c s; (c, s) \\<rightarrow>t s';\n        c = d1 ;; while tst do d; discr0 d1; discr0 d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "by (metis Seq_transT_invert)"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>mustT c s;\n        (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n        (\\<exists>tst d1 d.\n            c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         (((\\<exists>tst d.\n                               c' = while tst do d \\<and> discr0 d) \\<or>\n                           (\\<exists>tst d1 d.\n                               c' = d1 ;; while tst do d \\<and>\n                               discr0 d1 \\<and> discr0 d)) \\<or>\n                          discr0 c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>mustT c s;\n        (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n        (\\<exists>tst d1 d.\n            c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         (((\\<exists>tst d.\n                               c' = while tst do d \\<and> discr0 d) \\<or>\n                           (\\<exists>tst d1 d.\n                               c' = d1 ;; while tst do d \\<and>\n                               discr0 d1 \\<and> discr0 d)) \\<or>\n                          discr0 c')", "case (Cont c s c' s')"], ["proof (state)\nthis:\n  mustT c s\n  (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n  (\\<exists>tst d1 d.\n      c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d)\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>mustT c s;\n        (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n        (\\<exists>tst d1 d.\n            c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         (((\\<exists>tst d.\n                               c' = while tst do d \\<and> discr0 d) \\<or>\n                           (\\<exists>tst d1 d.\n                               c' = d1 ;; while tst do d \\<and>\n                               discr0 d1 \\<and> discr0 d)) \\<or>\n                          discr0 c')", "thus ?case"], ["proof (prove)\nusing this:\n  mustT c s\n  (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n  (\\<exists>tst d1 d.\n      c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d)\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s \\<approx> s' \\<and>\n    (((\\<exists>tst d. c' = while tst do d \\<and> discr0 d) \\<or>\n      (\\<exists>tst d1 d.\n          c' = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d)) \\<or>\n     discr0 c')", "apply(intro conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>mustT c s;\n     (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n     (\\<exists>tst d1 d.\n         c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n     (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s'\n 2. \\<lbrakk>mustT c s;\n     (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n     (\\<exists>tst d1 d.\n         c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n     (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n    \\<Longrightarrow> ((\\<exists>tst d.\n                           c' = while tst do d \\<and> discr0 d) \\<or>\n                       (\\<exists>tst d1 d.\n                           c' = d1 ;; while tst do d \\<and>\n                           discr0 d1 \\<and> discr0 d)) \\<or>\n                      discr0 c'", "apply (elim exE disjE conjE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>tst d.\n       \\<lbrakk>mustT c s; (c, s) \\<rightarrow>c (c', s');\n        c = while tst do d; discr0 d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 2. \\<And>tst d1 d.\n       \\<lbrakk>mustT c s; (c, s) \\<rightarrow>c (c', s');\n        c = d1 ;; while tst do d; discr0 d1; discr0 d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 3. \\<lbrakk>mustT c s;\n     (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n     (\\<exists>tst d1 d.\n         c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n     (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n    \\<Longrightarrow> ((\\<exists>tst d.\n                           c' = while tst do d \\<and> discr0 d) \\<or>\n                       (\\<exists>tst d1 d.\n                           c' = d1 ;; while tst do d \\<and>\n                           discr0 d1 \\<and> discr0 d)) \\<or>\n                      discr0 c'", "apply (metis While_transC_invert indis_refl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>tst d1 d.\n       \\<lbrakk>mustT c s; (c, s) \\<rightarrow>c (c', s');\n        c = d1 ;; while tst do d; discr0 d1; discr0 d\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'\n 2. \\<lbrakk>mustT c s;\n     (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n     (\\<exists>tst d1 d.\n         c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n     (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n    \\<Longrightarrow> ((\\<exists>tst d.\n                           c' = while tst do d \\<and> discr0 d) \\<or>\n                       (\\<exists>tst d1 d.\n                           c' = d1 ;; while tst do d \\<and>\n                           discr0 d1 \\<and> discr0 d)) \\<or>\n                      discr0 c'", "apply (metis Seq_transC_invert discr0_MtransC_indis discr0_transT \n                  mustT_Seq_L transC_MtransC)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>mustT c s;\n     (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n     (\\<exists>tst d1 d.\n         c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n     (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n    \\<Longrightarrow> ((\\<exists>tst d.\n                           c' = while tst do d \\<and> discr0 d) \\<or>\n                       (\\<exists>tst d1 d.\n                           c' = d1 ;; while tst do d \\<and>\n                           discr0 d1 \\<and> discr0 d)) \\<or>\n                      discr0 c'", "(*  *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>mustT c s;\n     (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n     (\\<exists>tst d1 d.\n         c = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d);\n     (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n    \\<Longrightarrow> ((\\<exists>tst d.\n                           c' = while tst do d \\<and> discr0 d) \\<or>\n                       (\\<exists>tst d1 d.\n                           c' = d1 ;; while tst do d \\<and>\n                           discr0 d1 \\<and> discr0 d)) \\<or>\n                      discr0 c'", "apply (elim exE disjE conjE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>tst d.\n       \\<lbrakk>mustT c s; (c, s) \\<rightarrow>c (c', s');\n        c = while tst do d; discr0 d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr0 d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr0 d1 \\<and> discr0 d)) \\<or>\n                         discr0 c'\n 2. \\<And>tst d1 d.\n       \\<lbrakk>mustT c s; (c, s) \\<rightarrow>c (c', s');\n        c = d1 ;; while tst do d; discr0 d1; discr0 d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr0 d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr0 d1 \\<and> discr0 d)) \\<or>\n                         discr0 c'", "apply (metis While_transC_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>tst d1 d.\n       \\<lbrakk>mustT c s; (c, s) \\<rightarrow>c (c', s');\n        c = d1 ;; while tst do d; discr0 d1; discr0 d\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              c' = while tst do d \\<and> discr0 d) \\<or>\n                          (\\<exists>tst d1 d.\n                              c' = d1 ;; while tst do d \\<and>\n                              discr0 d1 \\<and> discr0 d)) \\<or>\n                         discr0 c'", "by (metis Cont(3) Seq_transC_invert discr0_transC mustT_Seq_L)"], ["proof (state)\nthis:\n  s \\<approx> s' \\<and>\n  (((\\<exists>tst d. c' = while tst do d \\<and> discr0 d) \\<or>\n    (\\<exists>tst d1 d.\n        c' = d1 ;; while tst do d \\<and> discr0 d1 \\<and> discr0 d)) \\<or>\n   discr0 c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>tst d. c = while tst do d \\<and> discr0 d) \\<or>\n  (\\<exists>tst d1 d.\n      c = d1 ;; while tst do d \\<and>\n      discr0 d1 \\<and> discr0 d) \\<Longrightarrow>\n  discr0 c\n\ngoal (1 subgoal):\n 1. discr0 (while tst do c)", "}"], ["proof (state)\nthis:\n  (\\<exists>tst d. ?ca3 = while tst do d \\<and> discr0 d) \\<or>\n  (\\<exists>tst d1 d.\n      ?ca3 = d1 ;; while tst do d \\<and>\n      discr0 d1 \\<and> discr0 d) \\<Longrightarrow>\n  discr0 ?ca3\n\ngoal (1 subgoal):\n 1. discr0 (while tst do c)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>tst d. ?ca3 = while tst do d \\<and> discr0 d) \\<or>\n  (\\<exists>tst d1 d.\n      ?ca3 = d1 ;; while tst do d \\<and>\n      discr0 d1 \\<and> discr0 d) \\<Longrightarrow>\n  discr0 ?ca3\n\ngoal (1 subgoal):\n 1. discr0 (while tst do c)", "using assms"], ["proof (prove)\nusing this:\n  (\\<exists>tst d. ?ca3 = while tst do d \\<and> discr0 d) \\<or>\n  (\\<exists>tst d1 d.\n      ?ca3 = d1 ;; while tst do d \\<and>\n      discr0 d1 \\<and> discr0 d) \\<Longrightarrow>\n  discr0 ?ca3\n  discr0 c\n\ngoal (1 subgoal):\n 1. discr0 (while tst do c)", "by blast"], ["proof (state)\nthis:\n  discr0 (while tst do c)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem discr0_Par[simp]:\nassumes *: \"discr0 c1\" and **: \"discr0 c2\"\nshows \"discr0 (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr0 (c1 | c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (c1 | c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (c1 | c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. discr0 (c1 | c2)", "have \n   \"(\\<exists> c1 c2. c = Par c1 c2 \\<and> discr0 c1 \\<and> discr0 c2) \n    \\<Longrightarrow> discr0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c1 c2.\n       c = c1 | c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n    discr0 c", "apply(induct rule: discr0_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>mustT c s;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> discr0 c1 \\<and> discr0 c2;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<And>c s s'.\n       \\<lbrakk>mustT c s;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> discr0 c1 \\<and> discr0 c2;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s'", "proof(tactic\\<open>clarify_all_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>mustT (c1 | c2) s; (c1 | c2, s) \\<rightarrow>c (c', s');\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')", "fix c s c' s' c1 c2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>mustT (c1 | c2) s; (c1 | c2, s) \\<rightarrow>c (c', s');\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')", "assume mt: \"mustT (Par c1 c2) s\" and c1: \"discr0 c1\" and c2: \"discr0 c2\""], ["proof (state)\nthis:\n  mustT (c1 | c2) s\n  discr0 c1\n  discr0 c2\n\ngoal (1 subgoal):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>mustT (c1 | c2) s; (c1 | c2, s) \\<rightarrow>c (c', s');\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>mustT (c1 | c2) s; (c1 | c2, s) \\<rightarrow>c (c', s');\n        discr0 c1; discr0 c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')", "thus \"s \\<approx> s' \\<and> ((\\<exists>c1 c2. c' = Par c1 c2 \\<and> discr0 c1 \\<and> discr0 c2) \\<or> discr0 c')\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s \\<approx> s' \\<and>\n    ((\\<exists>c1 c2. c' = c1 | c2 \\<and> discr0 c1 \\<and> discr0 c2) \\<or>\n     discr0 c')", "apply(elim Par_transC_invert)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 | c2 \\<and>\n                           discr0 c1 \\<and> discr0 c2) \\<or>\n                       discr0 c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 | c2 \\<and>\n                           discr0 c1 \\<and> discr0 c2) \\<or>\n                       discr0 c')", "apply (metis c1 c2 discr0.simps mt mustT_Par_L)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 | c2 \\<and>\n                           discr0 c1 \\<and> discr0 c2) \\<or>\n                       discr0 c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 | c2 \\<and>\n                           discr0 c1 \\<and> discr0 c2) \\<or>\n                       discr0 c')", "apply (metis c1 c2 discr0_transT mt mustT_Par_L)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> s' \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr0 c1 \\<and> discr0 c2) \\<or>\n                          discr0 c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 | c2 \\<and>\n                           discr0 c1 \\<and> discr0 c2) \\<or>\n                       discr0 c')", "apply (metis c1 c2 discr0.simps indis_sym mt mustT_Par_R)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> s' \\<and>\n                      ((\\<exists>c1 c2.\n                           c' = c1 | c2 \\<and>\n                           discr0 c1 \\<and> discr0 c2) \\<or>\n                       discr0 c')", "by (metis PL.mustT_Par_R c1 c2 discr0_transT mt)"], ["proof (state)\nthis:\n  s \\<approx> s' \\<and>\n  ((\\<exists>c1 c2. c' = c1 | c2 \\<and> discr0 c1 \\<and> discr0 c2) \\<or>\n   discr0 c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     c = c1 | c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 c\n\ngoal (1 subgoal):\n 1. discr0 (c1 | c2)", "}"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 ?c3\n\ngoal (1 subgoal):\n 1. discr0 (c1 | c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 ?c3\n\ngoal (1 subgoal):\n 1. discr0 (c1 | c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> discr0 c1 \\<and> discr0 c2 \\<Longrightarrow>\n  discr0 ?c3\n  discr0 c1\n  discr0 c2\n\ngoal (1 subgoal):\n 1. discr0 (c1 | c2)", "by blast"], ["proof (state)\nthis:\n  discr0 (c1 | c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Self-Isomorphism versus language constructs:\\<close>"], ["", "theorem siso_Atm[simp]:\n\"siso (Atm atm) = compatAtm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso (Atm atm) = compatAtm atm", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (Atm atm) = compatAtm atm", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (Atm atm) = compatAtm atm", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (Atm atm) = compatAtm atm", "have \n   \"(\\<exists> atm. c = Atm atm \\<and> compatAtm atm) \n    \\<Longrightarrow> siso c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>atm. c = Atm atm \\<and> compatAtm atm \\<Longrightarrow> siso c", "apply(erule siso_coind)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> compatAtm atm;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>atm.\n                             c' = Atm atm \\<and> compatAtm atm) \\<or>\n                         siso c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> compatAtm atm;\n        s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> compatAtm atm;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply (metis Atm_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> compatAtm atm;\n        s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> compatAtm atm;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply (metis PL.Atm_transC_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c s t s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> compatAtm atm;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "by (metis Atm_transT_invert PL.Atm compatAtm_def)"], ["proof (state)\nthis:\n  \\<exists>atm. c = Atm atm \\<and> compatAtm atm \\<Longrightarrow> siso c\n\ngoal (1 subgoal):\n 1. siso (Atm atm) = compatAtm atm", "}"], ["proof (state)\nthis:\n  \\<exists>atm. ?c3 = Atm atm \\<and> compatAtm atm \\<Longrightarrow>\n  siso ?c3\n\ngoal (1 subgoal):\n 1. siso (Atm atm) = compatAtm atm", "moreover"], ["proof (state)\nthis:\n  \\<exists>atm. ?c3 = Atm atm \\<and> compatAtm atm \\<Longrightarrow>\n  siso ?c3\n\ngoal (1 subgoal):\n 1. siso (Atm atm) = compatAtm atm", "have \"siso (Atm atm) \\<Longrightarrow> compatAtm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso (Atm atm) \\<Longrightarrow> compatAtm atm", "unfolding compatAtm_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. siso (Atm atm) \\<Longrightarrow>\n    \\<forall>s t.\n       s \\<approx> t \\<longrightarrow> aval atm s \\<approx> aval atm t", "by (metis Atm Atm_transT_invert siso_transT)"], ["proof (state)\nthis:\n  siso (Atm atm) \\<Longrightarrow> compatAtm atm\n\ngoal (1 subgoal):\n 1. siso (Atm atm) = compatAtm atm", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>atm. ?c3 = Atm atm \\<and> compatAtm atm \\<Longrightarrow>\n  siso ?c3\n  siso (Atm atm) \\<Longrightarrow> compatAtm atm", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>atm. ?c3 = Atm atm \\<and> compatAtm atm \\<Longrightarrow>\n  siso ?c3\n  siso (Atm atm) \\<Longrightarrow> compatAtm atm\n\ngoal (1 subgoal):\n 1. siso (Atm atm) = compatAtm atm", "by blast"], ["proof (state)\nthis:\n  siso (Atm atm) = compatAtm atm\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem siso_If[simp]:\nassumes  \"compatTst tst\" and \"siso c1\" and \"siso c2\"\nshows \"siso (If tst c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso (if tst then c1 else c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (if tst then c1 else c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (if tst then c1 else c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (if tst then c1 else c2)", "have \n   \"(\\<exists> tst c1 c2. c = If tst c1 c2 \\<and> compatTst tst \\<and> siso c1 \\<and> siso c2) \\<Longrightarrow> siso c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>tst c1 c2.\n       c = if tst then c1 else c2 \\<and>\n       compatTst tst \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n    siso c", "apply(erule siso_coind)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   compatTst tst \\<and> siso c1 \\<and> siso c2;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>tst c1 c2.\n                             c' = if tst then c1 else c2 \\<and>\n                             compatTst tst \\<and>\n                             siso c1 \\<and> siso c2) \\<or>\n                         siso c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   compatTst tst \\<and> siso c1 \\<and> siso c2;\n        s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   compatTst tst \\<and> siso c1 \\<and> siso c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply (metis PL.If_transC_invert indis_refl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   compatTst tst \\<and> siso c1 \\<and> siso c2;\n        s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   compatTst tst \\<and> siso c1 \\<and> siso c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply (metis IfTrue PL.IfFalse PL.If_transC_invert compatTst_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c s t s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   compatTst tst \\<and> siso c1 \\<and> siso c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "by (metis If_transT_invert)"], ["proof (state)\nthis:\n  \\<exists>tst c1 c2.\n     c = if tst then c1 else c2 \\<and>\n     compatTst tst \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso c\n\ngoal (1 subgoal):\n 1. siso (if tst then c1 else c2)", "}"], ["proof (state)\nthis:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     compatTst tst \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso ?c3\n\ngoal (1 subgoal):\n 1. siso (if tst then c1 else c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     compatTst tst \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso ?c3\n\ngoal (1 subgoal):\n 1. siso (if tst then c1 else c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     compatTst tst \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso ?c3\n  compatTst tst\n  siso c1\n  siso c2\n\ngoal (1 subgoal):\n 1. siso (if tst then c1 else c2)", "by blast"], ["proof (state)\nthis:\n  siso (if tst then c1 else c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem siso_Seq[simp]:\nassumes *: \"siso c1\" and **: \"siso c2\"\nshows \"siso (c1 ;; c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso (c1 ;; c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (c1 ;; c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (c1 ;; c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (c1 ;; c2)", "have \n   \"(\\<exists> c1 c2. c = c1 ;; c2 \\<and> siso c1 \\<and> siso c2) \n    \\<Longrightarrow> siso c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c1 c2.\n       c = c1 ;; c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n    siso c", "apply(erule siso_coind)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 ;; c2 \\<and> siso c1 \\<and> siso c2;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 ;; c2 \\<and>\n                             siso c1 \\<and> siso c2) \\<or>\n                         siso c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 ;; c2 \\<and> siso c1 \\<and> siso c2;\n        s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 ;; c2 \\<and> siso c1 \\<and> siso c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "proof(tactic\\<open>clarify_all_tac @{context}\\<close>)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>c (c', s'); siso c1; siso c2;\n        \\<not> siso c'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>c1 c2.\n                            c' = c1 ;; c2 \\<and> siso c1 \\<and> siso c2\n 2. \\<And>c s t c' s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 ;; c2, s) \\<rightarrow>c (c', s');\n        siso c1; siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 ;; c2, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 ;; c2, s) \\<rightarrow>t s'; siso c1;\n        siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 ;; c2, t) \\<rightarrow>t t'", "fix c s t c' s' c1 c2"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>c (c', s'); siso c1; siso c2;\n        \\<not> siso c'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>c1 c2.\n                            c' = c1 ;; c2 \\<and> siso c1 \\<and> siso c2\n 2. \\<And>c s t c' s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 ;; c2, s) \\<rightarrow>c (c', s');\n        siso c1; siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 ;; c2, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 ;; c2, s) \\<rightarrow>t s'; siso c1;\n        siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 ;; c2, t) \\<rightarrow>t t'", "assume \"s \\<approx> t\" and \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\" and \"siso c1\" and \"siso c2\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n  siso c1\n  siso c2\n\ngoal (3 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>c (c', s'); siso c1; siso c2;\n        \\<not> siso c'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>c1 c2.\n                            c' = c1 ;; c2 \\<and> siso c1 \\<and> siso c2\n 2. \\<And>c s t c' s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 ;; c2, s) \\<rightarrow>c (c', s');\n        siso c1; siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 ;; c2, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 ;; c2, s) \\<rightarrow>t s'; siso c1;\n        siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 ;; c2, t) \\<rightarrow>t t'", "thus \"\\<exists>t'. s' \\<approx> t' \\<and> (c1 ;; c2, t) \\<rightarrow>c (c', t')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n  siso c1\n  siso c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       s' \\<approx> t' \\<and> (c1 ;; c2, t) \\<rightarrow>c (c', t')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>s \\<approx> t; (c1 ;; c2, s) \\<rightarrow>c (c', s'); siso c1;\n     siso c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c1 ;; c2, t) \\<rightarrow>c (c', t')", "apply(erule Seq_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>s \\<approx> t; siso c1; siso c2;\n        (c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 ;; c2, t) \\<rightarrow>c (c', t')\n 2. \\<lbrakk>s \\<approx> t; siso c1; siso c2; (c1, s) \\<rightarrow>t s';\n     c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c1 ;; c2, t) \\<rightarrow>c (c', t')", "apply (metis SeqC siso_transC_indis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>s \\<approx> t; siso c1; siso c2; (c1, s) \\<rightarrow>t s';\n     c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c1 ;; c2, t) \\<rightarrow>c (c', t')", "by (metis PL.SeqT siso_transT)"], ["proof (state)\nthis:\n  \\<exists>t'. s' \\<approx> t' \\<and> (c1 ;; c2, t) \\<rightarrow>c (c', t')\n\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 ;; c2, s) \\<rightarrow>c (c', s'); siso c1; siso c2;\n        \\<not> siso c'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>c1 c2.\n                            c' = c1 ;; c2 \\<and> siso c1 \\<and> siso c2\n 2. \\<And>c s t s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 ;; c2, s) \\<rightarrow>t s'; siso c1;\n        siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 ;; c2, t) \\<rightarrow>t t'", "qed (insert Seq_transT_invert siso_transC, blast+)"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     c = c1 ;; c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso c\n\ngoal (1 subgoal):\n 1. siso (c1 ;; c2)", "}"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso ?c3\n\ngoal (1 subgoal):\n 1. siso (c1 ;; c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso ?c3\n\ngoal (1 subgoal):\n 1. siso (c1 ;; c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso ?c3\n  siso c1\n  siso c2\n\ngoal (1 subgoal):\n 1. siso (c1 ;; c2)", "by blast"], ["proof (state)\nthis:\n  siso (c1 ;; c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem siso_While[simp]:\nassumes \"compatTst tst\" and \"siso c\"\nshows \"siso (While tst c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso (while tst do c)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (while tst do c)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (while tst do c)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (while tst do c)", "have \n   \"(\\<exists> tst d. compatTst tst \\<and> c = While tst d \\<and> siso d) \\<or> \n    (\\<exists> tst d1 d. compatTst tst \\<and> c = d1 ;; (While tst d) \\<and> siso d1 \\<and> siso d)\n    \\<Longrightarrow> siso c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>tst d.\n        compatTst tst \\<and> c = while tst do d \\<and> siso d) \\<or>\n    (\\<exists>tst d1 d.\n        compatTst tst \\<and>\n        c = d1 ;; while tst do d \\<and>\n        siso d1 \\<and> siso d) \\<Longrightarrow>\n    siso c", "apply(erule siso_coind)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>(\\<exists>tst d.\n                    compatTst tst \\<and>\n                    c = while tst do d \\<and> siso d) \\<or>\n                (\\<exists>tst d1 d.\n                    compatTst tst \\<and>\n                    c = d1 ;; while tst do d \\<and> siso d1 \\<and> siso d);\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              compatTst tst \\<and>\n                              c' = while tst do d \\<and> siso d) \\<or>\n                          (\\<exists>tst d1 d.\n                              compatTst tst \\<and>\n                              c' = d1 ;; while tst do d \\<and>\n                              siso d1 \\<and> siso d)) \\<or>\n                         siso c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>(\\<exists>tst d.\n                    compatTst tst \\<and>\n                    c = while tst do d \\<and> siso d) \\<or>\n                (\\<exists>tst d1 d.\n                    compatTst tst \\<and>\n                    c = d1 ;; while tst do d \\<and> siso d1 \\<and> siso d);\n        s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>(\\<exists>tst d.\n                    compatTst tst \\<and>\n                    c = while tst do d \\<and> siso d) \\<or>\n                (\\<exists>tst d1 d.\n                    compatTst tst \\<and>\n                    c = d1 ;; while tst do d \\<and> siso d1 \\<and> siso d);\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply auto"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>s s' tst d1 d c1'.\n       \\<lbrakk>\\<not> siso (c1' ;; while tst do d); compatTst tst; siso d1;\n        siso d; (d1, s) \\<rightarrow>c (c1', s')\\<rbrakk>\n       \\<Longrightarrow> siso c1'\n 2. \\<And>s t c' s' tst d.\n       \\<lbrakk>s \\<approx> t; (while tst do d, s) \\<rightarrow>c (c', s');\n        compatTst tst; siso d\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>c (c', t')\n 3. \\<And>s t s' tst d1 d c1'.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d1; siso d;\n        (d1, s) \\<rightarrow>c (c1', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (c1' ;; while tst do d, t')\n 4. \\<And>s t s' tst d1 d.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d1; siso d;\n        (d1, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (while tst do d, t')\n 5. \\<And>s t tst d.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d;\n        \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "apply (metis PL.Seq_transC_invert siso_transC)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s t c' s' tst d.\n       \\<lbrakk>s \\<approx> t; (while tst do d, s) \\<rightarrow>c (c', s');\n        compatTst tst; siso d\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>c (c', t')\n 2. \\<And>s t s' tst d1 d c1'.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d1; siso d;\n        (d1, s) \\<rightarrow>c (c1', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (c1' ;; while tst do d, t')\n 3. \\<And>s t s' tst d1 d.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d1; siso d;\n        (d1, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (while tst do d, t')\n 4. \\<And>s t tst d.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d;\n        \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "apply (metis WhileTrue While_transC_invert compatTst_def)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s t s' tst d1 d c1'.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d1; siso d;\n        (d1, s) \\<rightarrow>c (c1', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (c1' ;; while tst do d, t')\n 2. \\<And>s t s' tst d1 d.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d1; siso d;\n        (d1, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (while tst do d, t')\n 3. \\<And>s t tst d.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d;\n        \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "apply (metis PL.SeqC siso_transC_indis)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s t s' tst d1 d.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d1; siso d;\n        (d1, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (while tst do d, t')\n 2. \\<And>s t tst d.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d;\n        \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "apply (metis PL.SeqT siso_transT)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t tst d.\n       \\<lbrakk>s \\<approx> t; compatTst tst; siso d;\n        \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "by (metis WhileFalse compatTst_def)"], ["proof (state)\nthis:\n  (\\<exists>tst d.\n      compatTst tst \\<and> c = while tst do d \\<and> siso d) \\<or>\n  (\\<exists>tst d1 d.\n      compatTst tst \\<and>\n      c = d1 ;; while tst do d \\<and>\n      siso d1 \\<and> siso d) \\<Longrightarrow>\n  siso c\n\ngoal (1 subgoal):\n 1. siso (while tst do c)", "}"], ["proof (state)\nthis:\n  (\\<exists>tst d.\n      compatTst tst \\<and> ?ca3 = while tst do d \\<and> siso d) \\<or>\n  (\\<exists>tst d1 d.\n      compatTst tst \\<and>\n      ?ca3 = d1 ;; while tst do d \\<and>\n      siso d1 \\<and> siso d) \\<Longrightarrow>\n  siso ?ca3\n\ngoal (1 subgoal):\n 1. siso (while tst do c)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>tst d.\n      compatTst tst \\<and> ?ca3 = while tst do d \\<and> siso d) \\<or>\n  (\\<exists>tst d1 d.\n      compatTst tst \\<and>\n      ?ca3 = d1 ;; while tst do d \\<and>\n      siso d1 \\<and> siso d) \\<Longrightarrow>\n  siso ?ca3\n\ngoal (1 subgoal):\n 1. siso (while tst do c)", "using assms"], ["proof (prove)\nusing this:\n  (\\<exists>tst d.\n      compatTst tst \\<and> ?ca3 = while tst do d \\<and> siso d) \\<or>\n  (\\<exists>tst d1 d.\n      compatTst tst \\<and>\n      ?ca3 = d1 ;; while tst do d \\<and>\n      siso d1 \\<and> siso d) \\<Longrightarrow>\n  siso ?ca3\n  compatTst tst\n  siso c\n\ngoal (1 subgoal):\n 1. siso (while tst do c)", "by blast"], ["proof (state)\nthis:\n  siso (while tst do c)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem siso_Par[simp]:\nassumes *: \"siso c1\" and **: \"siso c2\"\nshows \"siso (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso (c1 | c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (c1 | c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (c1 | c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso (c1 | c2)", "have \n   \"(\\<exists> c1 c2. c = Par c1 c2 \\<and> siso c1 \\<and> siso c2) \n    \\<Longrightarrow> siso c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c1 c2.\n       c = c1 | c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n    siso c", "apply(erule siso_coind)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso c1 \\<and> siso c2;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 | c2 \\<and>\n                             siso c1 \\<and> siso c2) \\<or>\n                         siso c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso c1 \\<and> siso c2;\n        s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso c1 \\<and> siso c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "proof(tactic\\<open>clarify_all_tac @{context}\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 | c2, s) \\<rightarrow>c (c', s'); siso c1; siso c2;\n        \\<not> siso c'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>c1 c2.\n                            c' = c1 | c2 \\<and> siso c1 \\<and> siso c2\n 2. \\<And>c s t c' s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s');\n        siso c1; siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 | c2, t) \\<rightarrow>c (c', t')", "fix c s t c' s' c1 c2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 | c2, s) \\<rightarrow>c (c', s'); siso c1; siso c2;\n        \\<not> siso c'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>c1 c2.\n                            c' = c1 | c2 \\<and> siso c1 \\<and> siso c2\n 2. \\<And>c s t c' s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s');\n        siso c1; siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 | c2, t) \\<rightarrow>c (c', t')", "assume \"s \\<approx> t\" and \"(Par c1 c2, s) \\<rightarrow>c (c', s')\" and c1: \"siso c1\" and c2: \"siso c2\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n  siso c1\n  siso c2\n\ngoal (2 subgoals):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 | c2, s) \\<rightarrow>c (c', s'); siso c1; siso c2;\n        \\<not> siso c'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>c1 c2.\n                            c' = c1 | c2 \\<and> siso c1 \\<and> siso c2\n 2. \\<And>c s t c' s' c1 c2.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s');\n        siso c1; siso c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 | c2, t) \\<rightarrow>c (c', t')", "thus \"\\<exists>t'. s' \\<approx> t' \\<and> (Par c1 c2, t) \\<rightarrow>c (c', t')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n  siso c1\n  siso c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. s' \\<approx> t' \\<and> (c1 | c2, t) \\<rightarrow>c (c', t')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s'); siso c1;\n     siso c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c1 | c2, t) \\<rightarrow>c (c', t')", "apply(erule Par_transC_invert)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>s \\<approx> t; siso c1; siso c2;\n        (c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 | c2, t) \\<rightarrow>c (c', t')\n 2. \\<lbrakk>s \\<approx> t; siso c1; siso c2; (c1, s) \\<rightarrow>t s';\n     c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c1 | c2, t) \\<rightarrow>c (c', t')\n 3. \\<And>c2'.\n       \\<lbrakk>s \\<approx> t; siso c1; siso c2;\n        (c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c1 | c2, t) \\<rightarrow>c (c', t')\n 4. \\<lbrakk>s \\<approx> t; siso c1; siso c2; (c2, s) \\<rightarrow>t s';\n     c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c1 | c2, t) \\<rightarrow>c (c', t')", "by(metis ParCL ParTL ParCR ParTR c1 c2 siso_transT siso_transC_indis)+"], ["proof (state)\nthis:\n  \\<exists>t'. s' \\<approx> t' \\<and> (c1 | c2, t) \\<rightarrow>c (c', t')\n\ngoal (1 subgoal):\n 1. \\<And>c s c' s' c1 c2.\n       \\<lbrakk>(c1 | c2, s) \\<rightarrow>c (c', s'); siso c1; siso c2;\n        \\<not> siso c'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>c1 c2.\n                            c' = c1 | c2 \\<and> siso c1 \\<and> siso c2", "qed (insert Par_transC_invert siso_transC Par_transT_invert, blast+)"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     c = c1 | c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso c\n\ngoal (1 subgoal):\n 1. siso (c1 | c2)", "}"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso ?c3\n\ngoal (1 subgoal):\n 1. siso (c1 | c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso ?c3\n\ngoal (1 subgoal):\n 1. siso (c1 | c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> siso c1 \\<and> siso c2 \\<Longrightarrow>\n  siso ?c3\n  siso c1\n  siso c2\n\ngoal (1 subgoal):\n 1. siso (c1 | c2)", "by blast"], ["proof (state)\nthis:\n  siso (c1 | c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Self-Isomorphism versus language constructs:\\<close>"], ["", "theorem siso0_Atm[simp]:\n\"siso0 (Atm atm) = compatAtm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso0 (Atm atm) = compatAtm atm", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (Atm atm) = compatAtm atm", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (Atm atm) = compatAtm atm", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (Atm atm) = compatAtm atm", "have \n   \"(\\<exists> atm. c = Atm atm \\<and> compatAtm atm) \n    \\<Longrightarrow> siso0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>atm. c = Atm atm \\<and> compatAtm atm \\<Longrightarrow> siso0 c", "apply(erule siso0_coind)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> compatAtm atm; mustT c s;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>atm.\n                             c' = Atm atm \\<and> compatAtm atm) \\<or>\n                         siso0 c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> compatAtm atm; mustT c s;\n        mustT c t; s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>atm. c = Atm atm \\<and> compatAtm atm; s \\<approx> t;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply (metis Atm_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>atm. c = Atm atm \\<and> compatAtm atm; mustT c s;\n        mustT c t; s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>atm. c = Atm atm \\<and> compatAtm atm; s \\<approx> t;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply (metis PL.Atm_transC_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>atm. c = Atm atm \\<and> compatAtm atm; s \\<approx> t;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "by (metis Atm_transT_invert PL.Atm compatAtm_def)"], ["proof (state)\nthis:\n  \\<exists>atm. c = Atm atm \\<and> compatAtm atm \\<Longrightarrow> siso0 c\n\ngoal (1 subgoal):\n 1. siso0 (Atm atm) = compatAtm atm", "}"], ["proof (state)\nthis:\n  \\<exists>atm. ?c3 = Atm atm \\<and> compatAtm atm \\<Longrightarrow>\n  siso0 ?c3\n\ngoal (1 subgoal):\n 1. siso0 (Atm atm) = compatAtm atm", "moreover"], ["proof (state)\nthis:\n  \\<exists>atm. ?c3 = Atm atm \\<and> compatAtm atm \\<Longrightarrow>\n  siso0 ?c3\n\ngoal (1 subgoal):\n 1. siso0 (Atm atm) = compatAtm atm", "have \"siso0 (Atm atm) \\<Longrightarrow> compatAtm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso0 (Atm atm) \\<Longrightarrow> compatAtm atm", "unfolding compatAtm_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. siso0 (Atm atm) \\<Longrightarrow>\n    \\<forall>s t.\n       s \\<approx> t \\<longrightarrow> aval atm s \\<approx> aval atm t", "by (metis Atm Atm_transT_invert siso0_transT mustT_Atm)"], ["proof (state)\nthis:\n  siso0 (Atm atm) \\<Longrightarrow> compatAtm atm\n\ngoal (1 subgoal):\n 1. siso0 (Atm atm) = compatAtm atm", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>atm. ?c3 = Atm atm \\<and> compatAtm atm \\<Longrightarrow>\n  siso0 ?c3\n  siso0 (Atm atm) \\<Longrightarrow> compatAtm atm", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>atm. ?c3 = Atm atm \\<and> compatAtm atm \\<Longrightarrow>\n  siso0 ?c3\n  siso0 (Atm atm) \\<Longrightarrow> compatAtm atm\n\ngoal (1 subgoal):\n 1. siso0 (Atm atm) = compatAtm atm", "by blast"], ["proof (state)\nthis:\n  siso0 (Atm atm) = compatAtm atm\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem siso0_If[simp]:\nassumes  \"compatTst tst\" and \"siso0 c1\" and \"siso0 c2\"\nshows \"siso0 (If tst c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso0 (if tst then c1 else c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (if tst then c1 else c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (if tst then c1 else c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (if tst then c1 else c2)", "have \n   \"(\\<exists> tst c1 c2. c = If tst c1 c2 \\<and> compatTst tst \\<and> siso0 c1 \\<and> siso0 c2) \\<Longrightarrow> siso0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>tst c1 c2.\n       c = if tst then c1 else c2 \\<and>\n       compatTst tst \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n    siso0 c", "apply(erule siso0_coind)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   compatTst tst \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>tst c1 c2.\n                             c' = if tst then c1 else c2 \\<and>\n                             compatTst tst \\<and>\n                             siso0 c1 \\<and> siso0 c2) \\<or>\n                         siso0 c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   compatTst tst \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>tst c1 c2.\n           c = if tst then c1 else c2 \\<and>\n           compatTst tst \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply (metis PL.If_transC_invert indis_refl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>tst c1 c2.\n                   c = if tst then c1 else c2 \\<and>\n                   compatTst tst \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>tst c1 c2.\n           c = if tst then c1 else c2 \\<and>\n           compatTst tst \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply (metis IfTrue PL.IfFalse PL.If_transC_invert compatTst_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>tst c1 c2.\n           c = if tst then c1 else c2 \\<and>\n           compatTst tst \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "by (metis If_transT_invert)"], ["proof (state)\nthis:\n  \\<exists>tst c1 c2.\n     c = if tst then c1 else c2 \\<and>\n     compatTst tst \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 c\n\ngoal (1 subgoal):\n 1. siso0 (if tst then c1 else c2)", "}"], ["proof (state)\nthis:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     compatTst tst \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 ?c3\n\ngoal (1 subgoal):\n 1. siso0 (if tst then c1 else c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     compatTst tst \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 ?c3\n\ngoal (1 subgoal):\n 1. siso0 (if tst then c1 else c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>tst c1 c2.\n     ?c3 = if tst then c1 else c2 \\<and>\n     compatTst tst \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 ?c3\n  compatTst tst\n  siso0 c1\n  siso0 c2\n\ngoal (1 subgoal):\n 1. siso0 (if tst then c1 else c2)", "by blast"], ["proof (state)\nthis:\n  siso0 (if tst then c1 else c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem siso0_Seq[simp]:\nassumes *: \"siso0 c1\" and **: \"siso0 c2\"\nshows \"siso0 (c1 ;; c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso0 (c1 ;; c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (c1 ;; c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (c1 ;; c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (c1 ;; c2)", "have \n   \"(\\<exists> c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2) \n    \\<Longrightarrow> siso0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c1 c2.\n       c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n    siso0 c", "proof (induct rule: siso0_coind)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 ;; c2 \\<and>\n                             siso0 c1 \\<and> siso0 c2) \\<or>\n                         siso0 c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "case (Indef c s c' s')"], ["proof (state)\nthis:\n  \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 ;; c2 \\<and>\n                             siso0 c1 \\<and> siso0 c2) \\<or>\n                         siso0 c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "thus ?case"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<exists>c1 c2. c' = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2) \\<or>\n    siso0 c'", "by (metis Seq_transC_invert mustT_Seq_L siso0_transC)"], ["proof (state)\nthis:\n  (\\<exists>c1 c2. c' = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2) \\<or>\n  siso0 c'\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "case (Cont c s t c' s')"], ["proof (state)\nthis:\n  \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  mustT c t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "then"], ["proof (chain)\npicking this:\n  \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  mustT c t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')", "obtain c1 c2\n     where c: \"c = c1 ;; c2\" and mt: \"mustT (c1 ;; c2) s\" \"mustT (c1 ;; c2) t\" \n     and st: \"s \\<approx> t\" and siso1: \"siso0 c1\" and siso2: \"siso0 c2\""], ["proof (prove)\nusing this:\n  \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  mustT c t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<And>c1 c2.\n        \\<lbrakk>c = c1 ;; c2; mustT (c1 ;; c2) s; mustT (c1 ;; c2) t;\n         s \\<approx> t; siso0 c1; siso0 c2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c = c1 ;; c2\n  mustT (c1 ;; c2) s\n  mustT (c1 ;; c2) t\n  s \\<approx> t\n  siso0 c1\n  siso0 c2\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "hence mt1: \"mustT c1 s\" \"mustT c1 t\""], ["proof (prove)\nusing this:\n  c = c1 ;; c2\n  mustT (c1 ;; c2) s\n  mustT (c1 ;; c2) t\n  s \\<approx> t\n  siso0 c1\n  siso0 c2\n\ngoal (1 subgoal):\n 1. mustT c1 s &&& mustT c1 t", "by (metis mustT_Seq_L)+"], ["proof (state)\nthis:\n  mustT c1 s\n  mustT c1 t\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "have \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s')", "using c Cont"], ["proof (prove)\nusing this:\n  c = c1 ;; c2\n  \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  mustT c t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s')", "by auto"], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2.\n                   c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "thus ?case"], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. s' \\<approx> t' \\<and> (c, t) \\<rightarrow>c (c', t')", "proof (elim Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "assume c1: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "obtain t' where \"(c1, t) \\<rightarrow>c (c1', t')\" and \"s' \\<approx> t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>(c1, t) \\<rightarrow>c (c1', t'); s' \\<approx> t'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using siso1 c1 st mt1"], ["proof (prove)\nusing this:\n  siso0 c1\n  (c1, s) \\<rightarrow>c (c1', s')\n  s \\<approx> t\n  mustT c1 s\n  mustT c1 t\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>(c1, t) \\<rightarrow>c (c1', t'); s' \\<approx> t'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis siso0_transC_indis)"], ["proof (state)\nthis:\n  (c1, t) \\<rightarrow>c (c1', t')\n  s' \\<approx> t'\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (c1, t) \\<rightarrow>c (c1', t')\n  s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. s' \\<approx> t' \\<and> (c, t) \\<rightarrow>c (c', t')", "by (metis SeqC c c')"], ["proof (state)\nthis:\n  \\<exists>t'. s' \\<approx> t' \\<and> (c, t) \\<rightarrow>c (c', t')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "assume \"(c1, s) \\<rightarrow>t s'\" and \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. s' \\<approx> t' \\<and> (c, t) \\<rightarrow>c (c', t')", "by (metis c SeqT mt1 siso0_transT siso1 st)"], ["proof (state)\nthis:\n  \\<exists>t'. s' \\<approx> t' \\<and> (c, t) \\<rightarrow>c (c', t')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>t'. s' \\<approx> t' \\<and> (c, t) \\<rightarrow>c (c', t')\n\ngoal (1 subgoal):\n 1. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "qed auto"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     c = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 c\n\ngoal (1 subgoal):\n 1. siso0 (c1 ;; c2)", "}"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 ?c3\n\ngoal (1 subgoal):\n 1. siso0 (c1 ;; c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 ?c3\n\ngoal (1 subgoal):\n 1. siso0 (c1 ;; c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 ;; c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 ?c3\n  siso0 c1\n  siso0 c2\n\ngoal (1 subgoal):\n 1. siso0 (c1 ;; c2)", "by blast"], ["proof (state)\nthis:\n  siso0 (c1 ;; c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem siso0_While[simp]:\nassumes \"compatTst tst\" and \"siso0 c\"\nshows \"siso0 (While tst c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso0 (while tst do c)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (while tst do c)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (while tst do c)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (while tst do c)", "have \n   \"(\\<exists> tst d. compatTst tst \\<and> c = While tst d \\<and> siso0 d) \\<or> \n    (\\<exists> tst d1 d. compatTst tst \\<and> c = d1 ;; (While tst d) \\<and> siso0 d1 \\<and> siso0 d)\n    \\<Longrightarrow> siso0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>tst d.\n        compatTst tst \\<and> c = while tst do d \\<and> siso0 d) \\<or>\n    (\\<exists>tst d1 d.\n        compatTst tst \\<and>\n        c = d1 ;; while tst do d \\<and>\n        siso0 d1 \\<and> siso0 d) \\<Longrightarrow>\n    siso0 c", "apply(erule siso0_coind)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>(\\<exists>tst d.\n                    compatTst tst \\<and>\n                    c = while tst do d \\<and> siso0 d) \\<or>\n                (\\<exists>tst d1 d.\n                    compatTst tst \\<and>\n                    c = d1 ;; while tst do d \\<and>\n                    siso0 d1 \\<and> siso0 d);\n        mustT c s; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> ((\\<exists>tst d.\n                              compatTst tst \\<and>\n                              c' = while tst do d \\<and> siso0 d) \\<or>\n                          (\\<exists>tst d1 d.\n                              compatTst tst \\<and>\n                              c' = d1 ;; while tst do d \\<and>\n                              siso0 d1 \\<and> siso0 d)) \\<or>\n                         siso0 c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>(\\<exists>tst d.\n                    compatTst tst \\<and>\n                    c = while tst do d \\<and> siso0 d) \\<or>\n                (\\<exists>tst d1 d.\n                    compatTst tst \\<and>\n                    c = d1 ;; while tst do d \\<and>\n                    siso0 d1 \\<and> siso0 d);\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        (\\<exists>tst d.\n            compatTst tst \\<and> c = while tst do d \\<and> siso0 d) \\<or>\n        (\\<exists>tst d1 d.\n            compatTst tst \\<and>\n            c = d1 ;; while tst do d \\<and> siso0 d1 \\<and> siso0 d);\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "apply auto"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>s s' tst d1 d c1'.\n       \\<lbrakk>mustT (d1 ;; while tst do d) s;\n        \\<not> siso0 (c1' ;; while tst do d); compatTst tst; siso0 d1;\n        siso0 d; (d1, s) \\<rightarrow>c (c1', s')\\<rbrakk>\n       \\<Longrightarrow> siso0 c1'\n 2. \\<And>s t c' s' tst d.\n       \\<lbrakk>mustT (while tst do d) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do d, s) \\<rightarrow>c (c', s');\n        compatTst tst; siso0 d\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>c (c', t')\n 3. \\<And>s t s' tst d1 d c1'.\n       \\<lbrakk>mustT (d1 ;; while tst do d) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t; compatTst tst;\n        siso0 d1; siso0 d; (d1, s) \\<rightarrow>c (c1', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (c1' ;; while tst do d, t')\n 4. \\<And>s t s' tst d1 d.\n       \\<lbrakk>mustT (d1 ;; while tst do d) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t; compatTst tst;\n        siso0 d1; siso0 d; (d1, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (while tst do d, t')\n 5. \\<And>s t tst d.\n       \\<lbrakk>mustT (while tst do d) s; mustT (while tst do d) t;\n        s \\<approx> t; compatTst tst; siso0 d; \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "apply (metis mustT_Seq_L siso0_transC)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s t c' s' tst d.\n       \\<lbrakk>mustT (while tst do d) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do d, s) \\<rightarrow>c (c', s');\n        compatTst tst; siso0 d\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>c (c', t')\n 2. \\<And>s t s' tst d1 d c1'.\n       \\<lbrakk>mustT (d1 ;; while tst do d) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t; compatTst tst;\n        siso0 d1; siso0 d; (d1, s) \\<rightarrow>c (c1', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (c1' ;; while tst do d, t')\n 3. \\<And>s t s' tst d1 d.\n       \\<lbrakk>mustT (d1 ;; while tst do d) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t; compatTst tst;\n        siso0 d1; siso0 d; (d1, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (while tst do d, t')\n 4. \\<And>s t tst d.\n       \\<lbrakk>mustT (while tst do d) s; mustT (while tst do d) t;\n        s \\<approx> t; compatTst tst; siso0 d; \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "apply (metis WhileTrue While_transC_invert compatTst_def)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s t s' tst d1 d c1'.\n       \\<lbrakk>mustT (d1 ;; while tst do d) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t; compatTst tst;\n        siso0 d1; siso0 d; (d1, s) \\<rightarrow>c (c1', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (c1' ;; while tst do d, t')\n 2. \\<And>s t s' tst d1 d.\n       \\<lbrakk>mustT (d1 ;; while tst do d) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t; compatTst tst;\n        siso0 d1; siso0 d; (d1, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (while tst do d, t')\n 3. \\<And>s t tst d.\n       \\<lbrakk>mustT (while tst do d) s; mustT (while tst do d) t;\n        s \\<approx> t; compatTst tst; siso0 d; \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "apply (metis SeqC mustT_Seq_L siso0_transC_indis)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s t s' tst d1 d.\n       \\<lbrakk>mustT (d1 ;; while tst do d) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t; compatTst tst;\n        siso0 d1; siso0 d; (d1, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (while tst do d, t')\n 2. \\<And>s t tst d.\n       \\<lbrakk>mustT (while tst do d) s; mustT (while tst do d) t;\n        s \\<approx> t; compatTst tst; siso0 d; \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "apply (metis SeqT mustT_Seq_L siso0_transT)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s t tst d.\n       \\<lbrakk>mustT (while tst do d) s; mustT (while tst do d) t;\n        s \\<approx> t; compatTst tst; siso0 d; \\<not> tval tst s\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s \\<approx> t' \\<and>\n                            (while tst do d, t) \\<rightarrow>t t'", "by (metis WhileFalse compatTst_def)"], ["proof (state)\nthis:\n  (\\<exists>tst d.\n      compatTst tst \\<and> c = while tst do d \\<and> siso0 d) \\<or>\n  (\\<exists>tst d1 d.\n      compatTst tst \\<and>\n      c = d1 ;; while tst do d \\<and>\n      siso0 d1 \\<and> siso0 d) \\<Longrightarrow>\n  siso0 c\n\ngoal (1 subgoal):\n 1. siso0 (while tst do c)", "}"], ["proof (state)\nthis:\n  (\\<exists>tst d.\n      compatTst tst \\<and> ?ca3 = while tst do d \\<and> siso0 d) \\<or>\n  (\\<exists>tst d1 d.\n      compatTst tst \\<and>\n      ?ca3 = d1 ;; while tst do d \\<and>\n      siso0 d1 \\<and> siso0 d) \\<Longrightarrow>\n  siso0 ?ca3\n\ngoal (1 subgoal):\n 1. siso0 (while tst do c)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>tst d.\n      compatTst tst \\<and> ?ca3 = while tst do d \\<and> siso0 d) \\<or>\n  (\\<exists>tst d1 d.\n      compatTst tst \\<and>\n      ?ca3 = d1 ;; while tst do d \\<and>\n      siso0 d1 \\<and> siso0 d) \\<Longrightarrow>\n  siso0 ?ca3\n\ngoal (1 subgoal):\n 1. siso0 (while tst do c)", "using assms"], ["proof (prove)\nusing this:\n  (\\<exists>tst d.\n      compatTst tst \\<and> ?ca3 = while tst do d \\<and> siso0 d) \\<or>\n  (\\<exists>tst d1 d.\n      compatTst tst \\<and>\n      ?ca3 = d1 ;; while tst do d \\<and>\n      siso0 d1 \\<and> siso0 d) \\<Longrightarrow>\n  siso0 ?ca3\n  compatTst tst\n  siso0 c\n\ngoal (1 subgoal):\n 1. siso0 (while tst do c)", "by blast"], ["proof (state)\nthis:\n  siso0 (while tst do c)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem siso0_Par[simp]:\nassumes *: \"siso0 c1\" and **: \"siso0 c2\"\nshows \"siso0 (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. siso0 (c1 | c2)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (c1 | c2)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (c1 | c2)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. siso0 (c1 | c2)", "have \n   \"(\\<exists> c1 c2. c = Par c1 c2 \\<and> siso0 c1 \\<and> siso0 c2) \n    \\<Longrightarrow> siso0 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c1 c2.\n       c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n    siso0 c", "proof (induct rule: siso0_coind)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 | c2 \\<and>\n                             siso0 c1 \\<and> siso0 c2) \\<or>\n                         siso0 c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "case (Indef c s c' s')"], ["proof (state)\nthis:\n  \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 | c2 \\<and>\n                             siso0 c1 \\<and> siso0 c2) \\<or>\n                         siso0 c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "then"], ["proof (chain)\npicking this:\n  \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  (c, s) \\<rightarrow>c (c', s')", "obtain c1 c2 where c: \"c = Par c1 c2\" \n     and c1: \"siso0 c1\" and c2: \"siso0 c2\""], ["proof (prove)\nusing this:\n  \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<And>c1 c2.\n        \\<lbrakk>c = c1 | c2; siso0 c1; siso0 c2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c = c1 | c2\n  siso0 c1\n  siso0 c2\n\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 | c2 \\<and>\n                             siso0 c1 \\<and> siso0 c2) \\<or>\n                         siso0 c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "hence \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (prove)\nusing this:\n  c = c1 | c2\n  siso0 c1\n  siso0 c2\n\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s')", "using c Indef"], ["proof (prove)\nusing this:\n  c = c1 | c2\n  siso0 c1\n  siso0 c2\n  c = c1 | c2\n  \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s')", "by auto"], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (3 subgoals):\n 1. \\<And>c s c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 | c2 \\<and>\n                             siso0 c1 \\<and> siso0 c2) \\<or>\n                         siso0 c'\n 2. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "thus ?case"], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<exists>c1 c2. c' = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2) \\<or>\n    siso0 c'", "apply(elim Par_transC_invert)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 | c2 \\<and>\n                             siso0 c1 \\<and> siso0 c2) \\<or>\n                         siso0 c'\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>c1 c2.\n                          c' = c1 | c2 \\<and>\n                          siso0 c1 \\<and> siso0 c2) \\<or>\n                      siso0 c'\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c1 c2.\n                             c' = c1 | c2 \\<and>\n                             siso0 c1 \\<and> siso0 c2) \\<or>\n                         siso0 c'\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>c1 c2.\n                          c' = c1 | c2 \\<and>\n                          siso0 c1 \\<and> siso0 c2) \\<or>\n                      siso0 c'", "by (metis Indef c c1 c2 mustT_Par_L mustT_Par_R siso0_transC)+"], ["proof (state)\nthis:\n  (\\<exists>c1 c2. c' = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2) \\<or>\n  siso0 c'\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "case (Cont c s t c' s')"], ["proof (state)\nthis:\n  \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  mustT c t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "then"], ["proof (chain)\npicking this:\n  \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  mustT c t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')", "obtain c1 c2 where c: \"c = Par c1 c2\" \n     and c1: \"siso0 c1\" and c2: \"siso0 c2\""], ["proof (prove)\nusing this:\n  \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  mustT c t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<And>c1 c2.\n        \\<lbrakk>c = c1 | c2; siso0 c1; siso0 c2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c = c1 | c2\n  siso0 c1\n  siso0 c2\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "hence mt: \"mustT c1 s\" \"mustT c1 t\" \"mustT c2 s\" \"mustT c2 t\""], ["proof (prove)\nusing this:\n  c = c1 | c2\n  siso0 c1\n  siso0 c2\n\ngoal (1 subgoal):\n 1. (mustT c1 s &&& mustT c1 t) &&& mustT c2 s &&& mustT c2 t", "by (metis Cont mustT_Par_L mustT_Par_R)+"], ["proof (state)\nthis:\n  mustT c1 s\n  mustT c1 t\n  mustT c2 s\n  mustT c2 t\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "have \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s')", "using c Cont"], ["proof (prove)\nusing this:\n  c = c1 | c2\n  \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2\n  mustT c s\n  mustT c t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s')", "by auto"], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (2 subgoals):\n 1. \\<And>c s t c' s'.\n       \\<lbrakk>\\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        mustT c s; mustT c t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "thus ?case"], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. s' \\<approx> t' \\<and> (c, t) \\<rightarrow>c (c', t')", "apply(elim Par_transC_invert)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "apply (metis Cont ParCL c c1 mt siso0_transC_indis)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "apply (metis Cont ParTL c c1 mt siso0_transT)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and>\n                            (c, t) \\<rightarrow>c (c', t')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "apply (metis Cont ParCR c c2 mt siso0_transC_indis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         s' \\<approx> t' \\<and>\n                         (c, t) \\<rightarrow>c (c', t')", "by (metis Cont ParTR c c2 mt siso0_transT)"], ["proof (state)\nthis:\n  \\<exists>t'. s' \\<approx> t' \\<and> (c, t) \\<rightarrow>c (c', t')\n\ngoal (1 subgoal):\n 1. \\<And>c s t s'.\n       \\<lbrakk>mustT c s; mustT c t;\n        \\<exists>c1 c2. c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            s' \\<approx> t' \\<and> (c, t) \\<rightarrow>t t'", "qed auto"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     c = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 c\n\ngoal (1 subgoal):\n 1. siso0 (c1 | c2)", "}"], ["proof (state)\nthis:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 ?c3\n\ngoal (1 subgoal):\n 1. siso0 (c1 | c2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 ?c3\n\ngoal (1 subgoal):\n 1. siso0 (c1 | c2)", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>c1 c2.\n     ?c3 = c1 | c2 \\<and> siso0 c1 \\<and> siso0 c2 \\<Longrightarrow>\n  siso0 ?c3\n  siso0 c1\n  siso0 c2\n\ngoal (1 subgoal):\n 1. siso0 (c1 | c2)", "by blast"], ["proof (state)\nthis:\n  siso0 (c1 | c2)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Strong bisimilarity versus language constructs\\<close>"], ["", "text \\<open>Atomic commands:\\<close>"], ["", "definition thetaAtm where \n\"thetaAtm atm \\<equiv> {(Atm atm, Atm atm)}\""], ["", "lemma thetaAtm_sym:\n\"sym (thetaAtm atm)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym (thetaAtm atm)", "unfolding thetaAtm_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y) \\<in> {(Atm atm, Atm atm)} \\<longrightarrow>\n       (y, x) \\<in> {(Atm atm, Atm atm)}", "by blast"], ["", "lemma thetaAtm_Sretr:\nassumes \"compatAtm atm\"\nshows \"thetaAtm atm \\<subseteq> Sretr (thetaAtm atm)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaAtm atm \\<subseteq> Sretr (thetaAtm atm)", "using assms"], ["proof (prove)\nusing this:\n  compatAtm atm\n\ngoal (1 subgoal):\n 1. thetaAtm atm \\<subseteq> Sretr (thetaAtm atm)", "unfolding compatAtm_def Sretr_def matchC_C_def matchT_T_def thetaAtm_def"], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     s \\<approx> t \\<longrightarrow> aval atm s \\<approx> aval atm t\n\ngoal (1 subgoal):\n 1. {(Atm atm, Atm atm)}\n    \\<subseteq> {(c, d).\n                 (\\<forall>s t c' s'.\n                     s \\<approx> t \\<and>\n                     (c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n                     (\\<exists>d' t'.\n                         (d, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> {(Atm atm, Atm atm)})) \\<and>\n                 (\\<forall>s t s'.\n                     s \\<approx> t \\<and>\n                     (c, s) \\<rightarrow>t s' \\<longrightarrow>\n                     (\\<exists>t'.\n                         (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'))}", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t.\n       s \\<approx> t \\<longrightarrow>\n       aval atm s \\<approx> aval atm t \\<Longrightarrow>\n    \\<forall>s t s'.\n       s \\<approx> t \\<and> (Atm atm, s) \\<rightarrow>t s' \\<longrightarrow>\n       (\\<exists>t'. (Atm atm, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "by (metis Atm_transT_invert Atm)"], ["", "lemma thetaAtm_Sbis:\nassumes \"compatAtm atm\"\nshows \"thetaAtm atm \\<subseteq> Sbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaAtm atm \\<subseteq> Sbis", "apply(rule Sbis_raw_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym (thetaAtm atm)\n 2. thetaAtm atm \\<subseteq> Sretr (thetaAtm atm)", "using assms thetaAtm_sym thetaAtm_Sretr"], ["proof (prove)\nusing this:\n  compatAtm atm\n  sym (thetaAtm ?atm)\n  compatAtm ?atm \\<Longrightarrow>\n  thetaAtm ?atm \\<subseteq> Sretr (thetaAtm ?atm)\n\ngoal (2 subgoals):\n 1. sym (thetaAtm atm)\n 2. thetaAtm atm \\<subseteq> Sretr (thetaAtm atm)", "by auto"], ["", "theorem Atm_Sbis[simp]:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>s Atm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Atm atm \\<approx>s Atm atm", "using assms thetaAtm_Sbis"], ["proof (prove)\nusing this:\n  compatAtm atm\n  compatAtm ?atm \\<Longrightarrow> thetaAtm ?atm \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. Atm atm \\<approx>s Atm atm", "unfolding thetaAtm_def"], ["proof (prove)\nusing this:\n  compatAtm atm\n  compatAtm ?atm \\<Longrightarrow> {(Atm ?atm, Atm ?atm)} \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. Atm atm \\<approx>s Atm atm", "by auto"], ["", "text\\<open>Sequential composition:\\<close>"], ["", "definition thetaSeq where \n\"thetaSeq \\<equiv> \n {(c1 ;; c2, d1 ;; d2) | c1 c2 d1 d2. c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}\""], ["", "lemma thetaSeq_sym:\n\"sym thetaSeq\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaSeq", "unfolding thetaSeq_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}", "using Sbis_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>s ?d \\<Longrightarrow> ?d \\<approx>s ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}", "by blast"], ["", "lemma thetaSeq_Sretr:\n\"thetaSeq \\<subseteq> Sretr (thetaSeq Un Sbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "assume c1d1: \"c1 \\<approx>s d1\" and c2d2: \"c2 \\<approx>s d2\""], ["proof (state)\nthis:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "hence matchC_C1: \"matchC_C Sbis c1 d1\" and matchC_C2: \"matchC_C Sbis c2 d2\"\n     and matchT_T1: \"matchT_T c1 d1\" and matchT_T2: \"matchT_T c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n\ngoal (1 subgoal):\n 1. (matchC_C Sbis c1 d1 &&& matchC_C Sbis c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "using Sbis_matchC_C Sbis_matchT_T"], ["proof (prove)\nusing this:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n  ?c \\<approx>s ?d \\<Longrightarrow> matchC_C Sbis ?c ?d\n  ?c \\<approx>s ?d \\<Longrightarrow> matchT_T ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_C Sbis c1 d1 &&& matchC_C Sbis c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_C Sbis c1 d1\n  matchC_C Sbis c2 d2\n  matchT_T c1 d1\n  matchT_T c2 d2\n\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "have \"(c1 ;; c2, d1 ;; d2) \\<in> Sretr (thetaSeq Un Sbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2) \\<in> Sretr (thetaSeq \\<union> Sbis)", "unfolding Sretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2)\n    \\<in> {(c, d).\n           matchC_C (thetaSeq \\<union> Sbis) c d \\<and> matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_C (thetaSeq \\<union> Sbis) (c1 ;; c2) (d1 ;; d2)\n 2. matchT_T (c1 ;; c2) (d1 ;; d2)", "show \"matchC_C (thetaSeq Un Sbis) (c1 ;; c2) (d1 ;; d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_C (thetaSeq \\<union> Sbis) (c1 ;; c2) (d1 ;; d2)", "unfolding matchC_C_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeq \\<union> Sbis)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeq \\<union> Sbis", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeq \\<union> Sbis", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeq \\<union> Sbis", "assume \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeq \\<union> Sbis", "thus \"\\<exists>d' t'. (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeq Un Sbis\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeq \\<union> Sbis", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeq \\<union> Sbis", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeq \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeq \\<union> Sbis", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeq \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeq \\<union> Sbis", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeq \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeq \\<union> Sbis", "hence \"\\<exists>d1' t'. (d1, t) \\<rightarrow>c (d1', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>s d1'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d1'", "using st matchC_C1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  matchC_C Sbis c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d1'", "unfolding matchC_C_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>s d')\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d1'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>s d1'\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeq \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeq \\<union> Sbis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>s d1'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeq \\<union> Sbis", "unfolding c' thetaSeq_def"], ["proof (prove)\nusing this:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>s d1'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1' ;; c2, d')\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<union>\n             Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d1' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d2.\n            d' = d1 ;; d2 \\<and>\n            c1' \\<approx>s d1 \\<and> c2 \\<approx>s d2) \\<or>\n        c1' ;; c2 \\<approx>s d')", "by (metis SeqC c2d2 )"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeq \\<union> Sbis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeq \\<union> Sbis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeq \\<union> Sbis", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeq \\<union> Sbis", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "using st matchT_T1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_T c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "unfolding matchT_T_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeq \\<union> Sbis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeq \\<union> Sbis", "unfolding c' thetaSeq_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c2, d')\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<union>\n             Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>c1 c2a.\n            c2 = c1 ;; c2a \\<and>\n            (\\<exists>d1 d2.\n                d' = d1 ;; d2 \\<and>\n                c1 \\<approx>s d1 \\<and> c2a \\<approx>s d2)) \\<or>\n        c2 \\<approx>s d')", "by (metis PL.SeqT c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeq \\<union> Sbis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeq \\<union> Sbis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_C (thetaSeq \\<union> Sbis) (c1 ;; c2) (d1 ;; d2)\n\ngoal (1 subgoal):\n 1. matchT_T (c1 ;; c2) (d1 ;; d2)", "qed (unfold matchT_T_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; c2, d1 ;; d2) \\<in> Sretr (thetaSeq \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>s ?d1.3; ?c2.3 \\<approx>s ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> Sretr (thetaSeq \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>s ?d1.3; ?c2.3 \\<approx>s ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> Sretr (thetaSeq \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "unfolding thetaSeq_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>s ?d1.3; ?c2.3 \\<approx>s ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> Sretr\n                           ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>s d1 \\<and>\n                             c2 \\<approx>s d2} \\<union>\n                            Sbis)\n\ngoal (1 subgoal):\n 1. {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n     c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}\n    \\<subseteq> Sretr\n                 ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                   c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<union>\n                  Sbis)", "by auto"], ["proof (state)\nthis:\n  thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaSeq_Sbis:\n\"thetaSeq \\<subseteq> Sbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeq \\<subseteq> Sbis", "apply(rule Sbis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaSeq\n 2. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "using thetaSeq_sym thetaSeq_Sretr"], ["proof (prove)\nusing this:\n  sym thetaSeq\n  thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)\n\ngoal (2 subgoals):\n 1. sym thetaSeq\n 2. thetaSeq \\<subseteq> Sretr (thetaSeq \\<union> Sbis)", "by auto"], ["", "theorem Seq_Sbis[simp]:\nassumes \"c1 \\<approx>s d1\" and \"c2 \\<approx>s d2\"\nshows \"c1 ;; c2 \\<approx>s d1 ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>s d1 ;; d2", "using assms thetaSeq_Sbis"], ["proof (prove)\nusing this:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n  thetaSeq \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>s d1 ;; d2", "unfolding thetaSeq_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n  {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n   c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}\n  \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>s d1 ;; d2", "by blast"], ["", "text\\<open>Conditional:\\<close>"], ["", "definition thetaIf where \n\"thetaIf \\<equiv> \n {(If tst c1 c2, If tst d1 d2) | tst c1 c2 d1 d2. compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}\""], ["", "lemma thetaIf_sym:\n\"sym thetaIf\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaIf", "unfolding thetaIf_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}", "using Sbis_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>s ?d \\<Longrightarrow> ?d \\<approx>s ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}", "by blast"], ["", "lemma thetaIf_Sretr:\n\"thetaIf \\<subseteq> Sretr (thetaIf Un Sbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "fix tst c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>s d1\" and c2d2: \"c2 \\<approx>s d2\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "hence matchC_C1: \"matchC_C Sbis c1 d1\" and matchC_C2: \"matchC_C Sbis c2 d2\"\n     and matchT_T1: \"matchT_T c1 d1\" and matchT_T2: \"matchT_T c2 d2\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n\ngoal (1 subgoal):\n 1. (matchC_C Sbis c1 d1 &&& matchC_C Sbis c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "using Sbis_matchC_C Sbis_matchT_T"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n  ?c \\<approx>s ?d \\<Longrightarrow> matchC_C Sbis ?c ?d\n  ?c \\<approx>s ?d \\<Longrightarrow> matchT_T ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_C Sbis c1 d1 &&& matchC_C Sbis c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_C Sbis c1 d1\n  matchC_C Sbis c2 d2\n  matchT_T c1 d1\n  matchT_T c2 d2\n\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "have \"(If tst c1 c2, If tst d1 d2) \\<in> Sretr (thetaIf Un Sbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> Sretr (thetaIf \\<union> Sbis)", "unfolding Sretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> {(c, d). matchC_C (thetaIf \\<union> Sbis) c d \\<and> matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_C (thetaIf \\<union> Sbis) (if tst then c1 else c2)\n     (if tst then d1 else d2)\n 2. matchT_T (if tst then c1 else c2) (if tst then d1 else d2)", "show \"matchC_C (thetaIf Un Sbis) (If tst c1 c2) (If tst d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_C (thetaIf \\<union> Sbis) (if tst then c1 else c2)\n     (if tst then d1 else d2)", "unfolding matchC_C_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaIf \\<union> Sbis)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIf \\<union> Sbis", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIf \\<union> Sbis", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIf \\<union> Sbis", "assume \"(If tst c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIf \\<union> Sbis", "thus \"\\<exists>d' t'. (If tst d1 d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaIf Un Sbis\""], ["proof (prove)\nusing this:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaIf \\<union> Sbis", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaIf \\<union> Sbis", "apply(erule If_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaIf \\<union> Sbis\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaIf \\<union> Sbis", "unfolding thetaIf_def"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>s d1 \\<and>\n                                c2 \\<approx>s d2} \\<union>\n                               Sbis\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>s d1 \\<and>\n                                c2 \\<approx>s d2} \\<union>\n                               Sbis", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s \\<approx> t' \\<and>\n                         ((\\<exists>tst c1a c2.\n                              c1 = if tst then c1a else c2 \\<and>\n                              (\\<exists>d1 d2.\n                                  d' = if tst then d1 else d2 \\<and>\n                                  compatTst tst \\<and>\n                                  c1a \\<approx>s d1 \\<and>\n                                  c2 \\<approx>s d2)) \\<or>\n                          c1 \\<approx>s d')\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>s d1 \\<and>\n                                c2 \\<approx>s d2} \\<union>\n                               Sbis", "apply (metis IfTrue c1d1 compatTst_def st tst)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>s d1 \\<and>\n                                c2 \\<approx>s d2} \\<union>\n                               Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s \\<approx> t' \\<and>\n                         ((\\<exists>tst c1 c2a.\n                              c2 = if tst then c1 else c2a \\<and>\n                              (\\<exists>d1 d2.\n                                  d' = if tst then d1 else d2 \\<and>\n                                  compatTst tst \\<and>\n                                  c1 \\<approx>s d1 \\<and>\n                                  c2a \\<approx>s d2)) \\<or>\n                          c2 \\<approx>s d')", "by (metis IfFalse c2d2 compatTst_def st tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaIf \\<union> Sbis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_C (thetaIf \\<union> Sbis) (if tst then c1 else c2)\n   (if tst then d1 else d2)\n\ngoal (1 subgoal):\n 1. matchT_T (if tst then c1 else c2) (if tst then d1 else d2)", "qed (unfold matchT_T_def, auto)"], ["proof (state)\nthis:\n  (if tst then c1 else c2, if tst then d1 else d2)\n  \\<in> Sretr (thetaIf \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>s ?d1.3;\n   ?c2.3 \\<approx>s ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> Sretr (thetaIf \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>s ?d1.3;\n   ?c2.3 \\<approx>s ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> Sretr (thetaIf \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "unfolding thetaIf_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>s ?d1.3;\n   ?c2.3 \\<approx>s ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> Sretr\n                           ({(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>s d1 \\<and>\n                             c2 \\<approx>s d2} \\<union>\n                            Sbis)\n\ngoal (1 subgoal):\n 1. {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n     compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}\n    \\<subseteq> Sretr\n                 ({(if tst then c1 else c2, if tst then d1 else d2) |tst c1\n                   c2 d1 d2.\n                   compatTst tst \\<and>\n                   c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<union>\n                  Sbis)", "by auto"], ["proof (state)\nthis:\n  thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaIf_Sbis:\n\"thetaIf \\<subseteq> Sbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIf \\<subseteq> Sbis", "apply(rule Sbis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaIf\n 2. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "using thetaIf_sym thetaIf_Sretr"], ["proof (prove)\nusing this:\n  sym thetaIf\n  thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)\n\ngoal (2 subgoals):\n 1. sym thetaIf\n 2. thetaIf \\<subseteq> Sretr (thetaIf \\<union> Sbis)", "by auto"], ["", "theorem If_Sbis[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>s d1\" and \"c2 \\<approx>s d2\"\nshows \"If tst c1 c2 \\<approx>s If tst d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>s if tst then d1 else d2", "using assms thetaIf_Sbis"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n  thetaIf \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>s if tst then d1 else d2", "unfolding thetaIf_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n  {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n   compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}\n  \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>s if tst then d1 else d2", "by blast"], ["", "text\\<open>While loop:\\<close>"], ["", "definition thetaWhile where \n\"thetaWhile \\<equiv> \n {(While tst c, While tst d) | tst c d. compatTst tst \\<and> c \\<approx>s d} Un \n {(c1 ;; (While tst c), d1 ;; (While tst d)) | tst c1 d1 c d. compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c \\<approx>s d}\""], ["", "lemma thetaWhile_sym:\n\"sym thetaWhile\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaWhile", "unfolding thetaWhile_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>s d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>s d1 \\<and> c \\<approx>s d} \\<longrightarrow>\n       (y, x)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>s d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c \\<approx>s d}", "using Sbis_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>s ?d \\<Longrightarrow> ?d \\<approx>s ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>s d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>s d1 \\<and> c \\<approx>s d} \\<longrightarrow>\n       (y, x)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>s d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c \\<approx>s d}", "by blast"], ["", "lemma thetaWhile_Sretr:\n\"thetaWhile \\<subseteq> Sretr (thetaWhile Un Sbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "fix tst c d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "assume tst: \"compatTst tst\" and c_d: \"c \\<approx>s d\""], ["proof (state)\nthis:\n  compatTst tst\n  c \\<approx>s d\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "hence matchC_C: \"matchC_C Sbis c d\" \n     and matchT_T: \"matchT_T c d\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>s d\n\ngoal (1 subgoal):\n 1. matchC_C Sbis c d &&& matchT_T c d", "using Sbis_matchC_C Sbis_matchT_T"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>s d\n  ?c \\<approx>s ?d \\<Longrightarrow> matchC_C Sbis ?c ?d\n  ?c \\<approx>s ?d \\<Longrightarrow> matchT_T ?c ?d\n\ngoal (1 subgoal):\n 1. matchC_C Sbis c d &&& matchT_T c d", "by auto"], ["proof (state)\nthis:\n  matchC_C Sbis c d\n  matchT_T c d\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "have \"(While tst c, While tst d) \\<in> Sretr (thetaWhile Un Sbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, while tst do d) \\<in> Sretr (thetaWhile \\<union> Sbis)", "unfolding Sretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, while tst do d)\n    \\<in> {(c, d).\n           matchC_C (thetaWhile \\<union> Sbis) c d \\<and> matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_C (thetaWhile \\<union> Sbis) (while tst do c) (while tst do d)\n 2. matchT_T (while tst do c) (while tst do d)", "show \"matchC_C (thetaWhile \\<union> Sbis) (While tst c) (While tst d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_C (thetaWhile \\<union> Sbis) (while tst do c) (while tst do d)", "unfolding matchC_C_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (while tst do c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis", "assume \"(While tst c, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis", "thus \"\\<exists>d' t'. (While tst d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis\""], ["proof (prove)\nusing this:\n  (while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis", "apply(erule While_transC_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhile \\<union> Sbis", "unfolding thetaWhile_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(while tst do c, while tst do d) |tst c d.\n                                compatTst tst \\<and>\n                                c \\<approx>s d} \\<union>\n                               {(c1 ;; while tst do c,\n                                 d1 ;; while tst do d) |\n                                tst c1 d1 c d.\n                                compatTst tst \\<and>\n                                c1 \\<approx>s d1 \\<and>\n                                c \\<approx>s d} \\<union>\n                               Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n                         s \\<approx> t' \\<and>\n                         ((\\<exists>d1 d.\n                              d' = d1 ;; while tst do d \\<and>\n                              compatTst tst \\<and>\n                              c \\<approx>s d1 \\<and> c \\<approx>s d) \\<or>\n                          c ;; while tst do c \\<approx>s d')", "by (metis WhileTrue c_d compatTst_def st tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_C (thetaWhile \\<union> Sbis) (while tst do c) (while tst do d)\n\ngoal (1 subgoal):\n 1. matchT_T (while tst do c) (while tst do d)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_T (while tst do c) (while tst do d)", "show \"matchT_T (While tst c) (While tst d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_T (while tst do c) (while tst do d)", "unfolding matchT_T_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t s'.\n       s \\<approx> t \\<and>\n       (while tst do c, s) \\<rightarrow>t s' \\<longrightarrow>\n       (\\<exists>t'.\n           (while tst do d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>t t' \\<and>\n                            s' \\<approx> t'", "fix s t s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>t t' \\<and>\n                            s' \\<approx> t'", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>t t' \\<and>\n                            s' \\<approx> t'", "assume \"(While tst c, s) \\<rightarrow>t s'\""], ["proof (state)\nthis:\n  (while tst do c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>t t' \\<and>\n                            s' \\<approx> t'", "thus \"\\<exists>t'. (While tst d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \""], ["proof (prove)\nusing this:\n  (while tst do c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (while tst do d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, s) \\<rightarrow>t s' \\<Longrightarrow>\n    \\<exists>t'.\n       (while tst do d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "apply(erule While_transT_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>t t' \\<and>\n                         s' \\<approx> t'", "unfolding thetaWhile_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>t t' \\<and>\n                         s' \\<approx> t'", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>t t' \\<and>\n                         s \\<approx> t'", "by (metis PL.WhileFalse compatTst_def st tst)"], ["proof (state)\nthis:\n  \\<exists>t'. (while tst do d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_T (while tst do c) (while tst do d)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (while tst do c, while tst do d) \\<in> Sretr (thetaWhile \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> Sretr (thetaWhile \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> Sretr (thetaWhile \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> Sretr (thetaWhile \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "fix tst c1 d1  c d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>s d1\" and c_d: \"c \\<approx>s d\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>s d1\n  c \\<approx>s d\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "hence matchC_C1: \"matchC_C Sbis c1 d1\" and matchC_C: \"matchC_C Sbis c d\" \n     and matchT_T1: \"matchT_T c1 d1\" and matchT_T: \"matchT_T c d\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>s d1\n  c \\<approx>s d\n\ngoal (1 subgoal):\n 1. (matchC_C Sbis c1 d1 &&& matchC_C Sbis c d) &&&\n    matchT_T c1 d1 &&& matchT_T c d", "using Sbis_matchC_C Sbis_matchT_T"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>s d1\n  c \\<approx>s d\n  ?c \\<approx>s ?d \\<Longrightarrow> matchC_C Sbis ?c ?d\n  ?c \\<approx>s ?d \\<Longrightarrow> matchT_T ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_C Sbis c1 d1 &&& matchC_C Sbis c d) &&&\n    matchT_T c1 d1 &&& matchT_T c d", "by auto"], ["proof (state)\nthis:\n  matchC_C Sbis c1 d1\n  matchC_C Sbis c d\n  matchT_T c1 d1\n  matchT_T c d\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "have \"(c1 ;; (While tst c), d1 ;; (While tst d)) \\<in> Sretr (thetaWhile Un Sbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, d1 ;; while tst do d)\n    \\<in> Sretr (thetaWhile \\<union> Sbis)", "unfolding Sretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, d1 ;; while tst do d)\n    \\<in> {(c, d).\n           matchC_C (thetaWhile \\<union> Sbis) c d \\<and> matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_C (thetaWhile \\<union> Sbis) (c1 ;; while tst do c)\n     (d1 ;; while tst do d)\n 2. matchT_T (c1 ;; while tst do c) (d1 ;; while tst do d)", "show \"matchC_C (thetaWhile \\<union> Sbis) (c1 ;; (While tst c)) (d1 ;; (While tst d))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_C (thetaWhile \\<union> Sbis) (c1 ;; while tst do c)\n     (d1 ;; while tst do d)", "unfolding matchC_C_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; while tst do c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis", "assume \"(c1 ;; (While tst c), s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis", "thus \"\\<exists>d' t'. (d1 ;; (While tst d), t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis\""], ["proof (prove)\nusing this:\n  (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhile \\<union> Sbis", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhile \\<union> Sbis", "assume \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; (While tst c)\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhile \\<union> Sbis", "hence \"\\<exists>d' t'. (d1, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>s d'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d'", "using st matchC_C1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n  s \\<approx> t\n  matchC_C Sbis c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d'", "unfolding matchC_C_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>s d')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>s d'\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhile \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhile \\<union> Sbis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>s d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis", "unfolding c' thetaWhile_def"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>s d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1' ;; while tst do c, d')\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>s d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>s d1 \\<and> c \\<approx>s d} \\<union>\n             Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d.\n            d' = d1 ;; while tst do d \\<and>\n            compatTst tst \\<and>\n            c1' \\<approx>s d1 \\<and> c \\<approx>s d) \\<or>\n        c1' ;; while tst do c \\<approx>s d')", "by (metis SeqC c_d tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhile \\<union> Sbis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhile \\<union> Sbis", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = While tst c\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhile \\<union> Sbis", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "using st matchT_T1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n  s \\<approx> t\n  matchT_T c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "unfolding matchT_T_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhile \\<union> Sbis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis", "unfolding c' thetaWhile_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (while tst do c, d')\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>s d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>s d1 \\<and> c \\<approx>s d} \\<union>\n             Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d.\n            d' = while tst do d \\<and>\n            compatTst tst \\<and> c \\<approx>s d) \\<or>\n        while tst do c \\<approx>s d')", "by (metis PL.SeqT c_d tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhile \\<union> Sbis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_C (thetaWhile \\<union> Sbis) (c1 ;; while tst do c)\n   (d1 ;; while tst do d)\n\ngoal (1 subgoal):\n 1. matchT_T (c1 ;; while tst do c) (d1 ;; while tst do d)", "qed (unfold matchT_T_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; while tst do c, d1 ;; while tst do d)\n  \\<in> Sretr (thetaWhile \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>s ?d1.3;\n   ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> Sretr (thetaWhile \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> Sretr (thetaWhile \\<union> Sbis)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>s ?d1.3;\n   ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> Sretr (thetaWhile \\<union> Sbis)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> Sretr (thetaWhile \\<union> Sbis)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>s ?d1.3;\n   ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> Sretr (thetaWhile \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "unfolding thetaWhile_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> Sretr\n                           ({(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>s d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>s d1 \\<and>\n                             c \\<approx>s d} \\<union>\n                            Sbis)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>s ?d1.3;\n   ?c3 \\<approx>s ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> Sretr\n                           ({(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>s d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>s d1 \\<and>\n                             c \\<approx>s d} \\<union>\n                            Sbis)\n\ngoal (1 subgoal):\n 1. {(while tst do c, while tst do d) |tst c d.\n     compatTst tst \\<and> c \\<approx>s d} \\<union>\n    {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n     compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c \\<approx>s d}\n    \\<subseteq> Sretr\n                 ({(while tst do c, while tst do d) |tst c d.\n                   compatTst tst \\<and> c \\<approx>s d} \\<union>\n                  {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c\n                   d. compatTst tst \\<and>\n                      c1 \\<approx>s d1 \\<and> c \\<approx>s d} \\<union>\n                  Sbis)", "by auto"], ["proof (state)\nthis:\n  thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaWhile_Sbis:\n\"thetaWhile \\<subseteq> Sbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaWhile \\<subseteq> Sbis", "apply(rule Sbis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaWhile\n 2. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "using thetaWhile_sym thetaWhile_Sretr"], ["proof (prove)\nusing this:\n  sym thetaWhile\n  thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)\n\ngoal (2 subgoals):\n 1. sym thetaWhile\n 2. thetaWhile \\<subseteq> Sretr (thetaWhile \\<union> Sbis)", "by auto"], ["", "theorem While_Sbis[simp]:\nassumes \"compatTst tst\" and \"c \\<approx>s d\"\nshows \"While tst c \\<approx>s While tst d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. while tst do c \\<approx>s while tst do d", "using assms thetaWhile_Sbis"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>s d\n  thetaWhile \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. while tst do c \\<approx>s while tst do d", "unfolding thetaWhile_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>s d\n  {(while tst do c, while tst do d) |tst c d.\n   compatTst tst \\<and> c \\<approx>s d} \\<union>\n  {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n   compatTst tst \\<and> c1 \\<approx>s d1 \\<and> c \\<approx>s d}\n  \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. while tst do c \\<approx>s while tst do d", "by auto"], ["", "text\\<open>Parallel composition:\\<close>"], ["", "definition thetaPar where \n\"thetaPar \\<equiv> \n {(Par c1 c2, Par d1 d2) | c1 c2 d1 d2. c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}\""], ["", "lemma thetaPar_sym:\n\"sym thetaPar\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaPar", "unfolding thetaPar_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}", "using Sbis_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>s ?d \\<Longrightarrow> ?d \\<approx>s ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}", "by blast"], ["", "lemma thetaPar_Sretr:\n\"thetaPar \\<subseteq> Sretr (thetaPar Un Sbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "assume c1d1: \"c1 \\<approx>s d1\" and c2d2: \"c2 \\<approx>s d2\""], ["proof (state)\nthis:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "hence matchC_C1: \"matchC_C Sbis c1 d1\" and matchC_C2: \"matchC_C Sbis c2 d2\"\n     and matchT_T1: \"matchT_T c1 d1\" and matchT_T2: \"matchT_T c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n\ngoal (1 subgoal):\n 1. (matchC_C Sbis c1 d1 &&& matchC_C Sbis c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "using Sbis_matchC_C Sbis_matchT_T"], ["proof (prove)\nusing this:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n  ?c \\<approx>s ?d \\<Longrightarrow> matchC_C Sbis ?c ?d\n  ?c \\<approx>s ?d \\<Longrightarrow> matchT_T ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_C Sbis c1 d1 &&& matchC_C Sbis c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_C Sbis c1 d1\n  matchC_C Sbis c2 d2\n  matchT_T c1 d1\n  matchT_T c2 d2\n\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "have \"(Par c1 c2, Par d1 d2) \\<in> Sretr (thetaPar Un Sbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2) \\<in> Sretr (thetaPar \\<union> Sbis)", "unfolding Sretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2)\n    \\<in> {(c, d).\n           matchC_C (thetaPar \\<union> Sbis) c d \\<and> matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_C (thetaPar \\<union> Sbis) (c1 | c2) (d1 | d2)\n 2. matchT_T (c1 | c2) (d1 | d2)", "show \"matchC_C (thetaPar \\<union> Sbis) (Par c1 c2) (Par d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_C (thetaPar \\<union> Sbis) (c1 | c2) (d1 | d2)", "unfolding matchC_C_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis", "thus \"\\<exists>d' t'. (Par d1 d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis", "proof(erule Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "hence \"\\<exists>d' t'. (d1, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>s d'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d'", "using st matchC_C1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  matchC_C Sbis c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d'", "unfolding matchC_C_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>s d')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>s d'\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>s d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis", "unfolding c' thetaPar_def"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>s d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1' | c2, d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<union>\n             Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>s d' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d2.\n            d' = d1 | d2 \\<and>\n            c1' \\<approx>s d1 \\<and> c2 \\<approx>s d2) \\<or>\n        c1' | c2 \\<approx>s d')", "by(metis ParCL c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "using st matchT_T1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_T c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "unfolding matchT_T_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis", "unfolding c' thetaPar_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c2, d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<union>\n             Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>c1 c2a.\n            c2 = c1 | c2a \\<and>\n            (\\<exists>d1 d2.\n                d' = d1 | d2 \\<and>\n                c1 \\<approx>s d1 \\<and> c2a \\<approx>s d2)) \\<or>\n        c2 \\<approx>s d')", "by (metis PL.ParTL c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "assume \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "hence \"\\<exists>d' t'. (d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c2' \\<approx>s d'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>s d'", "using st matchC_C2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  matchC_C Sbis c2 d2\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>s d'", "unfolding matchC_C_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d2, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>s d')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>s d'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c2' \\<approx>s d'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaPar \\<union> Sbis\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c2' \\<approx>s d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis", "unfolding c' thetaPar_def"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c2' \\<approx>s d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1 | c2', d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<union>\n             Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>s d' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d2.\n            d' = d1 | d2 \\<and>\n            c1 \\<approx>s d1 \\<and> c2' \\<approx>s d2) \\<or>\n        c1 | c2' \\<approx>s d')", "by (metis ParCR c1d1)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "hence \"\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "using st matchT_T2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  matchT_T c2 d2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "unfolding matchT_T_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaPar \\<union> Sbis", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis", "unfolding c' thetaPar_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1, d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<union>\n             Sbis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>c1a c2.\n            c1 = c1a | c2 \\<and>\n            (\\<exists>d1 d2.\n                d' = d1 | d2 \\<and>\n                c1a \\<approx>s d1 \\<and> c2 \\<approx>s d2)) \\<or>\n        c1 \\<approx>s d')", "by (metis PL.ParTR c1d1)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaPar \\<union> Sbis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_C (thetaPar \\<union> Sbis) (c1 | c2) (d1 | d2)\n\ngoal (1 subgoal):\n 1. matchT_T (c1 | c2) (d1 | d2)", "qed (unfold matchT_T_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d1 | d2) \\<in> Sretr (thetaPar \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>s ?d1.3; ?c2.3 \\<approx>s ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> Sretr (thetaPar \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>s ?d1.3; ?c2.3 \\<approx>s ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> Sretr (thetaPar \\<union> Sbis)\n\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "unfolding thetaPar_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>s ?d1.3; ?c2.3 \\<approx>s ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> Sretr\n                           ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>s d1 \\<and>\n                             c2 \\<approx>s d2} \\<union>\n                            Sbis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n     c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}\n    \\<subseteq> Sretr\n                 ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                   c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2} \\<union>\n                  Sbis)", "by auto"], ["proof (state)\nthis:\n  thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaPar_Sbis:\n\"thetaPar \\<subseteq> Sbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaPar \\<subseteq> Sbis", "apply(rule Sbis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaPar\n 2. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "using thetaPar_sym thetaPar_Sretr"], ["proof (prove)\nusing this:\n  sym thetaPar\n  thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)\n\ngoal (2 subgoals):\n 1. sym thetaPar\n 2. thetaPar \\<subseteq> Sretr (thetaPar \\<union> Sbis)", "by auto"], ["", "theorem Par_Sbis[simp]:\nassumes \"c1 \\<approx>s d1\" and \"c2 \\<approx>s d2\"\nshows \"Par c1 c2 \\<approx>s Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>s d1 | d2", "using assms thetaPar_Sbis"], ["proof (prove)\nusing this:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n  thetaPar \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>s d1 | d2", "unfolding thetaPar_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>s d1\n  c2 \\<approx>s d2\n  {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n   c1 \\<approx>s d1 \\<and> c2 \\<approx>s d2}\n  \\<subseteq> Sbis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>s d1 | d2", "by blast"], ["", "subsubsection\\<open>01T-bisimilarity versus language constructs\\<close>"], ["", "text \\<open>Atomic commands:\\<close>"], ["", "theorem Atm_ZObisT:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>01T Atm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Atm atm \\<approx>01T Atm atm", "by (metis Atm_Sbis assms bis_imp)"], ["", "text\\<open>Sequential composition:\\<close>"], ["", "definition thetaSeqZOT where \n\"thetaSeqZOT \\<equiv> \n {(c1 ;; c2, d1 ;; d2) | c1 c2 d1 d2. c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}\""], ["", "lemma thetaSeqZOT_sym:\n\"sym thetaSeqZOT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaSeqZOT", "unfolding thetaSeqZOT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and>\n              c2 \\<approx>01T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}", "using ZObisT_Sym"], ["proof (prove)\nusing this:\n  ?s \\<approx>01T ?t \\<Longrightarrow> ?t \\<approx>01T ?s\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and>\n              c2 \\<approx>01T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}", "by blast"], ["", "lemma thetaSeqZOT_ZOretrT:\n\"thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT Un ZObisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "assume c1d1: \"c1 \\<approx>01T d1\" and c2d2: \"c2 \\<approx>01T d2\""], ["proof (state)\nthis:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "hence matchC_ZOC1: \"matchC_ZOC ZObisT c1 d1\" and matchC_ZOC2: \"matchC_ZOC ZObisT c2 d2\"\n     and matchT_T1: \"matchT_T c1 d1\" and matchT_T2: \"matchT_T c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZOC ZObisT c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "using ZObisT_matchC_ZOC ZObisT_matchT_T"], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchC_ZOC ZObisT ?s ?t\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchT_T ?s ?t\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZOC ZObisT c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_ZOC ZObisT c1 d1\n  matchC_ZOC ZObisT c2 d2\n  matchT_T c1 d1\n  matchT_T c2 d2\n\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "have \"(c1 ;; c2, d1 ;; d2) \\<in> ZOretrT (thetaSeqZOT Un ZObisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2) \\<in> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "unfolding ZOretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2)\n    \\<in> {(c, d).\n           matchC_ZOC (thetaSeqZOT \\<union> ZObisT) c d \\<and> matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZOC (thetaSeqZOT \\<union> ZObisT) (c1 ;; c2) (d1 ;; d2)\n 2. matchT_T (c1 ;; c2) (d1 ;; d2)", "show \"matchC_ZOC (thetaSeqZOT Un ZObisT) (c1 ;; c2) (d1 ;; d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZOC (thetaSeqZOT \\<union> ZObisT) (c1 ;; c2) (d1 ;; d2)", "unfolding matchC_ZOC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n       (\\<exists>d' t'.\n           (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "assume \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "thus \n       \"(s' \\<approx> t \\<and> (c', d1 ;; d2) \\<in> thetaSeqZOT Un ZObisT) \\<or>\n        (\\<exists>d' t'. (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZOT Un ZObisT)\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "hence\n         \"(s' \\<approx> t \\<and> c1' \\<approx>01T d1) \\<or> \n          (\\<exists>d1' t'. (d1, t) \\<rightarrow>c (d1', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>01T d1')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d1' t'.\n        (d1, t) \\<rightarrow>c (d1', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d1')", "using st matchC_ZOC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  matchC_ZOC ZObisT c1 d1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d1' t'.\n        (d1, t) \\<rightarrow>c (d1', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d1')", "unfolding matchC_ZOC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01T d1 \\<or>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d1' t'.\n        (d1, t) \\<rightarrow>c (d1', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d1')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d1' t'.\n      (d1, t) \\<rightarrow>c (d1', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d1')\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d1' t'.\n      (d1, t) \\<rightarrow>c (d1', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "unfolding c' thetaSeqZOT_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d1' t'.\n      (d1, t) \\<rightarrow>c (d1', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1' ;; c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d1' t'.\n        (d1, t) \\<rightarrow>c (d1', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d1') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c1' ;; c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01T d1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c1' ;; c2, d1 ;; d2)\n                      \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c1' ;; c2, d')\n                          \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c2 \\<approx>01T d2} \\<union>\n                                ZObisT)\n 2. \\<And>d1' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d1', t'); s' \\<approx> t';\n        c1' \\<approx>01T d1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01T d1\\<rbrakk>\n    \\<Longrightarrow> c2 \\<approx>01T d2 \\<or>\n                      c1' ;; c2 \\<approx>01T d1 ;; d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>d1 d2.\n                               d' = d1 ;; d2 \\<and>\n                               c1' \\<approx>01T d1 \\<and>\n                               c2 \\<approx>01T d2) \\<or>\n                           c1' ;; c2 \\<approx>01T d'))\n 2. \\<And>d1' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d1', t'); s' \\<approx> t';\n        c1' \\<approx>01T d1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply (metis c2d2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d1' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d1', t'); s' \\<approx> t';\n        c1' \\<approx>01T d1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d1' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d1', t'); s' \\<approx> t';\n        c1' \\<approx>01T d1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' \\<approx>01T d1 \\<and>\n                          c2 \\<approx>01T d2 \\<or>\n                          c1' ;; c2 \\<approx>01T d1 ;; d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 ;; d2 \\<and>\n                                  c1' \\<approx>01T d1 \\<and>\n                                  c2 \\<approx>01T d2) \\<or>\n                              c1' ;; c2 \\<approx>01T d'))", "by (metis SeqC c2d2 )"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "using st matchT_T1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_T c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "unfolding matchT_T_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)", "unfolding c' thetaSeqZOT_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2a.\n                              c2 = c1 ;; c2a \\<and>\n                              c1 \\<approx>01T d1 \\<and>\n                              c2a \\<approx>01T d2) \\<or>\n                          c2 \\<approx>01T d1 ;; d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 ;; c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 ;; d2 \\<and> c1 \\<approx>01T d1 \\<and> c2a \\<approx>01T d2)) \\<or>\n                              c2 \\<approx>01T d'))", "by (metis PL.SeqT c2d2)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 ;; d2) \\<in> thetaSeqZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZOC (thetaSeqZOT \\<union> ZObisT) (c1 ;; c2) (d1 ;; d2)\n\ngoal (1 subgoal):\n 1. matchT_T (c1 ;; c2) (d1 ;; d2)", "qed (unfold matchT_T_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; c2, d1 ;; d2) \\<in> ZOretrT (thetaSeqZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>01T ?d1.3; ?c2.3 \\<approx>01T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> ZOretrT (thetaSeqZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01T ?d1.3; ?c2.3 \\<approx>01T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> ZOretrT (thetaSeqZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "unfolding thetaSeqZOT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01T ?d1.3; ?c2.3 \\<approx>01T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> ZOretrT\n                           ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT)\n\ngoal (1 subgoal):\n 1. {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n     c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}\n    \\<subseteq> ZOretrT\n                 ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                   c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n                  ZObisT)", "by auto"], ["proof (state)\nthis:\n  thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaSeqZOT_ZObisT:\n\"thetaSeqZOT \\<subseteq> ZObisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqZOT \\<subseteq> ZObisT", "apply(rule ZObisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaSeqZOT\n 2. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "using thetaSeqZOT_sym thetaSeqZOT_ZOretrT"], ["proof (prove)\nusing this:\n  sym thetaSeqZOT\n  thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)\n\ngoal (2 subgoals):\n 1. sym thetaSeqZOT\n 2. thetaSeqZOT \\<subseteq> ZOretrT (thetaSeqZOT \\<union> ZObisT)", "by auto"], ["", "theorem Seq_ZObisT[simp]:\nassumes \"c1 \\<approx>01T d1\" and \"c2 \\<approx>01T d2\"\nshows \"c1 ;; c2 \\<approx>01T d1 ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>01T d1 ;; d2", "using assms thetaSeqZOT_ZObisT"], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n  thetaSeqZOT \\<subseteq> ZObisT\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>01T d1 ;; d2", "unfolding thetaSeqZOT_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n  {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n   c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}\n  \\<subseteq> ZObisT\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>01T d1 ;; d2", "by blast"], ["", "text\\<open>Conditional:\\<close>"], ["", "definition thetaIfZOT where \n\"thetaIfZOT \\<equiv> \n {(If tst c1 c2, If tst d1 d2) | tst c1 c2 d1 d2. compatTst tst \\<and> c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}\""], ["", "lemma thetaIfZOT_sym:\n\"sym thetaIfZOT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaIfZOT", "unfolding thetaIfZOT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>01T d1 \\<and>\n              c2 \\<approx>01T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}", "using ZObisT_Sym"], ["proof (prove)\nusing this:\n  ?s \\<approx>01T ?t \\<Longrightarrow> ?t \\<approx>01T ?s\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>01T d1 \\<and>\n              c2 \\<approx>01T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}", "by blast"], ["", "lemma thetaIfZOT_ZOretrT:\n\"thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT Un ZObisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "fix tst c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>01T d1\" and c2d2: \"c2 \\<approx>01T d2\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "hence matchC_ZOC1: \"matchC_ZOC ZObisT c1 d1\" and matchC_ZOC2: \"matchC_ZOC ZObisT c2 d2\"\n     and matchT_T1: \"matchT_T c1 d1\" and matchT_T2: \"matchT_T c2 d2\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZOC ZObisT c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "using ZObisT_matchC_ZOC ZObisT_matchT_T"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchC_ZOC ZObisT ?s ?t\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchT_T ?s ?t\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZOC ZObisT c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_ZOC ZObisT c1 d1\n  matchC_ZOC ZObisT c2 d2\n  matchT_T c1 d1\n  matchT_T c2 d2\n\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "have \"(If tst c1 c2, If tst d1 d2) \\<in> ZOretrT (thetaIfZOT Un ZObisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> ZOretrT (thetaIfZOT \\<union> ZObisT)", "unfolding ZOretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> {(c, d).\n           matchC_ZOC (thetaIfZOT \\<union> ZObisT) c d \\<and> matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZOC (thetaIfZOT \\<union> ZObisT) (if tst then c1 else c2)\n     (if tst then d1 else d2)\n 2. matchT_T (if tst then c1 else c2) (if tst then d1 else d2)", "show \"matchC_ZOC (thetaIfZOT Un ZObisT) (If tst c1 c2) (If tst d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZOC (thetaIfZOT \\<union> ZObisT) (if tst then c1 else c2)\n     (if tst then d1 else d2)", "unfolding matchC_ZOC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', if tst then d1 else d2) \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n       (\\<exists>d' t'.\n           (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfZOT \\<union> ZObisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', if tst then d1 else d2)\n                         \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfZOT \\<union> ZObisT)", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', if tst then d1 else d2)\n                         \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfZOT \\<union> ZObisT)", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', if tst then d1 else d2)\n                         \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfZOT \\<union> ZObisT)", "assume \"(If tst c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', if tst then d1 else d2)\n                         \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfZOT \\<union> ZObisT)", "thus \n       \"(s' \\<approx> t \\<and> (c', If tst d1 d2) \\<in> thetaIfZOT Un ZObisT) \\<or>\n        (\\<exists>d' t'. (If tst d1 d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfZOT Un ZObisT)\""], ["proof (prove)\nusing this:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', if tst then d1 else d2) \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfZOT \\<union> ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', if tst then d1 else d2) \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfZOT \\<union> ZObisT)", "apply(erule If_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaIfZOT \\<union> ZObisT)\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaIfZOT \\<union> ZObisT)", "unfolding thetaIfZOT_def"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> {(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c2 \\<approx>01T d2} \\<union>\n                                ZObisT)\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> {(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c2 \\<approx>01T d2} \\<union>\n                                ZObisT)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> t \\<and>\n                      ((\\<exists>c1a c2.\n                           c1 = if tst then c1a else c2 \\<and>\n                           compatTst tst \\<and>\n                           c1a \\<approx>01T d1 \\<and>\n                           c2 \\<approx>01T d2) \\<or>\n                       c1 \\<approx>01T if tst then d1 else d2) \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s \\<approx> t' \\<and>\n                          ((\\<exists>tst c1a c2.\n                               c1 = if tst then c1a else c2 \\<and>\n                               (\\<exists>d1 d2.\n                                   d' = if tst then d1 else d2 \\<and>\n                                   compatTst tst \\<and>\n                                   c1a \\<approx>01T d1 \\<and>\n                                   c2 \\<approx>01T d2)) \\<or>\n                           c1 \\<approx>01T d'))\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> {(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c2 \\<approx>01T d2} \\<union>\n                                ZObisT)", "apply (metis IfTrue c1d1 compatTst_def st tst)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> {(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c2 \\<approx>01T d2} \\<union>\n                                ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> t \\<and>\n                      ((\\<exists>c1 c2a.\n                           c2 = if tst then c1 else c2a \\<and>\n                           compatTst tst \\<and>\n                           c1 \\<approx>01T d1 \\<and>\n                           c2a \\<approx>01T d2) \\<or>\n                       c2 \\<approx>01T if tst then d1 else d2) \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s \\<approx> t' \\<and>\n                          ((\\<exists>tst c1 c2a.\n                               c2 = if tst then c1 else c2a \\<and>\n                               (\\<exists>d1 d2.\n                                   d' = if tst then d1 else d2 \\<and>\n                                   compatTst tst \\<and>\n                                   c1 \\<approx>01T d1 \\<and>\n                                   c2a \\<approx>01T d2)) \\<or>\n                           c2 \\<approx>01T d'))", "by (metis IfFalse c2d2 compatTst_def st tst)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', if tst then d1 else d2) \\<in> thetaIfZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZOC (thetaIfZOT \\<union> ZObisT) (if tst then c1 else c2)\n   (if tst then d1 else d2)\n\ngoal (1 subgoal):\n 1. matchT_T (if tst then c1 else c2) (if tst then d1 else d2)", "qed (unfold matchT_T_def, auto)"], ["proof (state)\nthis:\n  (if tst then c1 else c2, if tst then d1 else d2)\n  \\<in> ZOretrT (thetaIfZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01T ?d1.3;\n   ?c2.3 \\<approx>01T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> ZOretrT (thetaIfZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01T ?d1.3;\n   ?c2.3 \\<approx>01T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> ZOretrT (thetaIfZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "unfolding thetaIfZOT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01T ?d1.3;\n   ?c2.3 \\<approx>01T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> ZOretrT\n                           ({(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT)\n\ngoal (1 subgoal):\n 1. {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n     compatTst tst \\<and> c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}\n    \\<subseteq> ZOretrT\n                 ({(if tst then c1 else c2, if tst then d1 else d2) |tst c1\n                   c2 d1 d2.\n                   compatTst tst \\<and>\n                   c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n                  ZObisT)", "by auto"], ["proof (state)\nthis:\n  thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaIfZOT_ZObisT:\n\"thetaIfZOT \\<subseteq> ZObisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfZOT \\<subseteq> ZObisT", "apply(rule ZObisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaIfZOT\n 2. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "using thetaIfZOT_sym thetaIfZOT_ZOretrT"], ["proof (prove)\nusing this:\n  sym thetaIfZOT\n  thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)\n\ngoal (2 subgoals):\n 1. sym thetaIfZOT\n 2. thetaIfZOT \\<subseteq> ZOretrT (thetaIfZOT \\<union> ZObisT)", "by auto"], ["", "theorem If_ZObisT[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>01T d1\" and \"c2 \\<approx>01T d2\"\nshows \"If tst c1 c2 \\<approx>01T If tst d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>01T if tst then d1 else d2", "using assms thetaIfZOT_ZObisT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n  thetaIfZOT \\<subseteq> ZObisT\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>01T if tst then d1 else d2", "unfolding thetaIfZOT_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n  {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n   compatTst tst \\<and> c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}\n  \\<subseteq> ZObisT\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>01T if tst then d1 else d2", "by blast"], ["", "text\\<open>While loop:\\<close>"], ["", "definition thetaWhileZOT where \n\"thetaWhileZOT \\<equiv> \n {(While tst c, While tst d) | tst c d. compatTst tst \\<and> c \\<approx>01T d} Un \n {(c1 ;; (While tst c), d1 ;; (While tst d)) | tst c1 d1 c d. compatTst tst \\<and> c1 \\<approx>01T d1 \\<and> c \\<approx>01T d}\""], ["", "lemma thetaWhileZOT_sym:\n\"sym thetaWhileZOT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaWhileZOT", "unfolding thetaWhileZOT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>01T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>01T d1 \\<and> c \\<approx>01T d} \\<longrightarrow>\n       (y, x)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>01T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>01T d1 \\<and> c \\<approx>01T d}", "using ZObisT_Sym"], ["proof (prove)\nusing this:\n  ?s \\<approx>01T ?t \\<Longrightarrow> ?t \\<approx>01T ?s\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>01T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>01T d1 \\<and> c \\<approx>01T d} \\<longrightarrow>\n       (y, x)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>01T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>01T d1 \\<and> c \\<approx>01T d}", "by blast"], ["", "lemma thetaWhileZOT_ZOretrT:\n\"thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT Un ZObisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "fix tst c d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "assume tst: \"compatTst tst\" and c_d: \"c \\<approx>01T d\""], ["proof (state)\nthis:\n  compatTst tst\n  c \\<approx>01T d\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "hence matchC_ZOC: \"matchC_ZOC ZObisT c d\" \n     and matchT_T: \"matchT_T c d\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>01T d\n\ngoal (1 subgoal):\n 1. matchC_ZOC ZObisT c d &&& matchT_T c d", "using ZObisT_matchC_ZOC ZObisT_matchT_T"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>01T d\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchC_ZOC ZObisT ?s ?t\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchT_T ?s ?t\n\ngoal (1 subgoal):\n 1. matchC_ZOC ZObisT c d &&& matchT_T c d", "by auto"], ["proof (state)\nthis:\n  matchC_ZOC ZObisT c d\n  matchT_T c d\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "have \"(While tst c, While tst d) \\<in> ZOretrT (thetaWhileZOT Un ZObisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, while tst do d)\n    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "unfolding ZOretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, while tst do d)\n    \\<in> {(c, d).\n           matchC_ZOC (thetaWhileZOT \\<union> ZObisT) c d \\<and>\n           matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZOC (thetaWhileZOT \\<union> ZObisT) (while tst do c)\n     (while tst do d)\n 2. matchT_T (while tst do c) (while tst do d)", "show \"matchC_ZOC (thetaWhileZOT \\<union> ZObisT) (While tst c) (While tst d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZOC (thetaWhileZOT \\<union> ZObisT) (while tst do c)\n     (while tst do d)", "unfolding matchC_ZOC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (while tst do c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n       (\\<exists>d' t'.\n           (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "assume \"(While tst c, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "thus \n       \"(s' \\<approx> t \\<and> (c', While tst d) \\<in> thetaWhileZOT \\<union> ZObisT) \\<or> \n        (\\<exists>d' t'. (While tst d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\""], ["proof (prove)\nusing this:\n  (while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "apply(erule While_transC_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', while tst do d)\n                      \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "unfolding thetaWhileZOT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', while tst do d)\n                      \\<in> {(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>01T d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01T d1 \\<and>\n                             c \\<approx>01T d} \\<union>\n                            ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(while tst do c, while tst do d) |tst c d.\n                                 compatTst tst \\<and>\n                                 c \\<approx>01T d} \\<union>\n                                {(c1 ;; while tst do c,\n                                  d1 ;; while tst do d) |\n                                 tst c1 d1 c d.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c \\<approx>01T d} \\<union>\n                                ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> t \\<and>\n                      c ;; while tst do c \\<approx>01T while tst do d \\<or>\n                      (\\<exists>d' t'.\n                          (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n                          s \\<approx> t' \\<and>\n                          ((\\<exists>d1 d.\n                               d' = d1 ;; while tst do d \\<and>\n                               compatTst tst \\<and>\n                               c \\<approx>01T d1 \\<and>\n                               c \\<approx>01T d) \\<or>\n                           c ;; while tst do c \\<approx>01T d'))", "by (metis WhileTrue c_d compatTst_def st tst)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZOC (thetaWhileZOT \\<union> ZObisT) (while tst do c)\n   (while tst do d)\n\ngoal (1 subgoal):\n 1. matchT_T (while tst do c) (while tst do d)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_T (while tst do c) (while tst do d)", "show \"matchT_T (While tst c) (While tst d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_T (while tst do c) (while tst do d)", "unfolding matchT_T_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t s'.\n       s \\<approx> t \\<and>\n       (while tst do c, s) \\<rightarrow>t s' \\<longrightarrow>\n       (\\<exists>t'.\n           (while tst do d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>t t' \\<and>\n                            s' \\<approx> t'", "fix s t s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>t t' \\<and>\n                            s' \\<approx> t'", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>t t' \\<and>\n                            s' \\<approx> t'", "assume \"(While tst c, s) \\<rightarrow>t s'\""], ["proof (state)\nthis:\n  (while tst do c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>t t' \\<and>\n                            s' \\<approx> t'", "thus \"\\<exists>t'. (While tst d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \""], ["proof (prove)\nusing this:\n  (while tst do c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (while tst do d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, s) \\<rightarrow>t s' \\<Longrightarrow>\n    \\<exists>t'.\n       (while tst do d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "apply(erule While_transT_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>t t' \\<and>\n                         s' \\<approx> t'", "unfolding thetaWhileZOT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>t t' \\<and>\n                         s' \\<approx> t'", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>t t' \\<and>\n                         s \\<approx> t'", "by (metis PL.WhileFalse compatTst_def st tst)"], ["proof (state)\nthis:\n  \\<exists>t'. (while tst do d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_T (while tst do c) (while tst do d)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (while tst do c, while tst do d)\n  \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "fix tst c1 d1  c d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>01T d1\" and c_d: \"c \\<approx>01T d\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>01T d1\n  c \\<approx>01T d\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "hence matchC_ZOC1: \"matchC_ZOC ZObisT c1 d1\" and matchC_ZOC: \"matchC_ZOC ZObisT c d\" \n     and matchT_T1: \"matchT_T c1 d1\" and matchT_T: \"matchT_T c d\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01T d1\n  c \\<approx>01T d\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZOC ZObisT c d) &&&\n    matchT_T c1 d1 &&& matchT_T c d", "using ZObisT_matchC_ZOC ZObisT_matchT_T"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01T d1\n  c \\<approx>01T d\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchC_ZOC ZObisT ?s ?t\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchT_T ?s ?t\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZOC ZObisT c d) &&&\n    matchT_T c1 d1 &&& matchT_T c d", "by auto"], ["proof (state)\nthis:\n  matchC_ZOC ZObisT c1 d1\n  matchC_ZOC ZObisT c d\n  matchT_T c1 d1\n  matchT_T c d\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "have \"(c1 ;; (While tst c), d1 ;; (While tst d)) \\<in> ZOretrT (thetaWhileZOT Un ZObisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, d1 ;; while tst do d)\n    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "unfolding ZOretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, d1 ;; while tst do d)\n    \\<in> {(c, d).\n           matchC_ZOC (thetaWhileZOT \\<union> ZObisT) c d \\<and>\n           matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZOC (thetaWhileZOT \\<union> ZObisT) (c1 ;; while tst do c)\n     (d1 ;; while tst do d)\n 2. matchT_T (c1 ;; while tst do c) (d1 ;; while tst do d)", "show \"matchC_ZOC (thetaWhileZOT \\<union> ZObisT) (c1 ;; (While tst c)) (d1 ;; (While tst d))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZOC (thetaWhileZOT \\<union> ZObisT) (c1 ;; while tst do c)\n     (d1 ;; while tst do d)", "unfolding matchC_ZOC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; while tst do c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', d1 ;; while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n       (\\<exists>d' t'.\n           (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "assume \"(c1 ;; (While tst c), s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "thus \n       \"(s' \\<approx> t \\<and> (c', d1 ;; (While tst d)) \\<in> thetaWhileZOT \\<union> ZObisT) \\<or> \n        (\\<exists>d' t'. (d1 ;; (While tst d), t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\""], ["proof (prove)\nusing this:\n  (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d1 ;; while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; while tst do d)\n                      \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; while tst do d)\n                      \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "assume \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; (While tst c)\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; while tst do d)\n                      \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "hence \n         \"(s' \\<approx> t \\<and> c1' \\<approx>01T d1) \\<or> \n          (\\<exists>d' t'. (d1, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>01T d')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d')", "using st matchC_ZOC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n  s \\<approx> t\n  matchC_ZOC ZObisT c1 d1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d')", "unfolding matchC_ZOC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01T d1 \\<or>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d')\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; while tst do d)\n                         \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; while tst do d)\n                      \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "unfolding c' thetaWhileZOT_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1' ;; while tst do c, d1 ;; while tst do d)\n    \\<in> {(while tst do c, while tst do d) |tst c d.\n           compatTst tst \\<and> c \\<approx>01T d} \\<union>\n          {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n           compatTst tst \\<and>\n           c1 \\<approx>01T d1 \\<and> c \\<approx>01T d} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; while tst do c, d')\n        \\<in> {(while tst do c, while tst do d) |tst c d.\n               compatTst tst \\<and> c \\<approx>01T d} \\<union>\n              {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n               compatTst tst \\<and>\n               c1 \\<approx>01T d1 \\<and> c \\<approx>01T d} \\<union>\n              ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c1' ;; while tst do c, d1 ;; while tst do d)\n    \\<in> {(while tst do c, while tst do d) |tst c d.\n           compatTst tst \\<and> c \\<approx>01T d} \\<union>\n          {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n           compatTst tst \\<and>\n           c1 \\<approx>01T d1 \\<and> c \\<approx>01T d} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; while tst do c, d')\n        \\<in> {(while tst do c, while tst do d) |tst c d.\n               compatTst tst \\<and> c \\<approx>01T d} \\<union>\n              {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n               compatTst tst \\<and>\n               c1 \\<approx>01T d1 \\<and> c \\<approx>01T d} \\<union>\n              ZObisT)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01T d1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c1' ;; while tst do c, d1 ;; while tst do d)\n                      \\<in> {(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>01T d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01T d1 \\<and>\n                             c \\<approx>01T d} \\<union>\n                            ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c1' ;; while tst do c, d')\n                          \\<in> {(while tst do c, while tst do d) |tst c d.\n                                 compatTst tst \\<and>\n                                 c \\<approx>01T d} \\<union>\n                                {(c1 ;; while tst do c,\n                                  d1 ;; while tst do d) |\n                                 tst c1 d1 c d.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c \\<approx>01T d} \\<union>\n                                ZObisT)\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; while tst do c, d1 ;; while tst do d)\n                         \\<in> {(while tst do c, while tst do d) |tst c d.\n                                compatTst tst \\<and>\n                                c \\<approx>01T d} \\<union>\n                               {(c1 ;; while tst do c,\n                                 d1 ;; while tst do d) |\n                                tst c1 d1 c d.\n                                compatTst tst \\<and>\n                                c1 \\<approx>01T d1 \\<and>\n                                c \\<approx>01T d} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; while tst do c, d')\n                             \\<in> {(while tst do c, while tst do d) |tst c\n                                    d. compatTst tst \\<and>\n c \\<approx>01T d} \\<union>\n                                   {(c1 ;; while tst do c,\n                                     d1 ;; while tst do d) |\n                                    tst c1 d1 c d.\n                                    compatTst tst \\<and>\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c \\<approx>01T d} \\<union>\n                                   ZObisT)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01T d1\\<rbrakk>\n    \\<Longrightarrow> compatTst tst \\<and> c \\<approx>01T d \\<or>\n                      c1' ;; while tst do c \\<approx>01T\n                      d1 ;; while tst do d \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>d1 d.\n                               d' = d1 ;; while tst do d \\<and>\n                               compatTst tst \\<and>\n                               c1' \\<approx>01T d1 \\<and>\n                               c \\<approx>01T d) \\<or>\n                           c1' ;; while tst do c \\<approx>01T d'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; while tst do c, d1 ;; while tst do d)\n                         \\<in> {(while tst do c, while tst do d) |tst c d.\n                                compatTst tst \\<and>\n                                c \\<approx>01T d} \\<union>\n                               {(c1 ;; while tst do c,\n                                 d1 ;; while tst do d) |\n                                tst c1 d1 c d.\n                                compatTst tst \\<and>\n                                c1 \\<approx>01T d1 \\<and>\n                                c \\<approx>01T d} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; while tst do c, d')\n                             \\<in> {(while tst do c, while tst do d) |tst c\n                                    d. compatTst tst \\<and>\n c \\<approx>01T d} \\<union>\n                                   {(c1 ;; while tst do c,\n                                     d1 ;; while tst do d) |\n                                    tst c1 d1 c d.\n                                    compatTst tst \\<and>\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c \\<approx>01T d} \\<union>\n                                   ZObisT)", "apply (metis c_d tst)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; while tst do c, d1 ;; while tst do d)\n                         \\<in> {(while tst do c, while tst do d) |tst c d.\n                                compatTst tst \\<and>\n                                c \\<approx>01T d} \\<union>\n                               {(c1 ;; while tst do c,\n                                 d1 ;; while tst do d) |\n                                tst c1 d1 c d.\n                                compatTst tst \\<and>\n                                c1 \\<approx>01T d1 \\<and>\n                                c \\<approx>01T d} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; while tst do c, d')\n                             \\<in> {(while tst do c, while tst do d) |tst c\n                                    d. compatTst tst \\<and>\n c \\<approx>01T d} \\<union>\n                                   {(c1 ;; while tst do c,\n                                     d1 ;; while tst do d) |\n                                    tst c1 d1 c d.\n                                    compatTst tst \\<and>\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c \\<approx>01T d} \\<union>\n                                   ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (compatTst tst \\<and>\n                          c1' \\<approx>01T d1 \\<and> c \\<approx>01T d \\<or>\n                          c1' ;; while tst do c \\<approx>01T\n                          d1 ;; while tst do d) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; while tst do d, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d.\n                                  d' = d1 ;; while tst do d \\<and>\n                                  compatTst tst \\<and>\n                                  c1' \\<approx>01T d1 \\<and>\n                                  c \\<approx>01T d) \\<or>\n                              c1' ;; while tst do c \\<approx>01T d'))", "by (metis SeqC c_d tst)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 ;; while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; while tst do d)\n                      \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; while tst do d)\n                      \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = While tst c\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; while tst do d)\n                      \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "using st matchT_T1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n  s \\<approx> t\n  matchT_T c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "unfolding matchT_T_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; while tst do d)\n                      \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; while tst do d, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)", "unfolding c' thetaWhileZOT_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (while tst do c, d1 ;; while tst do d)\n    \\<in> {(while tst do c, while tst do d) |tst c d.\n           compatTst tst \\<and> c \\<approx>01T d} \\<union>\n          {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n           compatTst tst \\<and>\n           c1 \\<approx>01T d1 \\<and> c \\<approx>01T d} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (while tst do c, d')\n        \\<in> {(while tst do c, while tst do d) |tst c d.\n               compatTst tst \\<and> c \\<approx>01T d} \\<union>\n              {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n               compatTst tst \\<and>\n               c1 \\<approx>01T d1 \\<and> c \\<approx>01T d} \\<union>\n              ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    while tst do c \\<approx>01T d1 ;; while tst do d \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        ((\\<exists>d.\n             d' = while tst do d \\<and>\n             compatTst tst \\<and> c \\<approx>01T d) \\<or>\n         while tst do c \\<approx>01T d'))", "by (metis PL.SeqT c_d tst)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 ;; while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 ;; while tst do d) \\<in> thetaWhileZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; while tst do d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZOC (thetaWhileZOT \\<union> ZObisT) (c1 ;; while tst do c)\n   (d1 ;; while tst do d)\n\ngoal (1 subgoal):\n 1. matchT_T (c1 ;; while tst do c) (d1 ;; while tst do d)", "qed (unfold matchT_T_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; while tst do c, d1 ;; while tst do d)\n  \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01T ?d1.3;\n   ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01T ?d1.3;\n   ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01T ?d1.3;\n   ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "unfolding thetaWhileZOT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> ZOretrT\n                           ({(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>01T d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01T d1 \\<and>\n                             c \\<approx>01T d} \\<union>\n                            ZObisT)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01T ?d1.3;\n   ?c3 \\<approx>01T ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> ZOretrT\n                           ({(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>01T d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01T d1 \\<and>\n                             c \\<approx>01T d} \\<union>\n                            ZObisT)\n\ngoal (1 subgoal):\n 1. {(while tst do c, while tst do d) |tst c d.\n     compatTst tst \\<and> c \\<approx>01T d} \\<union>\n    {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n     compatTst tst \\<and> c1 \\<approx>01T d1 \\<and> c \\<approx>01T d}\n    \\<subseteq> ZOretrT\n                 ({(while tst do c, while tst do d) |tst c d.\n                   compatTst tst \\<and> c \\<approx>01T d} \\<union>\n                  {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c\n                   d. compatTst tst \\<and>\n                      c1 \\<approx>01T d1 \\<and> c \\<approx>01T d} \\<union>\n                  ZObisT)", "by auto"], ["proof (state)\nthis:\n  thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaWhileZOT_ZObisT:\n\"thetaWhileZOT \\<subseteq> ZObisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaWhileZOT \\<subseteq> ZObisT", "apply(rule ZObisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaWhileZOT\n 2. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "using thetaWhileZOT_sym thetaWhileZOT_ZOretrT"], ["proof (prove)\nusing this:\n  sym thetaWhileZOT\n  thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)\n\ngoal (2 subgoals):\n 1. sym thetaWhileZOT\n 2. thetaWhileZOT \\<subseteq> ZOretrT (thetaWhileZOT \\<union> ZObisT)", "by auto"], ["", "theorem While_ZObisT[simp]:\nassumes \"compatTst tst\" and \"c \\<approx>01T d\"\nshows \"While tst c \\<approx>01T While tst d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. while tst do c \\<approx>01T while tst do d", "using assms thetaWhileZOT_ZObisT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>01T d\n  thetaWhileZOT \\<subseteq> ZObisT\n\ngoal (1 subgoal):\n 1. while tst do c \\<approx>01T while tst do d", "unfolding thetaWhileZOT_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>01T d\n  {(while tst do c, while tst do d) |tst c d.\n   compatTst tst \\<and> c \\<approx>01T d} \\<union>\n  {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n   compatTst tst \\<and> c1 \\<approx>01T d1 \\<and> c \\<approx>01T d}\n  \\<subseteq> ZObisT\n\ngoal (1 subgoal):\n 1. while tst do c \\<approx>01T while tst do d", "by auto"], ["", "text\\<open>Parallel composition:\\<close>"], ["", "definition thetaParZOT where \n\"thetaParZOT \\<equiv> \n {(Par c1 c2, Par d1 d2) | c1 c2 d1 d2. c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}\""], ["", "lemma thetaParZOT_sym:\n\"sym thetaParZOT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaParZOT", "unfolding thetaParZOT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and>\n              c2 \\<approx>01T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}", "using ZObisT_Sym"], ["proof (prove)\nusing this:\n  ?s \\<approx>01T ?t \\<Longrightarrow> ?t \\<approx>01T ?s\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and>\n              c2 \\<approx>01T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}", "by blast"], ["", "lemma thetaParZOT_ZOretrT:\n\"thetaParZOT \\<subseteq> ZOretrT (thetaParZOT Un ZObisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "assume c1d1: \"c1 \\<approx>01T d1\" and c2d2: \"c2 \\<approx>01T d2\""], ["proof (state)\nthis:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "hence matchC_ZOC1: \"matchC_ZOC ZObisT c1 d1\" and matchC_ZOC2: \"matchC_ZOC ZObisT c2 d2\"\n     and matchT_T1: \"matchT_T c1 d1\" and matchT_T2: \"matchT_T c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZOC ZObisT c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "using ZObisT_matchC_ZOC ZObisT_matchT_T"], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchC_ZOC ZObisT ?s ?t\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchT_T ?s ?t\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZOC ZObisT c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_T c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_ZOC ZObisT c1 d1\n  matchC_ZOC ZObisT c2 d2\n  matchT_T c1 d1\n  matchT_T c2 d2\n\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "have \"(Par c1 c2, Par d1 d2) \\<in> ZOretrT (thetaParZOT Un ZObisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2) \\<in> ZOretrT (thetaParZOT \\<union> ZObisT)", "unfolding ZOretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2)\n    \\<in> {(c, d).\n           matchC_ZOC (thetaParZOT \\<union> ZObisT) c d \\<and> matchT_T c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZOC (thetaParZOT \\<union> ZObisT) (c1 | c2) (d1 | d2)\n 2. matchT_T (c1 | c2) (d1 | d2)", "show \"matchC_ZOC (thetaParZOT \\<union> ZObisT) (Par c1 c2) (Par d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZOC (thetaParZOT \\<union> ZObisT) (c1 | c2) (d1 | d2)", "unfolding matchC_ZOC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n       (\\<exists>d' t'.\n           (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "thus \n       \"(s' \\<approx> t \\<and> (c', Par d1 d2) \\<in> thetaParZOT \\<union> ZObisT) \\<or>\n        (\\<exists>d' t'. (Par d1 d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "proof(erule Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "hence\n         \"(s' \\<approx> t \\<and> c1' \\<approx>01T d1) \\<or> \n          (\\<exists>d' t'. (d1, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>01T d')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d')", "using st matchC_ZOC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  matchC_ZOC ZObisT c1 d1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d')", "unfolding matchC_ZOC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01T d1 \\<or>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d')\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "unfolding c' thetaParZOT_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1' | c2, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' | c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c1' | c2, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' | c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01T d1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c1' | c2, d1 | d2)\n                      \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c1' | c2, d')\n                          \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c2 \\<approx>01T d2} \\<union>\n                                ZObisT)\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01T d1\\<rbrakk>\n    \\<Longrightarrow> c2 \\<approx>01T d2 \\<or>\n                      c1' | c2 \\<approx>01T d1 | d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>d1 d2.\n                               d' = d1 | d2 \\<and>\n                               c1' \\<approx>01T d1 \\<and>\n                               c2 \\<approx>01T d2) \\<or>\n                           c1' | c2 \\<approx>01T d'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply (metis c2d2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' \\<approx>01T d1 \\<and>\n                          c2 \\<approx>01T d2 \\<or>\n                          c1' | c2 \\<approx>01T d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1' \\<approx>01T d1 \\<and>\n                                  c2 \\<approx>01T d2) \\<or>\n                              c1' | c2 \\<approx>01T d'))", "by(metis ParCL c2d2)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "using st matchT_T1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_T c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "unfolding matchT_T_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "unfolding c' thetaParZOT_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c2, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    ((\\<exists>c1 c2a.\n         c2 = c1 | c2a \\<and>\n         c1 \\<approx>01T d1 \\<and> c2a \\<approx>01T d2) \\<or>\n     c2 \\<approx>01T d1 | d2) \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        ((\\<exists>c1 c2a.\n             c2 = c1 | c2a \\<and>\n             (\\<exists>d1 d2.\n                 d' = d1 | d2 \\<and>\n                 c1 \\<approx>01T d1 \\<and> c2a \\<approx>01T d2)) \\<or>\n         c2 \\<approx>01T d'))", "by (metis PL.ParTL c2d2)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "assume \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "hence \n         \"(s' \\<approx> t \\<and> c2' \\<approx>01T d2) \\<or> \n          (\\<exists>d' t'. (d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c2' \\<approx>01T d')\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01T d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01T d')", "using st matchC_ZOC2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  matchC_ZOC ZObisT c2 d2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01T d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01T d')", "unfolding matchC_ZOC_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01T d2 \\<or>\n     (\\<exists>d' t'.\n         (d2, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01T d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01T d')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c2' \\<approx>01T d2 \\<or>\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>01T d')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2)\n                         \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c2' \\<approx>01T d2 \\<or>\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "unfolding c' thetaParZOT_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c2' \\<approx>01T d2 \\<or>\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1 | c2', d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1 | c2', d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01T d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01T d') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c1 | c2', d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1 | c2', d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c2' \\<approx>01T d2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c1 | c2', d1 | d2)\n                      \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c1 | c2', d')\n                          \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c2 \\<approx>01T d2} \\<union>\n                                ZObisT)\n 2. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c2' \\<approx>01T d2\\<rbrakk>\n    \\<Longrightarrow> c1 \\<approx>01T d1 \\<or>\n                      c1 | c2' \\<approx>01T d1 | d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>d1 d2.\n                               d' = d1 | d2 \\<and>\n                               c1 \\<approx>01T d1 \\<and>\n                               c2' \\<approx>01T d2) \\<or>\n                           c1 | c2' \\<approx>01T d'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply (metis c1d1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01T d2} \\<union>\n                               ZObisT \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01T d2} \\<union>\n                                   ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01T d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 \\<approx>01T d1 \\<and>\n                          c2' \\<approx>01T d2 \\<or>\n                          c1 | c2' \\<approx>01T d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1 \\<approx>01T d1 \\<and>\n                                  c2' \\<approx>01T d2) \\<or>\n                              c1 | c2' \\<approx>01T d'))", "by (metis ParCR c1d1)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "hence \"\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "using st matchT_T2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  matchT_T c2 d2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "unfolding matchT_T_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)", "unfolding c' thetaParZOT_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n          ZObisT \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n              ZObisT)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    ((\\<exists>c1a c2.\n         c1 = c1a | c2 \\<and>\n         c1a \\<approx>01T d1 \\<and> c2 \\<approx>01T d2) \\<or>\n     c1 \\<approx>01T d1 | d2) \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        ((\\<exists>c1a c2.\n             c1 = c1a | c2 \\<and>\n             (\\<exists>d1 d2.\n                 d' = d1 | d2 \\<and>\n                 c1a \\<approx>01T d1 \\<and> c2 \\<approx>01T d2)) \\<or>\n         c1 \\<approx>01T d'))", "by (metis PL.ParTR c1d1)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 | d2) \\<in> thetaParZOT \\<union> ZObisT \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZOC (thetaParZOT \\<union> ZObisT) (c1 | c2) (d1 | d2)\n\ngoal (1 subgoal):\n 1. matchT_T (c1 | c2) (d1 | d2)", "qed (unfold matchT_T_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d1 | d2) \\<in> ZOretrT (thetaParZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>01T ?d1.3; ?c2.3 \\<approx>01T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> ZOretrT (thetaParZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01T ?d1.3; ?c2.3 \\<approx>01T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> ZOretrT (thetaParZOT \\<union> ZObisT)\n\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "unfolding thetaParZOT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01T ?d1.3; ?c2.3 \\<approx>01T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> ZOretrT\n                           ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01T d2} \\<union>\n                            ZObisT)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n     c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}\n    \\<subseteq> ZOretrT\n                 ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                   c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2} \\<union>\n                  ZObisT)", "by auto"], ["proof (state)\nthis:\n  thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParZOT_ZObisT:\n\"thetaParZOT \\<subseteq> ZObisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZOT \\<subseteq> ZObisT", "apply(rule ZObisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaParZOT\n 2. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "using thetaParZOT_sym thetaParZOT_ZOretrT"], ["proof (prove)\nusing this:\n  sym thetaParZOT\n  thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)\n\ngoal (2 subgoals):\n 1. sym thetaParZOT\n 2. thetaParZOT \\<subseteq> ZOretrT (thetaParZOT \\<union> ZObisT)", "by auto"], ["", "theorem Par_ZObisT[simp]:\nassumes \"c1 \\<approx>01T d1\" and \"c2 \\<approx>01T d2\"\nshows \"Par c1 c2 \\<approx>01T Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01T d1 | d2", "using assms thetaParZOT_ZObisT"], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n  thetaParZOT \\<subseteq> ZObisT\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01T d1 | d2", "unfolding thetaParZOT_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01T d2\n  {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n   c1 \\<approx>01T d1 \\<and> c2 \\<approx>01T d2}\n  \\<subseteq> ZObisT\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01T d1 | d2", "by blast"], ["", "subsubsection\\<open>01-bisimilarity versus language constructs\\<close>"], ["", "text\\<open>Discreetness:\\<close>"], ["", "theorem discr_ZObis[simp]:\nassumes *: \"discr c\" and **: \"discr d\"\nshows \"c \\<approx>01 d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<approx>01 d", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. c \\<approx>01 d", "let ?theta = \"{(c,d) | c d. discr c \\<and> discr d}\""], ["proof (state)\ngoal (1 subgoal):\n 1. c \\<approx>01 d", "have \"?theta \\<subseteq> ZObis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {(c, d) |c d. discr c \\<and> discr d} \\<subseteq> ZObis", "proof(rule ZObis_raw_coind)"], ["proof (state)\ngoal (2 subgoals):\n 1. sym {(c, d) |c d. discr c \\<and> discr d}\n 2. {(c, d) |c d. discr c \\<and> discr d}\n    \\<subseteq> ZOretr {(c, d) |c d. discr c \\<and> discr d}", "show \"sym ?theta\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym {(c, d) |c d. discr c \\<and> discr d}", "unfolding sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<longrightarrow>\n       (y, x) \\<in> {(c, d) |c d. discr c \\<and> discr d}", "by blast"], ["proof (state)\nthis:\n  sym {(c, d) |c d. discr c \\<and> discr d}\n\ngoal (1 subgoal):\n 1. {(c, d) |c d. discr c \\<and> discr d}\n    \\<subseteq> ZOretr {(c, d) |c d. discr c \\<and> discr d}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. {(c, d) |c d. discr c \\<and> discr d}\n    \\<subseteq> ZOretr {(c, d) |c d. discr c \\<and> discr d}", "show \"?theta \\<subseteq> ZOretr ?theta\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {(c, d) |c d. discr c \\<and> discr d}\n    \\<subseteq> ZOretr {(c, d) |c d. discr c \\<and> discr d}", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b c d.\n       \\<lbrakk>discr c; discr d\\<rbrakk>\n       \\<Longrightarrow> (c, d)\n                         \\<in> ZOretr {(c, d) |c d. discr c \\<and> discr d}", "fix c d"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b c d.\n       \\<lbrakk>discr c; discr d\\<rbrakk>\n       \\<Longrightarrow> (c, d)\n                         \\<in> ZOretr {(c, d) |c d. discr c \\<and> discr d}", "assume c: \"discr c\" and d: \"discr d\""], ["proof (state)\nthis:\n  discr c\n  discr d\n\ngoal (1 subgoal):\n 1. \\<And>a b c d.\n       \\<lbrakk>discr c; discr d\\<rbrakk>\n       \\<Longrightarrow> (c, d)\n                         \\<in> ZOretr {(c, d) |c d. discr c \\<and> discr d}", "show \"(c, d) \\<in> ZOretr ?theta\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c, d) \\<in> ZOretr {(c, d) |c d. discr c \\<and> discr d}", "unfolding ZOretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c, d)\n    \\<in> {(c, d).\n           matchC_ZO {(c, d) |c d. discr c \\<and> discr d} c d \\<and>\n           matchT_ZO c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZO {(c, d) |c d. discr c \\<and> discr d} c d\n 2. matchT_ZO c d", "show \"matchC_ZO ?theta c d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZO {(c, d) |c d. discr c \\<and> discr d} c d", "unfolding matchC_ZO_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and> (c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n       (\\<exists>d' t'.\n           (d, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n       (\\<exists>t'.\n           (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c, d) |c d.\n                                    discr c \\<and> discr d}) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c, d) |c d.\n                                    discr c \\<and> discr d}) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\" and cs: \"(c, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c, d) |c d.\n                                    discr c \\<and> discr d}) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "show \n          \"(s' \\<approx> t \\<and> (c', d) \\<in> ?theta) \\<or>\n           (\\<exists>d' t'. (d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> ?theta) \\<or>\n           (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "have \"s \\<approx> s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c cs discr_transC_indis"], ["proof (prove)\nusing this:\n  discr c\n  (c, s) \\<rightarrow>c (c', s')\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_trans indis_sym"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "have \"discr c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr c'", "using c cs discr_transC"], ["proof (prove)\nusing this:\n  discr c\n  (c, s) \\<rightarrow>c (c', s')\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> discr ?c'\n\ngoal (1 subgoal):\n 1. discr c'", "by blast"], ["proof (state)\nthis:\n  discr c'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "hence \"(c',d) \\<in> ?theta\""], ["proof (prove)\nusing this:\n  discr c'\n\ngoal (1 subgoal):\n 1. (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d}", "using d"], ["proof (prove)\nusing this:\n  discr c'\n  discr d\n\ngoal (1 subgoal):\n 1. (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d}", "by blast"], ["proof (state)\nthis:\n  (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d}\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d}\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "using s't"], ["proof (prove)\nusing this:\n  (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d}\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d) \\<in> {(c, d) |c d. discr c \\<and> discr d} \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> {(c, d) |c d. discr c \\<and> discr d}) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZO {(c, d) |c d. discr c \\<and> discr d} c d\n\ngoal (1 subgoal):\n 1. matchT_ZO c d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_ZO c d", "show \"matchT_ZO c d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_ZO c d", "unfolding matchT_ZO_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t s'.\n       s \\<approx> t \\<and> (c, s) \\<rightarrow>t s' \\<longrightarrow>\n       s' \\<approx> t \\<and> discr d \\<or>\n       (\\<exists>d' t'.\n           (d, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and> discr d') \\<or>\n       (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and> discr d \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and> discr d') \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t')", "fix s t s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and> discr d \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and> discr d') \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t')", "assume st: \"s \\<approx> t\" and cs: \"(c, s) \\<rightarrow>t s'\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and> discr d \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and> discr d') \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t')", "show \n          \"(s' \\<approx> t \\<and> discr d) \\<or>\n           (\\<exists>d' t'. (d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or>\n           (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "have \"s \\<approx> s'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c cs discr_transT"], ["proof (prove)\nusing this:\n  discr c\n  (c, s) \\<rightarrow>t s'\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>t ?s'\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_trans indis_sym"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "using d"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n  discr d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> discr d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> discr d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_ZO c d\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (c, d) \\<in> ZOretr {(c, d) |c d. discr c \\<and> discr d}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {(c, d) |c d. discr c \\<and> discr d}\n  \\<subseteq> ZOretr {(c, d) |c d. discr c \\<and> discr d}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {(c, d) |c d. discr c \\<and> discr d} \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c \\<approx>01 d", "thus ?thesis"], ["proof (prove)\nusing this:\n  {(c, d) |c d. discr c \\<and> discr d} \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c \\<approx>01 d", "using assms"], ["proof (prove)\nusing this:\n  {(c, d) |c d. discr c \\<and> discr d} \\<subseteq> ZObis\n  discr c\n  discr d\n\ngoal (1 subgoal):\n 1. c \\<approx>01 d", "by blast"], ["proof (state)\nthis:\n  c \\<approx>01 d\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Atomic commands:\\<close>"], ["", "theorem Atm_ZObis[simp]:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>01 Atm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Atm atm \\<approx>01 Atm atm", "by (metis Atm_Sbis assms bis_imp)"], ["", "text\\<open>Sequential composition:\\<close>"], ["", "definition thetaSeqZO where \n\"thetaSeqZO \\<equiv> \n {(c1 ;; c2, d1 ;; d2) | c1 c2 d1 d2. c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2}\""], ["", "lemma thetaSeqZO_sym:\n\"sym thetaSeqZO\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaSeqZO", "unfolding thetaSeqZO_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2}", "using ZObisT_Sym ZObis_Sym"], ["proof (prove)\nusing this:\n  ?s \\<approx>01T ?t \\<Longrightarrow> ?t \\<approx>01T ?s\n  ?s \\<approx>01 ?t \\<Longrightarrow> ?t \\<approx>01 ?s\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2}", "by blast"], ["", "lemma thetaSeqZO_ZOretr:\n\"thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "assume c1d1: \"c1 \\<approx>01T d1\" and c2d2: \"c2 \\<approx>01 d2\""], ["proof (state)\nthis:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01 d2\n\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "hence matchC_ZOC1: \"matchC_ZOC ZObisT c1 d1\" and matchC_ZO2: \"matchC_ZO ZObis c2 d2\"\n     and matchT_T1: \"matchT_T c1 d1\" and matchT_ZO2: \"matchT_ZO c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01 d2\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZO ZObis c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_ZO c2 d2", "using ZObisT_matchC_ZOC ZObisT_matchT_T ZObis_matchC_ZO ZObis_matchT_ZO"], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01 d2\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchC_ZOC ZObisT ?s ?t\n  ?s \\<approx>01T ?t \\<Longrightarrow> matchT_T ?s ?t\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchC_ZO ZObis ?s ?t\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchT_ZO ?s ?t\n\ngoal (1 subgoal):\n 1. (matchC_ZOC ZObisT c1 d1 &&& matchC_ZO ZObis c2 d2) &&&\n    matchT_T c1 d1 &&& matchT_ZO c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_ZOC ZObisT c1 d1\n  matchC_ZO ZObis c2 d2\n  matchT_T c1 d1\n  matchT_ZO c2 d2\n\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "have \"(c1 ;; c2, d1 ;; d2) \\<in> ZOretr (thetaSeqZO Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2) \\<in> ZOretr (thetaSeqZO \\<union> ZObis)", "unfolding ZOretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2)\n    \\<in> {(c, d).\n           matchC_ZO (thetaSeqZO \\<union> ZObis) c d \\<and> matchT_ZO c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZO (thetaSeqZO \\<union> ZObis) (c1 ;; c2) (d1 ;; d2)\n 2. matchT_ZO (c1 ;; c2) (d1 ;; d2)", "show \"matchC_ZO (thetaSeqZO Un ZObis) (c1 ;; c2) (d1 ;; d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZO (thetaSeqZO \\<union> ZObis) (c1 ;; c2) (d1 ;; d2)", "unfolding matchC_ZO_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n       (\\<exists>d' t'.\n           (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n       (\\<exists>t'.\n           (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n           s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus \n       \"(s' \\<approx> t \\<and> (c', d1 ;; d2) \\<in> thetaSeqZO Un ZObis) \\<or>\n        (\\<exists>d' t'. (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZO Un ZObis) \\<or> \n        (\\<exists>t'. (d1 ;; d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence\n         \"(s' \\<approx> t \\<and> c1' \\<approx>01T d1) \\<or> \n          (\\<exists>d1' t'. (d1, t) \\<rightarrow>c (d1', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>01T d1')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d1' t'.\n        (d1, t) \\<rightarrow>c (d1', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d1')", "using st matchC_ZOC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  matchC_ZOC ZObisT c1 d1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d1' t'.\n        (d1, t) \\<rightarrow>c (d1', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d1')", "unfolding matchC_ZOC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01T d1 \\<or>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01T d')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d1' t'.\n        (d1, t) \\<rightarrow>c (d1', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d1')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d1' t'.\n      (d1, t) \\<rightarrow>c (d1', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d1')\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d1' t'.\n      (d1, t) \\<rightarrow>c (d1', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaSeqZO_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n  (\\<exists>d1' t'.\n      (d1, t) \\<rightarrow>c (d1', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01T d1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1' ;; c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01T d1 \\<or>\n    (\\<exists>d1' t'.\n        (d1, t) \\<rightarrow>c (d1', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01T d1') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c1' ;; c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01T d1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c1' ;; c2, d1 ;; d2)\n                      \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c1' ;; c2, d')\n                          \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01T d1 \\<and>\n                                 c2 \\<approx>01 d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr (c1' ;; c2))\n 2. \\<And>d1' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d1', t'); s' \\<approx> t';\n        c1' \\<approx>01T d1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01T d1\\<rbrakk>\n    \\<Longrightarrow> c2 \\<approx>01 d2 \\<or>\n                      c1' ;; c2 \\<approx>01 d1 ;; d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>d1 d2.\n                               d' = d1 ;; d2 \\<and>\n                               c1' \\<approx>01T d1 \\<and>\n                               c2 \\<approx>01 d2) \\<or>\n                           c1' ;; c2 \\<approx>01 d'))\n 2. \\<And>d1' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d1', t'); s' \\<approx> t';\n        c1' \\<approx>01T d1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply (metis c2d2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d1' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d1', t'); s' \\<approx> t';\n        c1' \\<approx>01T d1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d1' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d1', t'); s' \\<approx> t';\n        c1' \\<approx>01T d1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' \\<approx>01T d1 \\<and> c2 \\<approx>01 d2 \\<or>\n                          c1' ;; c2 \\<approx>01 d1 ;; d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 ;; d2 \\<and>\n                                  c1' \\<approx>01T d1 \\<and>\n                                  c2 \\<approx>01 d2) \\<or>\n                              c1' ;; c2 \\<approx>01 d'))", "by (metis SeqC c2d2 )"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "using st matchT_T1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_T c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "unfolding matchT_T_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaSeqZO_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01T d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01T d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2a.\n                              c2 = c1 ;; c2a \\<and>\n                              c1 \\<approx>01T d1 \\<and>\n                              c2a \\<approx>01 d2) \\<or>\n                          c2 \\<approx>01 d1 ;; d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 ;; c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 ;; d2 \\<and> c1 \\<approx>01T d1 \\<and> c2a \\<approx>01 d2)) \\<or>\n                              c2 \\<approx>01 d'))", "by (metis PL.SeqT c2d2)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d1 ;; d2) \\<in> thetaSeqZO \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZO \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZO (thetaSeqZO \\<union> ZObis) (c1 ;; c2) (d1 ;; d2)\n\ngoal (1 subgoal):\n 1. matchT_ZO (c1 ;; c2) (d1 ;; d2)", "qed (unfold matchT_ZO_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; c2, d1 ;; d2) \\<in> ZOretr (thetaSeqZO \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>01T ?d1.3; ?c2.3 \\<approx>01 ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> ZOretr (thetaSeqZO \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01T ?d1.3; ?c2.3 \\<approx>01 ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> ZOretr (thetaSeqZO \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "unfolding thetaSeqZO_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01T ?d1.3; ?c2.3 \\<approx>01 ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> ZOretr\n                           ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01T d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis)\n\ngoal (1 subgoal):\n 1. {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n     c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2}\n    \\<subseteq> ZOretr\n                 ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                   c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2} \\<union>\n                  ZObis)", "by auto"], ["proof (state)\nthis:\n  thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaSeqZO_ZObis:\n\"thetaSeqZO \\<subseteq> ZObis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqZO \\<subseteq> ZObis", "apply(rule ZObis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaSeqZO\n 2. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "using thetaSeqZO_sym thetaSeqZO_ZOretr"], ["proof (prove)\nusing this:\n  sym thetaSeqZO\n  thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)\n\ngoal (2 subgoals):\n 1. sym thetaSeqZO\n 2. thetaSeqZO \\<subseteq> ZOretr (thetaSeqZO \\<union> ZObis)", "by auto"], ["", "theorem Seq_ZObisT_ZObis[simp]:\nassumes \"c1 \\<approx>01T d1\" and \"c2 \\<approx>01 d2\"\nshows \"c1 ;; c2 \\<approx>01 d1 ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>01 d1 ;; d2", "using assms thetaSeqZO_ZObis"], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01 d2\n  thetaSeqZO \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>01 d1 ;; d2", "unfolding thetaSeqZO_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>01T d1\n  c2 \\<approx>01 d2\n  {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n   c1 \\<approx>01T d1 \\<and> c2 \\<approx>01 d2}\n  \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>01 d1 ;; d2", "by blast"], ["", "theorem Seq_siso_ZObis[simp]:\nassumes \"siso e\" and \"c2 \\<approx>01 d2\"\nshows \"e ;; c2 \\<approx>01 e ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e ;; c2 \\<approx>01 e ;; d2", "using assms"], ["proof (prove)\nusing this:\n  siso e\n  c2 \\<approx>01 d2\n\ngoal (1 subgoal):\n 1. e ;; c2 \\<approx>01 e ;; d2", "by auto"], ["", "(*  *)"], ["", "definition thetaSeqZOD where \n\"thetaSeqZOD \\<equiv> \n {(c1 ;; c2, d1 ;; d2) | c1 c2 d1 d2. c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2}\""], ["", "lemma thetaSeqZOD_sym:\n\"sym thetaSeqZOD\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaSeqZOD", "unfolding thetaSeqZOD_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01 d1 \\<and>\n              discr c2 \\<and> discr d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2}", "using ZObis_Sym"], ["proof (prove)\nusing this:\n  ?s \\<approx>01 ?t \\<Longrightarrow> ?t \\<approx>01 ?s\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01 d1 \\<and>\n              discr c2 \\<and> discr d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2}", "by blast"], ["", "lemma thetaSeqZOD_ZOretr:\n\"thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "assume c1d1: \"c1 \\<approx>01 d1\" and c2: \"discr c2\" and d2: \"discr d2\""], ["proof (state)\nthis:\n  c1 \\<approx>01 d1\n  discr c2\n  discr d2\n\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "hence matchC_ZO: \"matchC_ZO ZObis c1 d1\" \n     and matchT_ZO: \"matchT_ZO c1 d1\""], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d1\n  discr c2\n  discr d2\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis c1 d1 &&& matchT_ZO c1 d1", "using ZObis_matchC_ZO ZObis_matchT_ZO"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d1\n  discr c2\n  discr d2\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchC_ZO ZObis ?s ?t\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchT_ZO ?s ?t\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis c1 d1 &&& matchT_ZO c1 d1", "by auto"], ["proof (state)\nthis:\n  matchC_ZO ZObis c1 d1\n  matchT_ZO c1 d1\n\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "have \"(c1 ;; c2, d1 ;; d2) \\<in> ZOretr (thetaSeqZOD Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2) \\<in> ZOretr (thetaSeqZOD \\<union> ZObis)", "unfolding ZOretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2)\n    \\<in> {(c, d).\n           matchC_ZO (thetaSeqZOD \\<union> ZObis) c d \\<and> matchT_ZO c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZO (thetaSeqZOD \\<union> ZObis) (c1 ;; c2) (d1 ;; d2)\n 2. matchT_ZO (c1 ;; c2) (d1 ;; d2)", "show \"matchC_ZO (thetaSeqZOD Un ZObis) (c1 ;; c2) (d1 ;; d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZO (thetaSeqZOD \\<union> ZObis) (c1 ;; c2) (d1 ;; d2)", "unfolding matchC_ZO_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n       (\\<exists>d' t'.\n           (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n       (\\<exists>t'.\n           (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n           s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus \n       \"(s' \\<approx> t \\<and> (c', d1 ;; d2) \\<in> thetaSeqZOD Un ZObis) \\<or>\n        (\\<exists>d' t'. (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqZOD Un ZObis) \\<or> \n        (\\<exists>t'. (d1 ;; d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence\n         \"(s' \\<approx> t \\<and> c1' \\<approx>01 d1) \\<or> \n          (\\<exists>d' t'. (d1, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or> \n          (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "using st matchC_ZO"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  matchC_ZO ZObis c1 d1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "unfolding matchC_ZO_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01 d1 \\<or>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01 d') \\<or>\n     (\\<exists>t'.\n         (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 ;; d2)\n                         \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaSeqZOD_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1' ;; c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c1' ;; c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01 d1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c1' ;; c2, d1 ;; d2)\n                      \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01 d1 \\<and>\n                             discr c2 \\<and> discr d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c1' ;; c2, d')\n                          \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01 d1 \\<and>\n                                 discr c2 \\<and> discr d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr (c1' ;; c2))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))\n 3. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01 d1\\<rbrakk>\n    \\<Longrightarrow> discr c2 \\<and> discr d2 \\<or>\n                      c1' ;; c2 \\<approx>01 d1 ;; d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>d1 d2.\n                               d' = d1 ;; d2 \\<and>\n                               c1' \\<approx>01 d1 \\<and>\n                               discr c2 \\<and> discr d2) \\<or>\n                           c1' ;; c2 \\<approx>01 d'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))\n 3. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply (metis c2 d2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' \\<approx>01 d1 \\<and>\n                          discr c2 \\<and> discr d2 \\<or>\n                          c1' ;; c2 \\<approx>01 d1 ;; d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 ;; d2 \\<and>\n                                  c1' \\<approx>01 d1 \\<and>\n                                  discr c2 \\<and> discr d2) \\<or>\n                              c1' ;; c2 \\<approx>01 d'))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply (metis SeqC c2 d2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' ;; c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' \\<approx>01 d1 \\<and>\n                          discr c2 \\<and> discr d2 \\<or>\n                          c1' ;; c2 \\<approx>01 d1 ;; d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 ;; d2 \\<and>\n                                  c1' \\<approx>01 d1 \\<and>\n                                  discr c2 \\<and> discr d2) \\<or>\n                              c1' ;; c2 \\<approx>01 d'))", "by (metis SeqT c2 d2 discr_Seq discr_ZObis)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(s' \\<approx> t \\<and> discr d1) \\<or> \n          (\\<exists>d' t'. (d1, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "using st matchT_ZO"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_ZO c1 d1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "unfolding matchT_ZO_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     s' \\<approx> t \\<and> discr d1 \\<or>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> discr d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaSeqZOD_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c2, d1 ;; d2)\n    \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c2, d1 ;; d2)\n                      \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01 d1 \\<and>\n                             discr c2 \\<and> discr d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c2, d')\n                          \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01 d1 \\<and>\n                                 discr c2 \\<and> discr d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c2)\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 3. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>c1 c2a.\n                          c2 = c1 ;; c2a \\<and>\n                          c1 \\<approx>01 d1 \\<and>\n                          discr c2a \\<and> discr d2) \\<or>\n                      c2 \\<approx>01 d1 ;; d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>c1 c2a.\n                               c2 = c1 ;; c2a \\<and>\n                               (\\<exists>d1 d2.\n                                   d' = d1 ;; d2 \\<and>\n                                   c1 \\<approx>01 d1 \\<and>\n                                   discr c2a \\<and> discr d2)) \\<or>\n                           c2 \\<approx>01 d'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 3. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply (metis c2 d2 discr_Seq discr_ZObis)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2a.\n                              c2 = c1 ;; c2a \\<and>\n                              c1 \\<approx>01 d1 \\<and>\n                              discr c2a \\<and> discr d2) \\<or>\n                          c2 \\<approx>01 d1 ;; d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 ;; c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 ;; d2 \\<and>\nc1 \\<approx>01 d1 \\<and> discr c2a \\<and> discr d2)) \\<or>\n                              c2 \\<approx>01 d'))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply (metis SeqC c2 d2 discr_Seq discr_ZObis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 ;; d2)\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                discr c2 \\<and> discr d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2a.\n                              c2 = c1 ;; c2a \\<and>\n                              c1 \\<approx>01 d1 \\<and>\n                              discr c2a \\<and> discr d2) \\<or>\n                          c2 \\<approx>01 d1 ;; d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 ;; c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 ;; d2 \\<and>\nc1 \\<approx>01 d1 \\<and> discr c2a \\<and> discr d2)) \\<or>\n                              c2 \\<approx>01 d'))", "by (metis SeqT c2 d2 discr_ZObis)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', d1 ;; d2) \\<in> thetaSeqZOD \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaSeqZOD \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZO (thetaSeqZOD \\<union> ZObis) (c1 ;; c2) (d1 ;; d2)\n\ngoal (1 subgoal):\n 1. matchT_ZO (c1 ;; c2) (d1 ;; d2)", "qed (unfold matchT_ZO_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; c2, d1 ;; d2) \\<in> ZOretr (thetaSeqZOD \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d1.3; discr ?c2.3; discr ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> ZOretr (thetaSeqZOD \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d1.3; discr ?c2.3; discr ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> ZOretr (thetaSeqZOD \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "unfolding thetaSeqZOD_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d1.3; discr ?c2.3; discr ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> ZOretr\n                           ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01 d1 \\<and>\n                             discr c2 \\<and> discr d2} \\<union>\n                            ZObis)\n\ngoal (1 subgoal):\n 1. {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n     c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2}\n    \\<subseteq> ZOretr\n                 ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                   c1 \\<approx>01 d1 \\<and>\n                   discr c2 \\<and> discr d2} \\<union>\n                  ZObis)", "by auto"], ["proof (state)\nthis:\n  thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaSeqZOD_ZObis:\n\"thetaSeqZOD \\<subseteq> ZObis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqZOD \\<subseteq> ZObis", "apply(rule ZObis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaSeqZOD\n 2. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "using thetaSeqZOD_sym thetaSeqZOD_ZOretr"], ["proof (prove)\nusing this:\n  sym thetaSeqZOD\n  thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)\n\ngoal (2 subgoals):\n 1. sym thetaSeqZOD\n 2. thetaSeqZOD \\<subseteq> ZOretr (thetaSeqZOD \\<union> ZObis)", "by auto"], ["", "theorem Seq_ZObis_discr[simp]:\nassumes \"c1 \\<approx>01 d1\" and \"discr c2\" and \"discr d2\"\nshows \"c1 ;; c2 \\<approx>01 d1 ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>01 d1 ;; d2", "using assms thetaSeqZOD_ZObis"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d1\n  discr c2\n  discr d2\n  thetaSeqZOD \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>01 d1 ;; d2", "unfolding thetaSeqZOD_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d1\n  discr c2\n  discr d2\n  {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n   c1 \\<approx>01 d1 \\<and> discr c2 \\<and> discr d2}\n  \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>01 d1 ;; d2", "by blast"], ["", "text\\<open>Conditional:\\<close>"], ["", "definition thetaIfZO where \n\"thetaIfZO \\<equiv> \n {(If tst c1 c2, If tst d1 d2) | tst c1 c2 d1 d2. compatTst tst \\<and> c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}\""], ["", "lemma thetaIfZO_sym:\n\"sym thetaIfZO\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaIfZO", "unfolding thetaIfZO_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}", "using ZObis_Sym"], ["proof (prove)\nusing this:\n  ?s \\<approx>01 ?t \\<Longrightarrow> ?t \\<approx>01 ?s\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}", "by blast"], ["", "lemma thetaIfZO_ZOretr:\n\"thetaIfZO \\<subseteq> ZOretr (thetaIfZO Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "fix tst c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>01 d1\" and c2d2: \"c2 \\<approx>01 d2\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "hence matchC_ZO1: \"matchC_ZO ZObis c1 d1\" and matchC_ZO2: \"matchC_ZO ZObis c2 d2\"\n     and matchT_ZO1: \"matchT_ZO c1 d1\" and matchT_ZO2: \"matchT_ZO c2 d2\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n\ngoal (1 subgoal):\n 1. (matchC_ZO ZObis c1 d1 &&& matchC_ZO ZObis c2 d2) &&&\n    matchT_ZO c1 d1 &&& matchT_ZO c2 d2", "using ZObis_matchC_ZO ZObis_matchT_ZO"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchC_ZO ZObis ?s ?t\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchT_ZO ?s ?t\n\ngoal (1 subgoal):\n 1. (matchC_ZO ZObis c1 d1 &&& matchC_ZO ZObis c2 d2) &&&\n    matchT_ZO c1 d1 &&& matchT_ZO c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_ZO ZObis c1 d1\n  matchC_ZO ZObis c2 d2\n  matchT_ZO c1 d1\n  matchT_ZO c2 d2\n\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "have \"(If tst c1 c2, If tst d1 d2) \\<in> ZOretr (thetaIfZO Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> ZOretr (thetaIfZO \\<union> ZObis)", "unfolding ZOretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> {(c, d).\n           matchC_ZO (thetaIfZO \\<union> ZObis) c d \\<and> matchT_ZO c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZO (thetaIfZO \\<union> ZObis) (if tst then c1 else c2)\n     (if tst then d1 else d2)\n 2. matchT_ZO (if tst then c1 else c2) (if tst then d1 else d2)", "show \"matchC_ZO (thetaIfZO Un ZObis) (If tst c1 c2) (If tst d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZO (thetaIfZO \\<union> ZObis) (if tst then c1 else c2)\n     (if tst then d1 else d2)", "unfolding matchC_ZO_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', if tst then d1 else d2) \\<in> thetaIfZO \\<union> ZObis \\<or>\n       (\\<exists>d' t'.\n           (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n       (\\<exists>t'.\n           (if tst then d1 else d2, t) \\<rightarrow>t t' \\<and>\n           s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', if tst then d1 else d2)\n                         \\<in> thetaIfZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>t\n                             t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', if tst then d1 else d2)\n                         \\<in> thetaIfZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>t\n                             t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', if tst then d1 else d2)\n                         \\<in> thetaIfZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>t\n                             t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(If tst c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', if tst then d1 else d2)\n                         \\<in> thetaIfZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>t\n                             t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus \n       \"(s' \\<approx> t \\<and> (c', If tst d1 d2) \\<in> thetaIfZO Un ZObis) \\<or>\n        (\\<exists>d' t'. (If tst d1 d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfZO Un ZObis) \\<or> \n        (\\<exists>t'. (If tst d1 d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', if tst then d1 else d2) \\<in> thetaIfZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (if tst then d1 else d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', if tst then d1 else d2) \\<in> thetaIfZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (if tst then d1 else d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply(erule If_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> thetaIfZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> thetaIfZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "unfolding thetaIfZO_def"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> {(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01 d1 \\<and>\n                                 c2 \\<approx>01 d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> {(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01 d1 \\<and>\n                                 c2 \\<approx>01 d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> t \\<and>\n                      ((\\<exists>c1a c2.\n                           c1 = if tst then c1a else c2 \\<and>\n                           compatTst tst \\<and>\n                           c1a \\<approx>01 d1 \\<and>\n                           c2 \\<approx>01 d2) \\<or>\n                       c1 \\<approx>01 if tst then d1 else d2) \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s \\<approx> t' \\<and>\n                          ((\\<exists>tst c1a c2.\n                               c1 = if tst then c1a else c2 \\<and>\n                               (\\<exists>d1 d2.\n                                   d' = if tst then d1 else d2 \\<and>\n                                   compatTst tst \\<and>\n                                   c1a \\<approx>01 d1 \\<and>\n                                   c2 \\<approx>01 d2)) \\<or>\n                           c1 \\<approx>01 d'))\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> {(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01 d1 \\<and>\n                                 c2 \\<approx>01 d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "apply (metis IfTrue c1d1 compatTst_def st tst)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', if tst then d1 else d2)\n                      \\<in> {(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>01 d1 \\<and>\n                                 c2 \\<approx>01 d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> t \\<and>\n                      ((\\<exists>c1 c2a.\n                           c2 = if tst then c1 else c2a \\<and>\n                           compatTst tst \\<and>\n                           c1 \\<approx>01 d1 \\<and>\n                           c2a \\<approx>01 d2) \\<or>\n                       c2 \\<approx>01 if tst then d1 else d2) \\<or>\n                      (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>c\n                          (d', t') \\<and>\n                          s \\<approx> t' \\<and>\n                          ((\\<exists>tst c1 c2a.\n                               c2 = if tst then c1 else c2a \\<and>\n                               (\\<exists>d1 d2.\n                                   d' = if tst then d1 else d2 \\<and>\n                                   compatTst tst \\<and>\n                                   c1 \\<approx>01 d1 \\<and>\n                                   c2a \\<approx>01 d2)) \\<or>\n                           c2 \\<approx>01 d'))", "by (metis IfFalse c2d2 compatTst_def st tst)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and>\n  (c', if tst then d1 else d2) \\<in> thetaIfZO \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (if tst then d1 else d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfZO \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (if tst then d1 else d2, t) \\<rightarrow>t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZO (thetaIfZO \\<union> ZObis) (if tst then c1 else c2)\n   (if tst then d1 else d2)\n\ngoal (1 subgoal):\n 1. matchT_ZO (if tst then c1 else c2) (if tst then d1 else d2)", "qed (unfold matchT_ZO_def, auto)"], ["proof (state)\nthis:\n  (if tst then c1 else c2, if tst then d1 else d2)\n  \\<in> ZOretr (thetaIfZO \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01 ?d1.3;\n   ?c2.3 \\<approx>01 ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> ZOretr (thetaIfZO \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01 ?d1.3;\n   ?c2.3 \\<approx>01 ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> ZOretr (thetaIfZO \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "unfolding thetaIfZO_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>01 ?d1.3;\n   ?c2.3 \\<approx>01 ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> ZOretr\n                           ({(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis)\n\ngoal (1 subgoal):\n 1. {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n     compatTst tst \\<and> c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}\n    \\<subseteq> ZOretr\n                 ({(if tst then c1 else c2, if tst then d1 else d2) |tst c1\n                   c2 d1 d2.\n                   compatTst tst \\<and>\n                   c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n                  ZObis)", "by auto"], ["proof (state)\nthis:\n  thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaIfZO_ZObis:\n\"thetaIfZO \\<subseteq> ZObis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfZO \\<subseteq> ZObis", "apply(rule ZObis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaIfZO\n 2. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "using thetaIfZO_sym thetaIfZO_ZOretr"], ["proof (prove)\nusing this:\n  sym thetaIfZO\n  thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)\n\ngoal (2 subgoals):\n 1. sym thetaIfZO\n 2. thetaIfZO \\<subseteq> ZOretr (thetaIfZO \\<union> ZObis)", "by auto"], ["", "theorem If_ZObis[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>01 d1\" and \"c2 \\<approx>01 d2\"\nshows \"If tst c1 c2 \\<approx>01 If tst d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>01 if tst then d1 else d2", "using assms thetaIfZO_ZObis"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n  thetaIfZO \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>01 if tst then d1 else d2", "unfolding thetaIfZO_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n  {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n   compatTst tst \\<and> c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}\n  \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>01 if tst then d1 else d2", "by blast"], ["", "text\\<open>While loop:\\<close>"], ["", "text\\<open>01-bisimilarity does not interact with / preserve the While construct in \nany interesting way.\\<close>"], ["", "(* Indeed, assume c \\<approx>01 d and try to prove while tst c \\<approx>01 while tst d.  \nIf tst is True in some state, we obtain the task of proving c ;; (while tst c) \\<approx>01 d ;; (while tst d).  \nNow, assume c takes a step to c' and d terminates, possibility allowed by ~01-bisimilarity, \nprovided c' is discr.  So now we need to have, for discr c', the following: \nc' ;; (while tst c) \\<approx>01 while tst d.  This is not true in general. *)"], ["", "text\\<open>Parallel composition:\\<close>"], ["", "definition thetaParZOL1 where \n\"thetaParZOL1 \\<equiv> \n {(Par c1 c2, d) | c1 c2 d. c1 \\<approx>01 d \\<and> discr c2}\""], ["", "lemma thetaParZOL1_ZOretr:\n\"thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)", "fix c1 c2 d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)", "assume c1d: \"c1 \\<approx>01 d\" and c2: \"discr c2\""], ["proof (state)\nthis:\n  c1 \\<approx>01 d\n  discr c2\n\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)", "hence matchC_ZO: \"matchC_ZO ZObis c1 d\" \n     and matchT_ZO: \"matchT_ZO c1 d\""], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d\n  discr c2\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis c1 d &&& matchT_ZO c1 d", "using ZObis_matchC_ZO ZObis_matchT_ZO"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d\n  discr c2\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchC_ZO ZObis ?s ?t\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchT_ZO ?s ?t\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis c1 d &&& matchT_ZO c1 d", "by auto"], ["proof (state)\nthis:\n  matchC_ZO ZObis c1 d\n  matchT_ZO c1 d\n\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)", "have \"(Par c1 c2, d) \\<in> ZOretr (thetaParZOL1 Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d) \\<in> ZOretr (thetaParZOL1 \\<union> ZObis)", "unfolding ZOretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d)\n    \\<in> {(c, d).\n           matchC_ZO (thetaParZOL1 \\<union> ZObis) c d \\<and> matchT_ZO c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZO (thetaParZOL1 \\<union> ZObis) (c1 | c2) d\n 2. matchT_ZO (c1 | c2) d", "show \"matchC_ZO (thetaParZOL1 \\<union> ZObis) (Par c1 c2) d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZO (thetaParZOL1 \\<union> ZObis) (c1 | c2) d", "unfolding matchC_ZO_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n       (\\<exists>d' t'.\n           (d, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n       (\\<exists>t'.\n           (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus\n       \"(s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n        (\\<exists>d' t'. (d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n        (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof(erule Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(s' \\<approx> t \\<and> c1' \\<approx>01 d) \\<or> \n          (\\<exists>d' t'. (d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or> \n          (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "using st matchC_ZO"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  matchC_ZO ZObis c1 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "unfolding matchC_ZO_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01 d \\<or>\n     (\\<exists>d' t'.\n         (d, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01 d') \\<or>\n     (\\<exists>t'.\n         (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c1' \\<approx>01 d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01 d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParZOL1_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01 d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>01 d \\<and> discr c2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>01 d \\<and> discr c2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply(elim disjE exE conjE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01 d\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d)\n                      \\<in> {(c1 | c2, d) |c1 c2 d.\n                             c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(c1 | c2, d) |c1 c2 d.\n                                 c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01 d\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>c1 c2.\n                          c' = c1 | c2 \\<and>\n                          c1 \\<approx>01 d \\<and> discr c2) \\<or>\n                      c' \\<approx>01 d \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>c1 c2.\n                               c' = c1 | c2 \\<and>\n                               c1 \\<approx>01 d' \\<and> discr c2) \\<or>\n                           c' \\<approx>01 d')) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c2 c')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              c1 \\<approx>01 d \\<and> discr c2) \\<or>\n                          c' \\<approx>01 d) \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>01 d' \\<and> discr c2) \\<or>\n                              c' \\<approx>01 d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c2 c')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              c1 \\<approx>01 d \\<and> discr c2) \\<or>\n                          c' \\<approx>01 d) \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>01 d' \\<and> discr c2) \\<or>\n                              c' \\<approx>01 d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis c' c2 discr_Par)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(s' \\<approx> t \\<and> discr d) \\<or> \n          (\\<exists>d' t'. (d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "using st matchT_ZO"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_ZO c1 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "unfolding matchT_ZO_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     s' \\<approx> t \\<and> discr d \\<or>\n     (\\<exists>d' t'.\n         (d, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> discr d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParZOL1_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>01 d \\<and> discr c2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>01 d \\<and> discr c2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply(elim disjE exE conjE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d)\n                      \\<in> {(c1 | c2, d) |c1 c2 d.\n                             c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(c1 | c2, d) |c1 c2 d.\n                                 c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>c1 c2.\n                          c' = c1 | c2 \\<and>\n                          c1 \\<approx>01 d \\<and> discr c2) \\<or>\n                      c' \\<approx>01 d \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>c1 c2.\n                               c' = c1 | c2 \\<and>\n                               c1 \\<approx>01 d' \\<and> discr c2) \\<or>\n                           c' \\<approx>01 d')) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c' c2 discr_ZObis)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              c1 \\<approx>01 d \\<and> discr c2) \\<or>\n                          c' \\<approx>01 d) \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>01 d' \\<and> discr c2) \\<or>\n                              c' \\<approx>01 d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c' c2 discr_ZObis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              c1 \\<approx>01 d \\<and> discr c2) \\<or>\n                          c' \\<approx>01 d) \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>01 d' \\<and> discr c2) \\<or>\n                              c' \\<approx>01 d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis c' c2)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c2s: \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c2 discr_transC_indis"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  discr c2\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_sym indis_trans"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "have \"discr c2'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr c2'", "using c2 c2s discr_transC"], ["proof (prove)\nusing this:\n  discr c2\n  (c2, s) \\<rightarrow>c (c2', s')\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> discr ?c'\n\ngoal (1 subgoal):\n 1. discr c2'", "by blast"], ["proof (state)\nthis:\n  discr c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  discr c2'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "using s't c1d"], ["proof (prove)\nusing this:\n  discr c2'\n  s' \\<approx> t\n  c1 \\<approx>01 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParZOL1_def c'"], ["proof (prove)\nusing this:\n  discr c2'\n  s' \\<approx> t\n  c1 \\<approx>01 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1 | c2', d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1 | c2', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>01 d \\<and> discr c2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1 | c2'))", "by simp"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c2 discr_transT"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  discr c2\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>t ?s'\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_sym indis_trans"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "using c1d"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n  c1 \\<approx>01 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParZOL1_def c'"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n  c1 \\<approx>01 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1, d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1, d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>01 d \\<and> discr c2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1)", "by simp"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZO (thetaParZOL1 \\<union> ZObis) (c1 | c2) d\n\ngoal (1 subgoal):\n 1. matchT_ZO (c1 | c2) d", "qed (unfold matchT_ZO_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d) \\<in> ZOretr (thetaParZOL1 \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> ZOretr (thetaParZOL1 \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> ZOretr (thetaParZOL1 \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)", "unfolding thetaParZOL1_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> ZOretr\n                           ({(c1 | c2, d) |c1 c2 d.\n                             c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                            ZObis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2}\n    \\<subseteq> ZOretr\n                 ({(c1 | c2, d) |c1 c2 d.\n                   c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                  ZObis)", "by blast"], ["proof (state)\nthis:\n  thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParZOL1_converse_ZOretr:\n\"thetaParZOL1 ^-1 \\<subseteq> ZOretr (thetaParZOL1 ^-1 Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "fix c1 c2 d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "assume c1d: \"c1 \\<approx>01 d\" and c2: \"discr c2\""], ["proof (state)\nthis:\n  c1 \\<approx>01 d\n  discr c2\n\ngoal (1 subgoal):\n 1. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "hence matchC_ZO: \"matchC_ZO ZObis d c1\" \n     and matchT_ZO: \"matchT_ZO d c1\""], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d\n  discr c2\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis d c1 &&& matchT_ZO d c1", "using ZObis_matchC_ZO_rev ZObis_matchT_ZO_rev"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d\n  discr c2\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchC_ZO ZObis ?t ?s\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchT_ZO ?t ?s\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis d c1 &&& matchT_ZO d c1", "by auto"], ["proof (state)\nthis:\n  matchC_ZO ZObis d c1\n  matchT_ZO d c1\n\ngoal (1 subgoal):\n 1. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "have \"(d, Par c1 c2) \\<in> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (d, c1 | c2) \\<in> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "unfolding ZOretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (d, c1 | c2)\n    \\<in> {(c, d).\n           matchC_ZO (thetaParZOL1\\<inverse> \\<union> ZObis) c d \\<and>\n           matchT_ZO c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZO (thetaParZOL1\\<inverse> \\<union> ZObis) d (c1 | c2)\n 2. matchT_ZO d (c1 | c2)", "show \"matchC_ZO (thetaParZOL1\\<inverse> \\<union> ZObis) d (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZO (thetaParZOL1\\<inverse> \\<union> ZObis) d (c1 | c2)", "unfolding matchC_ZO_def2 ZObis_converse"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t d' t'.\n       s \\<approx> t \\<and> (d, t) \\<rightarrow>c (d', t') \\<longrightarrow>\n       s \\<approx> t' \\<and>\n       (c1 | c2, d') \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n       (\\<exists>c' s'.\n           (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n       (\\<exists>s'.\n           (c1 | c2, s) \\<rightarrow>t s' \\<and>\n           s' \\<approx> t' \\<and> discr d')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "fix s t d' t'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "assume \"s \\<approx> t\" and \"(d, t) \\<rightarrow>c (d', t')\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "hence \n       \"(s \\<approx> t' \\<and> d' \\<approx>01 c1) \\<or> \n        (\\<exists>c' s'. (c1, s) \\<rightarrow>c (c', s') \\<and> s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or> \n        (\\<exists>s'. (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> d' \\<approx>01 c1 \\<or>\n    (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')", "using matchC_ZO"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n  matchC_ZO ZObis d c1\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> d' \\<approx>01 c1 \\<or>\n    (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')", "unfolding matchC_ZO_def2"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n  \\<forall>s t d' t'.\n     s \\<approx> t \\<and> (d, t) \\<rightarrow>c (d', t') \\<longrightarrow>\n     s \\<approx> t' \\<and> d' \\<approx>01 c1 \\<or>\n     (\\<exists>c' s'.\n         (c1, s) \\<rightarrow>c (c', s') \\<and>\n         s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n     (\\<exists>s'.\n         (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> d' \\<approx>01 c1 \\<or>\n    (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')", "by auto"], ["proof (state)\nthis:\n  s \\<approx> t' \\<and> d' \\<approx>01 c1 \\<or>\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n  (\\<exists>s'.\n      (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "thus\n       \"(s \\<approx> t' \\<and> (Par c1 c2, d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n        (\\<exists>c' s'. (Par c1 c2, s) \\<rightarrow>c (c', s') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n        (\\<exists>s'. (Par c1 c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\""], ["proof (prove)\nusing this:\n  s \\<approx> t' \\<and> d' \\<approx>01 c1 \\<or>\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n  (\\<exists>s'.\n      (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and>\n    (c1 | c2, d') \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "unfolding thetaParZOL1_def"], ["proof (prove)\nusing this:\n  s \\<approx> t' \\<and> d' \\<approx>01 c1 \\<or>\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n  (\\<exists>s'.\n      (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and>\n    (c1 | c2, d')\n    \\<in> {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2} \\<union>\n          ZObis \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>01 d \\<and> discr c2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> d' \\<approx>01 c1 \\<or>\n    (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>t s' \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<Longrightarrow>\n    s \\<approx> t' \\<and>\n    (c1 | c2, d')\n    \\<in> {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2} \\<union>\n          ZObis \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>01 d \\<and> discr c2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s \\<approx> t'; d' \\<approx>01 c1\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> t' \\<and>\n                      (c1 | c2, d')\n                      \\<in> {(c1 | c2, d) |c1 c2 d.\n                             c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>c' s'.\n                          (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(c1 | c2, d) |c1 c2 d.\n                                 c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>s'.\n                          (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                          s' \\<approx> t' \\<and> discr d')\n 2. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        d' \\<approx>01 c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 3. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s \\<approx> t'; d' \\<approx>01 c1\\<rbrakk>\n    \\<Longrightarrow> c1 \\<approx>01 d' \\<and> discr c2 \\<or>\n                      c1 | c2 \\<approx>01 d' \\<or>\n                      (\\<exists>c' s'.\n                          (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>c1 c2.\n                               c' = c1 | c2 \\<and>\n                               c1 \\<approx>01 d' \\<and> discr c2) \\<or>\n                           c' \\<approx>01 d'))\n 2. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        d' \\<approx>01 c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 3. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply (metis ZObis_Sym c2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        d' \\<approx>01 c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 2. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        d' \\<approx>01 c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 \\<approx>01 d' \\<and> discr c2 \\<or>\n                          c1 | c2 \\<approx>01 d') \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>01 d' \\<and> discr c2) \\<or>\n                              c' \\<approx>01 d'))\n 2. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply (metis ParCL ZObis_sym c2 sym_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                c1 \\<approx>01 d \\<and> discr c2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>01 d \\<and>\n                                    discr c2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 \\<approx>01 d' \\<and> discr c2 \\<or>\n                          c1 | c2 \\<approx>01 d') \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>01 d' \\<and> discr c2) \\<or>\n                              c' \\<approx>01 d'))", "by (metis ParTL c2 discr_ZObis)"], ["proof (state)\nthis:\n  s \\<approx> t' \\<and>\n  (c1 | c2, d') \\<in> thetaParZOL1 \\<union> ZObis \\<or>\n  (\\<exists>c' s'.\n      (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL1 \\<union> ZObis) \\<or>\n  (\\<exists>s'.\n      (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZO (thetaParZOL1\\<inverse> \\<union> ZObis) d (c1 | c2)\n\ngoal (1 subgoal):\n 1. matchT_ZO d (c1 | c2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_ZO d (c1 | c2)", "show \"matchT_ZO d (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_ZO d (c1 | c2)", "unfolding matchT_ZO_def2 ZObis_converse"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t t'.\n       s \\<approx> t \\<and> (d, t) \\<rightarrow>t t' \\<longrightarrow>\n       s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n       (\\<exists>c' s'.\n           (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n           s' \\<approx> t' \\<and> discr c') \\<or>\n       (\\<exists>s'. (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "fix s t t'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "assume \"s \\<approx> t\" and \"(d, t) \\<rightarrow>t t'\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "hence \n       \"(s \\<approx> t' \\<and> discr c1) \\<or> \n        (\\<exists>c' s'. (c1, s) \\<rightarrow>c (c', s') \\<and> s' \\<approx> t' \\<and> discr c') \\<or> \n        (\\<exists>s'. (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr c1 \\<or>\n    (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "using matchT_ZO"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n  matchT_ZO d c1\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr c1 \\<or>\n    (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "unfolding matchT_ZO_def2"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n  \\<forall>s t t'.\n     s \\<approx> t \\<and> (d, t) \\<rightarrow>t t' \\<longrightarrow>\n     s \\<approx> t' \\<and> discr c1 \\<or>\n     (\\<exists>c' s'.\n         (c1, s) \\<rightarrow>c (c', s') \\<and>\n         s' \\<approx> t' \\<and> discr c') \\<or>\n     (\\<exists>s'. (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr c1 \\<or>\n    (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "by auto"], ["proof (state)\nthis:\n  s \\<approx> t' \\<and> discr c1 \\<or>\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "thus\n       \"(s \\<approx> t' \\<and> discr (Par c1 c2)) \\<or> \n        (\\<exists>c' s'. (Par c1 c2, s) \\<rightarrow>c (c', s') \\<and> s' \\<approx> t' \\<and> discr c') \\<or> \n        (\\<exists>s'. (Par c1 c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  s \\<approx> t' \\<and> discr c1 \\<or>\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr c1 \\<or>\n    (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>t s' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s \\<approx> t'; discr c1\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                      (\\<exists>c' s'.\n                          (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                          s' \\<approx> t' \\<and> discr c') \\<or>\n                      (\\<exists>s'.\n                          (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                          s' \\<approx> t')\n 2. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')\n 3. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s \\<approx> t'; discr c1\\<rbrakk>\n    \\<Longrightarrow> discr (c1 | c2) \\<or>\n                      (\\<exists>c' s'.\n                          (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')\n 3. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply (metis c2 discr_Par)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')\n 2. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply (metis ParCL c2 discr_Par)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis ParTL c2)"], ["proof (state)\nthis:\n  s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n  (\\<exists>c' s'.\n      (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_ZO d (c1 | c2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (d, c1 | c2) \\<in> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "unfolding thetaParZOL1_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> ZOretr\n                           ({(c1 | c2, d) |c1 c2 d.\n                             c1 \\<approx>01 d \\<and>\n                             discr c2}\\<inverse> \\<union>\n                            ZObis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2}\\<inverse>\n    \\<subseteq> ZOretr\n                 ({(c1 | c2, d) |c1 c2 d.\n                   c1 \\<approx>01 d \\<and> discr c2}\\<inverse> \\<union>\n                  ZObis)", "by blast"], ["proof (state)\nthis:\n  thetaParZOL1\\<inverse>\n  \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParZOL1_ZObis:\n\"thetaParZOL1 \\<subseteq> ZObis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZOL1 \\<subseteq> ZObis", "apply(rule ZObis_coind2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)\n 2. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "using thetaParZOL1_ZOretr thetaParZOL1_converse_ZOretr"], ["proof (prove)\nusing this:\n  thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)\n  thetaParZOL1\\<inverse>\n  \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)\n\ngoal (2 subgoals):\n 1. thetaParZOL1 \\<subseteq> ZOretr (thetaParZOL1 \\<union> ZObis)\n 2. thetaParZOL1\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL1\\<inverse> \\<union> ZObis)", "by auto"], ["", "theorem Par_ZObis_discrL1[simp]:\nassumes \"c1 \\<approx>01 d\" and \"discr c2\"\nshows \"Par c1 c2 \\<approx>01 d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01 d", "using assms thetaParZOL1_ZObis"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d\n  discr c2\n  thetaParZOL1 \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01 d", "unfolding thetaParZOL1_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d\n  discr c2\n  {(c1 | c2, d) |c1 c2 d. c1 \\<approx>01 d \\<and> discr c2}\n  \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01 d", "by blast"], ["", "theorem Par_ZObis_discrR1[simp]:\nassumes \"c \\<approx>01 d1\" and \"discr d2\"\nshows \"c \\<approx>01 Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<approx>01 d1 | d2", "using assms Par_ZObis_discrL1 ZObis_Sym"], ["proof (prove)\nusing this:\n  c \\<approx>01 d1\n  discr d2\n  \\<lbrakk>?c1.0 \\<approx>01 ?d; discr ?c2.0\\<rbrakk>\n  \\<Longrightarrow> ?c1.0 | ?c2.0 \\<approx>01 ?d\n  ?s \\<approx>01 ?t \\<Longrightarrow> ?t \\<approx>01 ?s\n\ngoal (1 subgoal):\n 1. c \\<approx>01 d1 | d2", "by blast"], ["", "(*  *)"], ["", "definition thetaParZOL2 where \n\"thetaParZOL2 \\<equiv> \n {(Par c1 c2, d) | c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d}\""], ["", "lemma thetaParZOL2_ZOretr:\n\"thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)", "fix c1 c2 d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)", "assume c2d: \"c2 \\<approx>01 d\" and c1: \"discr c1\""], ["proof (state)\nthis:\n  c2 \\<approx>01 d\n  discr c1\n\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)", "hence matchC_ZO: \"matchC_ZO ZObis c2 d\" \n     and matchT_ZO: \"matchT_ZO c2 d\""], ["proof (prove)\nusing this:\n  c2 \\<approx>01 d\n  discr c1\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis c2 d &&& matchT_ZO c2 d", "using ZObis_matchC_ZO ZObis_matchT_ZO"], ["proof (prove)\nusing this:\n  c2 \\<approx>01 d\n  discr c1\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchC_ZO ZObis ?s ?t\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchT_ZO ?s ?t\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis c2 d &&& matchT_ZO c2 d", "by auto"], ["proof (state)\nthis:\n  matchC_ZO ZObis c2 d\n  matchT_ZO c2 d\n\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)", "have \"(Par c1 c2, d) \\<in> ZOretr (thetaParZOL2 Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d) \\<in> ZOretr (thetaParZOL2 \\<union> ZObis)", "unfolding ZOretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d)\n    \\<in> {(c, d).\n           matchC_ZO (thetaParZOL2 \\<union> ZObis) c d \\<and> matchT_ZO c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZO (thetaParZOL2 \\<union> ZObis) (c1 | c2) d\n 2. matchT_ZO (c1 | c2) d", "show \"matchC_ZO (thetaParZOL2 \\<union> ZObis) (Par c1 c2) d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZO (thetaParZOL2 \\<union> ZObis) (c1 | c2) d", "unfolding matchC_ZO_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n       (\\<exists>d' t'.\n           (d, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n       (\\<exists>t'.\n           (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus\n       \"(s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n        (\\<exists>d' t'. (d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n        (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof(erule Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c1 discr_transC_indis"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  discr c1\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_sym indis_trans"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "have \"discr c1'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr c1'", "using c1 c1s discr_transC"], ["proof (prove)\nusing this:\n  discr c1\n  (c1, s) \\<rightarrow>c (c1', s')\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> discr ?c'\n\ngoal (1 subgoal):\n 1. discr c1'", "by blast"], ["proof (state)\nthis:\n  discr c1'\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  discr c1'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "using s't c2d"], ["proof (prove)\nusing this:\n  discr c1'\n  s' \\<approx> t\n  c2 \\<approx>01 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParZOL2_def c'"], ["proof (prove)\nusing this:\n  discr c1'\n  s' \\<approx> t\n  c2 \\<approx>01 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1' | c2, d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' | c2, d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' | c2))", "by simp"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c1 discr_transT"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  discr c1\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>t ?s'\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_sym indis_trans"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "using c2d"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n  c2 \\<approx>01 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParZOL2_def c'"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n  c2 \\<approx>01 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c2, d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2)", "by simp"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(s' \\<approx> t \\<and> c2' \\<approx>01 d) \\<or> \n          (\\<exists>d' t'. (d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or> \n          (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01 d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "using st matchC_ZO"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  matchC_ZO ZObis c2 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01 d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "unfolding matchC_ZO_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01 d \\<or>\n     (\\<exists>d' t'.\n         (d, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01 d') \\<or>\n     (\\<exists>t'.\n         (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01 d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c2' \\<approx>01 d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c2' \\<approx>01 d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParZOL2_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c2' \\<approx>01 d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01 d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply(elim disjE exE conjE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c2' \\<approx>01 d\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d)\n                      \\<in> {(c1 | c2, d) |c1 c2 d.\n                             discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(c1 | c2, d) |c1 c2 d.\n                                 discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c2' \\<approx>01 d\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>c1 c2.\n                          c' = c1 | c2 \\<and>\n                          discr c1 \\<and> c2 \\<approx>01 d) \\<or>\n                      c' \\<approx>01 d \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>c1 c2.\n                               c' = c1 | c2 \\<and>\n                               discr c1 \\<and> c2 \\<approx>01 d') \\<or>\n                           c' \\<approx>01 d')) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c1 c')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> c2 \\<approx>01 d) \\<or>\n                          c' \\<approx>01 d) \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>01 d') \\<or>\n                              c' \\<approx>01 d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c1 c')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> c2 \\<approx>01 d) \\<or>\n                          c' \\<approx>01 d) \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>01 d') \\<or>\n                              c' \\<approx>01 d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis c' c1 discr_Par)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(s' \\<approx> t \\<and> discr d) \\<or> \n          (\\<exists>d' t'. (d, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "using st matchT_ZO"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  matchT_ZO c2 d\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "unfolding matchT_ZO_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>t s' \\<longrightarrow>\n     s' \\<approx> t \\<and> discr d \\<or>\n     (\\<exists>d' t'.\n         (d, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> discr d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParZOL2_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d)\n    \\<in> {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply(elim disjE exE conjE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d)\n                      \\<in> {(c1 | c2, d) |c1 c2 d.\n                             discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(c1 | c2, d) |c1 c2 d.\n                                 discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>c1 c2.\n                          c' = c1 | c2 \\<and>\n                          discr c1 \\<and> c2 \\<approx>01 d) \\<or>\n                      c' \\<approx>01 d \\<or>\n                      (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>c1 c2.\n                               c' = c1 | c2 \\<and>\n                               discr c1 \\<and> c2 \\<approx>01 d') \\<or>\n                           c' \\<approx>01 d')) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c' c1 discr_ZObis)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> c2 \\<approx>01 d) \\<or>\n                          c' \\<approx>01 d) \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>01 d') \\<or>\n                              c' \\<approx>01 d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c' c1 discr_ZObis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d)\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2.\n                              c' = c1 | c2 \\<and>\n                              discr c1 \\<and> c2 \\<approx>01 d) \\<or>\n                          c' \\<approx>01 d) \\<or>\n                         (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>01 d') \\<or>\n                              c' \\<approx>01 d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis c' c1)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d) \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZO (thetaParZOL2 \\<union> ZObis) (c1 | c2) d\n\ngoal (1 subgoal):\n 1. matchT_ZO (c1 | c2) d", "qed (unfold matchT_ZO_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d) \\<in> ZOretr (thetaParZOL2 \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c2.3 \\<approx>01 ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> ZOretr (thetaParZOL2 \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c2.3 \\<approx>01 ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> ZOretr (thetaParZOL2 \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)", "unfolding thetaParZOL2_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c2.3 \\<approx>01 ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> ZOretr\n                           ({(c1 | c2, d) |c1 c2 d.\n                             discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                            ZObis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d}\n    \\<subseteq> ZOretr\n                 ({(c1 | c2, d) |c1 c2 d.\n                   discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                  ZObis)", "by blast"], ["proof (state)\nthis:\n  thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParZOL2_converse_ZOretr:\n\"thetaParZOL2 ^-1 \\<subseteq> ZOretr (thetaParZOL2 ^-1 Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "fix c1 c2 d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "assume c2d: \"c2 \\<approx>01 d\" and c1: \"discr c1\""], ["proof (state)\nthis:\n  c2 \\<approx>01 d\n  discr c1\n\ngoal (1 subgoal):\n 1. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "hence matchC_ZO: \"matchC_ZO ZObis d c2\" \n     and matchT_ZO: \"matchT_ZO d c2\""], ["proof (prove)\nusing this:\n  c2 \\<approx>01 d\n  discr c1\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis d c2 &&& matchT_ZO d c2", "using ZObis_matchC_ZO_rev ZObis_matchT_ZO_rev"], ["proof (prove)\nusing this:\n  c2 \\<approx>01 d\n  discr c1\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchC_ZO ZObis ?t ?s\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchT_ZO ?t ?s\n\ngoal (1 subgoal):\n 1. matchC_ZO ZObis d c2 &&& matchT_ZO d c2", "by auto"], ["proof (state)\nthis:\n  matchC_ZO ZObis d c2\n  matchT_ZO d c2\n\ngoal (1 subgoal):\n 1. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "have \"(d, Par c1 c2) \\<in> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (d, c1 | c2) \\<in> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "unfolding ZOretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (d, c1 | c2)\n    \\<in> {(c, d).\n           matchC_ZO (thetaParZOL2\\<inverse> \\<union> ZObis) c d \\<and>\n           matchT_ZO c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZO (thetaParZOL2\\<inverse> \\<union> ZObis) d (c1 | c2)\n 2. matchT_ZO d (c1 | c2)", "show \"matchC_ZO (thetaParZOL2\\<inverse> \\<union> ZObis) d (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZO (thetaParZOL2\\<inverse> \\<union> ZObis) d (c1 | c2)", "unfolding matchC_ZO_def2 ZObis_converse"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t d' t'.\n       s \\<approx> t \\<and> (d, t) \\<rightarrow>c (d', t') \\<longrightarrow>\n       s \\<approx> t' \\<and>\n       (c1 | c2, d') \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n       (\\<exists>c' s'.\n           (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n       (\\<exists>s'.\n           (c1 | c2, s) \\<rightarrow>t s' \\<and>\n           s' \\<approx> t' \\<and> discr d')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "fix s t d' t'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "assume \"s \\<approx> t\" and \"(d, t) \\<rightarrow>c (d', t')\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "hence \n       \"(s \\<approx> t' \\<and> d' \\<approx>01 c2) \\<or> \n        (\\<exists>c' s'. (c2, s) \\<rightarrow>c (c', s') \\<and> s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or> \n        (\\<exists>s'. (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> d' \\<approx>01 c2 \\<or>\n    (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')", "using matchC_ZO"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n  matchC_ZO ZObis d c2\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> d' \\<approx>01 c2 \\<or>\n    (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')", "unfolding matchC_ZO_def2"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n  \\<forall>s t d' t'.\n     s \\<approx> t \\<and> (d, t) \\<rightarrow>c (d', t') \\<longrightarrow>\n     s \\<approx> t' \\<and> d' \\<approx>01 c2 \\<or>\n     (\\<exists>c' s'.\n         (c2, s) \\<rightarrow>c (c', s') \\<and>\n         s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n     (\\<exists>s'.\n         (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> d' \\<approx>01 c2 \\<or>\n    (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')", "by auto"], ["proof (state)\nthis:\n  s \\<approx> t' \\<and> d' \\<approx>01 c2 \\<or>\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n  (\\<exists>s'.\n      (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "thus\n       \"(s \\<approx> t' \\<and> (Par c1 c2, d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n        (\\<exists>c' s'. (Par c1 c2, s) \\<rightarrow>c (c', s') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n        (\\<exists>s'. (Par c1 c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\""], ["proof (prove)\nusing this:\n  s \\<approx> t' \\<and> d' \\<approx>01 c2 \\<or>\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n  (\\<exists>s'.\n      (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and>\n    (c1 | c2, d') \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "unfolding thetaParZOL2_def"], ["proof (prove)\nusing this:\n  s \\<approx> t' \\<and> d' \\<approx>01 c2 \\<or>\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n  (\\<exists>s'.\n      (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and>\n    (c1 | c2, d')\n    \\<in> {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n          ZObis \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n              ZObis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> d' \\<approx>01 c2 \\<or>\n    (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>01 c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>t s' \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<Longrightarrow>\n    s \\<approx> t' \\<and>\n    (c1 | c2, d')\n    \\<in> {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n          ZObis \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n              ZObis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s \\<approx> t'; d' \\<approx>01 c2\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> t' \\<and>\n                      (c1 | c2, d')\n                      \\<in> {(c1 | c2, d) |c1 c2 d.\n                             discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>c' s'.\n                          (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(c1 | c2, d) |c1 c2 d.\n                                 discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>s'.\n                          (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                          s' \\<approx> t' \\<and> discr d')\n 2. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        d' \\<approx>01 c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 3. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s \\<approx> t'; d' \\<approx>01 c2\\<rbrakk>\n    \\<Longrightarrow> discr c1 \\<and> c2 \\<approx>01 d' \\<or>\n                      c1 | c2 \\<approx>01 d' \\<or>\n                      (\\<exists>c' s'.\n                          (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>c1 c2.\n                               c' = c1 | c2 \\<and>\n                               discr c1 \\<and> c2 \\<approx>01 d') \\<or>\n                           c' \\<approx>01 d'))\n 2. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        d' \\<approx>01 c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 3. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply (metis ZObis_Sym c1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        d' \\<approx>01 c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 2. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        d' \\<approx>01 c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (discr c1 \\<and> c2 \\<approx>01 d' \\<or>\n                          c1 | c2 \\<approx>01 d') \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>01 d') \\<or>\n                              c' \\<approx>01 d'))\n 2. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply (metis ParCR ZObis_sym c1 sym_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (c1 | c2, d')\n                         \\<in> {(c1 | c2, d) |c1 c2 d.\n                                discr c1 \\<and> c2 \\<approx>01 d} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>01 d} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and>\n                         (discr c1 \\<and> c2 \\<approx>01 d' \\<or>\n                          c1 | c2 \\<approx>01 d') \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>01 d') \\<or>\n                              c' \\<approx>01 d'))", "by (metis ParTR c1 discr_ZObis)"], ["proof (state)\nthis:\n  s \\<approx> t' \\<and>\n  (c1 | c2, d') \\<in> thetaParZOL2 \\<union> ZObis \\<or>\n  (\\<exists>c' s'.\n      (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and>\n      (c', d') \\<in> thetaParZOL2 \\<union> ZObis) \\<or>\n  (\\<exists>s'.\n      (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZO (thetaParZOL2\\<inverse> \\<union> ZObis) d (c1 | c2)\n\ngoal (1 subgoal):\n 1. matchT_ZO d (c1 | c2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_ZO d (c1 | c2)", "show \"matchT_ZO d (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_ZO d (c1 | c2)", "unfolding matchT_ZO_def2 ZObis_converse"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t t'.\n       s \\<approx> t \\<and> (d, t) \\<rightarrow>t t' \\<longrightarrow>\n       s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n       (\\<exists>c' s'.\n           (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n           s' \\<approx> t' \\<and> discr c') \\<or>\n       (\\<exists>s'. (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "fix s t t'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "assume \"s \\<approx> t\" and \"(d, t) \\<rightarrow>t t'\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "hence \n       \"(s \\<approx> t' \\<and> discr c2) \\<or> \n        (\\<exists>c' s'. (c2, s) \\<rightarrow>c (c', s') \\<and> s' \\<approx> t' \\<and> discr c') \\<or> \n        (\\<exists>s'. (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr c2 \\<or>\n    (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "using matchT_ZO"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n  matchT_ZO d c2\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr c2 \\<or>\n    (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "unfolding matchT_ZO_def2"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n  \\<forall>s t t'.\n     s \\<approx> t \\<and> (d, t) \\<rightarrow>t t' \\<longrightarrow>\n     s \\<approx> t' \\<and> discr c2 \\<or>\n     (\\<exists>c' s'.\n         (c2, s) \\<rightarrow>c (c', s') \\<and>\n         s' \\<approx> t' \\<and> discr c') \\<or>\n     (\\<exists>s'. (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr c2 \\<or>\n    (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "by auto"], ["proof (state)\nthis:\n  s \\<approx> t' \\<and> discr c2 \\<or>\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "thus\n       \"(s \\<approx> t' \\<and> discr (Par c1 c2)) \\<or> \n        (\\<exists>c' s'. (Par c1 c2, s) \\<rightarrow>c (c', s') \\<and> s' \\<approx> t' \\<and> discr c') \\<or> \n        (\\<exists>s'. (Par c1 c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  s \\<approx> t' \\<and> discr c2 \\<or>\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<approx> t' \\<and> discr c2 \\<or>\n    (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s \\<approx> t'; discr c2\\<rbrakk>\n    \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                      (\\<exists>c' s'.\n                          (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                          s' \\<approx> t' \\<and> discr c') \\<or>\n                      (\\<exists>s'.\n                          (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                          s' \\<approx> t')\n 2. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')\n 3. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s \\<approx> t'; discr c2\\<rbrakk>\n    \\<Longrightarrow> discr (c1 | c2) \\<or>\n                      (\\<exists>c' s'.\n                          (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')\n 3. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply (metis c1 discr_Par)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')\n 2. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply (metis ParCR c1 discr_Par)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>t s' \\<and>\n                             s' \\<approx> t')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n                         (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis ParTR c1)"], ["proof (state)\nthis:\n  s \\<approx> t' \\<and> discr (c1 | c2) \\<or>\n  (\\<exists>c' s'.\n      (c1 | c2, s) \\<rightarrow>c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c1 | c2, s) \\<rightarrow>t s' \\<and> s' \\<approx> t')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_ZO d (c1 | c2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (d, c1 | c2) \\<in> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c2.3 \\<approx>01 ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c2.3 \\<approx>01 ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "unfolding thetaParZOL2_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c2.3 \\<approx>01 ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> ZOretr\n                           ({(c1 | c2, d) |c1 c2 d.\n                             discr c1 \\<and>\n                             c2 \\<approx>01 d}\\<inverse> \\<union>\n                            ZObis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d}\\<inverse>\n    \\<subseteq> ZOretr\n                 ({(c1 | c2, d) |c1 c2 d.\n                   discr c1 \\<and> c2 \\<approx>01 d}\\<inverse> \\<union>\n                  ZObis)", "by blast"], ["proof (state)\nthis:\n  thetaParZOL2\\<inverse>\n  \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParZOL2_ZObis:\n\"thetaParZOL2 \\<subseteq> ZObis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZOL2 \\<subseteq> ZObis", "apply(rule ZObis_coind2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)\n 2. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "using thetaParZOL2_ZOretr thetaParZOL2_converse_ZOretr"], ["proof (prove)\nusing this:\n  thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)\n  thetaParZOL2\\<inverse>\n  \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)\n\ngoal (2 subgoals):\n 1. thetaParZOL2 \\<subseteq> ZOretr (thetaParZOL2 \\<union> ZObis)\n 2. thetaParZOL2\\<inverse>\n    \\<subseteq> ZOretr (thetaParZOL2\\<inverse> \\<union> ZObis)", "by auto"], ["", "theorem Par_ZObis_discrL2[simp]:\nassumes \"c2 \\<approx>01 d\" and \"discr c1\"\nshows \"Par c1 c2 \\<approx>01 d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01 d", "using assms thetaParZOL2_ZObis"], ["proof (prove)\nusing this:\n  c2 \\<approx>01 d\n  discr c1\n  thetaParZOL2 \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01 d", "unfolding thetaParZOL2_def"], ["proof (prove)\nusing this:\n  c2 \\<approx>01 d\n  discr c1\n  {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>01 d}\n  \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01 d", "by blast"], ["", "theorem Par_ZObis_discrR2[simp]:\nassumes \"c \\<approx>01 d2\" and \"discr d1\"\nshows \"c \\<approx>01 Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<approx>01 d1 | d2", "using assms Par_ZObis_discrL2 ZObis_Sym"], ["proof (prove)\nusing this:\n  c \\<approx>01 d2\n  discr d1\n  \\<lbrakk>?c2.0 \\<approx>01 ?d; discr ?c1.0\\<rbrakk>\n  \\<Longrightarrow> ?c1.0 | ?c2.0 \\<approx>01 ?d\n  ?s \\<approx>01 ?t \\<Longrightarrow> ?t \\<approx>01 ?s\n\ngoal (1 subgoal):\n 1. c \\<approx>01 d1 | d2", "by blast"], ["", "(*  *)"], ["", "definition thetaParZO where \n\"thetaParZO \\<equiv> \n {(Par c1 c2, Par d1 d2) | c1 c2 d1 d2. c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}\""], ["", "lemma thetaParZO_sym:\n\"sym thetaParZO\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaParZO", "unfolding thetaParZO_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}", "using ZObis_Sym"], ["proof (prove)\nusing this:\n  ?s \\<approx>01 ?t \\<Longrightarrow> ?t \\<approx>01 ?s\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}", "by blast"], ["", "lemma thetaParZO_ZOretr:\n\"thetaParZO \\<subseteq> ZOretr (thetaParZO Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "assume c1d1: \"c1 \\<approx>01 d1\" and c2d2: \"c2 \\<approx>01 d2\""], ["proof (state)\nthis:\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "hence matchC_ZO1: \"matchC_ZO ZObis c1 d1\" and matchC_ZO2: \"matchC_ZO ZObis c2 d2\"\n     and matchT_ZO1: \"matchT_ZO c1 d1\" and matchT_ZO2: \"matchT_ZO c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n\ngoal (1 subgoal):\n 1. (matchC_ZO ZObis c1 d1 &&& matchC_ZO ZObis c2 d2) &&&\n    matchT_ZO c1 d1 &&& matchT_ZO c2 d2", "using ZObis_matchC_ZO ZObis_matchT_ZO"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchC_ZO ZObis ?s ?t\n  ?s \\<approx>01 ?t \\<Longrightarrow> matchT_ZO ?s ?t\n\ngoal (1 subgoal):\n 1. (matchC_ZO ZObis c1 d1 &&& matchC_ZO ZObis c2 d2) &&&\n    matchT_ZO c1 d1 &&& matchT_ZO c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_ZO ZObis c1 d1\n  matchC_ZO ZObis c2 d2\n  matchT_ZO c1 d1\n  matchT_ZO c2 d2\n\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "have \"(Par c1 c2, Par d1 d2) \\<in> ZOretr (thetaParZO Un ZObis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2) \\<in> ZOretr (thetaParZO \\<union> ZObis)", "unfolding ZOretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2)\n    \\<in> {(c, d).\n           matchC_ZO (thetaParZO \\<union> ZObis) c d \\<and> matchT_ZO c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_ZO (thetaParZO \\<union> ZObis) (c1 | c2) (d1 | d2)\n 2. matchT_ZO (c1 | c2) (d1 | d2)", "show \"matchC_ZO (thetaParZO \\<union> ZObis) (Par c1 c2) (Par d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_ZO (thetaParZO \\<union> ZObis) (c1 | c2) (d1 | d2)", "unfolding matchC_ZO_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       s' \\<approx> t \\<and>\n       (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n       (\\<exists>d' t'.\n           (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n       (\\<exists>t'.\n           (d1 | d2, t) \\<rightarrow>t t' \\<and>\n           s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus \n       \"(s' \\<approx> t \\<and> (c', Par d1 d2) \\<in> thetaParZO \\<union> ZObis) \\<or>\n        (\\<exists>d' t'. (Par d1 d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or> \n        (\\<exists>t'. (Par d1 d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "proof(erule Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence\n         \"(s' \\<approx> t \\<and> c1' \\<approx>01 d1) \\<or> \n          (\\<exists>d' t'. (d1, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or> \n          (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "using st matchC_ZO1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  matchC_ZO ZObis c1 d1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "unfolding matchC_ZO_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01 d1 \\<or>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01 d') \\<or>\n     (\\<exists>t'.\n         (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaParZO_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1' | c2, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' | c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' | c2))", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c1' \\<approx>01 d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c1' | c2, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' | c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' | c2))", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01 d1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c1' | c2, d1 | d2)\n                      \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c1' | c2, d')\n                          \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01 d1 \\<and>\n                                 c2 \\<approx>01 d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr (c1' | c2))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))\n 3. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c1' \\<approx>01 d1\\<rbrakk>\n    \\<Longrightarrow> c2 \\<approx>01 d2 \\<or>\n                      c1' | c2 \\<approx>01 d1 | d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>d1 d2.\n                               d' = d1 | d2 \\<and>\n                               c1' \\<approx>01 d1 \\<and>\n                               c2 \\<approx>01 d2) \\<or>\n                           c1' | c2 \\<approx>01 d'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))\n 3. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))", "apply (metis c2d2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c1' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' \\<approx>01 d1 \\<and> c2 \\<approx>01 d2 \\<or>\n                          c1' | c2 \\<approx>01 d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1' \\<approx>01 d1 \\<and>\n                                  c2 \\<approx>01 d2) \\<or>\n                              c1' | c2 \\<approx>01 d'))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))", "apply (metis ParCL c2d2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' | c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1' \\<approx>01 d1 \\<and> c2 \\<approx>01 d2 \\<or>\n                          c1' | c2 \\<approx>01 d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1' \\<approx>01 d1 \\<and>\n                                  c2 \\<approx>01 d2) \\<or>\n                              c1' | c2 \\<approx>01 d'))", "by (metis ParTL Par_ZObis_discrL2 c2d2)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(s' \\<approx> t \\<and> discr d1) \\<or> \n          (\\<exists>d' t'. (d1, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "using st matchT_ZO1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_ZO c1 d1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "unfolding matchT_ZO_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     s' \\<approx> t \\<and> discr d1 \\<or>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> discr d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaParZO_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d1 \\<or>\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c2, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d1 \\<or>\n    (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c2, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c2, d1 | d2)\n                      \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c2, d')\n                          \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01 d1 \\<and>\n                                 c2 \\<approx>01 d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c2)\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 3. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>c1 c2a.\n                          c2 = c1 | c2a \\<and>\n                          c1 \\<approx>01 d1 \\<and> c2a \\<approx>01 d2) \\<or>\n                      c2 \\<approx>01 d1 | d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>c1 c2a.\n                               c2 = c1 | c2a \\<and>\n                               (\\<exists>d1 d2.\n                                   d' = d1 | d2 \\<and>\n                                   c1 \\<approx>01 d1 \\<and>\n                                   c2a \\<approx>01 d2)) \\<or>\n                           c2 \\<approx>01 d'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 3. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply (metis Par_ZObis_discrR2 c2d2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2a.\n                              c2 = c1 | c2a \\<and>\n                              c1 \\<approx>01 d1 \\<and>\n                              c2a \\<approx>01 d2) \\<or>\n                          c2 \\<approx>01 d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 | c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 | d2 \\<and> c1 \\<approx>01 d1 \\<and> c2a \\<approx>01 d2)) \\<or>\n                              c2 \\<approx>01 d'))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply (metis PL.ParCL Par_ZObis_discrR2 c2d2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c2, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1 c2a.\n                              c2 = c1 | c2a \\<and>\n                              c1 \\<approx>01 d1 \\<and>\n                              c2a \\<approx>01 d2) \\<or>\n                          c2 \\<approx>01 d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 | c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 | d2 \\<and> c1 \\<approx>01 d1 \\<and> c2a \\<approx>01 d2)) \\<or>\n                              c2 \\<approx>01 d'))", "by (metis PL.ParTL c2d2)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(s' \\<approx> t \\<and> c2' \\<approx>01 d2) \\<or> \n          (\\<exists>d' t'. (d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or> \n          (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01 d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "using st matchC_ZO2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  matchC_ZO ZObis c2 d2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01 d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "unfolding matchC_ZO_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     s' \\<approx> t \\<and> c' \\<approx>01 d2 \\<or>\n     (\\<exists>d' t'.\n         (d2, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>01 d') \\<or>\n     (\\<exists>t'.\n         (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01 d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> c2' \\<approx>01 d2 \\<or>\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c2' \\<approx>01 d2 \\<or>\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaParZO_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> c2' \\<approx>01 d2 \\<or>\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n  (\\<exists>t'.\n      (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1 | c2', d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1 | c2', d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> c2' \\<approx>01 d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>01 d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c1 | c2', d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1 | c2', d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c2' \\<approx>01 d2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c1 | c2', d1 | d2)\n                      \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c1 | c2', d')\n                          \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01 d1 \\<and>\n                                 c2 \\<approx>01 d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr (c1 | c2'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))\n 3. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; c2' \\<approx>01 d2\\<rbrakk>\n    \\<Longrightarrow> c1 \\<approx>01 d1 \\<or>\n                      c1 | c2' \\<approx>01 d1 | d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>d1 d2.\n                               d' = d1 | d2 \\<and>\n                               c1 \\<approx>01 d1 \\<and>\n                               c2' \\<approx>01 d2) \\<or>\n                           c1 | c2' \\<approx>01 d'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))\n 3. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply (metis c1d1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))\n 2. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        c2' \\<approx>01 d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 \\<approx>01 d1 \\<and> c2' \\<approx>01 d2 \\<or>\n                          c1 | c2' \\<approx>01 d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1 \\<approx>01 d1 \\<and>\n                                  c2' \\<approx>01 d2) \\<or>\n                              c1 | c2' \\<approx>01 d'))\n 2. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply (metis PL.ParCR c1d1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 | c2', d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1 \\<approx>01 d1 \\<and> c2' \\<approx>01 d2 \\<or>\n                          c1 | c2' \\<approx>01 d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1 \\<approx>01 d1 \\<and>\n                                  c2' \\<approx>01 d2) \\<or>\n                              c1 | c2' \\<approx>01 d'))", "by (metis PL.ParTR Par_ZObis_discrL1 c1d1)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(s' \\<approx> t \\<and> discr d2) \\<or> \n          (\\<exists>d' t'. (d2, t) \\<rightarrow>c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "using st matchT_ZO2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  matchT_ZO c2 d2\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "unfolding matchT_ZO_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>t s' \\<longrightarrow>\n     s' \\<approx> t \\<and> discr d2 \\<or>\n     (\\<exists>d' t'.\n         (d2, t) \\<rightarrow>c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')", "by auto"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> discr d2 \\<or>\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d2 \\<or>\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaParZO_def"], ["proof (prove)\nusing this:\n  s' \\<approx> t \\<and> discr d2 \\<or>\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and>\n    (c1, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. s' \\<approx> t \\<and> discr d2 \\<or>\n    (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    s' \\<approx> t \\<and>\n    (c1, d1 | d2)\n    \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n           c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n          ZObis \\<or>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n              ZObis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d2\\<rbrakk>\n    \\<Longrightarrow> s' \\<approx> t \\<and>\n                      (c1, d1 | d2)\n                      \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c1, d')\n                          \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                 c1 \\<approx>01 d1 \\<and>\n                                 c2 \\<approx>01 d2} \\<union>\n                                ZObis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c1)\n 2. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)\n 3. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s' \\<approx> t; discr d2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>c1a c2.\n                          c1 = c1a | c2 \\<and>\n                          c1a \\<approx>01 d1 \\<and> c2 \\<approx>01 d2) \\<or>\n                      c1 \\<approx>01 d1 | d2 \\<or>\n                      (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          ((\\<exists>c1a c2.\n                               c1 = c1a | c2 \\<and>\n                               (\\<exists>d1 d2.\n                                   d' = d1 | d2 \\<and>\n                                   c1a \\<approx>01 d1 \\<and>\n                                   c2 \\<approx>01 d2)) \\<or>\n                           c1 \\<approx>01 d'))\n 2. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)\n 3. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)", "apply (metis Par_ZObis_discrR1 c1d1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)\n 2. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1a c2.\n                              c1 = c1a | c2 \\<and>\n                              c1a \\<approx>01 d1 \\<and>\n                              c2 \\<approx>01 d2) \\<or>\n                          c1 \\<approx>01 d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1a c2.\n                                  c1 = c1a | c2 \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 | d2 \\<and> c1a \\<approx>01 d1 \\<and> c2 \\<approx>01 d2)) \\<or>\n                              c1 \\<approx>01 d'))\n 2. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)", "apply (metis PL.ParCR Par_ZObis_discrR1 c1d1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         (c1, d1 | d2)\n                         \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                c1 \\<approx>01 d1 \\<and>\n                                c2 \\<approx>01 d2} \\<union>\n                               ZObis \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>01 d1 \\<and>\n                                    c2 \\<approx>01 d2} \\<union>\n                                   ZObis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> s' \\<approx> t \\<and>\n                         ((\\<exists>c1a c2.\n                              c1 = c1a | c2 \\<and>\n                              c1a \\<approx>01 d1 \\<and>\n                              c2 \\<approx>01 d2) \\<or>\n                          c1 \\<approx>01 d1 | d2) \\<or>\n                         (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1a c2.\n                                  c1 = c1a | c2 \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 | d2 \\<and> c1a \\<approx>01 d1 \\<and> c2 \\<approx>01 d2)) \\<or>\n                              c1 \\<approx>01 d'))", "by (metis PL.ParTR c1d1)"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s' \\<approx> t \\<and> (c', d1 | d2) \\<in> thetaParZO \\<union> ZObis \\<or>\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParZO \\<union> ZObis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_ZO (thetaParZO \\<union> ZObis) (c1 | c2) (d1 | d2)\n\ngoal (1 subgoal):\n 1. matchT_ZO (c1 | c2) (d1 | d2)", "qed (unfold matchT_ZO_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d1 | d2) \\<in> ZOretr (thetaParZO \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d1.3; ?c2.3 \\<approx>01 ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> ZOretr (thetaParZO \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d1.3; ?c2.3 \\<approx>01 ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> ZOretr (thetaParZO \\<union> ZObis)\n\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "unfolding thetaParZO_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>01 ?d1.3; ?c2.3 \\<approx>01 ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> ZOretr\n                           ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>01 d1 \\<and>\n                             c2 \\<approx>01 d2} \\<union>\n                            ZObis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n     c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}\n    \\<subseteq> ZOretr\n                 ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                   c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2} \\<union>\n                  ZObis)", "by auto"], ["proof (state)\nthis:\n  thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParZO_ZObis:\n\"thetaParZO \\<subseteq> ZObis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParZO \\<subseteq> ZObis", "apply(rule ZObis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaParZO\n 2. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "using thetaParZO_sym thetaParZO_ZOretr"], ["proof (prove)\nusing this:\n  sym thetaParZO\n  thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)\n\ngoal (2 subgoals):\n 1. sym thetaParZO\n 2. thetaParZO \\<subseteq> ZOretr (thetaParZO \\<union> ZObis)", "by auto"], ["", "theorem Par_ZObis[simp]:\nassumes \"c1 \\<approx>01 d1\" and \"c2 \\<approx>01 d2\"\nshows \"Par c1 c2 \\<approx>01 Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01 d1 | d2", "using assms thetaParZO_ZObis"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n  thetaParZO \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01 d1 | d2", "unfolding thetaParZO_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>01 d1\n  c2 \\<approx>01 d2\n  {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n   c1 \\<approx>01 d1 \\<and> c2 \\<approx>01 d2}\n  \\<subseteq> ZObis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>01 d1 | d2", "by blast"], ["", "subsubsection\\<open>WT-bisimilarity versus language constructs\\<close>"], ["", "text\\<open>Discreetness:\\<close>"], ["", "theorem noWhile_discr_WbisT[simp]:\n  assumes \"noWhile c1\" and \"noWhile c2\" \n  and \"discr c1\" and \"discr c2\"\n  shows \"c1 \\<approx>wT c2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 \\<approx>wT c2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c1 \\<approx>wT c2", "from assms"], ["proof (chain)\npicking this:\n  noWhile c1\n  noWhile c2\n  discr c1\n  discr c2", "have \"noWhile c1 \\<and> noWhile c2 \\<and> discr c1 \\<and> discr c2\""], ["proof (prove)\nusing this:\n  noWhile c1\n  noWhile c2\n  discr c1\n  discr c2\n\ngoal (1 subgoal):\n 1. noWhile c1 \\<and> noWhile c2 \\<and> discr c1 \\<and> discr c2", "by auto"], ["proof (state)\nthis:\n  noWhile c1 \\<and> noWhile c2 \\<and> discr c1 \\<and> discr c2\n\ngoal (1 subgoal):\n 1. c1 \\<approx>wT c2", "then"], ["proof (chain)\npicking this:\n  noWhile c1 \\<and> noWhile c2 \\<and> discr c1 \\<and> discr c2", "show ?thesis"], ["proof (prove)\nusing this:\n  noWhile c1 \\<and> noWhile c2 \\<and> discr c1 \\<and> discr c2\n\ngoal (1 subgoal):\n 1. c1 \\<approx>wT c2", "proof (induct rule: WbisT_coinduct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>c d.\n       noWhile c \\<and>\n       noWhile d \\<and> discr c \\<and> discr d \\<Longrightarrow>\n       noWhile d \\<and> noWhile c \\<and> discr d \\<and> discr c\n 2. \\<And>c s d t c' s'.\n       \\<lbrakk>noWhile c \\<and> noWhile d \\<and> discr c \\<and> discr d;\n        s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (noWhile c' \\<and>\n                             noWhile d' \\<and>\n                             discr c' \\<and> discr d' \\<or>\n                             c' \\<approx>wT d')\n 3. \\<And>c s d t s'.\n       \\<lbrakk>noWhile c \\<and> noWhile d \\<and> discr c \\<and> discr d;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "case cont"], ["proof (state)\nthis:\n  noWhile c_ \\<and> noWhile d_ \\<and> discr c_ \\<and> discr d_\n  s_ \\<approx> t_\n  (c_, s_) \\<rightarrow>c (c'_, s'_)\n\ngoal (3 subgoals):\n 1. \\<And>c d.\n       noWhile c \\<and>\n       noWhile d \\<and> discr c \\<and> discr d \\<Longrightarrow>\n       noWhile d \\<and> noWhile c \\<and> discr d \\<and> discr c\n 2. \\<And>c s d t c' s'.\n       \\<lbrakk>noWhile c \\<and> noWhile d \\<and> discr c \\<and> discr d;\n        s \\<approx> t; (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (noWhile c' \\<and>\n                             noWhile d' \\<and>\n                             discr c' \\<and> discr d' \\<or>\n                             c' \\<approx>wT d')\n 3. \\<And>c s d t s'.\n       \\<lbrakk>noWhile c \\<and> noWhile d \\<and> discr c \\<and> discr d;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "then"], ["proof (chain)\npicking this:\n  noWhile c_ \\<and> noWhile d_ \\<and> discr c_ \\<and> discr d_\n  s_ \\<approx> t_\n  (c_, s_) \\<rightarrow>c (c'_, s'_)", "show ?case"], ["proof (prove)\nusing this:\n  noWhile c_ \\<and> noWhile d_ \\<and> discr c_ \\<and> discr d_\n  s_ \\<approx> t_\n  (c_, s_) \\<rightarrow>c (c'_, s'_)\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d_, t_) \\<rightarrow>*c (d', t') \\<and>\n       s'_ \\<approx> t' \\<and>\n       (noWhile c'_ \\<and> noWhile d' \\<and> discr c'_ \\<and> discr d' \\<or>\n        c'_ \\<approx>wT d')", "by (metis MtransC_Refl noWhile_transC discr_transC discr_transC_indis indis_sym indis_trans)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d_, t_) \\<rightarrow>*c (d', t') \\<and>\n     s'_ \\<approx> t' \\<and>\n     (noWhile c'_ \\<and> noWhile d' \\<and> discr c'_ \\<and> discr d' \\<or>\n      c'_ \\<approx>wT d')\n\ngoal (2 subgoals):\n 1. \\<And>c d.\n       noWhile c \\<and>\n       noWhile d \\<and> discr c \\<and> discr d \\<Longrightarrow>\n       noWhile d \\<and> noWhile c \\<and> discr d \\<and> discr c\n 2. \\<And>c s d t s'.\n       \\<lbrakk>noWhile c \\<and> noWhile d \\<and> discr c \\<and> discr d;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c d.\n       noWhile c \\<and>\n       noWhile d \\<and> discr c \\<and> discr d \\<Longrightarrow>\n       noWhile d \\<and> noWhile c \\<and> discr d \\<and> discr c\n 2. \\<And>c s d t s'.\n       \\<lbrakk>noWhile c \\<and> noWhile d \\<and> discr c \\<and> discr d;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "case termi"], ["proof (state)\nthis:\n  noWhile c_ \\<and> noWhile d_ \\<and> discr c_ \\<and> discr d_\n  s_ \\<approx> t_\n  (c_, s_) \\<rightarrow>t s'_\n\ngoal (2 subgoals):\n 1. \\<And>c d.\n       noWhile c \\<and>\n       noWhile d \\<and> discr c \\<and> discr d \\<Longrightarrow>\n       noWhile d \\<and> noWhile c \\<and> discr d \\<and> discr c\n 2. \\<And>c s d t s'.\n       \\<lbrakk>noWhile c \\<and> noWhile d \\<and> discr c \\<and> discr d;\n        s \\<approx> t; (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "then"], ["proof (chain)\npicking this:\n  noWhile c_ \\<and> noWhile d_ \\<and> discr c_ \\<and> discr d_\n  s_ \\<approx> t_\n  (c_, s_) \\<rightarrow>t s'_", "show ?case"], ["proof (prove)\nusing this:\n  noWhile c_ \\<and> noWhile d_ \\<and> discr c_ \\<and> discr d_\n  s_ \\<approx> t_\n  (c_, s_) \\<rightarrow>t s'_\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d_, t_) \\<rightarrow>*t t' \\<and> s'_ \\<approx> t'", "by (metis discr_MtransT indis_sym indis_trans noWhile_MtransT transT_MtransT)"], ["proof (state)\nthis:\n  \\<exists>t'. (d_, t_) \\<rightarrow>*t t' \\<and> s'_ \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<And>c d.\n       noWhile c \\<and>\n       noWhile d \\<and> discr c \\<and> discr d \\<Longrightarrow>\n       noWhile d \\<and> noWhile c \\<and> discr d \\<and> discr c", "qed simp"], ["proof (state)\nthis:\n  c1 \\<approx>wT c2\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Atomic commands:\\<close>"], ["", "theorem Atm_WbisT:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>wT Atm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Atm atm \\<approx>wT Atm atm", "by (metis Atm_Sbis assms bis_imp)"], ["", "text\\<open>Sequential composition:\\<close>"], ["", "definition thetaSeqWT where \n\"thetaSeqWT \\<equiv> \n {(c1 ;; c2, d1 ;; d2) | c1 c2 d1 d2. c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}\""], ["", "lemma thetaSeqWT_sym:\n\"sym thetaSeqWT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaSeqWT", "unfolding thetaSeqWT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}", "using WbisT_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>wT ?d \\<Longrightarrow> ?d \\<approx>wT ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}", "by blast"], ["", "lemma thetaSeqWT_WretrT:\n\"thetaSeqWT \\<subseteq> WretrT (thetaSeqWT Un WbisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "assume c1d1: \"c1 \\<approx>wT d1\" and c2d2: \"c2 \\<approx>wT d2\""], ["proof (state)\nthis:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "hence matchC_MC1: \"matchC_MC WbisT c1 d1\" and matchC_MC2: \"matchC_MC WbisT c2 d2\"\n     and matchT_MT1: \"matchT_MT c1 d1\" and matchT_T2: \"matchT_MT c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_MC WbisT c2 d2) &&&\n    matchT_MT c1 d1 &&& matchT_MT c2 d2", "using WbisT_matchC_MC WbisT_matchT_MT"], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchC_MC WbisT ?c ?d\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchT_MT ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_MC WbisT c2 d2) &&&\n    matchT_MT c1 d1 &&& matchT_MT c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_MC WbisT c1 d1\n  matchC_MC WbisT c2 d2\n  matchT_MT c1 d1\n  matchT_MT c2 d2\n\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "have \"(c1 ;; c2, d1 ;; d2) \\<in> WretrT (thetaSeqWT Un WbisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2) \\<in> WretrT (thetaSeqWT \\<union> WbisT)", "unfolding WretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2)\n    \\<in> {(c, d).\n           matchC_MC (thetaSeqWT \\<union> WbisT) c d \\<and> matchT_MT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_MC (thetaSeqWT \\<union> WbisT) (c1 ;; c2) (d1 ;; d2)\n 2. matchT_MT (c1 ;; c2) (d1 ;; d2)", "show \"matchC_MC (thetaSeqWT Un WbisT) (c1 ;; c2) (d1 ;; d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_MC (thetaSeqWT \\<union> WbisT) (c1 ;; c2) (d1 ;; d2)", "unfolding matchC_MC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWT \\<union> WbisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqWT \\<union> WbisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqWT \\<union> WbisT", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqWT \\<union> WbisT", "assume \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqWT \\<union> WbisT", "thus \"(\\<exists>d' t'. (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWT Un WbisT)\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWT \\<union> WbisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWT \\<union> WbisT", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqWT \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqWT \\<union> WbisT", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqWT \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqWT \\<union> WbisT", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqWT \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqWT \\<union> WbisT", "hence \"\\<exists>d1' t'. (d1, t) \\<rightarrow>*c (d1', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>wT d1'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d1'", "using st matchC_MC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  matchC_MC WbisT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d1'", "unfolding matchC_MC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>wT d')\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d1'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d1'\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqWT \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqWT \\<union> WbisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d1'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWT \\<union> WbisT", "unfolding c' thetaSeqWT_def"], ["proof (prove)\nusing this:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d1'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1' ;; c2, d')\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n             WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d1' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d2.\n            d' = d1 ;; d2 \\<and>\n            c1' \\<approx>wT d1 \\<and> c2 \\<approx>wT d2) \\<or>\n        c1' ;; c2 \\<approx>wT d')", "by (metis PL.Seq_MtransC c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWT \\<union> WbisT\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqWT \\<union> WbisT", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqWT \\<union> WbisT", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqWT \\<union> WbisT", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "using st matchT_MT1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_MT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "unfolding matchT_MT_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqWT \\<union> WbisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWT \\<union> WbisT", "unfolding c' thetaSeqWT_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c2, d')\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n             WbisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c2, d')\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n             WbisT", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c2, d')\n                            \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                   c1 \\<approx>wT d1 \\<and>\n                                   c2 \\<approx>wT d2} \\<union>\n                                  WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            ((\\<exists>c1 c2a.\n                                 c2 = c1 ;; c2a \\<and>\n                                 (\\<exists>d1 d2.\n                                     d' = d1 ;; d2 \\<and>\n                                     c1 \\<approx>wT d1 \\<and>\n                                     c2a \\<approx>wT d2)) \\<or>\n                             c2 \\<approx>wT d')", "by (metis Seq_MtransT_MtransC c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWT \\<union> WbisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWT \\<union> WbisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_MC (thetaSeqWT \\<union> WbisT) (c1 ;; c2) (d1 ;; d2)\n\ngoal (1 subgoal):\n 1. matchT_MT (c1 ;; c2) (d1 ;; d2)", "qed (unfold matchT_MT_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; c2, d1 ;; d2) \\<in> WretrT (thetaSeqWT \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>wT ?d1.3; ?c2.3 \\<approx>wT ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> WretrT (thetaSeqWT \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>wT ?d1.3; ?c2.3 \\<approx>wT ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> WretrT (thetaSeqWT \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "unfolding thetaSeqWT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>wT ?d1.3; ?c2.3 \\<approx>wT ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> WretrT\n                           ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>wT d1 \\<and>\n                             c2 \\<approx>wT d2} \\<union>\n                            WbisT)\n\ngoal (1 subgoal):\n 1. {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n     c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}\n    \\<subseteq> WretrT\n                 ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                   c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n                  WbisT)", "by auto"], ["proof (state)\nthis:\n  thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaSeqWT_WbisT:\n\"thetaSeqWT \\<subseteq> WbisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqWT \\<subseteq> WbisT", "apply(rule WbisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaSeqWT\n 2. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "using thetaSeqWT_sym thetaSeqWT_WretrT"], ["proof (prove)\nusing this:\n  sym thetaSeqWT\n  thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)\n\ngoal (2 subgoals):\n 1. sym thetaSeqWT\n 2. thetaSeqWT \\<subseteq> WretrT (thetaSeqWT \\<union> WbisT)", "by auto"], ["", "theorem Seq_WbisT[simp]:\nassumes \"c1 \\<approx>wT d1\" and \"c2 \\<approx>wT d2\"\nshows \"c1 ;; c2 \\<approx>wT d1 ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>wT d1 ;; d2", "using assms thetaSeqWT_WbisT"], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n  thetaSeqWT \\<subseteq> WbisT\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>wT d1 ;; d2", "unfolding thetaSeqWT_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n  {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n   c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}\n  \\<subseteq> WbisT\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>wT d1 ;; d2", "by blast"], ["", "text\\<open>Conditional:\\<close>"], ["", "definition thetaIfWT where \n\"thetaIfWT \\<equiv> \n {(If tst c1 c2, If tst d1 d2) | tst c1 c2 d1 d2. compatTst tst \\<and> c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}\""], ["", "lemma thetaIfWT_sym:\n\"sym thetaIfWT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaIfWT", "unfolding thetaIfWT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}", "using WbisT_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>wT ?d \\<Longrightarrow> ?d \\<approx>wT ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}", "by blast"], ["", "lemma thetaIfWT_WretrT:\n\"thetaIfWT \\<subseteq> WretrT (thetaIfWT Un WbisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "fix tst c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>wT d1\" and c2d2: \"c2 \\<approx>wT d2\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "hence matchC_MC1: \"matchC_MC WbisT c1 d1\" and matchC_MC2: \"matchC_MC WbisT c2 d2\"\n     and matchT_MT1: \"matchT_MT c1 d1\" and matchT_MT2: \"matchT_MT c2 d2\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_MC WbisT c2 d2) &&&\n    matchT_MT c1 d1 &&& matchT_MT c2 d2", "using WbisT_matchC_MC WbisT_matchT_MT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchC_MC WbisT ?c ?d\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchT_MT ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_MC WbisT c2 d2) &&&\n    matchT_MT c1 d1 &&& matchT_MT c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_MC WbisT c1 d1\n  matchC_MC WbisT c2 d2\n  matchT_MT c1 d1\n  matchT_MT c2 d2\n\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "have \"(If tst c1 c2, If tst d1 d2) \\<in> WretrT (thetaIfWT Un WbisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> WretrT (thetaIfWT \\<union> WbisT)", "unfolding WretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> {(c, d).\n           matchC_MC (thetaIfWT \\<union> WbisT) c d \\<and> matchT_MT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_MC (thetaIfWT \\<union> WbisT) (if tst then c1 else c2)\n     (if tst then d1 else d2)\n 2. matchT_MT (if tst then c1 else c2) (if tst then d1 else d2)", "show \"matchC_MC (thetaIfWT Un WbisT) (If tst c1 c2) (If tst d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_MC (thetaIfWT \\<union> WbisT) (if tst then c1 else c2)\n     (if tst then d1 else d2)", "unfolding matchC_MC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfWT \\<union> WbisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIfWT \\<union> WbisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIfWT \\<union> WbisT", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIfWT \\<union> WbisT", "assume \"(If tst c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIfWT \\<union> WbisT", "thus \"\\<exists>d' t'. (If tst d1 d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfWT Un WbisT\""], ["proof (prove)\nusing this:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfWT \\<union> WbisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfWT \\<union> WbisT", "apply(erule If_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaIfWT \\<union> WbisT\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaIfWT \\<union> WbisT", "unfolding thetaIfWT_def"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>wT d1 \\<and>\n                                c2 \\<approx>wT d2} \\<union>\n                               WbisT\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>wT d1 \\<and>\n                                c2 \\<approx>wT d2} \\<union>\n                               WbisT", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s \\<approx> t' \\<and>\n                         ((\\<exists>tst c1a c2.\n                              c1 = if tst then c1a else c2 \\<and>\n                              (\\<exists>d1 d2.\n                                  d' = if tst then d1 else d2 \\<and>\n                                  compatTst tst \\<and>\n                                  c1a \\<approx>wT d1 \\<and>\n                                  c2 \\<approx>wT d2)) \\<or>\n                          c1 \\<approx>wT d')\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>wT d1 \\<and>\n                                c2 \\<approx>wT d2} \\<union>\n                               WbisT", "apply (metis IfTrue c1d1 compatTst_def st transC_MtransC tst)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>wT d1 \\<and>\n                                c2 \\<approx>wT d2} \\<union>\n                               WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s \\<approx> t' \\<and>\n                         ((\\<exists>tst c1 c2a.\n                              c2 = if tst then c1 else c2a \\<and>\n                              (\\<exists>d1 d2.\n                                  d' = if tst then d1 else d2 \\<and>\n                                  compatTst tst \\<and>\n                                  c1 \\<approx>wT d1 \\<and>\n                                  c2a \\<approx>wT d2)) \\<or>\n                          c2 \\<approx>wT d')", "by (metis IfFalse c2d2 compatTst_def st transC_MtransC tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfWT \\<union> WbisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_MC (thetaIfWT \\<union> WbisT) (if tst then c1 else c2)\n   (if tst then d1 else d2)\n\ngoal (1 subgoal):\n 1. matchT_MT (if tst then c1 else c2) (if tst then d1 else d2)", "qed (unfold matchT_MT_def, auto)"], ["proof (state)\nthis:\n  (if tst then c1 else c2, if tst then d1 else d2)\n  \\<in> WretrT (thetaIfWT \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>wT ?d1.3;\n   ?c2.3 \\<approx>wT ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> WretrT (thetaIfWT \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>wT ?d1.3;\n   ?c2.3 \\<approx>wT ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> WretrT (thetaIfWT \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "unfolding thetaIfWT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>wT ?d1.3;\n   ?c2.3 \\<approx>wT ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> WretrT\n                           ({(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>wT d1 \\<and>\n                             c2 \\<approx>wT d2} \\<union>\n                            WbisT)\n\ngoal (1 subgoal):\n 1. {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n     compatTst tst \\<and> c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}\n    \\<subseteq> WretrT\n                 ({(if tst then c1 else c2, if tst then d1 else d2) |tst c1\n                   c2 d1 d2.\n                   compatTst tst \\<and>\n                   c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n                  WbisT)", "by auto"], ["proof (state)\nthis:\n  thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaIfWT_WbisT:\n\"thetaIfWT \\<subseteq> WbisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfWT \\<subseteq> WbisT", "apply(rule WbisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaIfWT\n 2. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "using thetaIfWT_sym thetaIfWT_WretrT"], ["proof (prove)\nusing this:\n  sym thetaIfWT\n  thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)\n\ngoal (2 subgoals):\n 1. sym thetaIfWT\n 2. thetaIfWT \\<subseteq> WretrT (thetaIfWT \\<union> WbisT)", "by auto"], ["", "theorem If_WbisT[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>wT d1\" and \"c2 \\<approx>wT d2\"\nshows \"If tst c1 c2 \\<approx>wT If tst d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>wT if tst then d1 else d2", "using assms thetaIfWT_WbisT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n  thetaIfWT \\<subseteq> WbisT\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>wT if tst then d1 else d2", "unfolding thetaIfWT_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n  {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n   compatTst tst \\<and> c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}\n  \\<subseteq> WbisT\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>wT if tst then d1 else d2", "by blast"], ["", "text\\<open>While loop:\\<close>"], ["", "definition thetaWhileW where \n\"thetaWhileW \\<equiv> \n {(While tst c, While tst d) | tst c d. compatTst tst \\<and> c \\<approx>wT d} Un \n {(c1 ;; (While tst c), d1 ;; (While tst d)) | tst c1 d1 c d. \n               compatTst tst \\<and> c1 \\<approx>wT d1 \\<and> c \\<approx>wT d}\""], ["", "lemma thetaWhileW_sym:\n\"sym thetaWhileW\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaWhileW", "unfolding thetaWhileW_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>wT d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>wT d1 \\<and> c \\<approx>wT d} \\<longrightarrow>\n       (y, x)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>wT d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and> c1 \\<approx>wT d1 \\<and> c \\<approx>wT d}", "using WbisT_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>wT ?d \\<Longrightarrow> ?d \\<approx>wT ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>wT d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>wT d1 \\<and> c \\<approx>wT d} \\<longrightarrow>\n       (y, x)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>wT d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and> c1 \\<approx>wT d1 \\<and> c \\<approx>wT d}", "by blast"], ["", "lemma thetaWhileW_WretrT:\n\"thetaWhileW \\<subseteq> WretrT (thetaWhileW Un WbisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "fix tst c d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "assume tst: \"compatTst tst\" and c_d: \"c \\<approx>wT d\""], ["proof (state)\nthis:\n  compatTst tst\n  c \\<approx>wT d\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "hence matchC_MC: \"matchC_MC WbisT c d\" \n     and matchT_MT: \"matchT_MT c d\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>wT d\n\ngoal (1 subgoal):\n 1. matchC_MC WbisT c d &&& matchT_MT c d", "using WbisT_matchC_MC WbisT_matchT_MT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>wT d\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchC_MC WbisT ?c ?d\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchT_MT ?c ?d\n\ngoal (1 subgoal):\n 1. matchC_MC WbisT c d &&& matchT_MT c d", "by auto"], ["proof (state)\nthis:\n  matchC_MC WbisT c d\n  matchT_MT c d\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "have \"(While tst c, While tst d) \\<in> WretrT (thetaWhileW Un WbisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, while tst do d)\n    \\<in> WretrT (thetaWhileW \\<union> WbisT)", "unfolding WretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, while tst do d)\n    \\<in> {(c, d).\n           matchC_MC (thetaWhileW \\<union> WbisT) c d \\<and> matchT_MT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_MC (thetaWhileW \\<union> WbisT) (while tst do c) (while tst do d)\n 2. matchT_MT (while tst do c) (while tst do d)", "show \"matchC_MC (thetaWhileW \\<union> WbisT) (While tst c) (While tst d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_MC (thetaWhileW \\<union> WbisT) (while tst do c) (while tst do d)", "unfolding matchC_MC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (while tst do c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT", "assume \"(While tst c, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT", "thus \"\\<exists>d' t'. (While tst d, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> \n                     (c', d') \\<in> thetaWhileW \\<union> WbisT\""], ["proof (prove)\nusing this:\n  (while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT", "apply(erule While_transC_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW \\<union> WbisT", "unfolding thetaWhileW_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(while tst do c, while tst do d) |tst c d.\n                                compatTst tst \\<and>\n                                c \\<approx>wT d} \\<union>\n                               {(c1 ;; while tst do c,\n                                 d1 ;; while tst do d) |\n                                tst c1 d1 c d.\n                                compatTst tst \\<and>\n                                c1 \\<approx>wT d1 \\<and>\n                                c \\<approx>wT d} \\<union>\n                               WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n                         s \\<approx> t' \\<and>\n                         ((\\<exists>d1 d.\n                              d' = d1 ;; while tst do d \\<and>\n                              compatTst tst \\<and>\n                              c \\<approx>wT d1 \\<and> c \\<approx>wT d) \\<or>\n                          c ;; while tst do c \\<approx>wT d')", "by (metis PL.WhileTrue PL.transC_MtransC c_d compatTst_def st tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_MC (thetaWhileW \\<union> WbisT) (while tst do c) (while tst do d)\n\ngoal (1 subgoal):\n 1. matchT_MT (while tst do c) (while tst do d)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_MT (while tst do c) (while tst do d)", "show \"matchT_MT (While tst c) (While tst d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_MT (while tst do c) (while tst do d)", "unfolding matchT_MT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t s'.\n       s \\<approx> t \\<and>\n       (while tst do c, s) \\<rightarrow>t s' \\<longrightarrow>\n       (\\<exists>t'.\n           (while tst do d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                            s' \\<approx> t'", "fix s t s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                            s' \\<approx> t'", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                            s' \\<approx> t'", "assume \"(While tst c, s) \\<rightarrow>t s'\""], ["proof (state)\nthis:\n  (while tst do c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>s \\<approx> t;\n        (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                            s' \\<approx> t'", "thus \"\\<exists>t'. (While tst d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \""], ["proof (prove)\nusing this:\n  (while tst do c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (while tst do d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, s) \\<rightarrow>t s' \\<Longrightarrow>\n    \\<exists>t'.\n       (while tst do d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "apply(erule While_transT_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                         s' \\<approx> t'", "unfolding thetaWhileW_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                         s' \\<approx> t'", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                         s \\<approx> t'", "by (metis WhileFalse compatTst_def st transT_MtransT tst)"], ["proof (state)\nthis:\n  \\<exists>t'. (while tst do d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_MT (while tst do c) (while tst do d)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (while tst do c, while tst do d) \\<in> WretrT (thetaWhileW \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> WretrT (thetaWhileW \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> WretrT (thetaWhileW \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> WretrT (thetaWhileW \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "fix tst c1 d1  c d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>wT d1\" and c_d: \"c \\<approx>wT d\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>wT d1\n  c \\<approx>wT d\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "hence matchC_MC1: \"matchC_MC WbisT c1 d1\" and matchC_MC: \"matchC_MC WbisT c d\" \n     and matchT_MT1: \"matchT_MT c1 d1\" and matchT_MT: \"matchT_MT c d\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>wT d1\n  c \\<approx>wT d\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_MC WbisT c d) &&&\n    matchT_MT c1 d1 &&& matchT_MT c d", "using WbisT_matchC_MC WbisT_matchT_MT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>wT d1\n  c \\<approx>wT d\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchC_MC WbisT ?c ?d\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchT_MT ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_MC WbisT c d) &&&\n    matchT_MT c1 d1 &&& matchT_MT c d", "by auto"], ["proof (state)\nthis:\n  matchC_MC WbisT c1 d1\n  matchC_MC WbisT c d\n  matchT_MT c1 d1\n  matchT_MT c d\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "have \"(c1 ;; (While tst c), d1 ;; (While tst d)) \\<in> WretrT (thetaWhileW Un WbisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, d1 ;; while tst do d)\n    \\<in> WretrT (thetaWhileW \\<union> WbisT)", "unfolding WretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, d1 ;; while tst do d)\n    \\<in> {(c, d).\n           matchC_MC (thetaWhileW \\<union> WbisT) c d \\<and> matchT_MT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_MC (thetaWhileW \\<union> WbisT) (c1 ;; while tst do c)\n     (d1 ;; while tst do d)\n 2. matchT_MT (c1 ;; while tst do c) (d1 ;; while tst do d)", "show \"matchC_MC (thetaWhileW \\<union> WbisT) (c1 ;; (While tst c)) (d1 ;; (While tst d))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_MC (thetaWhileW \\<union> WbisT) (c1 ;; while tst do c)\n     (d1 ;; while tst do d)", "unfolding matchC_MC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; while tst do c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT", "assume \"(c1 ;; (While tst c), s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT", "thus \"\\<exists>d' t'. (d1 ;; (While tst d), t) \\<rightarrow>*c (d', t') \\<and> \n                     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT\""], ["proof (prove)\nusing this:\n  (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW \\<union> WbisT", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW \\<union> WbisT", "assume \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; (While tst c)\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW \\<union> WbisT", "hence \"\\<exists>d' t'. (d1, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>wT d'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d'", "using st matchC_MC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n  s \\<approx> t\n  matchC_MC WbisT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d'", "unfolding matchC_MC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>wT d')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d'\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW \\<union> WbisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT", "unfolding c' thetaWhileW_def"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1' ;; while tst do c, d')\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>wT d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>wT d1 \\<and> c \\<approx>wT d} \\<union>\n             WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d.\n            d' = d1 ;; while tst do d \\<and>\n            compatTst tst \\<and>\n            c1' \\<approx>wT d1 \\<and> c \\<approx>wT d) \\<or>\n        c1' ;; while tst do c \\<approx>wT d')", "by (metis PL.Seq_MtransC c_d tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW \\<union> WbisT", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW \\<union> WbisT", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = While tst c\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW \\<union> WbisT", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "using st matchT_MT1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n  s \\<approx> t\n  matchT_MT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "unfolding matchT_MT_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW \\<union> WbisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT", "unfolding c' thetaWhileW_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (while tst do c, d')\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>wT d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>wT d1 \\<and> c \\<approx>wT d} \\<union>\n             WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d.\n            d' = while tst do d \\<and>\n            compatTst tst \\<and> c \\<approx>wT d) \\<or>\n        while tst do c \\<approx>wT d')", "by (metis PL.Seq_MtransT_MtransC c_d tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW \\<union> WbisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_MC (thetaWhileW \\<union> WbisT) (c1 ;; while tst do c)\n   (d1 ;; while tst do d)\n\ngoal (1 subgoal):\n 1. matchT_MT (c1 ;; while tst do c) (d1 ;; while tst do d)", "qed (unfold matchT_MT_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; while tst do c, d1 ;; while tst do d)\n  \\<in> WretrT (thetaWhileW \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>wT ?d1.3;\n   ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> WretrT (thetaWhileW \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> WretrT (thetaWhileW \\<union> WbisT)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>wT ?d1.3;\n   ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> WretrT (thetaWhileW \\<union> WbisT)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> WretrT (thetaWhileW \\<union> WbisT)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>wT ?d1.3;\n   ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> WretrT (thetaWhileW \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "unfolding thetaWhileW_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> WretrT\n                           ({(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>wT d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>wT d1 \\<and>\n                             c \\<approx>wT d} \\<union>\n                            WbisT)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>wT ?d1.3;\n   ?c3 \\<approx>wT ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> WretrT\n                           ({(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>wT d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>wT d1 \\<and>\n                             c \\<approx>wT d} \\<union>\n                            WbisT)\n\ngoal (1 subgoal):\n 1. {(while tst do c, while tst do d) |tst c d.\n     compatTst tst \\<and> c \\<approx>wT d} \\<union>\n    {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n     compatTst tst \\<and> c1 \\<approx>wT d1 \\<and> c \\<approx>wT d}\n    \\<subseteq> WretrT\n                 ({(while tst do c, while tst do d) |tst c d.\n                   compatTst tst \\<and> c \\<approx>wT d} \\<union>\n                  {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c\n                   d. compatTst tst \\<and>\n                      c1 \\<approx>wT d1 \\<and> c \\<approx>wT d} \\<union>\n                  WbisT)", "by auto"], ["proof (state)\nthis:\n  thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaWhileW_WbisT:\n\"thetaWhileW \\<subseteq> WbisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaWhileW \\<subseteq> WbisT", "apply(rule WbisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaWhileW\n 2. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "using thetaWhileW_sym thetaWhileW_WretrT"], ["proof (prove)\nusing this:\n  sym thetaWhileW\n  thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)\n\ngoal (2 subgoals):\n 1. sym thetaWhileW\n 2. thetaWhileW \\<subseteq> WretrT (thetaWhileW \\<union> WbisT)", "by auto"], ["", "theorem While_WbisT[simp]:\nassumes \"compatTst tst\" and \"c \\<approx>wT d\"\nshows \"While tst c \\<approx>wT While tst d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. while tst do c \\<approx>wT while tst do d", "using assms thetaWhileW_WbisT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>wT d\n  thetaWhileW \\<subseteq> WbisT\n\ngoal (1 subgoal):\n 1. while tst do c \\<approx>wT while tst do d", "unfolding thetaWhileW_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>wT d\n  {(while tst do c, while tst do d) |tst c d.\n   compatTst tst \\<and> c \\<approx>wT d} \\<union>\n  {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n   compatTst tst \\<and> c1 \\<approx>wT d1 \\<and> c \\<approx>wT d}\n  \\<subseteq> WbisT\n\ngoal (1 subgoal):\n 1. while tst do c \\<approx>wT while tst do d", "by auto"], ["", "text\\<open>Parallel composition:\\<close>"], ["", "definition thetaParWT where \n\"thetaParWT \\<equiv> \n {(Par c1 c2, Par d1 d2) | c1 c2 d1 d2. c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}\""], ["", "lemma thetaParWT_sym:\n\"sym thetaParWT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaParWT", "unfolding thetaParWT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}", "using WbisT_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>wT ?d \\<Longrightarrow> ?d \\<approx>wT ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}", "by blast"], ["", "lemma thetaParWT_WretrT:\n\"thetaParWT \\<subseteq> WretrT (thetaParWT Un WbisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "assume c1d1: \"c1 \\<approx>wT d1\" and c2d2: \"c2 \\<approx>wT d2\""], ["proof (state)\nthis:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "hence matchC_MC1: \"matchC_MC WbisT c1 d1\" and matchC_MC2: \"matchC_MC WbisT c2 d2\"\n     and matchT_MT1: \"matchT_MT c1 d1\" and matchT_MT2: \"matchT_MT c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_MC WbisT c2 d2) &&&\n    matchT_MT c1 d1 &&& matchT_MT c2 d2", "using WbisT_matchC_MC WbisT_matchT_MT"], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchC_MC WbisT ?c ?d\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchT_MT ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_MC WbisT c2 d2) &&&\n    matchT_MT c1 d1 &&& matchT_MT c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_MC WbisT c1 d1\n  matchC_MC WbisT c2 d2\n  matchT_MT c1 d1\n  matchT_MT c2 d2\n\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "have \"(Par c1 c2, Par d1 d2) \\<in> WretrT (thetaParWT Un WbisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2) \\<in> WretrT (thetaParWT \\<union> WbisT)", "unfolding WretrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2)\n    \\<in> {(c, d).\n           matchC_MC (thetaParWT \\<union> WbisT) c d \\<and> matchT_MT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_MC (thetaParWT \\<union> WbisT) (c1 | c2) (d1 | d2)\n 2. matchT_MT (c1 | c2) (d1 | d2)", "show \"matchC_MC (thetaParWT \\<union> WbisT) (Par c1 c2) (Par d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_MC (thetaParWT \\<union> WbisT) (c1 | c2) (d1 | d2)", "unfolding matchC_MC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT", "thus \"\\<exists>d' t'. (Par d1 d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> \n                     (c', d') \\<in> thetaParWT \\<union> WbisT\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT", "proof(erule Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "hence \"\\<exists>d' t'. (d1, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>wT d'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d'", "using st matchC_MC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  matchC_MC WbisT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d'", "unfolding matchC_MC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>wT d')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d'\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT", "unfolding c' thetaParWT_def"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1' | c2, d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n             WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d2.\n            d' = d1 | d2 \\<and>\n            c1' \\<approx>wT d1 \\<and> c2 \\<approx>wT d2) \\<or>\n        c1' | c2 \\<approx>wT d')", "by (metis PL.ParCL_MtransC c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "using st matchT_MT1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_MT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "unfolding matchT_MT_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "by blast"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT", "unfolding c' thetaParWT_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c2, d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n             WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>c1 c2a.\n            c2 = c1 | c2a \\<and>\n            (\\<exists>d1 d2.\n                d' = d1 | d2 \\<and>\n                c1 \\<approx>wT d1 \\<and> c2a \\<approx>wT d2)) \\<or>\n        c2 \\<approx>wT d')", "by (metis PL.ParTL_MtransC c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "assume \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "hence \"\\<exists>d' t'. (d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c2' \\<approx>wT d'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>wT d'", "using st matchC_MC2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  matchC_MC WbisT c2 d2\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>wT d'", "unfolding matchC_MC_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d2, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>wT d')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>wT d'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c2' \\<approx>wT d'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParWT \\<union> WbisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c2' \\<approx>wT d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT", "unfolding c' thetaParWT_def"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c2' \\<approx>wT d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1 | c2', d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n             WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>wT d' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d2.\n            d' = d1 | d2 \\<and>\n            c1 \\<approx>wT d1 \\<and> c2' \\<approx>wT d2) \\<or>\n        c1 | c2' \\<approx>wT d')", "by (metis PL.ParCR_MtransC c1d1)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "hence \"\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "using st matchT_MT2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  matchT_MT c2 d2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "unfolding matchT_MT_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "by blast"], ["proof (state)\nthis:\n  \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParWT \\<union> WbisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT", "unfolding c' thetaParWT_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1, d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n             WbisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>c1a c2.\n            c1 = c1a | c2 \\<and>\n            (\\<exists>d1 d2.\n                d' = d1 | d2 \\<and>\n                c1a \\<approx>wT d1 \\<and> c2 \\<approx>wT d2)) \\<or>\n        c1 \\<approx>wT d')", "by (metis PL.ParTR_MtransC c1d1)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWT \\<union> WbisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_MC (thetaParWT \\<union> WbisT) (c1 | c2) (d1 | d2)\n\ngoal (1 subgoal):\n 1. matchT_MT (c1 | c2) (d1 | d2)", "qed (unfold matchT_MT_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d1 | d2) \\<in> WretrT (thetaParWT \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>wT ?d1.3; ?c2.3 \\<approx>wT ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> WretrT (thetaParWT \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>wT ?d1.3; ?c2.3 \\<approx>wT ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> WretrT (thetaParWT \\<union> WbisT)\n\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "unfolding thetaParWT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>wT ?d1.3; ?c2.3 \\<approx>wT ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> WretrT\n                           ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>wT d1 \\<and>\n                             c2 \\<approx>wT d2} \\<union>\n                            WbisT)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n     c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}\n    \\<subseteq> WretrT\n                 ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                   c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2} \\<union>\n                  WbisT)", "by auto"], ["proof (state)\nthis:\n  thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParWT_WbisT:\n\"thetaParWT \\<subseteq> WbisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParWT \\<subseteq> WbisT", "apply(rule WbisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaParWT\n 2. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "using thetaParWT_sym thetaParWT_WretrT"], ["proof (prove)\nusing this:\n  sym thetaParWT\n  thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)\n\ngoal (2 subgoals):\n 1. sym thetaParWT\n 2. thetaParWT \\<subseteq> WretrT (thetaParWT \\<union> WbisT)", "by auto"], ["", "theorem Par_WbisT[simp]:\nassumes \"c1 \\<approx>wT d1\" and \"c2 \\<approx>wT d2\"\nshows \"Par c1 c2 \\<approx>wT Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>wT d1 | d2", "using assms thetaParWT_WbisT"], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n  thetaParWT \\<subseteq> WbisT\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>wT d1 | d2", "unfolding thetaParWT_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>wT d2\n  {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n   c1 \\<approx>wT d1 \\<and> c2 \\<approx>wT d2}\n  \\<subseteq> WbisT\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>wT d1 | d2", "by blast"], ["", "subsubsection\\<open>T-bisimilarity versus language constructs\\<close>"], ["", "text\\<open>T-Discreetness:\\<close>"], ["", "definition thetaFDW0 where \n\"thetaFDW0 \\<equiv> \n {(c1,c2). discr0 c1 \\<and> discr0 c2}\""], ["", "lemma thetaFDW0_sym:\n\"sym thetaFDW0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaFDW0", "unfolding thetaFDW0_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y) \\<in> {(c1, c2). discr0 c1 \\<and> discr0 c2} \\<longrightarrow>\n       (y, x) \\<in> {(c1, c2). discr0 c1 \\<and> discr0 c2}", "using Sbis_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>s ?d \\<Longrightarrow> ?d \\<approx>s ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y) \\<in> {(c1, c2). discr0 c1 \\<and> discr0 c2} \\<longrightarrow>\n       (y, x) \\<in> {(c1, c2). discr0 c1 \\<and> discr0 c2}", "by blast"], ["", "lemma thetaFDW0_RetrT:\n\"thetaFDW0 \\<subseteq> RetrT thetaFDW0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "fix c d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "assume c: \"discr0 c\" and d: \"discr0 d\""], ["proof (state)\nthis:\n  discr0 c\n  discr0 d\n\ngoal (1 subgoal):\n 1. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "have \"(c,d) \\<in> RetrT thetaFDW0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c, d) \\<in> RetrT thetaFDW0", "unfolding RetrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c, d) \\<in> {(c, d). matchC_TMC thetaFDW0 c d \\<and> matchT_TMT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_TMC thetaFDW0 c d\n 2. matchT_TMT c d", "show \"matchC_TMC thetaFDW0 c d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_TMC thetaFDW0 c d", "unfolding matchC_TMC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       mustT c s \\<and>\n       mustT d t \\<and>\n       s \\<approx> t \\<and> (c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaFDW0)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and> (c', d') \\<in> thetaFDW0", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and> (c', d') \\<in> thetaFDW0", "assume \"mustT c s\" \"mustT d t\" \n       \"s \\<approx> t\" and \"(c, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  mustT c s\n  mustT d t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n        (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and> (c', d') \\<in> thetaFDW0", "thus \"\\<exists>d' t'. (d, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaFDW0\""], ["proof (prove)\nusing this:\n  mustT c s\n  mustT d t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaFDW0", "unfolding thetaFDW0_def"], ["proof (prove)\nusing this:\n  mustT c s\n  mustT d t\n  s \\<approx> t\n  (c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c', d') \\<in> {(c1, c2). discr0 c1 \\<and> discr0 c2}", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n     (c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and> discr0 c' \\<and> discr0 d'", "by (metis MtransC_Refl noWhile_transC c d discr0_transC discr0_transC_indis \n                 indis_sym indis_trans)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaFDW0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_TMC thetaFDW0 c d\n\ngoal (1 subgoal):\n 1. matchT_TMT c d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_TMT c d", "show \"matchT_TMT c d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_TMT c d", "unfolding matchT_TMT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t s'.\n       mustT c s \\<and>\n       mustT d t \\<and>\n       s \\<approx> t \\<and> (c, s) \\<rightarrow>t s' \\<longrightarrow>\n       (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "fix s t s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "assume mt: \"mustT c s\" \"mustT d t\"  \n       and st: \"s \\<approx> t\" and cs: \"(c, s) \\<rightarrow>t s'\""], ["proof (state)\nthis:\n  mustT c s\n  mustT d t\n  s \\<approx> t\n  (c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "obtain t' where dt: \"(d, t) \\<rightarrow>*t t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        (d, t) \\<rightarrow>*t t' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis mt mustT_MtransT)"], ["proof (state)\nthis:\n  (d, t) \\<rightarrow>*t t'\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "hence \"t \\<approx> t'\" and \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  (d, t) \\<rightarrow>*t t'\n\ngoal (1 subgoal):\n 1. t \\<approx> t' &&& s \\<approx> s'", "using mt cs c d discr0_transT discr0_MtransT"], ["proof (prove)\nusing this:\n  (d, t) \\<rightarrow>*t t'\n  mustT c s\n  mustT d t\n  (c, s) \\<rightarrow>t s'\n  discr0 c\n  discr0 d\n  \\<lbrakk>discr0 ?c; mustT ?c ?s; (?c, ?s) \\<rightarrow>t ?s'\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n  \\<lbrakk>discr0 ?c; mustT ?c ?s; (?c, ?s) \\<rightarrow>*t ?s'\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. t \\<approx> t' &&& s \\<approx> s'", "by blast+"], ["proof (state)\nthis:\n  t \\<approx> t'\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "hence \"s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  t \\<approx> t'\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t'", "using st indis_trans indis_sym"], ["proof (prove)\nusing this:\n  t \\<approx> t'\n  s \\<approx> s'\n  s \\<approx> t\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n\ngoal (1 subgoal):\n 1. s' \\<approx> t'", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT c s; mustT d t; s \\<approx> t;\n        (c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "thus \"\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "using dt"], ["proof (prove)\nusing this:\n  s' \\<approx> t'\n  (d, t) \\<rightarrow>*t t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "by blast"], ["proof (state)\nthis:\n  \\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_TMT c d\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (c, d) \\<in> RetrT thetaFDW0\n\ngoal (1 subgoal):\n 1. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>discr0 ?c3; discr0 ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c3, ?d3) \\<in> RetrT thetaFDW0\n\ngoal (1 subgoal):\n 1. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>discr0 ?c3; discr0 ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c3, ?d3) \\<in> RetrT thetaFDW0\n\ngoal (1 subgoal):\n 1. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "unfolding thetaFDW0_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>discr0 ?c3; discr0 ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c3, ?d3)\n                    \\<in> RetrT {(c1, c2). discr0 c1 \\<and> discr0 c2}\n\ngoal (1 subgoal):\n 1. {(c1, c2). discr0 c1 \\<and> discr0 c2}\n    \\<subseteq> RetrT {(c1, c2). discr0 c1 \\<and> discr0 c2}", "by blast"], ["proof (state)\nthis:\n  thetaFDW0 \\<subseteq> RetrT thetaFDW0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaFDW0_BisT:\n\"thetaFDW0 \\<subseteq> BisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaFDW0 \\<subseteq> BisT", "apply(rule BisT_raw_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaFDW0\n 2. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "using thetaFDW0_sym thetaFDW0_RetrT"], ["proof (prove)\nusing this:\n  sym thetaFDW0\n  thetaFDW0 \\<subseteq> RetrT thetaFDW0\n\ngoal (2 subgoals):\n 1. sym thetaFDW0\n 2. thetaFDW0 \\<subseteq> RetrT thetaFDW0", "by auto"], ["", "theorem discr0_BisT[simp]:\nassumes \"discr0 c1\" and \"discr0 c2\"\nshows \"c1 \\<approx>T c2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 \\<approx>T c2", "using assms thetaFDW0_BisT"], ["proof (prove)\nusing this:\n  discr0 c1\n  discr0 c2\n  thetaFDW0 \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. c1 \\<approx>T c2", "unfolding thetaFDW0_def"], ["proof (prove)\nusing this:\n  discr0 c1\n  discr0 c2\n  {(c1, c2). discr0 c1 \\<and> discr0 c2} \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. c1 \\<approx>T c2", "by blast"], ["", "text \\<open>Atomic commands:\\<close>"], ["", "theorem Atm_BisT:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>T Atm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Atm atm \\<approx>T Atm atm", "by (metis assms siso0_Atm siso0_Sbis)"], ["", "text\\<open>Sequential composition:\\<close>"], ["", "definition thetaSeqTT where \n\"thetaSeqTT \\<equiv> \n {(c1 ;; c2, d1 ;; d2) | c1 c2 d1 d2. c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}\""], ["", "lemma thetaSeqTT_sym:\n\"sym thetaSeqTT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaSeqTT", "unfolding thetaSeqTT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}", "using BisT_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>T ?d \\<Longrightarrow> ?d \\<approx>T ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}", "by blast"], ["", "lemma thetaSeqTT_RetrT:\n\"thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "assume c1d1: \"c1 \\<approx>T d1\" and c2d2: \"c2 \\<approx>T d2\""], ["proof (state)\nthis:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "hence matchC_TMC1: \"matchC_TMC BisT c1 d1\" and matchC_TMC2: \"matchC_TMC BisT c2 d2\"\n     and matchT_TMT1: \"matchT_TMT c1 d1\" and matchT_T2: \"matchT_TMT c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n\ngoal (1 subgoal):\n 1. (matchC_TMC BisT c1 d1 &&& matchC_TMC BisT c2 d2) &&&\n    matchT_TMT c1 d1 &&& matchT_TMT c2 d2", "using BisT_matchC_TMC BisT_matchT_TMT"], ["proof (prove)\nusing this:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n  ?c \\<approx>T ?d \\<Longrightarrow> matchC_TMC BisT ?c ?d\n  ?c \\<approx>T ?d \\<Longrightarrow> matchT_TMT ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_TMC BisT c1 d1 &&& matchC_TMC BisT c2 d2) &&&\n    matchT_TMT c1 d1 &&& matchT_TMT c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_TMC BisT c1 d1\n  matchC_TMC BisT c2 d2\n  matchT_TMT c1 d1\n  matchT_TMT c2 d2\n\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "have \"(c1 ;; c2, d1 ;; d2) \\<in> RetrT (thetaSeqTT \\<union> BisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2) \\<in> RetrT (thetaSeqTT \\<union> BisT)", "unfolding RetrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2)\n    \\<in> {(c, d).\n           matchC_TMC (thetaSeqTT \\<union> BisT) c d \\<and> matchT_TMT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_TMC (thetaSeqTT \\<union> BisT) (c1 ;; c2) (d1 ;; d2)\n 2. matchT_TMT (c1 ;; c2) (d1 ;; d2)", "show \"matchC_TMC (thetaSeqTT \\<union> BisT) (c1 ;; c2) (d1 ;; d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_TMC (thetaSeqTT \\<union> BisT) (c1 ;; c2) (d1 ;; d2)", "unfolding matchC_TMC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       mustT (c1 ;; c2) s \\<and>\n       mustT (d1 ;; d2) t \\<and>\n       s \\<approx> t \\<and>\n       (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqTT \\<union> BisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; c2) s; mustT (d1 ;; d2) t; s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqTT \\<union> BisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; c2) s; mustT (d1 ;; d2) t; s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqTT \\<union> BisT", "assume mt: \"mustT (c1 ;; c2) s\" \"mustT (d1 ;; d2) t\"\n       and st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  mustT (c1 ;; c2) s\n  mustT (d1 ;; d2) t\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; c2) s; mustT (d1 ;; d2) t; s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqTT \\<union> BisT", "hence mt1: \"mustT c1 s\" \"mustT d1 t\""], ["proof (prove)\nusing this:\n  mustT (c1 ;; c2) s\n  mustT (d1 ;; d2) t\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. mustT c1 s &&& mustT d1 t", "by (metis mustT_Seq_L mustT_Seq_R)+"], ["proof (state)\nthis:\n  mustT c1 s\n  mustT d1 t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; c2) s; mustT (d1 ;; d2) t; s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqTT \\<union> BisT", "assume 0: \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; c2) s; mustT (d1 ;; d2) t; s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqTT \\<union> BisT", "thus \"(\\<exists>d' t'. (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> \n                      (c', d') \\<in> thetaSeqTT \\<union> BisT)\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqTT \\<union> BisT", "proof(elim Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqTT \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqTT \\<union> BisT", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqTT \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqTT \\<union> BisT", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqTT \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqTT \\<union> BisT", "hence \"\\<exists>d1' t'. (d1, t) \\<rightarrow>*c (d1', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>T d1'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d1'", "using mt1 st matchC_TMC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  mustT c1 s\n  mustT d1 t\n  s \\<approx> t\n  matchC_TMC BisT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d1'", "unfolding matchC_TMC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  mustT c1 s\n  mustT d1 t\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     mustT c1 s \\<and>\n     mustT d1 t \\<and>\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>T d')\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d1'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>T d1'\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaSeqTT \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqTT \\<union> BisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>T d1'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqTT \\<union> BisT", "unfolding c' thetaSeqTT_def"], ["proof (prove)\nusing this:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>T d1'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1' ;; c2, d')\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<union>\n             BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d1' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d2.\n            d' = d1 ;; d2 \\<and>\n            c1' \\<approx>T d1 \\<and> c2 \\<approx>T d2) \\<or>\n        c1' ;; c2 \\<approx>T d')", "by (metis Seq_MtransC c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqTT \\<union> BisT\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqTT \\<union> BisT", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqTT \\<union> BisT", "assume c1: \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqTT \\<union> BisT", "then"], ["proof (chain)\npicking this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2", "obtain t' where d1: \"(d1, t) \\<rightarrow>*t t'\" and s't': \"s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using mt1 st matchT_TMT1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  mustT c1 s\n  mustT d1 t\n  s \\<approx> t\n  matchT_TMT c1 d1\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding matchT_TMT_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  mustT c1 s\n  mustT d1 t\n  s \\<approx> t\n  \\<forall>s t s'.\n     mustT c1 s \\<and>\n     mustT d1 t \\<and>\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  (d1, t) \\<rightarrow>*t t'\n  s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqTT \\<union> BisT", "hence mt1: \"mustT c2 s'\" \"mustT d2 t'\""], ["proof (prove)\nusing this:\n  (d1, t) \\<rightarrow>*t t'\n  s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. mustT c2 s' &&& mustT d2 t'", "apply (metis 0 c' mt mustT_transC)"], ["proof (prove)\ngoal (1 subgoal):\n 1. mustT d2 t'", "by (metis mustT_Seq_R d1 mt(2))"], ["proof (state)\nthis:\n  mustT c2 s'\n  mustT d2 t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaSeqTT \\<union> BisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  mustT c2 s'\n  mustT d2 t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqTT \\<union> BisT", "unfolding c' thetaSeqTT_def"], ["proof (prove)\nusing this:\n  mustT c2 s'\n  mustT d2 t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c2, d')\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<union>\n             BisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>mustT c2 s'; mustT d2 t'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c2, d')\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>T d1 \\<and>\n                                c2 \\<approx>T d2} \\<union>\n                               BisT", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>mustT c2 s'; mustT d2 t'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c2, d')\n                         \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                c1 \\<approx>T d1 \\<and>\n                                c2 \\<approx>T d2} \\<union>\n                               BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>mustT c2 s'; mustT d2 t'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         ((\\<exists>c1 c2a.\n                              c2 = c1 ;; c2a \\<and>\n                              (\\<exists>d1 d2.\n                                  d' = d1 ;; d2 \\<and>\n                                  c1 \\<approx>T d1 \\<and>\n                                  c2a \\<approx>T d2)) \\<or>\n                          c2 \\<approx>T d')", "by (metis Seq_MtransT_MtransC c2d2 d1 s't')"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqTT \\<union> BisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqTT \\<union> BisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_TMC (thetaSeqTT \\<union> BisT) (c1 ;; c2) (d1 ;; d2)\n\ngoal (1 subgoal):\n 1. matchT_TMT (c1 ;; c2) (d1 ;; d2)", "qed (unfold matchT_TMT_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; c2, d1 ;; d2) \\<in> RetrT (thetaSeqTT \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>T ?d1.3; ?c2.3 \\<approx>T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> RetrT (thetaSeqTT \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>T ?d1.3; ?c2.3 \\<approx>T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> RetrT (thetaSeqTT \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "unfolding thetaSeqTT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>T ?d1.3; ?c2.3 \\<approx>T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> RetrT\n                           ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>T d1 \\<and>\n                             c2 \\<approx>T d2} \\<union>\n                            BisT)\n\ngoal (1 subgoal):\n 1. {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n     c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}\n    \\<subseteq> RetrT\n                 ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                   c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<union>\n                  BisT)", "by auto"], ["proof (state)\nthis:\n  thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaSeqTT_BisT:\n\"thetaSeqTT \\<subseteq> BisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqTT \\<subseteq> BisT", "apply(rule BisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaSeqTT\n 2. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "using thetaSeqTT_sym thetaSeqTT_RetrT"], ["proof (prove)\nusing this:\n  sym thetaSeqTT\n  thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)\n\ngoal (2 subgoals):\n 1. sym thetaSeqTT\n 2. thetaSeqTT \\<subseteq> RetrT (thetaSeqTT \\<union> BisT)", "by auto"], ["", "theorem Seq_BisT[simp]:\nassumes \"c1 \\<approx>T d1\" and \"c2 \\<approx>T d2\"\nshows \"c1 ;; c2 \\<approx>T d1 ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>T d1 ;; d2", "using assms thetaSeqTT_BisT"], ["proof (prove)\nusing this:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n  thetaSeqTT \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>T d1 ;; d2", "unfolding thetaSeqTT_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n  {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n   c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}\n  \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>T d1 ;; d2", "by blast"], ["", "text\\<open>Conditional:\\<close>"], ["", "definition thetaIfTT where \n\"thetaIfTT \\<equiv> \n {(If tst c1 c2, If tst d1 d2) | tst c1 c2 d1 d2. compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}\""], ["", "lemma thetaIfTT_sym:\n\"sym thetaIfTT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaIfTT", "unfolding thetaIfTT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}", "using BisT_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>T ?d \\<Longrightarrow> ?d \\<approx>T ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}", "by blast"], ["", "lemma thetaIfTT_RetrT:\n\"thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "fix tst c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>T d1\" and c2d2: \"c2 \\<approx>T d2\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "hence matchC_TMC1: \"matchC_TMC BisT c1 d1\" and matchC_TMC2: \"matchC_TMC BisT c2 d2\"\n     and matchT_TMT1: \"matchT_TMT c1 d1\" and matchT_TMT2: \"matchT_TMT c2 d2\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n\ngoal (1 subgoal):\n 1. (matchC_TMC BisT c1 d1 &&& matchC_TMC BisT c2 d2) &&&\n    matchT_TMT c1 d1 &&& matchT_TMT c2 d2", "using BisT_matchC_TMC BisT_matchT_TMT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n  ?c \\<approx>T ?d \\<Longrightarrow> matchC_TMC BisT ?c ?d\n  ?c \\<approx>T ?d \\<Longrightarrow> matchT_TMT ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_TMC BisT c1 d1 &&& matchC_TMC BisT c2 d2) &&&\n    matchT_TMT c1 d1 &&& matchT_TMT c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_TMC BisT c1 d1\n  matchC_TMC BisT c2 d2\n  matchT_TMT c1 d1\n  matchT_TMT c2 d2\n\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "have \"(If tst c1 c2, If tst d1 d2) \\<in> RetrT (thetaIfTT \\<union> BisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> RetrT (thetaIfTT \\<union> BisT)", "unfolding RetrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> {(c, d).\n           matchC_TMC (thetaIfTT \\<union> BisT) c d \\<and> matchT_TMT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_TMC (thetaIfTT \\<union> BisT) (if tst then c1 else c2)\n     (if tst then d1 else d2)\n 2. matchT_TMT (if tst then c1 else c2) (if tst then d1 else d2)", "show \"matchC_TMC (thetaIfTT \\<union> BisT) (If tst c1 c2) (If tst d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_TMC (thetaIfTT \\<union> BisT) (if tst then c1 else c2)\n     (if tst then d1 else d2)", "unfolding matchC_TMC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       mustT (if tst then c1 else c2) s \\<and>\n       mustT (if tst then d1 else d2) t \\<and>\n       s \\<approx> t \\<and>\n       (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfTT \\<union> BisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (if tst then c1 else c2) s;\n        mustT (if tst then d1 else d2) t; s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIfTT \\<union> BisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (if tst then c1 else c2) s;\n        mustT (if tst then d1 else d2) t; s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIfTT \\<union> BisT", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (if tst then c1 else c2) s;\n        mustT (if tst then d1 else d2) t; s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIfTT \\<union> BisT", "assume \"(If tst c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (if tst then c1 else c2) s;\n        mustT (if tst then d1 else d2) t; s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (if tst then d1 else d2, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaIfTT \\<union> BisT", "thus \"\\<exists>d' t'. (If tst d1 d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> \n                     (c', d') \\<in> thetaIfTT \\<union> BisT\""], ["proof (prove)\nusing this:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfTT \\<union> BisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfTT \\<union> BisT", "apply(erule If_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaIfTT \\<union> BisT\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaIfTT \\<union> BisT", "unfolding thetaIfTT_def"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>T d1 \\<and>\n                                c2 \\<approx>T d2} \\<union>\n                               BisT\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>T d1 \\<and>\n                                c2 \\<approx>T d2} \\<union>\n                               BisT", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s \\<approx> t' \\<and>\n                         ((\\<exists>tst c1a c2.\n                              c1 = if tst then c1a else c2 \\<and>\n                              (\\<exists>d1 d2.\n                                  d' = if tst then d1 else d2 \\<and>\n                                  compatTst tst \\<and>\n                                  c1a \\<approx>T d1 \\<and>\n                                  c2 \\<approx>T d2)) \\<or>\n                          c1 \\<approx>T d')\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>T d1 \\<and>\n                                c2 \\<approx>T d2} \\<union>\n                               BisT", "apply (metis IfTrue c1d1 compatTst_def st transC_MtransC tst)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(if tst then c1 else c2,\n                                 if tst then d1 else d2) |\n                                tst c1 c2 d1 d2.\n                                compatTst tst \\<and>\n                                c1 \\<approx>T d1 \\<and>\n                                c2 \\<approx>T d2} \\<union>\n                               BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (if tst then d1 else d2, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s \\<approx> t' \\<and>\n                         ((\\<exists>tst c1 c2a.\n                              c2 = if tst then c1 else c2a \\<and>\n                              (\\<exists>d1 d2.\n                                  d' = if tst then d1 else d2 \\<and>\n                                  compatTst tst \\<and>\n                                  c1 \\<approx>T d1 \\<and>\n                                  c2a \\<approx>T d2)) \\<or>\n                          c2 \\<approx>T d')", "by (metis IfFalse c2d2 compatTst_def st transC_MtransC tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfTT \\<union> BisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_TMC (thetaIfTT \\<union> BisT) (if tst then c1 else c2)\n   (if tst then d1 else d2)\n\ngoal (1 subgoal):\n 1. matchT_TMT (if tst then c1 else c2) (if tst then d1 else d2)", "qed (unfold matchT_TMT_def, auto)"], ["proof (state)\nthis:\n  (if tst then c1 else c2, if tst then d1 else d2)\n  \\<in> RetrT (thetaIfTT \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>T ?d1.3;\n   ?c2.3 \\<approx>T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> RetrT (thetaIfTT \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>T ?d1.3;\n   ?c2.3 \\<approx>T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> RetrT (thetaIfTT \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "unfolding thetaIfTT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>T ?d1.3;\n   ?c2.3 \\<approx>T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> RetrT\n                           ({(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>T d1 \\<and>\n                             c2 \\<approx>T d2} \\<union>\n                            BisT)\n\ngoal (1 subgoal):\n 1. {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n     compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}\n    \\<subseteq> RetrT\n                 ({(if tst then c1 else c2, if tst then d1 else d2) |tst c1\n                   c2 d1 d2.\n                   compatTst tst \\<and>\n                   c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<union>\n                  BisT)", "by auto"], ["proof (state)\nthis:\n  thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaIfTT_BisT:\n\"thetaIfTT \\<subseteq> BisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfTT \\<subseteq> BisT", "apply(rule BisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaIfTT\n 2. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "using thetaIfTT_sym thetaIfTT_RetrT"], ["proof (prove)\nusing this:\n  sym thetaIfTT\n  thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)\n\ngoal (2 subgoals):\n 1. sym thetaIfTT\n 2. thetaIfTT \\<subseteq> RetrT (thetaIfTT \\<union> BisT)", "by auto"], ["", "theorem If_BisT[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>T d1\" and \"c2 \\<approx>T d2\"\nshows \"If tst c1 c2 \\<approx>T If tst d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>T if tst then d1 else d2", "using assms thetaIfTT_BisT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n  thetaIfTT \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>T if tst then d1 else d2", "unfolding thetaIfTT_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n  {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n   compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}\n  \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>T if tst then d1 else d2", "by blast"], ["", "text\\<open>While loop:\\<close>"], ["", "definition thetaWhileW0 where \n\"thetaWhileW0 \\<equiv> \n {(While tst c, While tst d) | tst c d. compatTst tst \\<and> c \\<approx>T d} \\<union> \n {(c1 ;; (While tst c), d1 ;; (While tst d)) | tst c1 d1 c d. \n               compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c \\<approx>T d}\""], ["", "lemma thetaWhileW0_sym:\n\"sym thetaWhileW0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaWhileW0", "unfolding thetaWhileW0_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>T d1 \\<and> c \\<approx>T d} \\<longrightarrow>\n       (y, x)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c \\<approx>T d}", "using BisT_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>T ?d \\<Longrightarrow> ?d \\<approx>T ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>T d1 \\<and> c \\<approx>T d} \\<longrightarrow>\n       (y, x)\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c \\<approx>T d}", "by blast"], ["", "lemma thetaWhileW0_RetrT:\n\"thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "fix tst c d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "assume tst: \"compatTst tst\" and c_d: \"c \\<approx>T d\""], ["proof (state)\nthis:\n  compatTst tst\n  c \\<approx>T d\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "hence matchC_TMC: \"matchC_TMC BisT c d\" \n     and matchT_TMT: \"matchT_TMT c d\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>T d\n\ngoal (1 subgoal):\n 1. matchC_TMC BisT c d &&& matchT_TMT c d", "using BisT_matchC_TMC BisT_matchT_TMT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>T d\n  ?c \\<approx>T ?d \\<Longrightarrow> matchC_TMC BisT ?c ?d\n  ?c \\<approx>T ?d \\<Longrightarrow> matchT_TMT ?c ?d\n\ngoal (1 subgoal):\n 1. matchC_TMC BisT c d &&& matchT_TMT c d", "by auto"], ["proof (state)\nthis:\n  matchC_TMC BisT c d\n  matchT_TMT c d\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "have \"(While tst c, While tst d) \\<in> RetrT (thetaWhileW0 \\<union> BisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, while tst do d)\n    \\<in> RetrT (thetaWhileW0 \\<union> BisT)", "unfolding RetrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, while tst do d)\n    \\<in> {(c, d).\n           matchC_TMC (thetaWhileW0 \\<union> BisT) c d \\<and>\n           matchT_TMT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_TMC (thetaWhileW0 \\<union> BisT) (while tst do c)\n     (while tst do d)\n 2. matchT_TMT (while tst do c) (while tst do d)", "show \"matchC_TMC (thetaWhileW0 \\<union> BisT) (While tst c) (While tst d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_TMC (thetaWhileW0 \\<union> BisT) (while tst do c)\n     (while tst do d)", "unfolding matchC_TMC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       mustT (while tst do c) s \\<and>\n       mustT (while tst do d) t \\<and>\n       s \\<approx> t \\<and>\n       (while tst do c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (while tst do c) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (while tst do c) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (while tst do c) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT", "assume \"(While tst c, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (while tst do c) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT", "thus \"\\<exists>d' t'. (While tst d, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> \n                     (c', d') \\<in> thetaWhileW0 \\<union> BisT\""], ["proof (prove)\nusing this:\n  (while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT", "apply(erule While_transC_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW0 \\<union> BisT", "unfolding thetaWhileW0_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d')\n                         \\<in> {(while tst do c, while tst do d) |tst c d.\n                                compatTst tst \\<and>\n                                c \\<approx>T d} \\<union>\n                               {(c1 ;; while tst do c,\n                                 d1 ;; while tst do d) |\n                                tst c1 d1 c d.\n                                compatTst tst \\<and>\n                                c1 \\<approx>T d1 \\<and>\n                                c \\<approx>T d} \\<union>\n                               BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tval tst s; c' = c ;; while tst do c; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n                         s \\<approx> t' \\<and>\n                         ((\\<exists>d1 d.\n                              d' = d1 ;; while tst do d \\<and>\n                              compatTst tst \\<and>\n                              c \\<approx>T d1 \\<and> c \\<approx>T d) \\<or>\n                          c ;; while tst do c \\<approx>T d')", "by (metis WhileTrue transC_MtransC c_d compatTst_def st tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_TMC (thetaWhileW0 \\<union> BisT) (while tst do c) (while tst do d)\n\ngoal (1 subgoal):\n 1. matchT_TMT (while tst do c) (while tst do d)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_TMT (while tst do c) (while tst do d)", "show \"matchT_TMT (While tst c) (While tst d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_TMT (while tst do c) (while tst do d)", "unfolding matchT_TMT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t s'.\n       mustT (while tst do c) s \\<and>\n       mustT (while tst do d) t \\<and>\n       s \\<approx> t \\<and>\n       (while tst do c, s) \\<rightarrow>t s' \\<longrightarrow>\n       (\\<exists>t'.\n           (while tst do d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT (while tst do c) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                            s' \\<approx> t'", "fix s t s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT (while tst do c) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                            s' \\<approx> t'", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT (while tst do c) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                            s' \\<approx> t'", "assume \"(While tst c, s) \\<rightarrow>t s'\""], ["proof (state)\nthis:\n  (while tst do c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<And>s t s'.\n       \\<lbrakk>mustT (while tst do c) s; mustT (while tst do d) t;\n        s \\<approx> t; (while tst do c, s) \\<rightarrow>t s'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                            s' \\<approx> t'", "thus \"\\<exists>t'. (While tst d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \""], ["proof (prove)\nusing this:\n  (while tst do c, s) \\<rightarrow>t s'\n\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (while tst do d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (while tst do c, s) \\<rightarrow>t s' \\<Longrightarrow>\n    \\<exists>t'.\n       (while tst do d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "apply(erule While_transT_invert)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                         s' \\<approx> t'", "unfolding thetaWhileW0_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                         s' \\<approx> t'", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; s' = s\\<rbrakk>\n    \\<Longrightarrow> \\<exists>t'.\n                         (while tst do d, t) \\<rightarrow>*t t' \\<and>\n                         s \\<approx> t'", "by (metis WhileFalse compatTst_def st transT_MtransT tst)"], ["proof (state)\nthis:\n  \\<exists>t'. (while tst do d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_TMT (while tst do c) (while tst do d)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (while tst do c, while tst do d) \\<in> RetrT (thetaWhileW0 \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> RetrT (thetaWhileW0 \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> RetrT (thetaWhileW0 \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> RetrT (thetaWhileW0 \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "fix tst c1 d1  c d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>T d1\" and c_d: \"c \\<approx>T d\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>T d1\n  c \\<approx>T d\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "hence matchC_TMC1: \"matchC_TMC BisT c1 d1\" and matchC_TMC: \"matchC_TMC BisT c d\" \n     and matchT_TMT1: \"matchT_TMT c1 d1\" and matchT_TMT: \"matchT_TMT c d\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>T d1\n  c \\<approx>T d\n\ngoal (1 subgoal):\n 1. (matchC_TMC BisT c1 d1 &&& matchC_TMC BisT c d) &&&\n    matchT_TMT c1 d1 &&& matchT_TMT c d", "using BisT_matchC_TMC BisT_matchT_TMT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>T d1\n  c \\<approx>T d\n  ?c \\<approx>T ?d \\<Longrightarrow> matchC_TMC BisT ?c ?d\n  ?c \\<approx>T ?d \\<Longrightarrow> matchT_TMT ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_TMC BisT c1 d1 &&& matchC_TMC BisT c d) &&&\n    matchT_TMT c1 d1 &&& matchT_TMT c d", "by auto"], ["proof (state)\nthis:\n  matchC_TMC BisT c1 d1\n  matchC_TMC BisT c d\n  matchT_TMT c1 d1\n  matchT_TMT c d\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "have \"(c1 ;; (While tst c), d1 ;; (While tst d)) \\<in> RetrT (thetaWhileW0 \\<union> BisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, d1 ;; while tst do d)\n    \\<in> RetrT (thetaWhileW0 \\<union> BisT)", "unfolding RetrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, d1 ;; while tst do d)\n    \\<in> {(c, d).\n           matchC_TMC (thetaWhileW0 \\<union> BisT) c d \\<and>\n           matchT_TMT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_TMC (thetaWhileW0 \\<union> BisT) (c1 ;; while tst do c)\n     (d1 ;; while tst do d)\n 2. matchT_TMT (c1 ;; while tst do c) (d1 ;; while tst do d)", "show \"matchC_TMC (thetaWhileW0 \\<union> BisT) (c1 ;; (While tst c)) (d1 ;; (While tst d))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_TMC (thetaWhileW0 \\<union> BisT) (c1 ;; while tst do c)\n     (d1 ;; while tst do d)", "unfolding matchC_TMC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       mustT (c1 ;; while tst do c) s \\<and>\n       mustT (d1 ;; while tst do d) t \\<and>\n       s \\<approx> t \\<and>\n       (c1 ;; while tst do c, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; while tst do c) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; while tst do c) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT", "assume mt: \"mustT (c1 ;; While tst c) s\" \"mustT (d1 ;; While tst d) t\"\n       and st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  mustT (c1 ;; while tst do c) s\n  mustT (d1 ;; while tst do d) t\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; while tst do c) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT", "hence mt1: \"mustT c1 s\" \"mustT d1 t\""], ["proof (prove)\nusing this:\n  mustT (c1 ;; while tst do c) s\n  mustT (d1 ;; while tst do d) t\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. mustT c1 s &&& mustT d1 t", "by (metis mustT_Seq_L mustT_Seq_R)+"], ["proof (state)\nthis:\n  mustT c1 s\n  mustT d1 t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; while tst do c) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT", "assume 0: \"(c1 ;; (While tst c), s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 ;; while tst do c) s;\n        mustT (d1 ;; while tst do d) t; s \\<approx> t;\n        (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT", "thus \"\\<exists>d' t'. (d1 ;; (While tst d), t) \\<rightarrow>*c (d', t') \\<and> \n                     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT\""], ["proof (prove)\nusing this:\n  (c1 ;; while tst do c, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; while tst do c, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW0 \\<union> BisT", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW0 \\<union> BisT", "assume \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; (While tst c)\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW0 \\<union> BisT", "hence \"\\<exists>d' t'. (d1, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>T d'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d'", "using mt1 st matchC_TMC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n  mustT c1 s\n  mustT d1 t\n  s \\<approx> t\n  matchC_TMC BisT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d'", "unfolding matchC_TMC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; while tst do c\n  mustT c1 s\n  mustT d1 t\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     mustT c1 s \\<and>\n     mustT d1 t \\<and>\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>T d')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>T d'\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s');\n        c' = c1' ;; while tst do c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 ;; while tst do d, t) \\<rightarrow>*c\n                            (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaWhileW0 \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW0 \\<union> BisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>T d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT", "unfolding c' thetaWhileW0_def"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>T d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1' ;; while tst do c, d')\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>T d1 \\<and> c \\<approx>T d} \\<union>\n             BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d.\n            d' = d1 ;; while tst do d \\<and>\n            compatTst tst \\<and>\n            c1' \\<approx>T d1 \\<and> c \\<approx>T d) \\<or>\n        c1' ;; while tst do c \\<approx>T d')", "by (metis Seq_MtransC c_d tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW0 \\<union> BisT", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW0 \\<union> BisT", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = While tst c\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW0 \\<union> BisT", "then"], ["proof (chain)\npicking this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c", "obtain t' where \"(d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using mt1 st matchT_TMT1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n  mustT c1 s\n  mustT d1 t\n  s \\<approx> t\n  matchT_TMT c1 d1\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding matchT_TMT_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = while tst do c\n  mustT c1 s\n  mustT d1 t\n  s \\<approx> t\n  \\<forall>s t s'.\n     mustT c1 s \\<and>\n     mustT d1 t \\<and>\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = while tst do c\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 ;; while tst do d, t) \\<rightarrow>*c\n                         (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaWhileW0 \\<union> BisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT", "unfolding c' thetaWhileW0_def"], ["proof (prove)\nusing this:\n  (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (while tst do c, d')\n       \\<in> {(while tst do c, while tst do d) |tst c d.\n              compatTst tst \\<and> c \\<approx>T d} \\<union>\n             {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n              compatTst tst \\<and>\n              c1 \\<approx>T d1 \\<and> c \\<approx>T d} \\<union>\n             BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d.\n            d' = while tst do d \\<and>\n            compatTst tst \\<and> c \\<approx>T d) \\<or>\n        while tst do c \\<approx>T d')", "by (metis Seq_MtransT_MtransC c_d tst)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 ;; while tst do d, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaWhileW0 \\<union> BisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_TMC (thetaWhileW0 \\<union> BisT) (c1 ;; while tst do c)\n   (d1 ;; while tst do d)\n\ngoal (1 subgoal):\n 1. matchT_TMT (c1 ;; while tst do c) (d1 ;; while tst do d)", "qed (unfold matchT_TMT_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; while tst do c, d1 ;; while tst do d)\n  \\<in> RetrT (thetaWhileW0 \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>T ?d1.3;\n   ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> RetrT (thetaWhileW0 \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> RetrT (thetaWhileW0 \\<union> BisT)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>T ?d1.3;\n   ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> RetrT (thetaWhileW0 \\<union> BisT)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> RetrT (thetaWhileW0 \\<union> BisT)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>T ?d1.3;\n   ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> RetrT (thetaWhileW0 \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "unfolding thetaWhileW0_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (while ?tst3 do ?c3, while ?tst3 do ?d3)\n                    \\<in> RetrT\n                           ({(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>T d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>T d1 \\<and>\n                             c \\<approx>T d} \\<union>\n                            BisT)\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>T ?d1.3;\n   ?c3 \\<approx>T ?d3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; while ?tst3 do ?c3,\n                     ?d1.3 ;; while ?tst3 do ?d3)\n                    \\<in> RetrT\n                           ({(while tst do c, while tst do d) |tst c d.\n                             compatTst tst \\<and> c \\<approx>T d} \\<union>\n                            {(c1 ;; while tst do c, d1 ;; while tst do d) |\n                             tst c1 d1 c d.\n                             compatTst tst \\<and>\n                             c1 \\<approx>T d1 \\<and>\n                             c \\<approx>T d} \\<union>\n                            BisT)\n\ngoal (1 subgoal):\n 1. {(while tst do c, while tst do d) |tst c d.\n     compatTst tst \\<and> c \\<approx>T d} \\<union>\n    {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n     compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c \\<approx>T d}\n    \\<subseteq> RetrT\n                 ({(while tst do c, while tst do d) |tst c d.\n                   compatTst tst \\<and> c \\<approx>T d} \\<union>\n                  {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c\n                   d. compatTst tst \\<and>\n                      c1 \\<approx>T d1 \\<and> c \\<approx>T d} \\<union>\n                  BisT)", "by auto"], ["proof (state)\nthis:\n  thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaWhileW0_BisT:\n\"thetaWhileW0 \\<subseteq> BisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaWhileW0 \\<subseteq> BisT", "apply(rule BisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaWhileW0\n 2. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "using thetaWhileW0_sym thetaWhileW0_RetrT"], ["proof (prove)\nusing this:\n  sym thetaWhileW0\n  thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)\n\ngoal (2 subgoals):\n 1. sym thetaWhileW0\n 2. thetaWhileW0 \\<subseteq> RetrT (thetaWhileW0 \\<union> BisT)", "by auto"], ["", "theorem While_BisT[simp]:\nassumes \"compatTst tst\" and \"c \\<approx>T d\"\nshows \"While tst c \\<approx>T While tst d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. while tst do c \\<approx>T while tst do d", "using assms thetaWhileW0_BisT"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>T d\n  thetaWhileW0 \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. while tst do c \\<approx>T while tst do d", "unfolding thetaWhileW0_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c \\<approx>T d\n  {(while tst do c, while tst do d) |tst c d.\n   compatTst tst \\<and> c \\<approx>T d} \\<union>\n  {(c1 ;; while tst do c, d1 ;; while tst do d) |tst c1 d1 c d.\n   compatTst tst \\<and> c1 \\<approx>T d1 \\<and> c \\<approx>T d}\n  \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. while tst do c \\<approx>T while tst do d", "by auto"], ["", "text\\<open>Parallel composition:\\<close>"], ["", "definition thetaParTT where \n\"thetaParTT \\<equiv> \n {(Par c1 c2, Par d1 d2) | c1 c2 d1 d2. c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}\""], ["", "lemma thetaParTT_sym:\n\"sym thetaParTT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaParTT", "unfolding thetaParTT_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}", "using BisT_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>T ?d \\<Longrightarrow> ?d \\<approx>T ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}", "by blast"], ["", "lemma thetaParTT_RetrT:\n\"thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "assume c1d1: \"c1 \\<approx>T d1\" and c2d2: \"c2 \\<approx>T d2\""], ["proof (state)\nthis:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "hence matchC_TMC1: \"matchC_TMC BisT c1 d1\" and matchC_TMC2: \"matchC_TMC BisT c2 d2\"\n     and matchT_TMT1: \"matchT_TMT c1 d1\" and matchT_TMT2: \"matchT_TMT c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n\ngoal (1 subgoal):\n 1. (matchC_TMC BisT c1 d1 &&& matchC_TMC BisT c2 d2) &&&\n    matchT_TMT c1 d1 &&& matchT_TMT c2 d2", "using BisT_matchC_TMC BisT_matchT_TMT"], ["proof (prove)\nusing this:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n  ?c \\<approx>T ?d \\<Longrightarrow> matchC_TMC BisT ?c ?d\n  ?c \\<approx>T ?d \\<Longrightarrow> matchT_TMT ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_TMC BisT c1 d1 &&& matchC_TMC BisT c2 d2) &&&\n    matchT_TMT c1 d1 &&& matchT_TMT c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_TMC BisT c1 d1\n  matchC_TMC BisT c2 d2\n  matchT_TMT c1 d1\n  matchT_TMT c2 d2\n\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "have \"(Par c1 c2, Par d1 d2) \\<in> RetrT (thetaParTT \\<union> BisT)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2) \\<in> RetrT (thetaParTT \\<union> BisT)", "unfolding RetrT_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2)\n    \\<in> {(c, d).\n           matchC_TMC (thetaParTT \\<union> BisT) c d \\<and> matchT_TMT c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_TMC (thetaParTT \\<union> BisT) (c1 | c2) (d1 | d2)\n 2. matchT_TMT (c1 | c2) (d1 | d2)", "show \"matchC_TMC (thetaParTT \\<union> BisT) (Par c1 c2) (Par d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_TMC (thetaParTT \\<union> BisT) (c1 | c2) (d1 | d2)", "unfolding matchC_TMC_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       mustT (c1 | c2) s \\<and>\n       mustT (d1 | d2) t \\<and>\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT)", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 | c2) s; mustT (d1 | d2) t; s \\<approx> t;\n        (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 | c2) s; mustT (d1 | d2) t; s \\<approx> t;\n        (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT", "assume \"mustT (Par c1 c2) s\" and \"mustT (Par d1 d2) t\"\n       and st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  mustT (c1 | c2) s\n  mustT (d1 | d2) t\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 | c2) s; mustT (d1 | d2) t; s \\<approx> t;\n        (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT", "hence mt: \"mustT c1 s\" \"mustT c2 s\"\n                 \"mustT d1 t\" \"mustT d2 t\""], ["proof (prove)\nusing this:\n  mustT (c1 | c2) s\n  mustT (d1 | d2) t\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. (mustT c1 s &&& mustT c2 s) &&& mustT d1 t &&& mustT d2 t", "by (metis mustT_Par_L mustT_Par_R)+"], ["proof (state)\nthis:\n  mustT c1 s\n  mustT c2 s\n  mustT d1 t\n  mustT d2 t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 | c2) s; mustT (d1 | d2) t; s \\<approx> t;\n        (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>mustT (c1 | c2) s; mustT (d1 | d2) t; s \\<approx> t;\n        (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT", "thus \"\\<exists>d' t'. (Par d1 d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> \n                     (c', d') \\<in> thetaParTT \\<union> BisT\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT", "proof(elim Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "hence \"\\<exists>d' t'. (d1, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>T d'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d'", "using mt st matchC_TMC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  mustT c1 s\n  mustT c2 s\n  mustT d1 t\n  mustT d2 t\n  s \\<approx> t\n  matchC_TMC BisT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d'", "unfolding matchC_TMC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  mustT c1 s\n  mustT c2 s\n  mustT d1 t\n  mustT d2 t\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     mustT c1 s \\<and>\n     mustT d1 t \\<and>\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>T d')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>T d'\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>T d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT", "unfolding c' thetaParTT_def"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d1, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>T d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1' | c2, d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<union>\n             BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>T d' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d2.\n            d' = d1 | d2 \\<and>\n            c1' \\<approx>T d1 \\<and> c2 \\<approx>T d2) \\<or>\n        c1' | c2 \\<approx>T d')", "by (metis ParCL_MtransC c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "using mt st matchT_TMT1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  mustT c1 s\n  mustT c2 s\n  mustT d1 t\n  mustT d2 t\n  s \\<approx> t\n  matchT_TMT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "unfolding matchT_TMT_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  mustT c1 s\n  mustT c2 s\n  mustT d1 t\n  mustT d2 t\n  s \\<approx> t\n  \\<forall>s t s'.\n     mustT c1 s \\<and>\n     mustT d1 t \\<and>\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "by blast"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT", "unfolding c' thetaParTT_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c2, d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<union>\n             BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>c1 c2a.\n            c2 = c1 | c2a \\<and>\n            (\\<exists>d1 d2.\n                d' = d1 | d2 \\<and>\n                c1 \\<approx>T d1 \\<and> c2a \\<approx>T d2)) \\<or>\n        c2 \\<approx>T d')", "by (metis PL.ParTL_MtransC c2d2)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "assume \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "hence \"\\<exists>d' t'. (d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c2' \\<approx>T d'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>T d'", "using mt st matchC_TMC2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  mustT c1 s\n  mustT c2 s\n  mustT d1 t\n  mustT d2 t\n  s \\<approx> t\n  matchC_TMC BisT c2 d2\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>T d'", "unfolding matchC_TMC_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  mustT c1 s\n  mustT c2 s\n  mustT d1 t\n  mustT d2 t\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     mustT c2 s \\<and>\n     mustT d2 t \\<and>\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d2, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>T d')\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>T d'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c2' \\<approx>T d'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>d' t'.\n                            (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                            s' \\<approx> t' \\<and>\n                            (c', d') \\<in> thetaParTT \\<union> BisT\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c2' \\<approx>T d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT", "unfolding c' thetaParTT_def"], ["proof (prove)\nusing this:\n  \\<exists>d' t'.\n     (d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> c2' \\<approx>T d'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1 | c2', d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<union>\n             BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> c2' \\<approx>T d' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>d1 d2.\n            d' = d1 | d2 \\<and>\n            c1 \\<approx>T d1 \\<and> c2' \\<approx>T d2) \\<or>\n        c1 | c2' \\<approx>T d')", "by (metis PL.ParCR_MtransC c1d1)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "hence \"\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "using mt st matchT_TMT2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  mustT c1 s\n  mustT c2 s\n  mustT d1 t\n  mustT d2 t\n  s \\<approx> t\n  matchT_TMT c2 d2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "unfolding matchT_TMT_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  mustT c1 s\n  mustT c2 s\n  mustT d1 t\n  mustT d2 t\n  s \\<approx> t\n  \\<forall>s t s'.\n     mustT c2 s \\<and>\n     mustT d2 t \\<and>\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "by blast"], ["proof (state)\nthis:\n  \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> \\<exists>d' t'.\n                         (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                         s' \\<approx> t' \\<and>\n                         (c', d') \\<in> thetaParTT \\<union> BisT", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT", "unfolding c' thetaParTT_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       (c1, d')\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<union>\n             BisT", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    \\<exists>d' t'.\n       (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n       s' \\<approx> t' \\<and>\n       ((\\<exists>c1a c2.\n            c1 = c1a | c2 \\<and>\n            (\\<exists>d1 d2.\n                d' = d1 | d2 \\<and>\n                c1a \\<approx>T d1 \\<and> c2 \\<approx>T d2)) \\<or>\n        c1 \\<approx>T d')", "by (metis PL.ParTR_MtransC c1d1)"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d' t'.\n     (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n     s' \\<approx> t' \\<and> (c', d') \\<in> thetaParTT \\<union> BisT\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_TMC (thetaParTT \\<union> BisT) (c1 | c2) (d1 | d2)\n\ngoal (1 subgoal):\n 1. matchT_TMT (c1 | c2) (d1 | d2)", "qed (unfold matchT_TMT_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d1 | d2) \\<in> RetrT (thetaParTT \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>T ?d1.3; ?c2.3 \\<approx>T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> RetrT (thetaParTT \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>T ?d1.3; ?c2.3 \\<approx>T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> RetrT (thetaParTT \\<union> BisT)\n\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "unfolding thetaParTT_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>T ?d1.3; ?c2.3 \\<approx>T ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> RetrT\n                           ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>T d1 \\<and>\n                             c2 \\<approx>T d2} \\<union>\n                            BisT)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n     c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}\n    \\<subseteq> RetrT\n                 ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                   c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2} \\<union>\n                  BisT)", "by auto"], ["proof (state)\nthis:\n  thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParTT_BisT:\n\"thetaParTT \\<subseteq> BisT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParTT \\<subseteq> BisT", "apply(rule BisT_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaParTT\n 2. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "using thetaParTT_sym thetaParTT_RetrT"], ["proof (prove)\nusing this:\n  sym thetaParTT\n  thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)\n\ngoal (2 subgoals):\n 1. sym thetaParTT\n 2. thetaParTT \\<subseteq> RetrT (thetaParTT \\<union> BisT)", "by auto"], ["", "theorem Par_BisT[simp]:\nassumes \"c1 \\<approx>T d1\" and \"c2 \\<approx>T d2\"\nshows \"Par c1 c2 \\<approx>T Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>T d1 | d2", "using assms thetaParTT_BisT"], ["proof (prove)\nusing this:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n  thetaParTT \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>T d1 | d2", "unfolding thetaParTT_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>T d1\n  c2 \\<approx>T d2\n  {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n   c1 \\<approx>T d1 \\<and> c2 \\<approx>T d2}\n  \\<subseteq> BisT\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>T d1 | d2", "by blast"], ["", "subsubsection\\<open>W-bisimilarity versus language constructs\\<close>"], ["", "text \\<open>Atomic commands:\\<close>"], ["", "theorem Atm_Wbis[simp]:\nassumes \"compatAtm atm\" \nshows \"Atm atm \\<approx>w Atm atm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Atm atm \\<approx>w Atm atm", "by (metis Atm_Sbis assms bis_imp)"], ["", "text\\<open>Discreetness:\\<close>"], ["", "theorem discr_Wbis[simp]:\nassumes *: \"discr c\" and **: \"discr d\"\nshows \"c \\<approx>w d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<approx>w d", "by (metis * ** bis_imp(4) discr_ZObis)"], ["", "text\\<open>Sequential composition:\\<close>"], ["", "definition thetaSeqW where \n\"thetaSeqW \\<equiv> \n {(c1 ;; c2, d1 ;; d2) | c1 c2 d1 d2. c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2}\""], ["", "lemma thetaSeqW_sym:\n\"sym thetaSeqW\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaSeqW", "unfolding thetaSeqW_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2}", "using WbisT_Sym Wbis_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>wT ?d \\<Longrightarrow> ?d \\<approx>wT ?c\n  ?c \\<approx>w ?d \\<Longrightarrow> ?d \\<approx>w ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2}", "by blast"], ["", "lemma thetaSeqW_Wretr:\n\"thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "assume c1d1: \"c1 \\<approx>wT d1\" and c2d2: \"c2 \\<approx>w d2\""], ["proof (state)\nthis:\n  c1 \\<approx>wT d1\n  c2 \\<approx>w d2\n\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "hence matchC_MC1: \"matchC_MC WbisT c1 d1\" and matchC_W2: \"matchC_M Wbis c2 d2\"\n     and matchT_MT1: \"matchT_MT c1 d1\" and matchT_M2: \"matchT_M c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>w d2\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_M Wbis c2 d2) &&&\n    matchT_MT c1 d1 &&& matchT_M c2 d2", "using WbisT_matchC_MC WbisT_matchT_MT Wbis_matchC_M Wbis_matchT_M"], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>w d2\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchC_MC WbisT ?c ?d\n  ?c \\<approx>wT ?d \\<Longrightarrow> matchT_MT ?c ?d\n  ?c \\<approx>w ?d \\<Longrightarrow> matchC_M Wbis ?c ?d\n  ?c \\<approx>w ?d \\<Longrightarrow> matchT_M ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_MC WbisT c1 d1 &&& matchC_M Wbis c2 d2) &&&\n    matchT_MT c1 d1 &&& matchT_M c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_MC WbisT c1 d1\n  matchC_M Wbis c2 d2\n  matchT_MT c1 d1\n  matchT_M c2 d2\n\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "have \"(c1 ;; c2, d1 ;; d2) \\<in> Wretr (thetaSeqW \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2) \\<in> Wretr (thetaSeqW \\<union> Wbis)", "unfolding Wretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2)\n    \\<in> {(c, d).\n           matchC_M (thetaSeqW \\<union> Wbis) c d \\<and> matchT_M c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_M (thetaSeqW \\<union> Wbis) (c1 ;; c2) (d1 ;; d2)\n 2. matchT_M (c1 ;; c2) (d1 ;; d2)", "show \"matchC_M (thetaSeqW \\<union> Wbis) (c1 ;; c2) (d1 ;; d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_M (thetaSeqW \\<union> Wbis) (c1 ;; c2) (d1 ;; d2)", "unfolding matchC_M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n       (\\<exists>t'.\n           (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n           s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus \n       \"(\\<exists>d' t'. (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or> \n        (\\<exists>t'. (d1 ;; d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"\\<exists>d1' t'. (d1, t) \\<rightarrow>*c (d1', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>wT d1'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d1'", "using st matchC_MC1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  matchC_MC WbisT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d1'", "unfolding matchC_MC_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>wT d')\n\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d1'", "by blast"], ["proof (state)\nthis:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d1'\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d1'\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaSeqW_def"], ["proof (prove)\nusing this:\n  \\<exists>d1' t'.\n     (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n     s' \\<approx> t' \\<and> c1' \\<approx>wT d1'\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d1' t'.\n       (d1, t) \\<rightarrow>*c (d1', t') \\<and>\n       s' \\<approx> t' \\<and> c1' \\<approx>wT d1' \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        ((\\<exists>d1 d2.\n             d' = d1 ;; d2 \\<and>\n             c1' \\<approx>wT d1 \\<and> c2 \\<approx>w d2) \\<or>\n         c1' ;; c2 \\<approx>w d')) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' ;; c2))", "by (metis PL.Seq_MtransC c2d2)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "using st matchT_MT1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_MT c1 d1\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "unfolding matchT_MT_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'", "by auto"], ["proof (state)\nthis:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaSeqW_def"], ["proof (prove)\nusing this:\n  \\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t'\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        ((\\<exists>c1 c2a.\n             c2 = c1 ;; c2a \\<and>\n             (\\<exists>d1 d2.\n                 d' = d1 ;; d2 \\<and>\n                 c1 \\<approx>wT d1 \\<and> c2a \\<approx>w d2)) \\<or>\n         c2 \\<approx>w d')) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "by (metis PL.Seq_MtransT_MtransC c2d2)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqW \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_M (thetaSeqW \\<union> Wbis) (c1 ;; c2) (d1 ;; d2)\n\ngoal (1 subgoal):\n 1. matchT_M (c1 ;; c2) (d1 ;; d2)", "qed (unfold matchT_M_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; c2, d1 ;; d2) \\<in> Wretr (thetaSeqW \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>wT ?d1.3; ?c2.3 \\<approx>w ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> Wretr (thetaSeqW \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>wT ?d1.3; ?c2.3 \\<approx>w ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> Wretr (thetaSeqW \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "unfolding thetaSeqW_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>wT ?d1.3; ?c2.3 \\<approx>w ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> Wretr\n                           ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>wT d1 \\<and>\n                             c2 \\<approx>w d2} \\<union>\n                            Wbis)\n\ngoal (1 subgoal):\n 1. {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n     c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2}\n    \\<subseteq> Wretr\n                 ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                   c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2} \\<union>\n                  Wbis)", "by auto"], ["proof (state)\nthis:\n  thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaSeqW_Wbis:\n\"thetaSeqW \\<subseteq> Wbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqW \\<subseteq> Wbis", "apply(rule Wbis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaSeqW\n 2. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "using thetaSeqW_sym thetaSeqW_Wretr"], ["proof (prove)\nusing this:\n  sym thetaSeqW\n  thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)\n\ngoal (2 subgoals):\n 1. sym thetaSeqW\n 2. thetaSeqW \\<subseteq> Wretr (thetaSeqW \\<union> Wbis)", "by auto"], ["", "theorem Seq_WbisT_Wbis[simp]:\nassumes \"c1 \\<approx>wT d1\" and \"c2 \\<approx>w d2\"\nshows \"c1 ;; c2 \\<approx>w d1 ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>w d1 ;; d2", "using assms thetaSeqW_Wbis"], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>w d2\n  thetaSeqW \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>w d1 ;; d2", "unfolding thetaSeqW_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>wT d1\n  c2 \\<approx>w d2\n  {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n   c1 \\<approx>wT d1 \\<and> c2 \\<approx>w d2}\n  \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>w d1 ;; d2", "by blast"], ["", "theorem Seq_siso_Wbis[simp]:\nassumes \"siso e\" and \"c2 \\<approx>w d2\"\nshows \"e ;; c2 \\<approx>w e ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e ;; c2 \\<approx>w e ;; d2", "using assms"], ["proof (prove)\nusing this:\n  siso e\n  c2 \\<approx>w d2\n\ngoal (1 subgoal):\n 1. e ;; c2 \\<approx>w e ;; d2", "by auto"], ["", "(*  *)"], ["", "definition thetaSeqWD where \n\"thetaSeqWD \\<equiv> \n {(c1 ;; c2, d1 ;; d2) | c1 c2 d1 d2. c1 \\<approx>w d1 \\<and> discr c2 \\<and> discr d2}\""], ["", "lemma thetaSeqWD_sym:\n\"sym thetaSeqWD\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaSeqWD", "unfolding thetaSeqWD_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>w d1 \\<and>\n              discr c2 \\<and> discr d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>w d1 \\<and> discr c2 \\<and> discr d2}", "using Wbis_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>w ?d \\<Longrightarrow> ?d \\<approx>w ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>w d1 \\<and>\n              discr c2 \\<and> discr d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n              c1 \\<approx>w d1 \\<and> discr c2 \\<and> discr d2}", "by blast"], ["", "lemma thetaSeqWD_Wretr:\n\"thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "assume c1d1: \"c1 \\<approx>w d1\" and c2: \"discr c2\" and d2: \"discr d2\""], ["proof (state)\nthis:\n  c1 \\<approx>w d1\n  discr c2\n  discr d2\n\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "hence matchC_M: \"matchC_M Wbis c1 d1\" \n     and matchT_M: \"matchT_M c1 d1\""], ["proof (prove)\nusing this:\n  c1 \\<approx>w d1\n  discr c2\n  discr d2\n\ngoal (1 subgoal):\n 1. matchC_M Wbis c1 d1 &&& matchT_M c1 d1", "using Wbis_matchC_M Wbis_matchT_M"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d1\n  discr c2\n  discr d2\n  ?c \\<approx>w ?d \\<Longrightarrow> matchC_M Wbis ?c ?d\n  ?c \\<approx>w ?d \\<Longrightarrow> matchT_M ?c ?d\n\ngoal (1 subgoal):\n 1. matchC_M Wbis c1 d1 &&& matchT_M c1 d1", "by auto"], ["proof (state)\nthis:\n  matchC_M Wbis c1 d1\n  matchT_M c1 d1\n\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "have \"(c1 ;; c2, d1 ;; d2) \\<in> Wretr (thetaSeqWD \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2) \\<in> Wretr (thetaSeqWD \\<union> Wbis)", "unfolding Wretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, d1 ;; d2)\n    \\<in> {(c, d).\n           matchC_M (thetaSeqWD \\<union> Wbis) c d \\<and> matchT_M c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_M (thetaSeqWD \\<union> Wbis) (c1 ;; c2) (d1 ;; d2)\n 2. matchT_M (c1 ;; c2) (d1 ;; d2)", "show \"matchC_M (thetaSeqWD \\<union> Wbis) (c1 ;; c2) (d1 ;; d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_M (thetaSeqWD \\<union> Wbis) (c1 ;; c2) (d1 ;; d2)", "unfolding matchC_M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n       (\\<exists>t'.\n           (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n           s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(c1 ;; c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (c1 ;; c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus \n       \"(\\<exists>d' t'. (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or> \n        (\\<exists>t'. (d1 ;; d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 ;; c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 ;; c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "proof(erule Seq_transC_invert)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = c1' ;; c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence\n         \"(\\<exists>d' t'. (d1, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or> \n          (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "using st matchC_M"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  matchC_M Wbis c1 d1\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "unfolding matchC_M_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' ;; c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>w d') \\<or>\n     (\\<exists>t'.\n         (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (2 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' ;; c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaSeqWD_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' ;; c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c1' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c1' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 ;; d2 \\<and>\n                                  c1' \\<approx>w d1 \\<and>\n                                  discr c2 \\<and> discr d2) \\<or>\n                              c1' ;; c2 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply (metis PL.Seq_MtransC c2 d2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' ;; c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 ;; d2 \\<and>\n                                  c1' \\<approx>w d1 \\<and>\n                                  discr c2 \\<and> discr d2) \\<or>\n                              c1' ;; c2 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' ;; c2))", "by (metis PL.Seq_MtransT_MtransC c2 d2 discr_Seq discr_Wbis)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(\\<exists>d' t'. (d1, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "using st matchT_M"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_M c1 d1\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "unfolding matchT_M_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaSeqWD_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> discr c2 \\<and> discr d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 ;; c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 ;; d2 \\<and>\nc1 \\<approx>w d1 \\<and> discr c2a \\<and> discr d2)) \\<or>\n                              c2 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply (metis PL.Seq_MtransC c2 d2 discr_Seq discr_Wbis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    discr c2 \\<and> discr d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 ;; c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 ;; d2 \\<and>\nc1 \\<approx>w d1 \\<and> discr c2a \\<and> discr d2)) \\<or>\n                              c2 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "by (metis PL.Seq_MtransT_MtransC c2 d2 discr_Wbis)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 ;; d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaSeqWD \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 ;; d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_M (thetaSeqWD \\<union> Wbis) (c1 ;; c2) (d1 ;; d2)\n\ngoal (1 subgoal):\n 1. matchT_M (c1 ;; c2) (d1 ;; d2)", "qed (unfold matchT_M_def, auto)"], ["proof (state)\nthis:\n  (c1 ;; c2, d1 ;; d2) \\<in> Wretr (thetaSeqWD \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>w ?d1.3; discr ?c2.3; discr ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> Wretr (thetaSeqWD \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>w ?d1.3; discr ?c2.3; discr ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> Wretr (thetaSeqWD \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "unfolding thetaSeqWD_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>w ?d1.3; discr ?c2.3; discr ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 ;; ?c2.3, ?d1.3 ;; ?d2.3)\n                    \\<in> Wretr\n                           ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                             c1 \\<approx>w d1 \\<and>\n                             discr c2 \\<and> discr d2} \\<union>\n                            Wbis)\n\ngoal (1 subgoal):\n 1. {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n     c1 \\<approx>w d1 \\<and> discr c2 \\<and> discr d2}\n    \\<subseteq> Wretr\n                 ({(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n                   c1 \\<approx>w d1 \\<and>\n                   discr c2 \\<and> discr d2} \\<union>\n                  Wbis)", "by auto"], ["proof (state)\nthis:\n  thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaSeqWD_Wbis:\n\"thetaSeqWD \\<subseteq> Wbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaSeqWD \\<subseteq> Wbis", "apply(rule Wbis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaSeqWD\n 2. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "using thetaSeqWD_sym thetaSeqWD_Wretr"], ["proof (prove)\nusing this:\n  sym thetaSeqWD\n  thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)\n\ngoal (2 subgoals):\n 1. sym thetaSeqWD\n 2. thetaSeqWD \\<subseteq> Wretr (thetaSeqWD \\<union> Wbis)", "by auto"], ["", "theorem Seq_Wbis_discr[simp]:\nassumes \"c1 \\<approx>w d1\" and \"discr c2\" and \"discr d2\"\nshows \"c1 ;; c2 \\<approx>w d1 ;; d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>w d1 ;; d2", "using assms thetaSeqWD_Wbis"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d1\n  discr c2\n  discr d2\n  thetaSeqWD \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>w d1 ;; d2", "unfolding thetaSeqWD_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d1\n  discr c2\n  discr d2\n  {(c1 ;; c2, d1 ;; d2) |c1 c2 d1 d2.\n   c1 \\<approx>w d1 \\<and> discr c2 \\<and> discr d2}\n  \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 ;; c2 \\<approx>w d1 ;; d2", "by blast"], ["", "text\\<open>Conditional:\\<close>"], ["", "definition thetaIfW where \n\"thetaIfW \\<equiv> \n {(If tst c1 c2, If tst d1 d2) | tst c1 c2 d1 d2. compatTst tst \\<and> c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}\""], ["", "lemma thetaIfW_sym:\n\"sym thetaIfW\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaIfW", "unfolding thetaIfW_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and> c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}", "using Wbis_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>w ?d \\<Longrightarrow> ?d \\<approx>w ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and>\n              c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1\n              d2.\n              compatTst tst \\<and> c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}", "by blast"], ["", "lemma thetaIfW_Wretr:\n\"thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "fix tst c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "assume tst: \"compatTst tst\" and c1d1: \"c1 \\<approx>w d1\" and c2d2: \"c2 \\<approx>w d2\""], ["proof (state)\nthis:\n  compatTst tst\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "hence matchC_M1: \"matchC_M Wbis c1 d1\" and matchC_M2: \"matchC_M Wbis c2 d2\"\n     and matchT_M1: \"matchT_M c1 d1\" and matchT_M2: \"matchT_M c2 d2\""], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n\ngoal (1 subgoal):\n 1. (matchC_M Wbis c1 d1 &&& matchC_M Wbis c2 d2) &&&\n    matchT_M c1 d1 &&& matchT_M c2 d2", "using Wbis_matchC_M Wbis_matchT_M"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n  ?c \\<approx>w ?d \\<Longrightarrow> matchC_M Wbis ?c ?d\n  ?c \\<approx>w ?d \\<Longrightarrow> matchT_M ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_M Wbis c1 d1 &&& matchC_M Wbis c2 d2) &&&\n    matchT_M c1 d1 &&& matchT_M c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_M Wbis c1 d1\n  matchC_M Wbis c2 d2\n  matchT_M c1 d1\n  matchT_M c2 d2\n\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "have \"(If tst c1 c2, If tst d1 d2) \\<in> Wretr (thetaIfW \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> Wretr (thetaIfW \\<union> Wbis)", "unfolding Wretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, if tst then d1 else d2)\n    \\<in> {(c, d).\n           matchC_M (thetaIfW \\<union> Wbis) c d \\<and> matchT_M c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_M (thetaIfW \\<union> Wbis) (if tst then c1 else c2)\n     (if tst then d1 else d2)\n 2. matchT_M (if tst then c1 else c2) (if tst then d1 else d2)", "show \"matchC_M (thetaIfW \\<union> Wbis) (If tst c1 c2) (If tst d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_M (thetaIfW \\<union> Wbis) (if tst then c1 else c2)\n     (if tst then d1 else d2)", "unfolding matchC_M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n       (\\<exists>t'.\n           (if tst then d1 else d2, t) \\<rightarrow>*t t' \\<and>\n           s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>*c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>*t\n                             t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>*c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>*t\n                             t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>*c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>*t\n                             t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(If tst c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t;\n        (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>*c\n                             (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (if tst then d1 else d2, t) \\<rightarrow>*t\n                             t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus \n       \"(\\<exists>d' t'. (If tst d1 d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or> \n        (\\<exists>t'. (If tst d1 d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (if tst then c1 else c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (if tst then d1 else d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if tst then c1 else c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (if tst then d1 else d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply(erule If_transC_invert)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "unfolding thetaIfW_def"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>w d1 \\<and>\n                                 c2 \\<approx>w d2} \\<union>\n                                Wbis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>w d1 \\<and>\n                                 c2 \\<approx>w d2} \\<union>\n                                Wbis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>tval tst s; c' = c1; s' = s\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*c\n                          (d', t') \\<and>\n                          s \\<approx> t' \\<and>\n                          ((\\<exists>tst c1a c2.\n                               c1 = if tst then c1a else c2 \\<and>\n                               (\\<exists>d1 d2.\n                                   d' = if tst then d1 else d2 \\<and>\n                                   compatTst tst \\<and>\n                                   c1a \\<approx>w d1 \\<and>\n                                   c2 \\<approx>w d2)) \\<or>\n                           c1 \\<approx>w d')) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*t\n                          t' \\<and>\n                          s \\<approx> t' \\<and> discr c1)\n 2. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>w d1 \\<and>\n                                 c2 \\<approx>w d2} \\<union>\n                                Wbis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "apply (metis IfTrue c1d1 compatTst_def st transC_MtransC tst)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*c\n                          (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d')\n                          \\<in> {(if tst then c1 else c2,\n                                  if tst then d1 else d2) |\n                                 tst c1 c2 d1 d2.\n                                 compatTst tst \\<and>\n                                 c1 \\<approx>w d1 \\<and>\n                                 c2 \\<approx>w d2} \\<union>\n                                Wbis) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*t\n                          t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> tval tst s; c' = c2; s' = s\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*c\n                          (d', t') \\<and>\n                          s \\<approx> t' \\<and>\n                          ((\\<exists>tst c1 c2a.\n                               c2 = if tst then c1 else c2a \\<and>\n                               (\\<exists>d1 d2.\n                                   d' = if tst then d1 else d2 \\<and>\n                                   compatTst tst \\<and>\n                                   c1 \\<approx>w d1 \\<and>\n                                   c2a \\<approx>w d2)) \\<or>\n                           c2 \\<approx>w d')) \\<or>\n                      (\\<exists>t'.\n                          (if tst then d1 else d2, t) \\<rightarrow>*t\n                          t' \\<and>\n                          s \\<approx> t' \\<and> discr c2)", "by (metis IfFalse c2d2 compatTst_def st transC_MtransC tst)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (if tst then d1 else d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaIfW \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (if tst then d1 else d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_M (thetaIfW \\<union> Wbis) (if tst then c1 else c2)\n   (if tst then d1 else d2)\n\ngoal (1 subgoal):\n 1. matchT_M (if tst then c1 else c2) (if tst then d1 else d2)", "qed (unfold matchT_M_def, auto)"], ["proof (state)\nthis:\n  (if tst then c1 else c2, if tst then d1 else d2)\n  \\<in> Wretr (thetaIfW \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>w ?d1.3;\n   ?c2.3 \\<approx>w ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> Wretr (thetaIfW \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>w ?d1.3;\n   ?c2.3 \\<approx>w ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> Wretr (thetaIfW \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "unfolding thetaIfW_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>compatTst ?tst3; ?c1.3 \\<approx>w ?d1.3;\n   ?c2.3 \\<approx>w ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (if ?tst3 then ?c1.3 else ?c2.3,\n                     if ?tst3 then ?d1.3 else ?d2.3)\n                    \\<in> Wretr\n                           ({(if tst then c1 else c2,\n                              if tst then d1 else d2) |\n                             tst c1 c2 d1 d2.\n                             compatTst tst \\<and>\n                             c1 \\<approx>w d1 \\<and>\n                             c2 \\<approx>w d2} \\<union>\n                            Wbis)\n\ngoal (1 subgoal):\n 1. {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n     compatTst tst \\<and> c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}\n    \\<subseteq> Wretr\n                 ({(if tst then c1 else c2, if tst then d1 else d2) |tst c1\n                   c2 d1 d2.\n                   compatTst tst \\<and>\n                   c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n                  Wbis)", "by auto"], ["proof (state)\nthis:\n  thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaIfW_Wbis:\n\"thetaIfW \\<subseteq> Wbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaIfW \\<subseteq> Wbis", "apply(rule Wbis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaIfW\n 2. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "using thetaIfW_sym thetaIfW_Wretr"], ["proof (prove)\nusing this:\n  sym thetaIfW\n  thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)\n\ngoal (2 subgoals):\n 1. sym thetaIfW\n 2. thetaIfW \\<subseteq> Wretr (thetaIfW \\<union> Wbis)", "by auto"], ["", "theorem If_Wbis[simp]:\nassumes \"compatTst tst\" and \"c1 \\<approx>w d1\" and \"c2 \\<approx>w d2\"\nshows \"If tst c1 c2 \\<approx>w If tst d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>w if tst then d1 else d2", "using assms thetaIfW_Wbis"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n  thetaIfW \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>w if tst then d1 else d2", "unfolding thetaIfW_def"], ["proof (prove)\nusing this:\n  compatTst tst\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n  {(if tst then c1 else c2, if tst then d1 else d2) |tst c1 c2 d1 d2.\n   compatTst tst \\<and> c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}\n  \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. if tst then c1 else c2 \\<approx>w if tst then d1 else d2", "by blast"], ["", "text\\<open>While loop:\\<close>"], ["", "text\\<open>Again, w-bisimilarity does not interact with / preserve the While construct in \nany interesting way.\\<close>"], ["", "text\\<open>Parallel composition:\\<close>"], ["", "definition thetaParWL1 where \n\"thetaParWL1 \\<equiv> \n {(Par c1 c2, d) | c1 c2 d. c1 \\<approx>w d \\<and> discr c2}\""], ["", "lemma thetaParWL1_Wretr:\n\"thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)", "fix c1 c2 d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)", "assume c1d: \"c1 \\<approx>w d\" and c2: \"discr c2\""], ["proof (state)\nthis:\n  c1 \\<approx>w d\n  discr c2\n\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)", "hence matchC_M: \"matchC_M Wbis c1 d\" \n     and matchT_M: \"matchT_M c1 d\""], ["proof (prove)\nusing this:\n  c1 \\<approx>w d\n  discr c2\n\ngoal (1 subgoal):\n 1. matchC_M Wbis c1 d &&& matchT_M c1 d", "using Wbis_matchC_M Wbis_matchT_M"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d\n  discr c2\n  ?c \\<approx>w ?d \\<Longrightarrow> matchC_M Wbis ?c ?d\n  ?c \\<approx>w ?d \\<Longrightarrow> matchT_M ?c ?d\n\ngoal (1 subgoal):\n 1. matchC_M Wbis c1 d &&& matchT_M c1 d", "by auto"], ["proof (state)\nthis:\n  matchC_M Wbis c1 d\n  matchT_M c1 d\n\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)", "have \"(Par c1 c2, d) \\<in> Wretr (thetaParWL1 \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d) \\<in> Wretr (thetaParWL1 \\<union> Wbis)", "unfolding Wretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d)\n    \\<in> {(c, d).\n           matchC_M (thetaParWL1 \\<union> Wbis) c d \\<and> matchT_M c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_M (thetaParWL1 \\<union> Wbis) (c1 | c2) d\n 2. matchT_M (c1 | c2) d", "show \"matchC_M (thetaParWL1 \\<union> Wbis) (Par c1 c2) d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_M (thetaParWL1 \\<union> Wbis) (c1 | c2) d", "unfolding matchC_M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n       (\\<exists>t'.\n           (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus\n       \"(\\<exists>d' t'. (d, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n        (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof(erule Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(\\<exists>d' t'. (d, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or> \n          (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "using st matchC_M"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  matchC_M Wbis c1 d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "unfolding matchC_M_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>w d') \\<or>\n     (\\<exists>t'.\n         (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParWL1_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>w d \\<and> discr c2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>w d \\<and> discr c2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply(elim disjE exE conjE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c1' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c1' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>w d' \\<and> discr c2) \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c2 c')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>w d' \\<and> discr c2) \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis c' c2 discr_Par)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(\\<exists>d' t'. (d, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "using st matchT_M"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_M c1 d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "unfolding matchT_M_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParWL1_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>w d \\<and> discr c2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>w d \\<and> discr c2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply(elim disjE exE conjE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>w d' \\<and> discr c2) \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c' c2 discr_Wbis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>w d' \\<and> discr c2) \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis c' c2)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c2s: \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c2 discr_transC_indis"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  discr c2\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_sym indis_trans"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "have \"discr c2'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr c2'", "using c2 c2s discr_transC"], ["proof (prove)\nusing this:\n  discr c2\n  (c2, s) \\<rightarrow>c (c2', s')\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> discr ?c'\n\ngoal (1 subgoal):\n 1. discr c2'", "by blast"], ["proof (state)\nthis:\n  discr c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  discr c2'\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "using s't c1d"], ["proof (prove)\nusing this:\n  discr c2'\n  s' \\<approx> t\n  c1 \\<approx>w d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParWL1_def c'"], ["proof (prove)\nusing this:\n  discr c2'\n  s' \\<approx> t\n  c1 \\<approx>w d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1 | c2', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>w d \\<and> discr c2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1 | c2'))", "by auto"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c2 discr_transT"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  discr c2\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>t ?s'\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_sym indis_trans"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "using c1d"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n  c1 \\<approx>w d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParWL1_def c'"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n  c1 \\<approx>w d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1, d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>w d \\<and> discr c2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1)", "by auto"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_M (thetaParWL1 \\<union> Wbis) (c1 | c2) d\n\ngoal (1 subgoal):\n 1. matchT_M (c1 | c2) d", "qed (unfold matchT_M_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d) \\<in> Wretr (thetaParWL1 \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>w ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> Wretr (thetaParWL1 \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>w ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> Wretr (thetaParWL1 \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)", "unfolding thetaParWL1_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>w ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> Wretr\n                           ({(c1 | c2, d) |c1 c2 d.\n                             c1 \\<approx>w d \\<and> discr c2} \\<union>\n                            Wbis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d) |c1 c2 d. c1 \\<approx>w d \\<and> discr c2}\n    \\<subseteq> Wretr\n                 ({(c1 | c2, d) |c1 c2 d.\n                   c1 \\<approx>w d \\<and> discr c2} \\<union>\n                  Wbis)", "by blast"], ["proof (state)\nthis:\n  thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParWL1_converse_Wretr:\n\"thetaParWL1 ^-1 \\<subseteq> Wretr (thetaParWL1 ^-1 \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "fix c1 c2 d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "assume c1d: \"c1 \\<approx>w d\" and c2: \"discr c2\""], ["proof (state)\nthis:\n  c1 \\<approx>w d\n  discr c2\n\ngoal (1 subgoal):\n 1. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "hence matchC_M: \"matchC_M Wbis d c1\" \n     and matchT_M: \"matchT_M d c1\""], ["proof (prove)\nusing this:\n  c1 \\<approx>w d\n  discr c2\n\ngoal (1 subgoal):\n 1. matchC_M Wbis d c1 &&& matchT_M d c1", "using Wbis_matchC_M_rev Wbis_matchT_M_rev"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d\n  discr c2\n  ?s \\<approx>w ?t \\<Longrightarrow> matchC_M Wbis ?t ?s\n  ?s \\<approx>w ?t \\<Longrightarrow> matchT_M ?t ?s\n\ngoal (1 subgoal):\n 1. matchC_M Wbis d c1 &&& matchT_M d c1", "by auto"], ["proof (state)\nthis:\n  matchC_M Wbis d c1\n  matchT_M d c1\n\ngoal (1 subgoal):\n 1. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "have \"(d, Par c1 c2) \\<in> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (d, c1 | c2) \\<in> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "unfolding Wretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (d, c1 | c2)\n    \\<in> {(c, d).\n           matchC_M (thetaParWL1\\<inverse> \\<union> Wbis) c d \\<and>\n           matchT_M c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_M (thetaParWL1\\<inverse> \\<union> Wbis) d (c1 | c2)\n 2. matchT_M d (c1 | c2)", "show \"matchC_M (thetaParWL1\\<inverse> \\<union> Wbis) d (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_M (thetaParWL1\\<inverse> \\<union> Wbis) d (c1 | c2)", "unfolding matchC_M_def2 Wbis_converse"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t d' t'.\n       s \\<approx> t \\<and> (d, t) \\<rightarrow>c (d', t') \\<longrightarrow>\n       (\\<exists>c' s'.\n           (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n       (\\<exists>s'.\n           (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n           s' \\<approx> t' \\<and> discr d')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "fix s t d' t'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "assume \"s \\<approx> t\" and \"(d, t) \\<rightarrow>c (d', t')\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "hence \n       \"(\\<exists>c' s'. (c1, s) \\<rightarrow>*c (c', s') \\<and> s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or> \n        (\\<exists>s'. (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')", "using matchC_M"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n  matchC_M Wbis d c1\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')", "unfolding matchC_M_def2"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n  \\<forall>s t d' t'.\n     s \\<approx> t \\<and> (d, t) \\<rightarrow>c (d', t') \\<longrightarrow>\n     (\\<exists>c' s'.\n         (c1, s) \\<rightarrow>*c (c', s') \\<and>\n         s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n     (\\<exists>s'.\n         (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n  (\\<exists>s'.\n      (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "thus\n       \"(\\<exists>c' s'. (Par c1 c2, s) \\<rightarrow>*c (c', s') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n        (\\<exists>s'. (Par c1 c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\""], ["proof (prove)\nusing this:\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n  (\\<exists>s'.\n      (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "unfolding thetaParWL1_def"], ["proof (prove)\nusing this:\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n  (\\<exists>s'.\n      (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>w d \\<and> discr c2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>*t s' \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<Longrightarrow>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               c1 \\<approx>w d \\<and> discr c2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>*c (c', s'); s' \\<approx> t';\n        d' \\<approx>w c'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 2. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>*t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>*c (c', s'); s' \\<approx> t';\n        d' \\<approx>w c'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>w d' \\<and> discr c2) \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 2. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>*t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply (metis PL.ParCL_MtransC Wbis_Sym c2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>*t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    c1 \\<approx>w d \\<and>\n                                    discr c2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>*t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  c1 \\<approx>w d' \\<and> discr c2) \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "by (metis PL.ParTL_MtransC c2 discr_Wbis)"], ["proof (state)\nthis:\n  (\\<exists>c' s'.\n      (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL1 \\<union> Wbis) \\<or>\n  (\\<exists>s'.\n      (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n      s' \\<approx> t' \\<and> discr d')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_M (thetaParWL1\\<inverse> \\<union> Wbis) d (c1 | c2)\n\ngoal (1 subgoal):\n 1. matchT_M d (c1 | c2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_M d (c1 | c2)", "show \"matchT_M d (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_M d (c1 | c2)", "unfolding matchT_M_def2 Wbis_converse"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t t'.\n       s \\<approx> t \\<and> (d, t) \\<rightarrow>t t' \\<longrightarrow>\n       (\\<exists>c' s'.\n           (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n           s' \\<approx> t' \\<and> discr c') \\<or>\n       (\\<exists>s'. (c1 | c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "fix s t t'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "assume \"s \\<approx> t\" and \"(d, t) \\<rightarrow>t t'\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "hence \n       \"(\\<exists>c' s'. (c1, s) \\<rightarrow>*c (c', s') \\<and> s' \\<approx> t' \\<and> discr c') \\<or> \n        (\\<exists>s'. (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "using matchT_M"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n  matchT_M d c1\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "unfolding matchT_M_def2"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n  \\<forall>s t t'.\n     s \\<approx> t \\<and> (d, t) \\<rightarrow>t t' \\<longrightarrow>\n     (\\<exists>c' s'.\n         (c1, s) \\<rightarrow>*c (c', s') \\<and>\n         s' \\<approx> t' \\<and> discr c') \\<or>\n     (\\<exists>s'. (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "thus\n       \"(\\<exists>c' s'. (Par c1 c2, s) \\<rightarrow>*c (c', s') \\<and> s' \\<approx> t' \\<and> discr c') \\<or> \n        (\\<exists>s'. (Par c1 c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (\\<exists>c' s'.\n      (c1, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1 | c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'.\n        (c1, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1 | c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>*c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')\n 2. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>*t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "apply (metis PL.ParCL_MtransC c2 discr_Par)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c1, s) \\<rightarrow>*t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "by (metis PL.ParTL_MtransC c2)"], ["proof (state)\nthis:\n  (\\<exists>c' s'.\n      (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c1 | c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_M d (c1 | c2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (d, c1 | c2) \\<in> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>w ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>w ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "unfolding thetaParWL1_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>w ?d3; discr ?c2.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> Wretr\n                           ({(c1 | c2, d) |c1 c2 d.\n                             c1 \\<approx>w d \\<and>\n                             discr c2}\\<inverse> \\<union>\n                            Wbis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d) |c1 c2 d. c1 \\<approx>w d \\<and> discr c2}\\<inverse>\n    \\<subseteq> Wretr\n                 ({(c1 | c2, d) |c1 c2 d.\n                   c1 \\<approx>w d \\<and> discr c2}\\<inverse> \\<union>\n                  Wbis)", "by blast"], ["proof (state)\nthis:\n  thetaParWL1\\<inverse>\n  \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParWL1_Wbis:\n\"thetaParWL1 \\<subseteq> Wbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParWL1 \\<subseteq> Wbis", "apply(rule Wbis_coind2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)\n 2. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "using thetaParWL1_Wretr thetaParWL1_converse_Wretr"], ["proof (prove)\nusing this:\n  thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)\n  thetaParWL1\\<inverse>\n  \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)\n\ngoal (2 subgoals):\n 1. thetaParWL1 \\<subseteq> Wretr (thetaParWL1 \\<union> Wbis)\n 2. thetaParWL1\\<inverse>\n    \\<subseteq> Wretr (thetaParWL1\\<inverse> \\<union> Wbis)", "by auto"], ["", "theorem Par_Wbis_discrL1[simp]:\nassumes \"c1 \\<approx>w d\" and \"discr c2\"\nshows \"Par c1 c2 \\<approx>w d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>w d", "using assms thetaParWL1_Wbis"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d\n  discr c2\n  thetaParWL1 \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>w d", "unfolding thetaParWL1_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d\n  discr c2\n  {(c1 | c2, d) |c1 c2 d. c1 \\<approx>w d \\<and> discr c2} \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>w d", "by blast"], ["", "theorem Par_Wbis_discrR1[simp]:\nassumes \"c \\<approx>w d1\" and \"discr d2\"\nshows \"c \\<approx>w Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<approx>w d1 | d2", "using assms Par_Wbis_discrL1 Wbis_Sym"], ["proof (prove)\nusing this:\n  c \\<approx>w d1\n  discr d2\n  \\<lbrakk>?c1.0 \\<approx>w ?d; discr ?c2.0\\<rbrakk>\n  \\<Longrightarrow> ?c1.0 | ?c2.0 \\<approx>w ?d\n  ?c \\<approx>w ?d \\<Longrightarrow> ?d \\<approx>w ?c\n\ngoal (1 subgoal):\n 1. c \\<approx>w d1 | d2", "by blast"], ["", "(*  *)"], ["", "definition thetaParWL2 where \n\"thetaParWL2 \\<equiv> \n {(Par c1 c2, d) | c1 c2 d. discr c1 \\<and> c2 \\<approx>w d}\""], ["", "lemma thetaParWL2_Wretr:\n\"thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)", "fix c1 c2 d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)", "assume c2d: \"c2 \\<approx>w d\" and c1: \"discr c1\""], ["proof (state)\nthis:\n  c2 \\<approx>w d\n  discr c1\n\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)", "hence matchC_M: \"matchC_M Wbis c2 d\" \n     and matchT_M: \"matchT_M c2 d\""], ["proof (prove)\nusing this:\n  c2 \\<approx>w d\n  discr c1\n\ngoal (1 subgoal):\n 1. matchC_M Wbis c2 d &&& matchT_M c2 d", "using Wbis_matchC_M Wbis_matchT_M"], ["proof (prove)\nusing this:\n  c2 \\<approx>w d\n  discr c1\n  ?c \\<approx>w ?d \\<Longrightarrow> matchC_M Wbis ?c ?d\n  ?c \\<approx>w ?d \\<Longrightarrow> matchT_M ?c ?d\n\ngoal (1 subgoal):\n 1. matchC_M Wbis c2 d &&& matchT_M c2 d", "by auto"], ["proof (state)\nthis:\n  matchC_M Wbis c2 d\n  matchT_M c2 d\n\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)", "have \"(Par c1 c2, d) \\<in> Wretr (thetaParWL2 \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d) \\<in> Wretr (thetaParWL2 \\<union> Wbis)", "unfolding Wretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d)\n    \\<in> {(c, d).\n           matchC_M (thetaParWL2 \\<union> Wbis) c d \\<and> matchT_M c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_M (thetaParWL2 \\<union> Wbis) (c1 | c2) d\n 2. matchT_M (c1 | c2) d", "show \"matchC_M (thetaParWL2 \\<union> Wbis) (Par c1 c2) d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_M (thetaParWL2 \\<union> Wbis) (c1 | c2) d", "unfolding matchC_M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n       (\\<exists>t'.\n           (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus\n       \"(\\<exists>d' t'. (d, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n        (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "proof(erule Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c1 discr_transC_indis"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  discr c1\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_sym indis_trans"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "have \"discr c1'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. discr c1'", "using c1 c1s discr_transC"], ["proof (prove)\nusing this:\n  discr c1\n  (c1, s) \\<rightarrow>c (c1', s')\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>c (?c', ?s')\\<rbrakk>\n  \\<Longrightarrow> discr ?c'\n\ngoal (1 subgoal):\n 1. discr c1'", "by blast"], ["proof (state)\nthis:\n  discr c1'\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  discr c1'\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "using s't c2d"], ["proof (prove)\nusing this:\n  discr c1'\n  s' \\<approx> t\n  c2 \\<approx>w d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParWL2_def c'"], ["proof (prove)\nusing this:\n  discr c1'\n  s' \\<approx> t\n  c2 \\<approx>w d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' | c2, d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>w d} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' | c2))", "by auto"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \"s \\<approx> s'\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "using c1 discr_transT"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  discr c1\n  \\<lbrakk>discr ?c; (?c, ?s) \\<rightarrow>t ?s'\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s'\n\ngoal (1 subgoal):\n 1. s \\<approx> s'", "by blast"], ["proof (state)\nthis:\n  s \\<approx> s'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence s't: \"s' \\<approx> t\""], ["proof (prove)\nusing this:\n  s \\<approx> s'\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "using st indis_sym indis_trans"], ["proof (prove)\nusing this:\n  s \\<approx> s'\n  s \\<approx> t\n  ?s \\<approx> ?s' \\<Longrightarrow> ?s' \\<approx> ?s\n  \\<lbrakk>?s \\<approx> ?s'; ?s' \\<approx> ?s''\\<rbrakk>\n  \\<Longrightarrow> ?s \\<approx> ?s''\n\ngoal (1 subgoal):\n 1. s' \\<approx> t", "by blast"], ["proof (state)\nthis:\n  s' \\<approx> t\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "using c2d"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n  c2 \\<approx>w d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParWL2_def c'"], ["proof (prove)\nusing this:\n  s' \\<approx> t\n  c2 \\<approx>w d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>w d} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2)", "by auto"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(\\<exists>d' t'. (d, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or> \n          (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "using st matchC_M"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  matchC_M Wbis c2 d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "unfolding matchC_M_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>w d') \\<or>\n     (\\<exists>t'.\n         (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParWL2_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>w d} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>w d} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply(elim disjE exE conjE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c2' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c2' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>w d') \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c1 c')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>w d') \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis c' c1 discr_Par)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(\\<exists>d' t'. (d, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "using st matchT_M"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  matchT_M c2 d\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "unfolding matchT_M_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "unfolding thetaParWL2_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>w d} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>w d} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')", "apply(elim disjE exE conjE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>w d') \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply (metis c' c1 discr_Wbis)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>w d') \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "by (metis c' c1)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_M (thetaParWL2 \\<union> Wbis) (c1 | c2) d\n\ngoal (1 subgoal):\n 1. matchT_M (c1 | c2) d", "qed (unfold matchT_M_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d) \\<in> Wretr (thetaParWL2 \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c2.3 \\<approx>w ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> Wretr (thetaParWL2 \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c2.3 \\<approx>w ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> Wretr (thetaParWL2 \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)", "unfolding thetaParWL2_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c2.3 \\<approx>w ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d3)\n                    \\<in> Wretr\n                           ({(c1 | c2, d) |c1 c2 d.\n                             discr c1 \\<and> c2 \\<approx>w d} \\<union>\n                            Wbis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>w d}\n    \\<subseteq> Wretr\n                 ({(c1 | c2, d) |c1 c2 d.\n                   discr c1 \\<and> c2 \\<approx>w d} \\<union>\n                  Wbis)", "by blast"], ["proof (state)\nthis:\n  thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParWL2_converse_Wretr:\n\"thetaParWL2 ^-1 \\<subseteq> Wretr (thetaParWL2 ^-1 \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "fix c1 c2 d"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "assume c2d: \"c2 \\<approx>w d\" and c1: \"discr c1\""], ["proof (state)\nthis:\n  c2 \\<approx>w d\n  discr c1\n\ngoal (1 subgoal):\n 1. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "hence matchC_M: \"matchC_M Wbis d c2\" \n     and matchT_M: \"matchT_M d c2\""], ["proof (prove)\nusing this:\n  c2 \\<approx>w d\n  discr c1\n\ngoal (1 subgoal):\n 1. matchC_M Wbis d c2 &&& matchT_M d c2", "using Wbis_matchC_M_rev Wbis_matchT_M_rev"], ["proof (prove)\nusing this:\n  c2 \\<approx>w d\n  discr c1\n  ?s \\<approx>w ?t \\<Longrightarrow> matchC_M Wbis ?t ?s\n  ?s \\<approx>w ?t \\<Longrightarrow> matchT_M ?t ?s\n\ngoal (1 subgoal):\n 1. matchC_M Wbis d c2 &&& matchT_M d c2", "by auto"], ["proof (state)\nthis:\n  matchC_M Wbis d c2\n  matchT_M d c2\n\ngoal (1 subgoal):\n 1. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "have \"(d, Par c1 c2) \\<in> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (d, c1 | c2) \\<in> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "unfolding Wretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (d, c1 | c2)\n    \\<in> {(c, d).\n           matchC_M (thetaParWL2\\<inverse> \\<union> Wbis) c d \\<and>\n           matchT_M c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_M (thetaParWL2\\<inverse> \\<union> Wbis) d (c1 | c2)\n 2. matchT_M d (c1 | c2)", "show \"matchC_M (thetaParWL2\\<inverse> \\<union> Wbis) d (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_M (thetaParWL2\\<inverse> \\<union> Wbis) d (c1 | c2)", "unfolding matchC_M_def2 Wbis_converse"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t d' t'.\n       s \\<approx> t \\<and> (d, t) \\<rightarrow>c (d', t') \\<longrightarrow>\n       (\\<exists>c' s'.\n           (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n       (\\<exists>s'.\n           (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n           s' \\<approx> t' \\<and> discr d')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "fix s t d' t'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "assume \"s \\<approx> t\" and \"(d, t) \\<rightarrow>c (d', t')\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "hence \n       \"(\\<exists>c' s'. (c2, s) \\<rightarrow>*c (c', s') \\<and> s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or> \n        (\\<exists>s'. (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')", "using matchC_M"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n  matchC_M Wbis d c2\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')", "unfolding matchC_M_def2"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>c (d', t')\n  \\<forall>s t d' t'.\n     s \\<approx> t \\<and> (d, t) \\<rightarrow>c (d', t') \\<longrightarrow>\n     (\\<exists>c' s'.\n         (c2, s) \\<rightarrow>*c (c', s') \\<and>\n         s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n     (\\<exists>s'.\n         (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n  (\\<exists>s'.\n      (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. \\<And>s t d' t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>c (d', t')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "thus\n       \"(\\<exists>c' s'. (Par c1 c2, s) \\<rightarrow>*c (c', s') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n        (\\<exists>s'. (Par c1 c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\""], ["proof (prove)\nusing this:\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n  (\\<exists>s'.\n      (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "unfolding thetaParWL2_def"], ["proof (prove)\nusing this:\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n  (\\<exists>s'.\n      (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t' \\<and> discr d')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>w d} \\<union>\n              Wbis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> d' \\<approx>w c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>*t s' \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<Longrightarrow>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and>\n        (c', d')\n        \\<in> {(c1 | c2, d) |c1 c2 d.\n               discr c1 \\<and> c2 \\<approx>w d} \\<union>\n              Wbis) \\<or>\n    (\\<exists>s'.\n        (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n        s' \\<approx> t' \\<and> discr d')", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>*c (c', s'); s' \\<approx> t';\n        d' \\<approx>w c'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 2. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>*t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>*c (c', s'); s' \\<approx> t';\n        d' \\<approx>w c'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>w d') \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')\n 2. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>*t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply (metis PL.ParCR_MtransC Wbis_Sym c1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>*t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d')\n                             \\<in> {(c1 | c2, d) |c1 c2 d.\n                                    discr c1 \\<and>\n                                    c2 \\<approx>w d} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t' \\<and> discr d')", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>*t s'; s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2.\n                                  c' = c1 | c2 \\<and>\n                                  discr c1 \\<and> c2 \\<approx>w d') \\<or>\n                              c' \\<approx>w d')) \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "by (metis PL.ParTR_MtransC c1 discr_Wbis)"], ["proof (state)\nthis:\n  (\\<exists>c' s'.\n      (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParWL2 \\<union> Wbis) \\<or>\n  (\\<exists>s'.\n      (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n      s' \\<approx> t' \\<and> discr d')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_M (thetaParWL2\\<inverse> \\<union> Wbis) d (c1 | c2)\n\ngoal (1 subgoal):\n 1. matchT_M d (c1 | c2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. matchT_M d (c1 | c2)", "show \"matchT_M d (Par c1 c2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchT_M d (c1 | c2)", "unfolding matchT_M_def2 Wbis_converse"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t t'.\n       s \\<approx> t \\<and> (d, t) \\<rightarrow>t t' \\<longrightarrow>\n       (\\<exists>c' s'.\n           (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n           s' \\<approx> t' \\<and> discr c') \\<or>\n       (\\<exists>s'. (c1 | c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "fix s t t'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "assume \"s \\<approx> t\" and \"(d, t) \\<rightarrow>t t'\""], ["proof (state)\nthis:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "hence \n       \"(\\<exists>c' s'. (c2, s) \\<rightarrow>*c (c', s') \\<and> s' \\<approx> t' \\<and> discr c') \\<or> \n        (\\<exists>s'. (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "using matchT_M"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n  matchT_M d c2\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "unfolding matchT_M_def2"], ["proof (prove)\nusing this:\n  s \\<approx> t\n  (d, t) \\<rightarrow>t t'\n  \\<forall>s t t'.\n     s \\<approx> t \\<and> (d, t) \\<rightarrow>t t' \\<longrightarrow>\n     (\\<exists>c' s'.\n         (c2, s) \\<rightarrow>*c (c', s') \\<and>\n         s' \\<approx> t' \\<and> discr c') \\<or>\n     (\\<exists>s'. (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<And>s t t'.\n       \\<lbrakk>s \\<approx> t; (d, t) \\<rightarrow>t t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "thus\n       \"(\\<exists>c' s'. (Par c1 c2, s) \\<rightarrow>*c (c', s') \\<and> s' \\<approx> t' \\<and> discr c') \\<or> \n        (\\<exists>s'. (Par c1 c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (\\<exists>c' s'.\n      (c2, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1 | c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>c' s'.\n        (c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'.\n        (c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    (\\<exists>c' s'.\n        (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n        s' \\<approx> t' \\<and> discr c') \\<or>\n    (\\<exists>s'. (c1 | c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>c' s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>*c (c', s'); s' \\<approx> t';\n        discr c'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')\n 2. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>*t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "apply (metis PL.ParCR_MtransC c1 discr_Par)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s'.\n       \\<lbrakk>(c2, s) \\<rightarrow>*t s'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>c' s'.\n                             (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n                             s' \\<approx> t' \\<and> discr c') \\<or>\n                         (\\<exists>s'.\n                             (c1 | c2, s) \\<rightarrow>*t s' \\<and>\n                             s' \\<approx> t')", "by (metis PL.ParTR_MtransC c1)"], ["proof (state)\nthis:\n  (\\<exists>c' s'.\n      (c1 | c2, s) \\<rightarrow>*c (c', s') \\<and>\n      s' \\<approx> t' \\<and> discr c') \\<or>\n  (\\<exists>s'. (c1 | c2, s) \\<rightarrow>*t s' \\<and> s' \\<approx> t')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchT_M d (c1 | c2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (d, c1 | c2) \\<in> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c2.3 \\<approx>w ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c2.3 \\<approx>w ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "unfolding thetaParWL2_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c2.3 \\<approx>w ?d3; discr ?c1.3\\<rbrakk>\n  \\<Longrightarrow> (?d3, ?c1.3 | ?c2.3)\n                    \\<in> Wretr\n                           ({(c1 | c2, d) |c1 c2 d.\n                             discr c1 \\<and>\n                             c2 \\<approx>w d}\\<inverse> \\<union>\n                            Wbis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>w d}\\<inverse>\n    \\<subseteq> Wretr\n                 ({(c1 | c2, d) |c1 c2 d.\n                   discr c1 \\<and> c2 \\<approx>w d}\\<inverse> \\<union>\n                  Wbis)", "by blast"], ["proof (state)\nthis:\n  thetaParWL2\\<inverse>\n  \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParWL2_Wbis:\n\"thetaParWL2 \\<subseteq> Wbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParWL2 \\<subseteq> Wbis", "apply(rule Wbis_coind2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)\n 2. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "using thetaParWL2_Wretr thetaParWL2_converse_Wretr"], ["proof (prove)\nusing this:\n  thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)\n  thetaParWL2\\<inverse>\n  \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)\n\ngoal (2 subgoals):\n 1. thetaParWL2 \\<subseteq> Wretr (thetaParWL2 \\<union> Wbis)\n 2. thetaParWL2\\<inverse>\n    \\<subseteq> Wretr (thetaParWL2\\<inverse> \\<union> Wbis)", "by auto"], ["", "theorem Par_Wbis_discrL2[simp]:\nassumes \"c2 \\<approx>w d\" and \"discr c1\"\nshows \"Par c1 c2 \\<approx>w d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>w d", "using assms thetaParWL2_Wbis"], ["proof (prove)\nusing this:\n  c2 \\<approx>w d\n  discr c1\n  thetaParWL2 \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>w d", "unfolding thetaParWL2_def"], ["proof (prove)\nusing this:\n  c2 \\<approx>w d\n  discr c1\n  {(c1 | c2, d) |c1 c2 d. discr c1 \\<and> c2 \\<approx>w d} \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>w d", "by blast"], ["", "theorem Par_Wbis_discrR2[simp]:\nassumes \"c \\<approx>w d2\" and \"discr d1\"\nshows \"c \\<approx>w Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<approx>w d1 | d2", "using assms Par_Wbis_discrL2 Wbis_Sym"], ["proof (prove)\nusing this:\n  c \\<approx>w d2\n  discr d1\n  \\<lbrakk>?c2.0 \\<approx>w ?d; discr ?c1.0\\<rbrakk>\n  \\<Longrightarrow> ?c1.0 | ?c2.0 \\<approx>w ?d\n  ?c \\<approx>w ?d \\<Longrightarrow> ?d \\<approx>w ?c\n\ngoal (1 subgoal):\n 1. c \\<approx>w d1 | d2", "by blast"], ["", "(*  *)"], ["", "definition thetaParW where \n\"thetaParW \\<equiv> \n {(Par c1 c2, Par d1 d2) | c1 c2 d1 d2. c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}\""], ["", "lemma thetaParW_sym:\n\"sym thetaParW\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym thetaParW", "unfolding thetaParW_def sym_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}", "using Wbis_Sym"], ["proof (prove)\nusing this:\n  ?c \\<approx>w ?d \\<Longrightarrow> ?d \\<approx>w ?c\n\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       (x, y)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<longrightarrow>\n       (y, x)\n       \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n              c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}", "by blast"], ["", "lemma thetaParW_Wretr:\n\"thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "fix c1 c2 d1 d2"], ["proof (state)\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "assume c1d1: \"c1 \\<approx>w d1\" and c2d2: \"c2 \\<approx>w d2\""], ["proof (state)\nthis:\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "hence matchC_M1: \"matchC_M Wbis c1 d1\" and matchC_M2: \"matchC_M Wbis c2 d2\"\n     and matchT_M1: \"matchT_M c1 d1\" and matchT_M2: \"matchT_M c2 d2\""], ["proof (prove)\nusing this:\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n\ngoal (1 subgoal):\n 1. (matchC_M Wbis c1 d1 &&& matchC_M Wbis c2 d2) &&&\n    matchT_M c1 d1 &&& matchT_M c2 d2", "using Wbis_matchC_M Wbis_matchT_M"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n  ?c \\<approx>w ?d \\<Longrightarrow> matchC_M Wbis ?c ?d\n  ?c \\<approx>w ?d \\<Longrightarrow> matchT_M ?c ?d\n\ngoal (1 subgoal):\n 1. (matchC_M Wbis c1 d1 &&& matchC_M Wbis c2 d2) &&&\n    matchT_M c1 d1 &&& matchT_M c2 d2", "by auto"], ["proof (state)\nthis:\n  matchC_M Wbis c1 d1\n  matchC_M Wbis c2 d2\n  matchT_M c1 d1\n  matchT_M c2 d2\n\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "have \"(Par c1 c2, Par d1 d2) \\<in> Wretr (thetaParW \\<union> Wbis)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2) \\<in> Wretr (thetaParW \\<union> Wbis)", "unfolding Wretr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, d1 | d2)\n    \\<in> {(c, d).\n           matchC_M (thetaParW \\<union> Wbis) c d \\<and> matchT_M c d}", "proof (clarify, intro conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. matchC_M (thetaParW \\<union> Wbis) (c1 | c2) (d1 | d2)\n 2. matchT_M (c1 | c2) (d1 | d2)", "show \"matchC_M (thetaParW \\<union> Wbis) (Par c1 c2) (Par d1 d2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matchC_M (thetaParW \\<union> Wbis) (c1 | c2) (d1 | d2)", "unfolding matchC_M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t c' s'.\n       s \\<approx> t \\<and>\n       (c1 | c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n       (\\<exists>d' t'.\n           (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n           s' \\<approx> t' \\<and>\n           (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n       (\\<exists>t'.\n           (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n           s' \\<approx> t' \\<and> discr c')", "proof (tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "fix s t c' s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume st: \"s \\<approx> t\""], ["proof (state)\nthis:\n  s \\<approx> t\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "assume \"(Par c1 c2, s) \\<rightarrow>c (c', s')\""], ["proof (state)\nthis:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. \\<And>s t c' s'.\n       \\<lbrakk>s \\<approx> t; (c1 | c2, s) \\<rightarrow>c (c', s')\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')", "thus \n       \"(\\<exists>d' t'. (Par d1 d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or> \n        (\\<exists>t'. (Par d1 d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\""], ["proof (prove)\nusing this:\n  (c1 | c2, s) \\<rightarrow>c (c', s')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1 | c2, s) \\<rightarrow>c (c', s') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "proof(erule Par_transC_invert)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c1'"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume c1s: \"(c1, s) \\<rightarrow>c (c1', s')\" and c': \"c' = Par c1' c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence\n         \"(\\<exists>d' t'. (d1, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or> \n          (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "using st matchC_M1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  matchC_M Wbis c1 d1\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "unfolding matchC_M_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>c (c1', s')\n  c' = c1' | c2\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>w d') \\<or>\n     (\\<exists>t'.\n         (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (4 subgoals):\n 1. \\<And>c1'.\n       \\<lbrakk>(c1, s) \\<rightarrow>c (c1', s'); c' = c1' | c2\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 3. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 4. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaParW_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c1')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' | c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' | c2))", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c1' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1' | c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1' | c2))", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c1' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c1' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1' \\<approx>w d1 \\<and>\n                                  c2 \\<approx>w d2) \\<or>\n                              c1' | c2 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))", "apply (metis PL.ParCL_MtransC c2d2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1' | c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c1'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1' \\<approx>w d1 \\<and>\n                                  c2 \\<approx>w d2) \\<or>\n                              c1' | c2 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1' | c2))", "by (metis PL.ParTL_MtransC Par_Wbis_discrL2 c2d2)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c1, s) \\<rightarrow>t s'\" and c': \"c' = c2\""], ["proof (state)\nthis:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(\\<exists>d' t'. (d1, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "using st matchT_M1"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  matchT_M c1 d1\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "unfolding matchT_M_def"], ["proof (prove)\nusing this:\n  (c1, s) \\<rightarrow>t s'\n  c' = c2\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c1, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d1, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(c1, s) \\<rightarrow>t s'; c' = c2\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')\n 2. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 3. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaParW_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d1, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d1, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c2, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 | c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 | d2 \\<and> c1 \\<approx>w d1 \\<and> c2a \\<approx>w d2)) \\<or>\n                              c2 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)\n 2. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply (metis PL.ParCL_MtransC Par_Wbis_discrR2 c2d2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c2, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d1, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1 c2a.\n                                  c2 = c1 | c2a \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 | d2 \\<and> c1 \\<approx>w d1 \\<and> c2a \\<approx>w d2)) \\<or>\n                              c2 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c2)", "by (metis PL.ParTL_MtransC c2d2)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "fix c2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>c (c2', s')\" and c': \"c' = Par c1 c2'\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(\\<exists>d' t'. (d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or> \n          (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "using st matchC_M2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  matchC_M Wbis c2 d2\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "unfolding matchC_M_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>c (c2', s')\n  c' = c1 | c2'\n  s \\<approx> t\n  \\<forall>s t c' s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>c (c', s') \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d2, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> c' \\<approx>w d') \\<or>\n     (\\<exists>t'.\n         (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (2 subgoals):\n 1. \\<And>c2'.\n       \\<lbrakk>(c2, s) \\<rightarrow>c (c2', s'); c' = c1 | c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c')\n 2. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaParW_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n  (\\<exists>t'.\n      (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t' \\<and> discr c2')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1 | c2', d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> c2' \\<approx>w d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c2') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1 | c2', d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c2' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))\n 2. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        c2' \\<approx>w d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1 \\<approx>w d1 \\<and>\n                                  c2' \\<approx>w d2) \\<or>\n                              c1 | c2' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))\n 2. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply (metis PL.ParCR_MtransC c1d1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1 | c2', d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*t t'; s' \\<approx> t';\n        discr c2'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>d1 d2.\n                                  d' = d1 | d2 \\<and>\n                                  c1 \\<approx>w d1 \\<and>\n                                  c2' \\<approx>w d2) \\<or>\n                              c1 | c2' \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr (c1 | c2'))", "by (metis PL.ParTR_MtransC Par_Wbis_discrL1 c1d1)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "assume \"(c2, s) \\<rightarrow>t s'\" and c': \"c' = c1\""], ["proof (state)\nthis:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "hence \n         \"(\\<exists>d' t'. (d2, t) \\<rightarrow>*c (d', t') \\<and> s' \\<approx> t' \\<and> discr d') \\<or> \n          (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\""], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "using st matchT_M2"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  matchT_M c2 d2\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "unfolding matchT_M_def"], ["proof (prove)\nusing this:\n  (c2, s) \\<rightarrow>t s'\n  c' = c1\n  s \\<approx> t\n  \\<forall>s t s'.\n     s \\<approx> t \\<and> (c2, s) \\<rightarrow>t s' \\<longrightarrow>\n     (\\<exists>d' t'.\n         (d2, t) \\<rightarrow>*c (d', t') \\<and>\n         s' \\<approx> t' \\<and> discr d') \\<or>\n     (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')", "by blast"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(c2, s) \\<rightarrow>t s'; c' = c1\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>d' t'.\n                          (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                          s' \\<approx> t' \\<and>\n                          (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n                      (\\<exists>t'.\n                          (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                          s' \\<approx> t' \\<and> discr c')", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c')", "unfolding c' thetaParW_def"], ["proof (prove)\nusing this:\n  (\\<exists>d' t'.\n      (d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> discr d') \\<or>\n  (\\<exists>t'. (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t')\n\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1)", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d' t'.\n        (d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and> discr d') \\<or>\n    (\\<exists>t'.\n        (d2, t) \\<rightarrow>*t t' \\<and> s' \\<approx> t') \\<Longrightarrow>\n    (\\<exists>d' t'.\n        (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n        s' \\<approx> t' \\<and>\n        (c1, d')\n        \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n               c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n              Wbis) \\<or>\n    (\\<exists>t'.\n        (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n        s' \\<approx> t' \\<and> discr c1)", "apply(tactic \\<open>mauto_no_simp_tac @{context}\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)\n 2. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>d' t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*c (d', t'); s' \\<approx> t';\n        discr d'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1a c2.\n                                  c1 = c1a | c2 \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 | d2 \\<and> c1a \\<approx>w d1 \\<and> c2 \\<approx>w d2)) \\<or>\n                              c1 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)\n 2. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)", "apply (metis PL.ParCR_MtransC Par_Wbis_discrR1 c1d1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             (c1, d')\n                             \\<in> {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                                    c1 \\<approx>w d1 \\<and>\n                                    c2 \\<approx>w d2} \\<union>\n                                   Wbis) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>(d2, t) \\<rightarrow>*t t'; s' \\<approx> t'\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>d' t'.\n                             (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n                             s' \\<approx> t' \\<and>\n                             ((\\<exists>c1a c2.\n                                  c1 = c1a | c2 \\<and>\n                                  (\\<exists>d1 d2.\nd' = d1 | d2 \\<and> c1a \\<approx>w d1 \\<and> c2 \\<approx>w d2)) \\<or>\n                              c1 \\<approx>w d')) \\<or>\n                         (\\<exists>t'.\n                             (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n                             s' \\<approx> t' \\<and> discr c1)", "by (metis PL.ParTR_MtransC c1d1)"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>d' t'.\n      (d1 | d2, t) \\<rightarrow>*c (d', t') \\<and>\n      s' \\<approx> t' \\<and> (c', d') \\<in> thetaParW \\<union> Wbis) \\<or>\n  (\\<exists>t'.\n      (d1 | d2, t) \\<rightarrow>*t t' \\<and>\n      s' \\<approx> t' \\<and> discr c')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  matchC_M (thetaParW \\<union> Wbis) (c1 | c2) (d1 | d2)\n\ngoal (1 subgoal):\n 1. matchT_M (c1 | c2) (d1 | d2)", "qed (unfold matchT_M_def, auto)"], ["proof (state)\nthis:\n  (c1 | c2, d1 | d2) \\<in> Wretr (thetaParW \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?c1.3 \\<approx>w ?d1.3; ?c2.3 \\<approx>w ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> Wretr (thetaParW \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>w ?d1.3; ?c2.3 \\<approx>w ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> Wretr (thetaParW \\<union> Wbis)\n\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "unfolding thetaParW_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?c1.3 \\<approx>w ?d1.3; ?c2.3 \\<approx>w ?d2.3\\<rbrakk>\n  \\<Longrightarrow> (?c1.3 | ?c2.3, ?d1.3 | ?d2.3)\n                    \\<in> Wretr\n                           ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                             c1 \\<approx>w d1 \\<and>\n                             c2 \\<approx>w d2} \\<union>\n                            Wbis)\n\ngoal (1 subgoal):\n 1. {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n     c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}\n    \\<subseteq> Wretr\n                 ({(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n                   c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2} \\<union>\n                  Wbis)", "by auto"], ["proof (state)\nthis:\n  thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma thetaParW_Wbis:\n\"thetaParW \\<subseteq> Wbis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thetaParW \\<subseteq> Wbis", "apply(rule Wbis_coind)"], ["proof (prove)\ngoal (2 subgoals):\n 1. sym thetaParW\n 2. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "using thetaParW_sym thetaParW_Wretr"], ["proof (prove)\nusing this:\n  sym thetaParW\n  thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)\n\ngoal (2 subgoals):\n 1. sym thetaParW\n 2. thetaParW \\<subseteq> Wretr (thetaParW \\<union> Wbis)", "by auto"], ["", "theorem Par_Wbis[simp]:\nassumes \"c1 \\<approx>w d1\" and \"c2 \\<approx>w d2\"\nshows \"Par c1 c2 \\<approx>w Par d1 d2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>w d1 | d2", "using assms thetaParW_Wbis"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n  thetaParW \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>w d1 | d2", "unfolding thetaParW_def"], ["proof (prove)\nusing this:\n  c1 \\<approx>w d1\n  c2 \\<approx>w d2\n  {(c1 | c2, d1 | d2) |c1 c2 d1 d2.\n   c1 \\<approx>w d1 \\<and> c2 \\<approx>w d2}\n  \\<subseteq> Wbis\n\ngoal (1 subgoal):\n 1. c1 | c2 \\<approx>w d1 | d2", "by blast"], ["", "end"], ["", "(* context PL_Indis *)\n(*******************************************)"], ["", "end"]]}