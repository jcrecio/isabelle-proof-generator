{"file_name": "/home/qj213/afp-2021-10-22/thys/Laplace_Transform/Laplace_Transform_Library.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Laplace_Transform", "problem_names": ["lemma DERIV_compose_FDERIV:\\<comment>\\<open>TODO: generalize and move from HOL-ODE\\<close>\n  assumes \"DERIV f (g x) :> f'\"\n  assumes \"(g has_derivative g') (at x within s)\"\n  shows \"((\\<lambda>x. f (g x)) has_derivative (\\<lambda>x. g' x * f')) (at x within s)\"", "lemmas has_derivative_sin[derivative_intros] = DERIV_sin[THEN DERIV_compose_FDERIV]\n  and  has_derivative_cos[derivative_intros] = DERIV_cos[THEN DERIV_compose_FDERIV]\n  and  has_derivative_exp[derivative_intros] = DERIV_exp[THEN DERIV_compose_FDERIV]", "lemma negligible_real_ivlI:\n  fixes a b::real\n  assumes \"a \\<ge> b\"\n  shows \"negligible {a .. b}\"", "lemma absolutely_integrable_on_combine:\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"f absolutely_integrable_on {a..c}\"\n    and \"f absolutely_integrable_on {c..b}\"\n    and \"a \\<le> c\"\n    and \"c \\<le> b\"\n  shows \"f absolutely_integrable_on {a..b}\"", "lemma dominated_convergence_at_top:\n  fixes f :: \"real \\<Rightarrow> 'n::euclidean_space \\<Rightarrow> 'm::euclidean_space\"\n  assumes f: \"\\<And>k. (f k) integrable_on s\" and h: \"h integrable_on s\"\n    and le: \"\\<And>k x. x \\<in> s \\<Longrightarrow> norm (f k x) \\<le> h x\"\n    and conv: \"\\<forall>x \\<in> s. ((\\<lambda>k. f k x) \\<longlongrightarrow> g x) at_top\"\n  shows \"g integrable_on s\" \"((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g) at_top\"", "lemma has_integral_dominated_convergence_at_top:\n  fixes f :: \"real \\<Rightarrow> 'n::euclidean_space \\<Rightarrow> 'm::euclidean_space\"\n  assumes \"\\<And>k. (f k has_integral y k) s\" \"h integrable_on s\"\n    \"\\<And>k x. x\\<in>s \\<Longrightarrow> norm (f k x) \\<le> h x\" \"\\<forall>x\\<in>s. ((\\<lambda>k. f k x) \\<longlongrightarrow> g x) at_top\"\n    and x: \"(y \\<longlongrightarrow> x) at_top\"\n  shows \"(g has_integral x) s\"", "lemma integral_indicator_eq_restriction:\n  fixes f::\"'a::euclidean_space \\<Rightarrow> 'b::banach\"\n  assumes f: \"f integrable_on R\"\n    and \"R \\<subseteq> S\"\n  shows \"integral S (\\<lambda>x. indicator R x *\\<^sub>R f x) = integral R f\"", "lemma\n  improper_integral_at_top:\n  fixes f::\"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"f absolutely_integrable_on {a..}\"\n  shows \"((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f) at_top\"", "lemma norm_integrable_onI: \"(\\<lambda>x. norm (f x)) integrable_on S\"\n  if \"f absolutely_integrable_on S\"\n  for f::\"'a::euclidean_space\\<Rightarrow>'b::euclidean_space\"", "lemma\n  has_integral_improper_at_topI:\n  fixes f::\"real \\<Rightarrow> 'a::banach\"\n  assumes I: \"\\<forall>\\<^sub>F k in at_top. (f has_integral I k) {a..k}\"\n  assumes J: \"(I \\<longlongrightarrow> J) at_top\"\n  shows \"(f has_integral J) {a..}\"", "lemma has_integral_improperE:\n  fixes f::\"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes I: \"(f has_integral I) {a..}\"\n  assumes ai: \"f absolutely_integrable_on {a..}\"\n  obtains J where\n    \"\\<And>k. (f has_integral J k) {a..k}\"\n    \"(J \\<longlongrightarrow> I) at_top\"", "lemma AE_BallI: \"AE x\\<in>X in F. P x\" if \"\\<forall>x \\<in> X. P x\"", "lemma bounded_le_Sup:\n  assumes \"bounded (f ` S)\"\n  shows \"\\<forall>x\\<in>S. norm (f x) \\<le> Sup (norm ` f ` S)\""], "translations": [["", "lemma DERIV_compose_FDERIV:\\<comment>\\<open>TODO: generalize and move from HOL-ODE\\<close>\n  assumes \"DERIV f (g x) :> f'\"\n  assumes \"(g has_derivative g') (at x within s)\"\n  shows \"((\\<lambda>x. f (g x)) has_derivative (\\<lambda>x. g' x * f')) (at x within s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f (g x)) has_derivative (\\<lambda>x. g' x * f'))\n     (at x within s)", "using assms has_derivative_compose[of g g' x s f \"(*) f'\"]"], ["proof (prove)\nusing this:\n  (f has_field_derivative f') (at (g x))\n  (g has_derivative g') (at x within s)\n  \\<lbrakk>(g has_derivative g') (at x within s);\n   (f has_derivative (*) f') (at (g x))\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. f (g x)) has_derivative\n                     (\\<lambda>x. f' * g' x))\n                     (at x within s)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f (g x)) has_derivative (\\<lambda>x. g' x * f'))\n     (at x within s)", "by (auto simp: has_field_derivative_def ac_simps)"], ["", "lemmas has_derivative_sin[derivative_intros] = DERIV_sin[THEN DERIV_compose_FDERIV]\n  and  has_derivative_cos[derivative_intros] = DERIV_cos[THEN DERIV_compose_FDERIV]\n  and  has_derivative_exp[derivative_intros] = DERIV_exp[THEN DERIV_compose_FDERIV]"], ["", "subsection \\<open>Integrals\\<close>"], ["", "lemma negligible_real_ivlI:\n  fixes a b::real\n  assumes \"a \\<ge> b\"\n  shows \"negligible {a .. b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. negligible {a..b}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. negligible {a..b}", "from assms"], ["proof (chain)\npicking this:\n  b \\<le> a", "have \"{a .. b} = {a} \\<or> {a .. b} = {}\""], ["proof (prove)\nusing this:\n  b \\<le> a\n\ngoal (1 subgoal):\n 1. {a..b} = {a} \\<or> {a..b} = {}", "by auto"], ["proof (state)\nthis:\n  {a..b} = {a} \\<or> {a..b} = {}\n\ngoal (1 subgoal):\n 1. negligible {a..b}", "then"], ["proof (chain)\npicking this:\n  {a..b} = {a} \\<or> {a..b} = {}", "show ?thesis"], ["proof (prove)\nusing this:\n  {a..b} = {a} \\<or> {a..b} = {}\n\ngoal (1 subgoal):\n 1. negligible {a..b}", "by auto"], ["proof (state)\nthis:\n  negligible {a..b}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma absolutely_integrable_on_combine:\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"f absolutely_integrable_on {a..c}\"\n    and \"f absolutely_integrable_on {c..b}\"\n    and \"a \\<le> c\"\n    and \"c \\<le> b\"\n  shows \"f absolutely_integrable_on {a..b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f absolutely_integrable_on {a..b}", "using assms"], ["proof (prove)\nusing this:\n  f absolutely_integrable_on {a..c}\n  f absolutely_integrable_on {c..b}\n  a \\<le> c\n  c \\<le> b\n\ngoal (1 subgoal):\n 1. f absolutely_integrable_on {a..b}", "unfolding absolutely_integrable_on_def integrable_on_def"], ["proof (prove)\nusing this:\n  (\\<exists>y. (f has_integral y) {a..c}) \\<and>\n  (\\<exists>y. ((\\<lambda>x. norm (f x)) has_integral y) {a..c})\n  (\\<exists>y. (f has_integral y) {c..b}) \\<and>\n  (\\<exists>y. ((\\<lambda>x. norm (f x)) has_integral y) {c..b})\n  a \\<le> c\n  c \\<le> b\n\ngoal (1 subgoal):\n 1. (\\<exists>y. (f has_integral y) {a..b}) \\<and>\n    (\\<exists>y. ((\\<lambda>x. norm (f x)) has_integral y) {a..b})", "by (auto intro!: has_integral_combine)"], ["", "lemma dominated_convergence_at_top:\n  fixes f :: \"real \\<Rightarrow> 'n::euclidean_space \\<Rightarrow> 'm::euclidean_space\"\n  assumes f: \"\\<And>k. (f k) integrable_on s\" and h: \"h integrable_on s\"\n    and le: \"\\<And>k x. x \\<in> s \\<Longrightarrow> norm (f k x) \\<le> h x\"\n    and conv: \"\\<forall>x \\<in> s. ((\\<lambda>k. f k x) \\<longlongrightarrow> g x) at_top\"\n  shows \"g integrable_on s\" \"((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g integrable_on s &&&\n    ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. g integrable_on s\n 2. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "have 3: \"set_integrable lebesgue s h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h absolutely_integrable_on s", "unfolding absolutely_integrable_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. h integrable_on s \\<and> (\\<lambda>x. norm (h x)) integrable_on s", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. h integrable_on s\n 2. (\\<lambda>x. norm (h x)) integrable_on s", "show \"(\\<lambda>x. norm (h x)) integrable_on s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. norm (h x)) integrable_on s", "proof (intro integrable_spike_finite[OF _ _ h, where S=\"{}\"] ballI)"], ["proof (state)\ngoal (2 subgoals):\n 1. finite {}\n 2. \\<And>x. x \\<in> s - {} \\<Longrightarrow> norm (h x) = h x", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. finite {}\n 2. \\<And>x. x \\<in> s - {} \\<Longrightarrow> norm (h x) = h x", "assume \"x \\<in> s - {}\""], ["proof (state)\nthis:\n  x \\<in> s - {}\n\ngoal (2 subgoals):\n 1. finite {}\n 2. \\<And>x. x \\<in> s - {} \\<Longrightarrow> norm (h x) = h x", "then"], ["proof (chain)\npicking this:\n  x \\<in> s - {}", "show \"norm (h x) = h x\""], ["proof (prove)\nusing this:\n  x \\<in> s - {}\n\ngoal (1 subgoal):\n 1. norm (h x) = h x", "using order_trans[OF norm_ge_zero le[of x]]"], ["proof (prove)\nusing this:\n  x \\<in> s - {}\n  x \\<in> s \\<Longrightarrow> 0 \\<le> h x\n\ngoal (1 subgoal):\n 1. norm (h x) = h x", "by auto"], ["proof (state)\nthis:\n  norm (h x) = h x\n\ngoal (1 subgoal):\n 1. finite {}", "qed auto"], ["proof (state)\nthis:\n  (\\<lambda>x. norm (h x)) integrable_on s\n\ngoal (1 subgoal):\n 1. h integrable_on s", "qed fact"], ["proof (state)\nthis:\n  h absolutely_integrable_on s\n\ngoal (2 subgoals):\n 1. g integrable_on s\n 2. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "have 2: \"set_borel_measurable lebesgue s (f k)\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. set_borel_measurable lebesgue s (f k)", "using f[of k]"], ["proof (prove)\nusing this:\n  f k integrable_on s\n\ngoal (1 subgoal):\n 1. set_borel_measurable lebesgue s (f k)", "using has_integral_implies_lebesgue_measurable[of \"f k\"]"], ["proof (prove)\nusing this:\n  f k integrable_on s\n  (f k has_integral ?I) ?\\<Omega> \\<Longrightarrow>\n  (\\<lambda>x. indicat_real ?\\<Omega> x *\\<^sub>R f k x)\n  \\<in> borel_measurable lebesgue\n\ngoal (1 subgoal):\n 1. set_borel_measurable lebesgue s (f k)", "by (auto intro:  simp: integrable_on_def set_borel_measurable_def)"], ["proof (state)\nthis:\n  set_borel_measurable lebesgue s (f ?k)\n\ngoal (2 subgoals):\n 1. g integrable_on s\n 2. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "have conv': \"\\<forall>x \\<in> s. ((\\<lambda>k. f k x) \\<longlongrightarrow> g x) sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>s.\n       (\\<lambda>k. f (real k) x) \\<longlonglongrightarrow> g x", "using conv filterlim_filtermap filterlim_compose filterlim_real_sequentially"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>s. ((\\<lambda>k. f k x) \\<longlongrightarrow> g x) at_top\n  filterlim ?f ?F1.0 (filtermap ?g ?F2.0) =\n  (LIM x ?F2.0. ?f (?g x) :> ?F1.0)\n  \\<lbrakk>filterlim ?g ?F3.0 ?F2.0; filterlim ?f ?F2.0 ?F1.0\\<rbrakk>\n  \\<Longrightarrow> LIM x ?F1.0. ?g (?f x) :> ?F3.0\n  filterlim real at_top sequentially\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>s.\n       (\\<lambda>k. f (real k) x) \\<longlonglongrightarrow> g x", "by blast"], ["proof (state)\nthis:\n  \\<forall>x\\<in>s. (\\<lambda>k. f (real k) x) \\<longlonglongrightarrow> g x\n\ngoal (2 subgoals):\n 1. g integrable_on s\n 2. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "from 2"], ["proof (chain)\npicking this:\n  set_borel_measurable lebesgue s (f ?k)", "have 1: \"set_borel_measurable lebesgue s g\""], ["proof (prove)\nusing this:\n  set_borel_measurable lebesgue s (f ?k)\n\ngoal (1 subgoal):\n 1. set_borel_measurable lebesgue s g", "unfolding set_borel_measurable_def"], ["proof (prove)\nusing this:\n  (\\<lambda>x. indicat_real s x *\\<^sub>R f ?k x)\n  \\<in> borel_measurable lebesgue\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. indicat_real s x *\\<^sub>R g x)\n    \\<in> borel_measurable lebesgue", "by (rule borel_measurable_LIMSEQ_metric) (use conv' in \\<open>auto split: split_indicator\\<close>)"], ["proof (state)\nthis:\n  set_borel_measurable lebesgue s g\n\ngoal (2 subgoals):\n 1. g integrable_on s\n 2. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "have 4: \"AE x in lebesgue. ((\\<lambda>i. indicator s x *\\<^sub>R f i x) \\<longlongrightarrow> indicator s x *\\<^sub>R g x) at_top\"\n    \"\\<forall>\\<^sub>F i in at_top. AE x in lebesgue. norm (indicator s x *\\<^sub>R f i x) \\<le> indicator s x *\\<^sub>R h x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in lebesgue. ((\\<lambda>i.\n                           indicat_real s x *\\<^sub>R\n                           f i x) \\<longlongrightarrow>\n                       indicat_real s x *\\<^sub>R g x)\n                       at_top &&&\n    \\<forall>\\<^sub>F i in at_top.\n       AE x in lebesgue. norm (indicat_real s x *\\<^sub>R f i x)\n                         \\<le> indicat_real s x *\\<^sub>R h x", "using conv le"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>s. ((\\<lambda>k. f k x) \\<longlongrightarrow> g x) at_top\n  ?x \\<in> s \\<Longrightarrow> norm (f ?k ?x) \\<le> h ?x\n\ngoal (1 subgoal):\n 1. AE x in lebesgue. ((\\<lambda>i.\n                           indicat_real s x *\\<^sub>R\n                           f i x) \\<longlongrightarrow>\n                       indicat_real s x *\\<^sub>R g x)\n                       at_top &&&\n    \\<forall>\\<^sub>F i in at_top.\n       AE x in lebesgue. norm (indicat_real s x *\\<^sub>R f i x)\n                         \\<le> indicat_real s x *\\<^sub>R h x", "by (auto intro!: always_eventually split: split_indicator)"], ["proof (state)\nthis:\n  AE x in lebesgue. ((\\<lambda>i.\n                         indicat_real s x *\\<^sub>R\n                         f i x) \\<longlongrightarrow>\n                     indicat_real s x *\\<^sub>R g x)\n                     at_top\n  \\<forall>\\<^sub>F i in at_top.\n     AE x in lebesgue. norm (indicat_real s x *\\<^sub>R f i x)\n                       \\<le> indicat_real s x *\\<^sub>R h x\n\ngoal (2 subgoals):\n 1. g integrable_on s\n 2. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "note 1 2 3 4"], ["proof (state)\nthis:\n  set_borel_measurable lebesgue s g\n  set_borel_measurable lebesgue s (f ?k)\n  h absolutely_integrable_on s\n  AE x in lebesgue. ((\\<lambda>i.\n                         indicat_real s x *\\<^sub>R\n                         f i x) \\<longlongrightarrow>\n                     indicat_real s x *\\<^sub>R g x)\n                     at_top\n  \\<forall>\\<^sub>F i in at_top.\n     AE x in lebesgue. norm (indicat_real s x *\\<^sub>R f i x)\n                       \\<le> indicat_real s x *\\<^sub>R h x\n\ngoal (2 subgoals):\n 1. g integrable_on s\n 2. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "note * = this[unfolded set_borel_measurable_def set_integrable_def]"], ["proof (state)\nthis:\n  (\\<lambda>x. indicat_real s x *\\<^sub>R g x)\n  \\<in> borel_measurable lebesgue\n  (\\<lambda>x. indicat_real s x *\\<^sub>R f ?k x)\n  \\<in> borel_measurable lebesgue\n  integrable lebesgue (\\<lambda>x. indicat_real s x *\\<^sub>R h x)\n  AE x in lebesgue. ((\\<lambda>i.\n                         indicat_real s x *\\<^sub>R\n                         f i x) \\<longlongrightarrow>\n                     indicat_real s x *\\<^sub>R g x)\n                     at_top\n  \\<forall>\\<^sub>F i in at_top.\n     AE x in lebesgue. norm (indicat_real s x *\\<^sub>R f i x)\n                       \\<le> indicat_real s x *\\<^sub>R h x\n\ngoal (2 subgoals):\n 1. g integrable_on s\n 2. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "have g: \"g absolutely_integrable_on s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g absolutely_integrable_on s", "unfolding set_integrable_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable lebesgue (\\<lambda>x. indicat_real s x *\\<^sub>R g x)", "by (rule integrable_dominated_convergence_at_top[OF *])"], ["proof (state)\nthis:\n  g absolutely_integrable_on s\n\ngoal (2 subgoals):\n 1. g integrable_on s\n 2. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "then"], ["proof (chain)\npicking this:\n  g absolutely_integrable_on s", "show \"g integrable_on s\""], ["proof (prove)\nusing this:\n  g absolutely_integrable_on s\n\ngoal (1 subgoal):\n 1. g integrable_on s", "by (auto simp: absolutely_integrable_on_def)"], ["proof (state)\nthis:\n  g integrable_on s\n\ngoal (1 subgoal):\n 1. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "have \"((\\<lambda>k. (LINT x:s|lebesgue. f k x)) \\<longlongrightarrow> (LINT x:s|lebesgue. g x)) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>k.\n         set_lebesgue_integral lebesgue s (f k)) \\<longlongrightarrow>\n     set_lebesgue_integral lebesgue s g)\n     at_top", "unfolding set_lebesgue_integral_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>k.\n         LINT x|lebesgue.\n            indicat_real s x *\\<^sub>R f k x) \\<longlongrightarrow>\n     LINT x|lebesgue. indicat_real s x *\\<^sub>R g x)\n     at_top", "using *"], ["proof (prove)\nusing this:\n  (\\<lambda>x. indicat_real s x *\\<^sub>R g x)\n  \\<in> borel_measurable lebesgue\n  (\\<lambda>x. indicat_real s x *\\<^sub>R f ?k x)\n  \\<in> borel_measurable lebesgue\n  integrable lebesgue (\\<lambda>x. indicat_real s x *\\<^sub>R h x)\n  AE x in lebesgue. ((\\<lambda>i.\n                         indicat_real s x *\\<^sub>R\n                         f i x) \\<longlongrightarrow>\n                     indicat_real s x *\\<^sub>R g x)\n                     at_top\n  \\<forall>\\<^sub>F i in at_top.\n     AE x in lebesgue. norm (indicat_real s x *\\<^sub>R f i x)\n                       \\<le> indicat_real s x *\\<^sub>R h x\n\ngoal (1 subgoal):\n 1. ((\\<lambda>k.\n         LINT x|lebesgue.\n            indicat_real s x *\\<^sub>R f k x) \\<longlongrightarrow>\n     LINT x|lebesgue. indicat_real s x *\\<^sub>R g x)\n     at_top", "by (rule integral_dominated_convergence_at_top)"], ["proof (state)\nthis:\n  ((\\<lambda>k.\n       set_lebesgue_integral lebesgue s (f k)) \\<longlongrightarrow>\n   set_lebesgue_integral lebesgue s g)\n   at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "then"], ["proof (chain)\npicking this:\n  ((\\<lambda>k.\n       set_lebesgue_integral lebesgue s (f k)) \\<longlongrightarrow>\n   set_lebesgue_integral lebesgue s g)\n   at_top", "show \"((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g) at_top\""], ["proof (prove)\nusing this:\n  ((\\<lambda>k.\n       set_lebesgue_integral lebesgue s (f k)) \\<longlongrightarrow>\n   set_lebesgue_integral lebesgue s g)\n   at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "using g absolutely_integrable_integrable_bound[OF le f h]"], ["proof (prove)\nusing this:\n  ((\\<lambda>k.\n       set_lebesgue_integral lebesgue s (f k)) \\<longlongrightarrow>\n   set_lebesgue_integral lebesgue s g)\n   at_top\n  g absolutely_integrable_on s\n  (\\<And>x. x \\<in> s \\<Longrightarrow> x \\<in> s) \\<Longrightarrow>\n  f ?k1 absolutely_integrable_on s\n\ngoal (1 subgoal):\n 1. ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g)\n     at_top", "by (subst (asm) (1 2) set_lebesgue_integral_eq_integral) auto"], ["proof (state)\nthis:\n  ((\\<lambda>k. integral s (f k)) \\<longlongrightarrow> integral s g) at_top\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_integral_dominated_convergence_at_top:\n  fixes f :: \"real \\<Rightarrow> 'n::euclidean_space \\<Rightarrow> 'm::euclidean_space\"\n  assumes \"\\<And>k. (f k has_integral y k) s\" \"h integrable_on s\"\n    \"\\<And>k x. x\\<in>s \\<Longrightarrow> norm (f k x) \\<le> h x\" \"\\<forall>x\\<in>s. ((\\<lambda>k. f k x) \\<longlongrightarrow> g x) at_top\"\n    and x: \"(y \\<longlongrightarrow> x) at_top\"\n  shows \"(g has_integral x) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (g has_integral x) s", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (g has_integral x) s", "have int_f: \"\\<And>k. (f k) integrable_on s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k. f k integrable_on s", "using assms"], ["proof (prove)\nusing this:\n  (f ?k has_integral y ?k) s\n  h integrable_on s\n  ?x \\<in> s \\<Longrightarrow> norm (f ?k ?x) \\<le> h ?x\n  \\<forall>x\\<in>s. ((\\<lambda>k. f k x) \\<longlongrightarrow> g x) at_top\n  (y \\<longlongrightarrow> x) at_top\n\ngoal (1 subgoal):\n 1. \\<And>k. f k integrable_on s", "by (auto simp: integrable_on_def)"], ["proof (state)\nthis:\n  f ?k integrable_on s\n\ngoal (1 subgoal):\n 1. (g has_integral x) s", "have \"(g has_integral (integral s g)) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (g has_integral integral s g) s", "by (intro integrable_integral dominated_convergence_at_top[OF int_f assms(2)]) fact+"], ["proof (state)\nthis:\n  (g has_integral integral s g) s\n\ngoal (1 subgoal):\n 1. (g has_integral x) s", "moreover"], ["proof (state)\nthis:\n  (g has_integral integral s g) s\n\ngoal (1 subgoal):\n 1. (g has_integral x) s", "have \"integral s g = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral s g = x", "proof (rule tendsto_unique)"], ["proof (state)\ngoal (3 subgoals):\n 1. ?F \\<noteq> bot\n 2. (?f \\<longlongrightarrow> integral s g) ?F\n 3. (?f \\<longlongrightarrow> x) ?F", "show \"((\\<lambda>i. integral s (f i)) \\<longlongrightarrow> x) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>i. integral s (f i)) \\<longlongrightarrow> x) at_top", "using integral_unique[OF assms(1)] x"], ["proof (prove)\nusing this:\n  integral s (f ?k1) = y ?k1\n  (y \\<longlongrightarrow> x) at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>i. integral s (f i)) \\<longlongrightarrow> x) at_top", "by simp"], ["proof (state)\nthis:\n  ((\\<lambda>i. integral s (f i)) \\<longlongrightarrow> x) at_top\n\ngoal (2 subgoals):\n 1. at_top \\<noteq> bot\n 2. ((\\<lambda>i. integral s (f i)) \\<longlongrightarrow> integral s g)\n     at_top", "show \"((\\<lambda>i. integral s (f i)) \\<longlongrightarrow> integral s g) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>i. integral s (f i)) \\<longlongrightarrow> integral s g)\n     at_top", "by (intro dominated_convergence_at_top[OF int_f assms(2)]) fact+"], ["proof (state)\nthis:\n  ((\\<lambda>i. integral s (f i)) \\<longlongrightarrow> integral s g) at_top\n\ngoal (1 subgoal):\n 1. at_top \\<noteq> bot", "qed simp"], ["proof (state)\nthis:\n  integral s g = x\n\ngoal (1 subgoal):\n 1. (g has_integral x) s", "ultimately"], ["proof (chain)\npicking this:\n  (g has_integral integral s g) s\n  integral s g = x", "show ?thesis"], ["proof (prove)\nusing this:\n  (g has_integral integral s g) s\n  integral s g = x\n\ngoal (1 subgoal):\n 1. (g has_integral x) s", "by simp"], ["proof (state)\nthis:\n  (g has_integral x) s\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma integral_indicator_eq_restriction:\n  fixes f::\"'a::euclidean_space \\<Rightarrow> 'b::banach\"\n  assumes f: \"f integrable_on R\"\n    and \"R \\<subseteq> S\"\n  shows \"integral S (\\<lambda>x. indicator R x *\\<^sub>R f x) = integral R f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral S (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. integral S (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "let ?f = \"\\<lambda>x. indicator R x *\\<^sub>R f x\""], ["proof (state)\ngoal (1 subgoal):\n 1. integral S (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "have \"?f integrable_on R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. indicat_real R x *\\<^sub>R f x) integrable_on R", "using f negligible_empty"], ["proof (prove)\nusing this:\n  f integrable_on R\n  negligible {}\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. indicat_real R x *\\<^sub>R f x) integrable_on R", "by (rule integrable_spike) auto"], ["proof (state)\nthis:\n  (\\<lambda>x. indicat_real R x *\\<^sub>R f x) integrable_on R\n\ngoal (1 subgoal):\n 1. integral S (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "from integrable_integral[OF this]"], ["proof (chain)\npicking this:\n  ((\\<lambda>x. indicat_real R x *\\<^sub>R f x) has_integral\n   integral R (\\<lambda>x. indicat_real R x *\\<^sub>R f x))\n   R", "have \"(?f has_integral integral R ?f) S\""], ["proof (prove)\nusing this:\n  ((\\<lambda>x. indicat_real R x *\\<^sub>R f x) has_integral\n   integral R (\\<lambda>x. indicat_real R x *\\<^sub>R f x))\n   R\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. indicat_real R x *\\<^sub>R f x) has_integral\n     integral R (\\<lambda>x. indicat_real R x *\\<^sub>R f x))\n     S", "by (rule has_integral_on_superset) (use \\<open>R \\<subseteq> S\\<close> in \\<open>auto simp: indicator_def\\<close>)"], ["proof (state)\nthis:\n  ((\\<lambda>x. indicat_real R x *\\<^sub>R f x) has_integral\n   integral R (\\<lambda>x. indicat_real R x *\\<^sub>R f x))\n   S\n\ngoal (1 subgoal):\n 1. integral S (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "also"], ["proof (state)\nthis:\n  ((\\<lambda>x. indicat_real R x *\\<^sub>R f x) has_integral\n   integral R (\\<lambda>x. indicat_real R x *\\<^sub>R f x))\n   S\n\ngoal (1 subgoal):\n 1. integral S (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "have \"integral R ?f = integral R f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral R (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "using negligible_empty"], ["proof (prove)\nusing this:\n  negligible {}\n\ngoal (1 subgoal):\n 1. integral R (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "by (rule integral_spike) auto"], ["proof (state)\nthis:\n  integral R (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f\n\ngoal (1 subgoal):\n 1. integral S (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "finally"], ["proof (chain)\npicking this:\n  ((\\<lambda>x. indicat_real R x *\\<^sub>R f x) has_integral integral R f) S", "show ?thesis"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. indicat_real R x *\\<^sub>R f x) has_integral integral R f) S\n\ngoal (1 subgoal):\n 1. integral S (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f", "by blast"], ["proof (state)\nthis:\n  integral S (\\<lambda>x. indicat_real R x *\\<^sub>R f x) = integral R f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  improper_integral_at_top:\n  fixes f::\"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"f absolutely_integrable_on {a..}\"\n  shows \"((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "let ?f = \"\\<lambda>(k::real) (t::real). indicator {a..k} t *\\<^sub>R f t\""], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "have f: \"f integrable_on {a..k}\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on {a..k}", "using set_lebesgue_integral_eq_integral(1)[OF assms]"], ["proof (prove)\nusing this:\n  f integrable_on {a..}\n\ngoal (1 subgoal):\n 1. f integrable_on {a..k}", "by (rule integrable_on_subinterval) simp"], ["proof (state)\nthis:\n  f integrable_on {a..?k}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "from this negligible_empty"], ["proof (chain)\npicking this:\n  f integrable_on {a..?k}\n  negligible {}", "have \"?f k integrable_on {a..k}\" for k"], ["proof (prove)\nusing this:\n  f integrable_on {a..?k}\n  negligible {}\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. indicat_real {a..k} t *\\<^sub>R f t) integrable_on {a..k}", "by (rule integrable_spike) auto"], ["proof (state)\nthis:\n  (\\<lambda>t. indicat_real {a..?k} t *\\<^sub>R f t) integrable_on {a..?k}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "from this"], ["proof (chain)\npicking this:\n  (\\<lambda>t. indicat_real {a..?k} t *\\<^sub>R f t) integrable_on {a..?k}", "have \"?f k integrable_on {a..}\" for k"], ["proof (prove)\nusing this:\n  (\\<lambda>t. indicat_real {a..?k} t *\\<^sub>R f t) integrable_on {a..?k}\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. indicat_real {a..k} t *\\<^sub>R f t) integrable_on {a..}", "by (rule integrable_on_superset) auto"], ["proof (state)\nthis:\n  (\\<lambda>t. indicat_real {a..?k} t *\\<^sub>R f t) integrable_on {a..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>t. indicat_real {a..?k} t *\\<^sub>R f t) integrable_on {a..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "have \"(\\<lambda>x. norm (f x)) integrable_on {a..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. norm (f x)) integrable_on {a..}", "using assms"], ["proof (prove)\nusing this:\n  f absolutely_integrable_on {a..}\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. norm (f x)) integrable_on {a..}", "by (simp add: absolutely_integrable_on_def)"], ["proof (state)\nthis:\n  (\\<lambda>x. norm (f x)) integrable_on {a..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. norm (f x)) integrable_on {a..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "note _"], ["proof (state)\nthis:\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "moreover"], ["proof (state)\nthis:\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "have \"\\<forall>\\<^sub>F k in at_top. k \\<ge> x\" for x::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((\\<le>) x) at_top", "by (simp add: eventually_ge_at_top)"], ["proof (state)\nthis:\n  eventually ((\\<le>) ?x) at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "then"], ["proof (chain)\npicking this:\n  eventually ((\\<le>) ?x) at_top", "have \"\\<forall>x\\<in>{a..}. ((\\<lambda>k. ?f k x) \\<longlongrightarrow> f x) at_top\""], ["proof (prove)\nusing this:\n  eventually ((\\<le>) ?x) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{a..}.\n       ((\\<lambda>k.\n            indicat_real {a..k} x *\\<^sub>R f x) \\<longlongrightarrow>\n        f x)\n        at_top", "by (auto intro!: Lim_transform_eventually[OF tendsto_const] simp: indicator_def eventually_at_top_linorder)"], ["proof (state)\nthis:\n  \\<forall>x\\<in>{a..}.\n     ((\\<lambda>k.\n          indicat_real {a..k} x *\\<^sub>R f x) \\<longlongrightarrow>\n      f x)\n      at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>t. indicat_real {a..?k} t *\\<^sub>R f t) integrable_on {a..}\n  (\\<lambda>x. norm (f x)) integrable_on {a..}\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  \\<forall>x\\<in>{a..}.\n     ((\\<lambda>k.\n          indicat_real {a..k} x *\\<^sub>R f x) \\<longlongrightarrow>\n      f x)\n      at_top", "have \"((\\<lambda>k. integral {a..} (?f k)) \\<longlongrightarrow> integral {a ..} f) at_top\""], ["proof (prove)\nusing this:\n  (\\<lambda>t. indicat_real {a..?k} t *\\<^sub>R f t) integrable_on {a..}\n  (\\<lambda>x. norm (f x)) integrable_on {a..}\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  \\<forall>x\\<in>{a..}.\n     ((\\<lambda>k.\n          indicat_real {a..k} x *\\<^sub>R f x) \\<longlongrightarrow>\n      f x)\n      at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>k.\n         integral {a..}\n          (\\<lambda>t.\n              indicat_real {a..k} t *\\<^sub>R f t)) \\<longlongrightarrow>\n     integral {a..} f)\n     at_top", "by (rule dominated_convergence_at_top) (auto simp: indicator_def)"], ["proof (state)\nthis:\n  ((\\<lambda>k.\n       integral {a..}\n        (\\<lambda>t.\n            indicat_real {a..k} t *\\<^sub>R f t)) \\<longlongrightarrow>\n   integral {a..} f)\n   at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "also"], ["proof (state)\nthis:\n  ((\\<lambda>k.\n       integral {a..}\n        (\\<lambda>t.\n            indicat_real {a..k} t *\\<^sub>R f t)) \\<longlongrightarrow>\n   integral {a..} f)\n   at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "have \"(\\<lambda>k. integral {a..} (?f k)) = (\\<lambda>k. integral {a..k} f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>k.\n        integral {a..} (\\<lambda>t. indicat_real {a..k} t *\\<^sub>R f t)) =\n    (\\<lambda>k. integral {a..k} f)", "by (auto intro!: ext integral_indicator_eq_restriction f)"], ["proof (state)\nthis:\n  (\\<lambda>k.\n      integral {a..} (\\<lambda>t. indicat_real {a..k} t *\\<^sub>R f t)) =\n  (\\<lambda>k. integral {a..k} f)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "finally"], ["proof (chain)\npicking this:\n  ((\\<lambda>k. integral {a..k} f) \\<longlongrightarrow> integral {a..} f)\n   at_top", "show ?thesis"], ["proof (prove)\nusing this:\n  ((\\<lambda>k. integral {a..k} f) \\<longlongrightarrow> integral {a..} f)\n   at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "."], ["proof (state)\nthis:\n  ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n   at_top\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma norm_integrable_onI: \"(\\<lambda>x. norm (f x)) integrable_on S\"\n  if \"f absolutely_integrable_on S\"\n  for f::\"'a::euclidean_space\\<Rightarrow>'b::euclidean_space\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. norm (f x)) integrable_on S", "using that"], ["proof (prove)\nusing this:\n  f absolutely_integrable_on S\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. norm (f x)) integrable_on S", "by (auto simp: absolutely_integrable_on_def)"], ["", "lemma\n  has_integral_improper_at_topI:\n  fixes f::\"real \\<Rightarrow> 'a::banach\"\n  assumes I: \"\\<forall>\\<^sub>F k in at_top. (f has_integral I k) {a..k}\"\n  assumes J: \"(I \\<longlongrightarrow> J) at_top\"\n  shows \"(f has_integral J) {a..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_integral J) {a..}", "apply (subst has_integral')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>e>0.\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> cbox aa b \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if x \\<in> {a..} then f x else (0::'a)) has_integral\n                  z)\n                  (cbox aa b) \\<and>\n                 norm (z - J) < e)", "proof (auto, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "case (1 e)"], ["proof (state)\nthis:\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "from tendstoD[OF J \\<open>0 < e\\<close>]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at_top. dist (I x) J < e", "have \"\\<forall>\\<^sub>F x in at_top. dist (I x) J < e\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_top. dist (I x) J < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_top. dist (I x) J < e", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at_top. dist (I x) J < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at_top. dist (I x) J < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "have \"\\<forall>\\<^sub>F x in at_top. (x::real) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) 0) at_top", "by simp"], ["proof (state)\nthis:\n  eventually ((<) 0) at_top\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "moreover"], ["proof (state)\nthis:\n  eventually ((<) 0) at_top\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "have \"\\<forall>\\<^sub>F x in at_top. (x::real) > - a\"\\<comment>\\<open>TODO: this seems to be strange?\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) (- a)) at_top", "by simp"], ["proof (state)\nthis:\n  eventually ((<) (- a)) at_top\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "moreover"], ["proof (state)\nthis:\n  eventually ((<) (- a)) at_top\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "note I"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in at_top. (f has_integral I k) {a..k}\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at_top. dist (I x) J < e\n  eventually ((<) 0) at_top\n  eventually ((<) (- a)) at_top\n  \\<forall>\\<^sub>F k in at_top. (f has_integral I k) {a..k}", "have \"\\<forall>\\<^sub>F x in at_top. x > 0 \\<and> x > - a \\<and> dist (I x) J < e \\<and>\n    (f has_integral I x) {a..x}\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_top. dist (I x) J < e\n  eventually ((<) 0) at_top\n  eventually ((<) (- a)) at_top\n  \\<forall>\\<^sub>F k in at_top. (f has_integral I k) {a..k}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_top.\n       0 < x \\<and>\n       - a < x \\<and> dist (I x) J < e \\<and> (f has_integral I x) {a..x}", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at_top.\n     0 < x \\<and>\n     - a < x \\<and> dist (I x) J < e \\<and> (f has_integral I x) {a..x}\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at_top.\n     0 < x \\<and>\n     - a < x \\<and> dist (I x) J < e \\<and> (f has_integral I x) {a..x}", "obtain k where k: \"\\<forall>b\\<ge>k. norm (I b - J) < e\" \"k > 0\" \"k > - a\"\n    and I: \"\\<And>c. c \\<ge> k \\<Longrightarrow> (f has_integral I c) {a..c}\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_top.\n     0 < x \\<and>\n     - a < x \\<and> dist (I x) J < e \\<and> (f has_integral I x) {a..x}\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>\\<forall>b\\<ge>k. norm (I b - J) < e; 0 < k; - a < k;\n         \\<And>c.\n            k \\<le> c \\<Longrightarrow> (f has_integral I c) {a..c}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: eventually_at_top_linorder dist_norm)"], ["proof (state)\nthis:\n  \\<forall>b\\<ge>k. norm (I b - J) < e\n  0 < k\n  - a < k\n  k \\<le> ?c \\<Longrightarrow> (f has_integral I ?c) {a..?c}\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>B>0.\n          \\<forall>aa b.\n             ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n             (\\<exists>z.\n                 ((\\<lambda>x.\n                      if a \\<le> x then f x else (0::'a)) has_integral\n                  z)\n                  {aa..b} \\<and>\n                 norm (z - J) < e)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<forall>aa b.\n          ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n          (\\<exists>z.\n              ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral\n               z)\n               {aa..b} \\<and>\n              norm (z - J) < e)", "apply (rule exI[where x=k])"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < k \\<and>\n    (\\<forall>aa b.\n        ball 0 k \\<subseteq> {aa..b} \\<longrightarrow>\n        (\\<exists>z.\n            ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral\n             z)\n             {aa..b} \\<and>\n            norm (z - J) < e))", "apply (auto simp: \\<open>0 < k\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       ball 0 k \\<subseteq> {aa..b} \\<Longrightarrow>\n       \\<exists>z.\n          ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n           {aa..b} \\<and>\n          norm (z - J) < e", "subgoal premises prems for b c"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "have ball_eq: \"ball 0 k = {-k <..< k}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ball 0 k = {- k<..<k}", "by (auto simp: abs_real_def split: if_splits)"], ["proof (state)\nthis:\n  ball 0 k = {- k<..<k}\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "from prems \\<open>0 < k\\<close>"], ["proof (chain)\npicking this:\n  ball 0 k \\<subseteq> {b..c}\n  0 < k", "have \"c \\<ge> 0\" \"b \\<le> 0\""], ["proof (prove)\nusing this:\n  ball 0 k \\<subseteq> {b..c}\n  0 < k\n\ngoal (1 subgoal):\n 1. 0 \\<le> c &&& b \\<le> 0", "by (auto simp: subset_iff)"], ["proof (state)\nthis:\n  0 \\<le> c\n  b \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "with prems \\<open>0 < k\\<close>"], ["proof (chain)\npicking this:\n  ball 0 k \\<subseteq> {b..c}\n  0 < k\n  0 \\<le> c\n  b \\<le> 0", "have \"c \\<ge> k\""], ["proof (prove)\nusing this:\n  ball 0 k \\<subseteq> {b..c}\n  0 < k\n  0 \\<le> c\n  b \\<le> 0\n\ngoal (1 subgoal):\n 1. k \\<le> c", "apply (auto simp: ball_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{- k<..<k} \\<subseteq> {b..c}; 0 < k; 0 \\<le> c;\n     b \\<le> 0\\<rbrakk>\n    \\<Longrightarrow> k \\<le> c", "apply (auto simp: subset_iff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>t.\n                - k < t \\<and> t < k \\<longrightarrow>\n                b \\<le> t \\<and> t \\<le> c;\n     0 < k\\<rbrakk>\n    \\<Longrightarrow> k \\<le> c", "apply (drule spec[where x=\"(c + k)/2\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < k;\n     - k < (c + k) / 2 \\<and> (c + k) / 2 < k \\<longrightarrow>\n     b \\<le> (c + k) / 2 \\<and> (c + k) / 2 \\<le> c\\<rbrakk>\n    \\<Longrightarrow> k \\<le> c", "apply (auto simp: algebra_split_simps not_less)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < k; c + k * 3 \\<le> 0\\<rbrakk> \\<Longrightarrow> False", "using \\<open>0 \\<le> c\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < k; c + k * 3 \\<le> 0\\<rbrakk> \\<Longrightarrow> False", "by linarith"], ["proof (state)\nthis:\n  k \\<le> c\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "then"], ["proof (chain)\npicking this:\n  k \\<le> c", "have \"norm (I c - J) < e\""], ["proof (prove)\nusing this:\n  k \\<le> c\n\ngoal (1 subgoal):\n 1. norm (I c - J) < e", "using k"], ["proof (prove)\nusing this:\n  k \\<le> c\n  \\<forall>b\\<ge>k. norm (I b - J) < e\n  0 < k\n  - a < k\n\ngoal (1 subgoal):\n 1. norm (I c - J) < e", "by auto"], ["proof (state)\nthis:\n  norm (I c - J) < e\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "moreover"], ["proof (state)\nthis:\n  norm (I c - J) < e\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "from prems \\<open>0 < k\\<close> \\<open>c \\<ge> 0\\<close> \\<open>b \\<le> 0\\<close> \\<open>c \\<ge> k\\<close> \\<open>k > - a\\<close>"], ["proof (chain)\npicking this:\n  ball 0 k \\<subseteq> {b..c}\n  0 < k\n  0 \\<le> c\n  b \\<le> 0\n  k \\<le> c\n  - a < k", "have \"a \\<ge> b\""], ["proof (prove)\nusing this:\n  ball 0 k \\<subseteq> {b..c}\n  0 < k\n  0 \\<le> c\n  b \\<le> 0\n  k \\<le> c\n  - a < k\n\ngoal (1 subgoal):\n 1. b \\<le> a", "apply (auto simp: ball_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{- k<..<k} \\<subseteq> {b..c}; 0 < k; b \\<le> 0; k \\<le> c;\n     - a < k\\<rbrakk>\n    \\<Longrightarrow> b \\<le> a", "apply (auto simp: subset_iff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>t. - k < t \\<and> t < k \\<longrightarrow> b \\<le> t;\n     0 < k; k \\<le> c; - a < k\\<rbrakk>\n    \\<Longrightarrow> b \\<le> a", "by (meson \\<open>b \\<le> 0\\<close> less_eq_real_def minus_less_iff not_le order_trans)"], ["proof (state)\nthis:\n  b \\<le> a\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "have \"((\\<lambda>x. if x \\<in> cbox a c then f x else 0) has_integral I c) (cbox b c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<in> cbox a c then f x else (0::'a)) has_integral\n     I c)\n     (cbox b c)", "apply (subst has_integral_restrict_closed_subintervals_eq)"], ["proof (prove)\ngoal (2 subgoals):\n 1. cbox a c \\<subseteq> cbox b c\n 2. (f has_integral I c) (cbox a c)", "using I[of c] prems \\<open>a \\<ge> b\\<close> \\<open>k \\<le> c\\<close>"], ["proof (prove)\nusing this:\n  k \\<le> c \\<Longrightarrow> (f has_integral I c) {a..c}\n  ball 0 k \\<subseteq> {b..c}\n  b \\<le> a\n  k \\<le> c\n\ngoal (2 subgoals):\n 1. cbox a c \\<subseteq> cbox b c\n 2. (f has_integral I c) (cbox a c)", "by (auto )"], ["proof (state)\nthis:\n  ((\\<lambda>x. if x \\<in> cbox a c then f x else (0::'a)) has_integral I c)\n   (cbox b c)\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "from negligible_empty _ this"], ["proof (chain)\npicking this:\n  negligible {}\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  ((\\<lambda>x. if x \\<in> cbox a c then f x else (0::'a)) has_integral I c)\n   (cbox b c)", "have \"((\\<lambda>x. if a \\<le> x then f x else 0) has_integral I c) (cbox b c)\""], ["proof (prove)\nusing this:\n  negligible {}\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  ((\\<lambda>x. if x \\<in> cbox a c then f x else (0::'a)) has_integral I c)\n   (cbox b c)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral I c)\n     (cbox b c)", "by (rule has_integral_spike) auto"], ["proof (state)\nthis:\n  ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral I c)\n   (cbox b c)\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "ultimately"], ["proof (chain)\npicking this:\n  norm (I c - J) < e\n  ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral I c)\n   (cbox b c)", "show ?thesis"], ["proof (prove)\nusing this:\n  norm (I c - J) < e\n  ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral I c)\n   (cbox b c)\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n        {b..c} \\<and>\n       norm (z - J) < e", "by (intro exI[where x=\"I c\"]) auto"], ["proof (state)\nthis:\n  \\<exists>z.\n     ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral z)\n      {b..c} \\<and>\n     norm (z - J) < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<exists>B>0.\n     \\<forall>aa b.\n        ball 0 B \\<subseteq> {aa..b} \\<longrightarrow>\n        (\\<exists>z.\n            ((\\<lambda>x. if a \\<le> x then f x else (0::'a)) has_integral\n             z)\n             {aa..b} \\<and>\n            norm (z - J) < e)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_integral_improperE:\n  fixes f::\"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes I: \"(f has_integral I) {a..}\"\n  assumes ai: \"f absolutely_integrable_on {a..}\"\n  obtains J where\n    \"\\<And>k. (f has_integral J k) {a..k}\"\n    \"(J \\<longlongrightarrow> I) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>J.\n        \\<lbrakk>\\<And>k. (f has_integral J k) {a..k};\n         (J \\<longlongrightarrow> I) at_top\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>J.\n        \\<lbrakk>\\<And>k. (f has_integral J k) {a..k};\n         (J \\<longlongrightarrow> I) at_top\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define J where \"J k = integral {a .. k} f\" for k"], ["proof (state)\nthis:\n  J ?k = integral {a..?k} f\n\ngoal (1 subgoal):\n 1. (\\<And>J.\n        \\<lbrakk>\\<And>k. (f has_integral J k) {a..k};\n         (J \\<longlongrightarrow> I) at_top\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(f has_integral J k) {a..k}\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_integral J k) {a..k}", "unfolding J_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_integral integral {a..k} f) {a..k}", "by (force intro: integrable_on_subinterval has_integral_integrable[OF I])"], ["proof (state)\nthis:\n  (f has_integral J ?k) {a..?k}\n\ngoal (1 subgoal):\n 1. (\\<And>J.\n        \\<lbrakk>\\<And>k. (f has_integral J k) {a..k};\n         (J \\<longlongrightarrow> I) at_top\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (f has_integral J ?k) {a..?k}\n\ngoal (1 subgoal):\n 1. (\\<And>J.\n        \\<lbrakk>\\<And>k. (f has_integral J k) {a..k};\n         (J \\<longlongrightarrow> I) at_top\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have I_def[symmetric]: \"integral {a..} f = I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..} f = I", "using I"], ["proof (prove)\nusing this:\n  (f has_integral I) {a..}\n\ngoal (1 subgoal):\n 1. integral {a..} f = I", "by auto"], ["proof (state)\nthis:\n  I = integral {a..} f\n\ngoal (1 subgoal):\n 1. (\\<And>J.\n        \\<lbrakk>\\<And>k. (f has_integral J k) {a..k};\n         (J \\<longlongrightarrow> I) at_top\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from improper_integral_at_top[OF ai]"], ["proof (chain)\npicking this:\n  ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n   at_top", "have \"(J \\<longlongrightarrow> I) at_top\""], ["proof (prove)\nusing this:\n  ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n   at_top\n\ngoal (1 subgoal):\n 1. (J \\<longlongrightarrow> I) at_top", "unfolding J_def I_def"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. integral {a..x} f) \\<longlongrightarrow> integral {a..} f)\n   at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>k. integral {a..k} f) \\<longlongrightarrow> integral {a..} f)\n     at_top", "."], ["proof (state)\nthis:\n  (J \\<longlongrightarrow> I) at_top\n\ngoal (1 subgoal):\n 1. (\\<And>J.\n        \\<lbrakk>\\<And>k. (f has_integral J k) {a..k};\n         (J \\<longlongrightarrow> I) at_top\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  (f has_integral J ?k) {a..?k}\n  (J \\<longlongrightarrow> I) at_top", "show ?thesis"], ["proof (prove)\nusing this:\n  (f has_integral J ?k) {a..?k}\n  (J \\<longlongrightarrow> I) at_top\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Miscellaneous\\<close>"], ["", "lemma AE_BallI: \"AE x\\<in>X in F. P x\" if \"\\<forall>x \\<in> X. P x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set_almost_everywhere X F P", "using that"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>X. P x\n\ngoal (1 subgoal):\n 1. set_almost_everywhere X F P", "by (intro always_eventually) auto"], ["", "lemma bounded_le_Sup:\n  assumes \"bounded (f ` S)\"\n  shows \"\\<forall>x\\<in>S. norm (f x) \\<le> Sup (norm ` f ` S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>S. norm (f x) \\<le> Sup (norm ` f ` S)", "by (auto intro!: cSup_upper bounded_imp_bdd_above simp: bounded_norm_comp assms)"], ["", "end"]]}