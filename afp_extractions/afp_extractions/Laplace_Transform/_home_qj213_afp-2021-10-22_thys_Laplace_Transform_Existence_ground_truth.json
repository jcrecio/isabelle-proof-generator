{"file_name": "/home/qj213/afp-2021-10-22/thys/Laplace_Transform/Existence.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Laplace_Transform", "problem_names": ["lemma has_laplaceI:\n  assumes \"((\\<lambda>t. exp (t *\\<^sub>R - s) * f t) has_integral L) {0..}\"\n  shows \"(f has_laplace L) s\"", "lemma has_laplaceD:\n  assumes \"(f has_laplace L) s\"\n  shows \"((\\<lambda>t. exp (t *\\<^sub>R - s) * f t) has_integral L) {0..}\"", "lemma has_laplace_unique:\n  \"L = M\" if\n  \"(f has_laplace L) s\"\n  \"(f has_laplace M) s\"", "lemma exponential_orderI:\n  assumes \"0 < M\" and eo: \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)\"\n  shows \"exponential_order M c f\"", "lemma exponential_orderD:\n  assumes \"exponential_order M c f\"\n  shows \"0 < M\" \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)\"", "lemma laplace_integrand_absolutely_integrable_on_Icc:\n  \"laplace_integrand s absolutely_integrable_on {a..b}\"\n  if \"AE x\\<in>{a..b} in lebesgue. cmod (f x) \\<le> B\" \"f integrable_on {a..b}\"", "lemma laplace_integrand_integrable_on_Icc:\n  \"laplace_integrand s integrable_on {a..b}\"\n  if \"AE x\\<in>{a..b} in lebesgue. cmod (f x) \\<le> B\" \"f integrable_on {a..b}\"", "lemma eventually_laplace_integrand_le:\n  \"\\<forall>\\<^sub>F t in at_top. cmod (laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)\"\n  if \"exponential_order M c f\"", "lemma\n  assumes eo: \"exponential_order M c f\"\n    and cs: \"c < Re s\"\n  shows laplace_integrand_integrable_on_Ici_iff:\n    \"laplace_integrand s integrable_on {a..} \\<longleftrightarrow>\n      (\\<forall>k>a. laplace_integrand s integrable_on {a..k})\"\n    (is ?th1)\n  and laplace_integrand_absolutely_integrable_on_Ici_iff:\n    \"laplace_integrand s absolutely_integrable_on {a..} \\<longleftrightarrow>\n      (\\<forall>k>a. laplace_integrand s absolutely_integrable_on {a..k})\"\n    (is ?th2)", "theorem laplace_exists_laplace_integrandI:\n  assumes \"laplace_integrand s integrable_on {0..}\"\n  obtains F where \"(f has_laplace F) s\"", "lemma\n  assumes eo: \"exponential_order M c f\"\n    and pc: \"\\<And>k. AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> B k\" \"\\<And>k. f integrable_on {0..k}\"\n    and s: \"Re s > c\"\n  shows laplace_integrand_integrable: \"laplace_integrand s integrable_on {0..}\" (is ?th1)\n    and laplace_integrand_absolutely_integrable:\n      \"laplace_integrand s absolutely_integrable_on {0..}\" (is ?th2)", "lemma piecewise_continuous_on_AE_boundedE:\n  assumes pc: \"\\<And>k. piecewise_continuous_on a k (I k) f\"\n  obtains B where \"\\<And>k. AE x\\<in>{a..k} in lebesgue. cmod (f x) \\<le> B k\"", "theorem piecewise_continuous_on_has_laplace:\n  assumes eo: \"exponential_order M c f\"\n    and pc: \"\\<And>k. piecewise_continuous_on 0 k (I k) f\"\n    and s: \"Re s > c\"\n  obtains F where \"(f has_laplace F) s\"", "lemma exp_scaleR_has_vector_derivative_left'[derivative_intros]:\n  \"((\\<lambda>t. exp (t *\\<^sub>R A)) has_vector_derivative A * exp (t *\\<^sub>R A)) (at t within S)\"", "lemma\n  fixes a::complex\\<comment>\\<open>TODO: generalize\\<close>\n  assumes a: \"0 < Re a\"\n  shows integrable_on_cexp_minus_to_infinity: \"(\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\"\n    and integral_cexp_minus_to_infinity:  \"integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) = exp (c *\\<^sub>R - a) / a\"", "lemma has_integral_cexp_minus_to_infinity:\n  fixes a::complex\\<comment>\\<open>TODO: generalize\\<close>\n  assumes a: \"0 < Re a\"\n  shows \"((\\<lambda>x. exp (x *\\<^sub>R - a)) has_integral exp (c *\\<^sub>R - a) / a) {c..}\"", "lemma has_laplace_one:\n  \"((\\<lambda>_. 1) has_laplace inverse s) s\" if \"Re s > 0\"", "lemma has_laplace_add:\n  assumes f: \"(f has_laplace F) S\"\n  assumes g: \"(g has_laplace G) S\"\n  shows \"((\\<lambda>x. f x + g x) has_laplace F + G) S\"", "lemma has_laplace_cmul:\n  assumes \"(f has_laplace F) S\"\n  shows \"((\\<lambda>x. r *\\<^sub>R f x) has_laplace r *\\<^sub>R F) S\"", "lemma has_laplace_uminus:\n  assumes \"(f has_laplace F) S\"\n  shows \"((\\<lambda>x. - f x) has_laplace - F) S\"", "lemma has_laplace_minus:\n  assumes f: \"(f has_laplace F) S\"\n  assumes g: \"(g has_laplace G) S\"\n  shows \"((\\<lambda>x. f x - g x) has_laplace F - G) S\"", "lemma has_laplace_spike:\n  \"(f has_laplace L) s\"\n  if L: \"(g has_laplace L) s\"\n    and \"negligible T\"\n    and \"\\<And>t. t \\<notin> T \\<Longrightarrow> t \\<ge> 0 \\<Longrightarrow> f t = g t\"", "lemma has_laplace_frequency_shift:\\<comment>\\<open>First Translation Theorem in Schiff\\<close>\n  \"((\\<lambda>t. exp (t *\\<^sub>R b) * f t) has_laplace L) s\"\n  if \"(f has_laplace L) (s - b)\"", "theorem has_laplace_derivative_time_domain:\n  \"(f' has_laplace s * L - f0) s\"\n  if L: \"(f has_laplace L) s\"\n    and f': \"\\<And>t. t > 0 \\<Longrightarrow> (f has_vector_derivative f' t) (at t)\"\n    and f0: \"(f \\<longlongrightarrow> f0) (at_right 0)\"\n    and eo: \"exponential_order M c f\"\n    and cs: \"c < Re s\"\n    \\<comment>\\<open>Proof and statement follow \"The Laplace Transform: Theory and Applications\" by Joel L. Schiff.\\<close>", "lemma exp_times_has_integral:\n  \"((\\<lambda>t. exp (c * t)) has_integral (if c = 0 then t else exp (c * t) / c) - (if c = 0 then t0 else exp (c * t0) / c)) {t0 .. t}\"\n  if \"t0 \\<le> t\"\n  for c t::real", "lemma integral_exp_times:\n  \"integral {t0 .. t} (\\<lambda>t. exp (c * t)) = (if c = 0 then t - t0 else exp (c * t) / c - exp (c * t0) / c)\"\n  if \"t0 \\<le> t\"\n  for c t::real", "lemma filtermap_times_pos_at_top: \"filtermap ((*) e) at_top = at_top\"\n  if \"e > 0\"\n  for e::real", "lemma exponential_order_additiveI:\n  assumes \"0 < M\" and eo: \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M * exp (c * t)\" and \"c \\<ge> 0\"\n  obtains M' where \"exponential_order M' c f\"", "lemma exponential_order_integral:\n  fixes f::\"real \\<Rightarrow> 'a::banach\"\n  assumes I: \"\\<And>t. t \\<ge> a \\<Longrightarrow> (f has_integral I t) {a .. t}\"\n    and eo: \"exponential_order M c f\"\n    and \"c > 0\"\n  obtains M' where \"exponential_order M' c I\"", "lemma integral_has_vector_derivative_piecewise_continuous:\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\\<comment>\\<open>TODO: generalize?\\<close>\n  assumes \"piecewise_continuous_on a b D f\"\n  shows \"\\<And>x. x \\<in> {a .. b} - D \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f(x)) (at x within {a..b} - D)\"", "lemma has_derivative_at_split:\n  \"(f has_derivative f') (at x) \\<longleftrightarrow> (f has_derivative f') (at_left x) \\<and> (f has_derivative f') (at_right x)\"\n  for x::\"'a::{linorder_topology, real_normed_vector}\"", "lemma has_vector_derivative_at_split:\n  \"(f has_vector_derivative f') (at x) \\<longleftrightarrow>\n   (f has_vector_derivative f') (at_left x) \\<and>\n   (f has_vector_derivative f') (at_right x)\"", "lemmas differentiableI_vector[intro]", "lemma differentiable_at_splitD:\n  \"f differentiable at_left x\"\n  \"f differentiable at_right x\"\n  if \"f differentiable (at x)\"\n  for x::real", "lemma integral_differentiable:\n  fixes f :: \"real \\<Rightarrow> 'a::banach\"\n  assumes \"continuous_on {a..b} f\"\n    and \"x \\<in> {a..b}\"\n  shows \"(\\<lambda>u. integral {a..u} f) differentiable at x within {a..b}\"", "theorem integral_has_vector_derivative_piecewise_continuous':\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\\<comment>\\<open>TODO: generalize?\\<close>\n  assumes \"piecewise_continuous_on a b D f\" \"a < b\"\n  shows\n    \"(\\<forall>x. a < x \\<longrightarrow> x < b \\<longrightarrow> x \\<notin> D \\<longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n    (\\<forall>x. a \\<le> x \\<longrightarrow> x < b \\<longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n    (\\<forall>x. a < x \\<longrightarrow> x \\<le> b \\<longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable at_left x)\"", "lemma \"closure (-S) \\<inter> closure S = frontier S\"", "theorem integral_time_domain_has_laplace:\n  \"((\\<lambda>t. integral {0 .. t} f) has_laplace L / s) s\"\n  if pc: \"\\<And>k. piecewise_continuous_on 0 k D f\"\n    and eo: \"exponential_order M c f\"\n    and L: \"(f has_laplace L) s\"\n    and s: \"Re s > c\"\n    and c: \"c > 0\"\n    and TODO: \"D = {}\" \\<comment> \\<open>TODO: generalize to actual \\<open>piecewise_continuous_on\\<close>\\<close>\n  for f::\"real \\<Rightarrow> complex\"", "lemma nderiv_zero[simp]: \"nderiv 0 f X = f\"", "lemma nderiv_Suc[simp]:\n  \"nderiv (Suc i) f X x = vector_derivative (nderiv i f X) (at x within X)\"", "lemma ndiff_zero[simp]: \"ndiff 0 f X\"", "lemma ndiff_Sucs[simp]:\n  \"ndiff (Suc i) f X \\<longleftrightarrow>\n    (ndiff i f X) \\<and>\n    (\\<forall>x \\<in> X. (nderiv i f X) differentiable (at x within X))\"", "theorem has_laplace_vector_derivative:\n  \"((\\<lambda>t. vector_derivative f (at t)) has_laplace s * L - f0) s\"\n  if L: \"(f has_laplace L) s\"\n    and f': \"\\<And>t. t > 0 \\<Longrightarrow> f differentiable (at t)\"\n    and f0: \"(f \\<longlongrightarrow> f0) (at_right 0)\"\n    and eo: \"exponential_order M c f\"\n    and cs: \"c < Re s\"", "lemma has_laplace_nderiv:\n  \"(nderiv n f {0<..} has_laplace s^n * L - (\\<Sum>i<n. s^(n - Suc i) * f0 i)) s\"\n  if L: \"(f has_laplace L) s\"\n    and f': \"ndiff n f {0<..}\"\n    and f0: \"\\<And>i. i < n \\<Longrightarrow> (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0)\"\n    and eo: \"\\<And>i. i < n \\<Longrightarrow> exponential_order M c (nderiv i f {0<..})\"\n    and cs: \"c < Re s\""], "translations": [["", "lemma has_laplaceI:\n  assumes \"((\\<lambda>t. exp (t *\\<^sub>R - s) * f t) has_integral L) {0..}\"\n  shows \"(f has_laplace L) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_laplace L) s", "using assms"], ["proof (prove)\nusing this:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s) * f t) has_integral L) {0..}\n\ngoal (1 subgoal):\n 1. (f has_laplace L) s", "by (auto simp: has_laplace_def)"], ["", "lemma has_laplaceD:\n  assumes \"(f has_laplace L) s\"\n  shows \"((\\<lambda>t. exp (t *\\<^sub>R - s) * f t) has_integral L) {0..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f t) has_integral L) {0..}", "using assms"], ["proof (prove)\nusing this:\n  (f has_laplace L) s\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f t) has_integral L) {0..}", "by (auto simp: has_laplace_def)"], ["", "lemma has_laplace_unique:\n  \"L = M\" if\n  \"(f has_laplace L) s\"\n  \"(f has_laplace M) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L = M", "using that"], ["proof (prove)\nusing this:\n  (f has_laplace L) s\n  (f has_laplace M) s\n\ngoal (1 subgoal):\n 1. L = M", "by (auto simp: has_laplace_def has_integral_unique)"], ["", "subsection \\<open>Condition for Existence: Exponential Order\\<close>"], ["", "definition \"exponential_order M c f \\<longleftrightarrow> 0 < M \\<and> (\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t))\""], ["", "lemma exponential_orderI:\n  assumes \"0 < M\" and eo: \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)\"\n  shows \"exponential_order M c f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exponential_order M c f", "by (auto intro!: assms simp: exponential_order_def)"], ["", "lemma exponential_orderD:\n  assumes \"exponential_order M c f\"\n  shows \"0 < M\" \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < M &&&\n    \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)", "using assms"], ["proof (prove)\nusing this:\n  exponential_order M c f\n\ngoal (1 subgoal):\n 1. 0 < M &&&\n    \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)", "by (auto simp: exponential_order_def)"], ["", "context\n  fixes f::\"real \\<Rightarrow> complex\"\nbegin"], ["", "definition laplace_integrand::\"complex \\<Rightarrow> real \\<Rightarrow> complex\"\n  where \"laplace_integrand s t = exp (t *\\<^sub>R - s) * f t\""], ["", "lemma laplace_integrand_absolutely_integrable_on_Icc:\n  \"laplace_integrand s absolutely_integrable_on {a..b}\"\n  if \"AE x\\<in>{a..b} in lebesgue. cmod (f x) \\<le> B\" \"f integrable_on {a..b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "apply (cases \"b \\<le> a\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)\n 2. \\<not> b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "by (auto intro!: absolutely_integrable_onI integrable_negligible[OF negligible_real_ivlI])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "proof goal_cases"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "case 1"], ["proof (state)\nthis:\n  \\<not> b \\<le> a\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "have \"compact ((\\<lambda>x. exp (- (x *\\<^sub>R s))) ` {a .. b})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact ((\\<lambda>x. exp (- (x *\\<^sub>R s))) ` {a..b})", "by (rule compact_continuous_image) (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  compact ((\\<lambda>x. exp (- (x *\\<^sub>R s))) ` {a..b})\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "then"], ["proof (chain)\npicking this:\n  compact ((\\<lambda>x. exp (- (x *\\<^sub>R s))) ` {a..b})", "obtain C where C: \"0 \\<le> C\" \"a \\<le> x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> cmod (exp (- (x *\\<^sub>R s))) \\<le> C\" for x"], ["proof (prove)\nusing this:\n  compact ((\\<lambda>x. exp (- (x *\\<^sub>R s))) ` {a..b})\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>0 \\<le> C;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> cmod (exp (- (x *\\<^sub>R s)))\n                              \\<le> C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using 1"], ["proof (prove)\nusing this:\n  compact ((\\<lambda>x. exp (- (x *\\<^sub>R s))) ` {a..b})\n  \\<not> b \\<le> a\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>0 \\<le> C;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> cmod (exp (- (x *\\<^sub>R s)))\n                              \\<le> C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply (auto simp: bounded_iff dest!: compact_imp_bounded)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>0 \\<le> C;\n                    \\<And>x.\n                       \\<lbrakk>a \\<le> x; x \\<le> b\\<rbrakk>\n                       \\<Longrightarrow> exp (- (x * Re s)) \\<le> C\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<not> b \\<le> a;\n        \\<forall>x\\<in>{a..b}. exp (- (x * Re s)) \\<le> aa\\<rbrakk>\n       \\<Longrightarrow> thesis", "by (metis atLeastAtMost_iff exp_ge_zero order_refl order_trans scaleR_complex.sel(1))"], ["proof (state)\nthis:\n  0 \\<le> C\n  \\<lbrakk>a \\<le> ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> cmod (exp (- (?x *\\<^sub>R s))) \\<le> C\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "have m: \"(\\<lambda>x. indicator {a..b} x *\\<^sub>R f x) \\<in> borel_measurable lebesgue\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue", "apply (rule has_integral_implies_lebesgue_measurable)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_integral ?I) {a..b}", "apply (rule integrable_integral)"], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on {a..b}", "apply (rule that)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x)\n  \\<in> borel_measurable lebesgue\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "have \"complex_set_integrable lebesgue {a..b} (\\<lambda>x. exp (- (x *\\<^sub>R s)) * (indicator {a .. b} x *\\<^sub>R f x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {a..b}\n     (\\<lambda>x.\n         exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)", "unfolding set_integrable_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_integrable lebesgue\n     (\\<lambda>x.\n         indicat_real {a..b} x *\\<^sub>R\n         (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x))", "apply (rule integrableI_bounded_set_indicator[where B=\"C * B\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. {a..b} \\<in> sets lebesgue\n 2. (\\<lambda>x.\n        exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue\n 3. emeasure lebesgue {a..b} < \\<infinity>\n 4. AE x\\<in>{a..b} in lebesgue.\n    cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<le> C * B", "apply (simp; fail)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (\\<lambda>x.\n        exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue\n 2. emeasure lebesgue {a..b} < \\<infinity>\n 3. AE x\\<in>{a..b} in lebesgue.\n    cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<le> C * B", "apply (rule borel_measurable_times)"], ["proof (prove)\ngoal (4 subgoals):\n 1. (\\<lambda>x. exp (- (x *\\<^sub>R s))) \\<in> borel_measurable lebesgue\n 2. (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue\n 3. emeasure lebesgue {a..b} < \\<infinity>\n 4. AE x\\<in>{a..b} in lebesgue.\n    cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<le> C * B", "apply measurable"], ["proof (prove)\ngoal (5 subgoals):\n 1. (\\<lambda>x. x) \\<in> borel_measurable lebesgue\n 2. (\\<lambda>x. s) \\<in> borel_measurable lebesgue\n 3. (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue\n 4. emeasure lebesgue {a..b} < \\<infinity>\n 5. AE x\\<in>{a..b} in lebesgue.\n    cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<le> C * B", "apply (simp add: measurable_completion)"], ["proof (prove)\ngoal (4 subgoals):\n 1. (\\<lambda>x. s) \\<in> borel_measurable lebesgue\n 2. (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue\n 3. emeasure lebesgue {a..b} < \\<infinity>\n 4. AE x\\<in>{a..b} in lebesgue.\n    cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<le> C * B", "apply (simp add: measurable_completion)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue\n 2. emeasure lebesgue {a..b} < \\<infinity>\n 3. AE x\\<in>{a..b} in lebesgue.\n    cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<le> C * B", "apply (rule m)"], ["proof (prove)\ngoal (2 subgoals):\n 1. emeasure lebesgue {a..b} < \\<infinity>\n 2. AE x\\<in>{a..b} in lebesgue.\n    cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<le> C * B", "apply (simp add: emeasure_lborel_Icc_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x\\<in>{a..b} in lebesgue.\n    cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<le> C * B", "using that(1)"], ["proof (prove)\nusing this:\n  AE x\\<in>{a..b} in lebesgue. cmod (f x) \\<le> B\n\ngoal (1 subgoal):\n 1. AE x\\<in>{a..b} in lebesgue.\n    cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n    \\<le> C * B", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {a..b} \\<longrightarrow> cmod (f x) \\<le> B \\<Longrightarrow>\n       x \\<in> {a..b} \\<longrightarrow>\n       cmod (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n       \\<le> C * B", "apply (auto simp: norm_mult)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>cmod (f x) \\<le> B; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> exp (- (x * Re s)) * cmod (f x) \\<le> C * B", "apply (rule mult_mono)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>cmod (f x) \\<le> B; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> exp (- (x * Re s)) \\<le> C\n 2. \\<And>x.\n       \\<lbrakk>cmod (f x) \\<le> B; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> cmod (f x) \\<le> B\n 3. \\<And>x.\n       \\<lbrakk>cmod (f x) \\<le> B; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> C\n 4. \\<And>x.\n       \\<lbrakk>cmod (f x) \\<le> B; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> cmod (f x)", "using C"], ["proof (prove)\nusing this:\n  0 \\<le> C\n  \\<lbrakk>a \\<le> ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> cmod (exp (- (?x *\\<^sub>R s))) \\<le> C\n\ngoal (4 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>cmod (f x) \\<le> B; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> exp (- (x * Re s)) \\<le> C\n 2. \\<And>x.\n       \\<lbrakk>cmod (f x) \\<le> B; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> cmod (f x) \\<le> B\n 3. \\<And>x.\n       \\<lbrakk>cmod (f x) \\<le> B; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> C\n 4. \\<And>x.\n       \\<lbrakk>cmod (f x) \\<le> B; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> cmod (f x)", "by auto"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue {a..b}\n   (\\<lambda>x.\n       exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> a \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "then"], ["proof (chain)\npicking this:\n  complex_set_integrable lebesgue {a..b}\n   (\\<lambda>x.\n       exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)", "show ?case"], ["proof (prove)\nusing this:\n  complex_set_integrable lebesgue {a..b}\n   (\\<lambda>x.\n       exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x)\n\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)", "unfolding set_integrable_def"], ["proof (prove)\nusing this:\n  complex_integrable lebesgue\n   (\\<lambda>x.\n       indicat_real {a..b} x *\\<^sub>R\n       (exp (- (x *\\<^sub>R s)) * indicat_real {a..b} x *\\<^sub>R f x))\n\ngoal (1 subgoal):\n 1. complex_integrable lebesgue\n     (\\<lambda>x.\n         indicat_real {a..b} x *\\<^sub>R local.laplace_integrand s x)", "by (simp add: laplace_integrand_def[abs_def] indicator_inter_arith[symmetric])"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue {a..b} (local.laplace_integrand s)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma laplace_integrand_integrable_on_Icc:\n  \"laplace_integrand s integrable_on {a..b}\"\n  if \"AE x\\<in>{a..b} in lebesgue. cmod (f x) \\<le> B\" \"f integrable_on {a..b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {a..b}", "using laplace_integrand_absolutely_integrable_on_Icc[OF that]"], ["proof (prove)\nusing this:\n  complex_set_integrable lebesgue {a..b} (local.laplace_integrand ?s)\n\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {a..b}", "using set_lebesgue_integral_eq_integral(1)"], ["proof (prove)\nusing this:\n  complex_set_integrable lebesgue {a..b} (local.laplace_integrand ?s)\n  ?f absolutely_integrable_on ?S \\<Longrightarrow> ?f integrable_on ?S\n\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {a..b}", "by blast"], ["", "lemma eventually_laplace_integrand_le:\n  \"\\<forall>\\<^sub>F t in at_top. cmod (laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)\"\n  if \"exponential_order M c f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top.\n       cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "using exponential_orderD(2)[OF that]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top.\n       cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "proof (eventually_elim)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       cmod (f t) \\<le> M * exp (c * t) \\<Longrightarrow>\n       cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "case (elim t)"], ["proof (state)\nthis:\n  cmod (f t) \\<le> M * exp (c * t)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       cmod (f t) \\<le> M * exp (c * t) \\<Longrightarrow>\n       cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "unfolding laplace_integrand_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (exp (t *\\<^sub>R - s) * f t) \\<le> M * exp (- (Re s - c) * t)", "apply (rule norm_mult_ineq[THEN order_trans])"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (exp (t *\\<^sub>R - s)) * cmod (f t)\n    \\<le> M * exp (- (Re s - c) * t)", "apply (auto intro!: mult_left_mono[THEN order_trans, OF elim])"], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (- (t * Re s)) * (M * exp (c * t)) \\<le> M * exp ((c - Re s) * t)", "apply (auto simp: exp_minus divide_simps algebra_simps exp_add[symmetric])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  assumes eo: \"exponential_order M c f\"\n    and cs: \"c < Re s\"\n  shows laplace_integrand_integrable_on_Ici_iff:\n    \"laplace_integrand s integrable_on {a..} \\<longleftrightarrow>\n      (\\<forall>k>a. laplace_integrand s integrable_on {a..k})\"\n    (is ?th1)\n  and laplace_integrand_absolutely_integrable_on_Ici_iff:\n    \"laplace_integrand s absolutely_integrable_on {a..} \\<longleftrightarrow>\n      (\\<forall>k>a. laplace_integrand s absolutely_integrable_on {a..k})\"\n    (is ?th2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k}) &&&\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n 2. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "have \"\\<forall>\\<^sub>F t in at_top. a < (t::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) a) at_top", "using eventually_gt_at_top"], ["proof (prove)\nusing this:\n  eventually ((<) ?c) at_top\n\ngoal (1 subgoal):\n 1. eventually ((<) a) at_top", "by blast"], ["proof (state)\nthis:\n  eventually ((<) a) at_top\n\ngoal (2 subgoals):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n 2. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "then"], ["proof (chain)\npicking this:\n  eventually ((<) a) at_top", "have \"\\<forall>\\<^sub>F t in at_top. t > a \\<and> cmod (laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)\""], ["proof (prove)\nusing this:\n  eventually ((<) a) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top.\n       a < t \\<and>\n       cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "using eventually_laplace_integrand_le[OF eo]"], ["proof (prove)\nusing this:\n  eventually ((<) a) at_top\n  \\<forall>\\<^sub>F t in at_top.\n     cmod (local.laplace_integrand ?s t) \\<le> M * exp (- (Re ?s - c) * t)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top.\n       a < t \\<and>\n       cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "by eventually_elim (auto)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_top.\n     a < t \\<and>\n     cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)\n\ngoal (2 subgoals):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n 2. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at_top.\n     a < t \\<and>\n     cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "obtain A where A: \"A > a\" and le: \"t \\<ge> A \\<Longrightarrow> cmod (laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)\" for t"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_top.\n     a < t \\<and>\n     cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)\n\ngoal (1 subgoal):\n 1. (\\<And>A.\n        \\<lbrakk>a < A;\n         \\<And>t.\n            A \\<le> t \\<Longrightarrow>\n            cmod (local.laplace_integrand s t)\n            \\<le> M * exp (- (Re s - c) * t)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        a < n \\<and>\n        cmod (local.laplace_integrand s n) \\<le> M * exp (- (Re s - c) * n)\n\ngoal (1 subgoal):\n 1. (\\<And>A.\n        \\<lbrakk>a < A;\n         \\<And>t.\n            A \\<le> t \\<Longrightarrow>\n            cmod (local.laplace_integrand s t)\n            \\<le> M * exp (- (Re s - c) * t)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a < A\n  A \\<le> ?t \\<Longrightarrow>\n  cmod (local.laplace_integrand s ?t) \\<le> M * exp (- (Re s - c) * ?t)\n\ngoal (2 subgoals):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n 2. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "let ?f = \"\\<lambda>(k::real) (t::real). indicat_real {A..k} t *\\<^sub>R laplace_integrand s t\""], ["proof (state)\ngoal (2 subgoals):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n 2. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "from exponential_orderD[OF eo]"], ["proof (chain)\npicking this:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)", "have \"M \\<noteq> 0\""], ["proof (prove)\nusing this:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)\n\ngoal (1 subgoal):\n 1. M \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  M \\<noteq> 0\n\ngoal (2 subgoals):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n 2. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "have 2: \"(\\<lambda>t. M * exp (- (Re s - c) * t)) integrable_on {A..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. M * exp (- (Re s - c) * t)) integrable_on {A..}", "unfolding integrable_on_cmult_iff[OF \\<open>M \\<noteq> 0\\<close>] norm_exp_eq_Re"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. exp (- (Re s - c) * t)) integrable_on {A..}", "by (rule integrable_on_exp_minus_to_infinity) (simp add: cs)"], ["proof (state)\nthis:\n  (\\<lambda>t. M * exp (- (Re s - c) * t)) integrable_on {A..}\n\ngoal (2 subgoals):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n 2. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "have 3: \"t\\<in>{A..} \\<Longrightarrow> cmod (?f k t) \\<le> M * exp (- (Re s - c) * t)\"\n    (is \"t\\<in>_\\<Longrightarrow> ?lhs t \\<le> ?rhs t\")\n    for t k"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> {A..} \\<Longrightarrow>\n    cmod (indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t)\n    \\<le> M * exp (- (Re s - c) * t)", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. A \\<le> t \\<Longrightarrow>\n    cmod (indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t)\n    \\<le> M * exp (- (Re s - c) * t)", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. A \\<le> t__ \\<Longrightarrow>\n    cmod (indicat_real {A..k} t__ *\\<^sub>R local.laplace_integrand s t__)\n    \\<le> M * exp (- (Re s - c) * t__)", "assume \"A \\<le> t\""], ["proof (state)\nthis:\n  A \\<le> t\n\ngoal (1 subgoal):\n 1. A \\<le> t__ \\<Longrightarrow>\n    cmod (indicat_real {A..k} t__ *\\<^sub>R local.laplace_integrand s t__)\n    \\<le> M * exp (- (Re s - c) * t__)", "have \"?lhs t \\<le> cmod (laplace_integrand s t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t)\n    \\<le> cmod (local.laplace_integrand s t)", "by (auto simp: indicator_def)"], ["proof (state)\nthis:\n  cmod (indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t)\n  \\<le> cmod (local.laplace_integrand s t)\n\ngoal (1 subgoal):\n 1. A \\<le> t__ \\<Longrightarrow>\n    cmod (indicat_real {A..k} t__ *\\<^sub>R local.laplace_integrand s t__)\n    \\<le> M * exp (- (Re s - c) * t__)", "also"], ["proof (state)\nthis:\n  cmod (indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t)\n  \\<le> cmod (local.laplace_integrand s t)\n\ngoal (1 subgoal):\n 1. A \\<le> t__ \\<Longrightarrow>\n    cmod (indicat_real {A..k} t__ *\\<^sub>R local.laplace_integrand s t__)\n    \\<le> M * exp (- (Re s - c) * t__)", "have \"\\<dots> \\<le> ?rhs t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "using \\<open>A \\<le> t\\<close> le"], ["proof (prove)\nusing this:\n  A \\<le> t\n  A \\<le> ?t \\<Longrightarrow>\n  cmod (local.laplace_integrand s ?t) \\<le> M * exp (- (Re s - c) * ?t)\n\ngoal (1 subgoal):\n 1. cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)", "by (simp add: laplace_integrand_def)"], ["proof (state)\nthis:\n  cmod (local.laplace_integrand s t) \\<le> M * exp (- (Re s - c) * t)\n\ngoal (1 subgoal):\n 1. A \\<le> t__ \\<Longrightarrow>\n    cmod (indicat_real {A..k} t__ *\\<^sub>R local.laplace_integrand s t__)\n    \\<le> M * exp (- (Re s - c) * t__)", "finally"], ["proof (chain)\npicking this:\n  cmod (indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t)\n  \\<le> M * exp (- (Re s - c) * t)", "show \"?lhs t \\<le> ?rhs t\""], ["proof (prove)\nusing this:\n  cmod (indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t)\n  \\<le> M * exp (- (Re s - c) * t)\n\ngoal (1 subgoal):\n 1. cmod (indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t)\n    \\<le> M * exp (- (Re s - c) * t)", "."], ["proof (state)\nthis:\n  cmod (indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t)\n  \\<le> M * exp (- (Re s - c) * t)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?t \\<in> {A..} \\<Longrightarrow>\n  cmod (indicat_real {A..?k} ?t *\\<^sub>R local.laplace_integrand s ?t)\n  \\<le> M * exp (- (Re s - c) * ?t)\n\ngoal (2 subgoals):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n 2. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "have 4: \"\\<forall>t\\<in>{A..}. ((\\<lambda>k. ?f k t) \\<longlongrightarrow> laplace_integrand s t) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t\\<in>{A..}.\n       ((\\<lambda>k.\n            indicat_real {A..k} t *\\<^sub>R\n            local.laplace_integrand s t) \\<longlongrightarrow>\n        local.laplace_integrand s t)\n        at_top", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       A \\<le> t \\<Longrightarrow>\n       ((\\<lambda>k.\n            indicat_real {A..k} t *\\<^sub>R\n            local.laplace_integrand s t) \\<longlongrightarrow>\n        local.laplace_integrand s t)\n        at_top", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       A \\<le> t \\<Longrightarrow>\n       ((\\<lambda>k.\n            indicat_real {A..k} t *\\<^sub>R\n            local.laplace_integrand s t) \\<longlongrightarrow>\n        local.laplace_integrand s t)\n        at_top", "assume t: \"t \\<ge> A\""], ["proof (state)\nthis:\n  A \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       A \\<le> t \\<Longrightarrow>\n       ((\\<lambda>k.\n            indicat_real {A..k} t *\\<^sub>R\n            local.laplace_integrand s t) \\<longlongrightarrow>\n        local.laplace_integrand s t)\n        at_top", "have \"\\<forall>\\<^sub>F k in at_top. k \\<ge> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((\\<le>) t) at_top", "by (simp add: eventually_ge_at_top)"], ["proof (state)\nthis:\n  eventually ((\\<le>) t) at_top\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       A \\<le> t \\<Longrightarrow>\n       ((\\<lambda>k.\n            indicat_real {A..k} t *\\<^sub>R\n            local.laplace_integrand s t) \\<longlongrightarrow>\n        local.laplace_integrand s t)\n        at_top", "then"], ["proof (chain)\npicking this:\n  eventually ((\\<le>) t) at_top", "have \"\\<forall>\\<^sub>F k in at_top. laplace_integrand s t = ?f k t\""], ["proof (prove)\nusing this:\n  eventually ((\\<le>) t) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in at_top.\n       local.laplace_integrand s t =\n       indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t", "by eventually_elim (use t in \\<open>auto simp: indicator_def\\<close>)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in at_top.\n     local.laplace_integrand s t =\n     indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       A \\<le> t \\<Longrightarrow>\n       ((\\<lambda>k.\n            indicat_real {A..k} t *\\<^sub>R\n            local.laplace_integrand s t) \\<longlongrightarrow>\n        local.laplace_integrand s t)\n        at_top", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F k in at_top.\n     local.laplace_integrand s t =\n     indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t", "show \"((\\<lambda>k. ?f k t) \\<longlongrightarrow> laplace_integrand s t) at_top\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F k in at_top.\n     local.laplace_integrand s t =\n     indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t\n\ngoal (1 subgoal):\n 1. ((\\<lambda>k.\n         indicat_real {A..k} t *\\<^sub>R\n         local.laplace_integrand s t) \\<longlongrightarrow>\n     local.laplace_integrand s t)\n     at_top", "using tendsto_const"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F k in at_top.\n     local.laplace_integrand s t =\n     indicat_real {A..k} t *\\<^sub>R local.laplace_integrand s t\n  ((\\<lambda>x. ?k) \\<longlongrightarrow> ?k) ?F\n\ngoal (1 subgoal):\n 1. ((\\<lambda>k.\n         indicat_real {A..k} t *\\<^sub>R\n         local.laplace_integrand s t) \\<longlongrightarrow>\n     local.laplace_integrand s t)\n     at_top", "by (rule Lim_transform_eventually[rotated])"], ["proof (state)\nthis:\n  ((\\<lambda>k.\n       indicat_real {A..k} t *\\<^sub>R\n       local.laplace_integrand s t) \\<longlongrightarrow>\n   local.laplace_integrand s t)\n   at_top\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>t\\<in>{A..}.\n     ((\\<lambda>k.\n          indicat_real {A..k} t *\\<^sub>R\n          local.laplace_integrand s t) \\<longlongrightarrow>\n      local.laplace_integrand s t)\n      at_top\n\ngoal (2 subgoals):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n 2. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "show th1: ?th1"], ["proof (prove)\ngoal (1 subgoal):\n 1. (local.laplace_integrand s integrable_on {a..}) =\n    (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>local.laplace_integrand s integrable_on {a..};\n        a < k\\<rbrakk>\n       \\<Longrightarrow> local.laplace_integrand s integrable_on {a..k}\n 2. \\<forall>k>a.\n       local.laplace_integrand s integrable_on {a..k} \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {a..}", "assume \"\\<forall>k>a. laplace_integrand s integrable_on {a..k}\""], ["proof (state)\nthis:\n  \\<forall>k>a. local.laplace_integrand s integrable_on {a..k}\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>local.laplace_integrand s integrable_on {a..};\n        a < k\\<rbrakk>\n       \\<Longrightarrow> local.laplace_integrand s integrable_on {a..k}\n 2. \\<forall>k>a.\n       local.laplace_integrand s integrable_on {a..k} \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {a..}", "note li = this[rule_format]"], ["proof (state)\nthis:\n  a < ?k \\<Longrightarrow> local.laplace_integrand s integrable_on {a..?k}\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>local.laplace_integrand s integrable_on {a..};\n        a < k\\<rbrakk>\n       \\<Longrightarrow> local.laplace_integrand s integrable_on {a..k}\n 2. \\<forall>k>a.\n       local.laplace_integrand s integrable_on {a..k} \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {a..}", "have liA: \"laplace_integrand s integrable_on {A..k}\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {A..k}", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> local.laplace_integrand s integrable_on {A..k}\n 2. \\<not> ?P \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {A..k}", "assume \"k \\<le> A\""], ["proof (state)\nthis:\n  k \\<le> A\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> local.laplace_integrand s integrable_on {A..k}\n 2. \\<not> ?P \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {A..k}", "then"], ["proof (chain)\npicking this:\n  k \\<le> A", "have \"{A..k} = (if A = k then {k} else {})\""], ["proof (prove)\nusing this:\n  k \\<le> A\n\ngoal (1 subgoal):\n 1. {A..k} = (if A = k then {k} else {})", "by auto"], ["proof (state)\nthis:\n  {A..k} = (if A = k then {k} else {})\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> local.laplace_integrand s integrable_on {A..k}\n 2. \\<not> ?P \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {A..k}", "then"], ["proof (chain)\npicking this:\n  {A..k} = (if A = k then {k} else {})", "show ?thesis"], ["proof (prove)\nusing this:\n  {A..k} = (if A = k then {k} else {})\n\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {A..k}", "by (auto intro!: integrable_negligible)"], ["proof (state)\nthis:\n  local.laplace_integrand s integrable_on {A..k}\n\ngoal (1 subgoal):\n 1. \\<not> k \\<le> A \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {A..k}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> k \\<le> A \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {A..k}", "assume n: \"\\<not> k \\<le> A\""], ["proof (state)\nthis:\n  \\<not> k \\<le> A\n\ngoal (1 subgoal):\n 1. \\<not> k \\<le> A \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {A..k}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {A..k}", "by (rule integrable_on_subinterval[OF li[of k]]) (use A n in auto)"], ["proof (state)\nthis:\n  local.laplace_integrand s integrable_on {A..k}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  local.laplace_integrand s integrable_on {A..?k}\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>local.laplace_integrand s integrable_on {a..};\n        a < k\\<rbrakk>\n       \\<Longrightarrow> local.laplace_integrand s integrable_on {a..k}\n 2. \\<forall>k>a.\n       local.laplace_integrand s integrable_on {a..k} \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {a..}", "have \"?f k integrable_on {A..k}\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t.\n        indicat_real {A..k} t *\\<^sub>R\n        local.laplace_integrand s t) integrable_on\n    {A..k}", "using liA[of k] negligible_empty"], ["proof (prove)\nusing this:\n  local.laplace_integrand s integrable_on {A..k}\n  negligible {}\n\ngoal (1 subgoal):\n 1. (\\<lambda>t.\n        indicat_real {A..k} t *\\<^sub>R\n        local.laplace_integrand s t) integrable_on\n    {A..k}", "by (rule integrable_spike) auto"], ["proof (state)\nthis:\n  (\\<lambda>t.\n      indicat_real {A..?k} t *\\<^sub>R\n      local.laplace_integrand s t) integrable_on\n  {A..?k}\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>local.laplace_integrand s integrable_on {a..};\n        a < k\\<rbrakk>\n       \\<Longrightarrow> local.laplace_integrand s integrable_on {a..k}\n 2. \\<forall>k>a.\n       local.laplace_integrand s integrable_on {a..k} \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {a..}", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>t.\n      indicat_real {A..?k} t *\\<^sub>R\n      local.laplace_integrand s t) integrable_on\n  {A..?k}", "have 1: \"?f k integrable_on {A..}\" for k"], ["proof (prove)\nusing this:\n  (\\<lambda>t.\n      indicat_real {A..?k} t *\\<^sub>R\n      local.laplace_integrand s t) integrable_on\n  {A..?k}\n\ngoal (1 subgoal):\n 1. (\\<lambda>t.\n        indicat_real {A..k} t *\\<^sub>R\n        local.laplace_integrand s t) integrable_on\n    {A..}", "by (rule integrable_on_superset) auto"], ["proof (state)\nthis:\n  (\\<lambda>t.\n      indicat_real {A..?k} t *\\<^sub>R\n      local.laplace_integrand s t) integrable_on\n  {A..}\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>local.laplace_integrand s integrable_on {a..};\n        a < k\\<rbrakk>\n       \\<Longrightarrow> local.laplace_integrand s integrable_on {a..k}\n 2. \\<forall>k>a.\n       local.laplace_integrand s integrable_on {a..k} \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {a..}", "note 1 2 3 4"], ["proof (state)\nthis:\n  (\\<lambda>t.\n      indicat_real {A..?k} t *\\<^sub>R\n      local.laplace_integrand s t) integrable_on\n  {A..}\n  (\\<lambda>t. M * exp (- (Re s - c) * t)) integrable_on {A..}\n  ?t \\<in> {A..} \\<Longrightarrow>\n  cmod (indicat_real {A..?k} ?t *\\<^sub>R local.laplace_integrand s ?t)\n  \\<le> M * exp (- (Re s - c) * ?t)\n  \\<forall>t\\<in>{A..}.\n     ((\\<lambda>k.\n          indicat_real {A..k} t *\\<^sub>R\n          local.laplace_integrand s t) \\<longlongrightarrow>\n      local.laplace_integrand s t)\n      at_top\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>local.laplace_integrand s integrable_on {a..};\n        a < k\\<rbrakk>\n       \\<Longrightarrow> local.laplace_integrand s integrable_on {a..k}\n 2. \\<forall>k>a.\n       local.laplace_integrand s integrable_on {a..k} \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {a..}", "note * = this[unfolded set_integrable_def]"], ["proof (state)\nthis:\n  (\\<lambda>t.\n      indicat_real {A..?k} t *\\<^sub>R\n      local.laplace_integrand s t) integrable_on\n  {A..}\n  (\\<lambda>t. M * exp (- (Re s - c) * t)) integrable_on {A..}\n  ?t \\<in> {A..} \\<Longrightarrow>\n  cmod (indicat_real {A..?k} ?t *\\<^sub>R local.laplace_integrand s ?t)\n  \\<le> M * exp (- (Re s - c) * ?t)\n  \\<forall>t\\<in>{A..}.\n     ((\\<lambda>k.\n          indicat_real {A..k} t *\\<^sub>R\n          local.laplace_integrand s t) \\<longlongrightarrow>\n      local.laplace_integrand s t)\n      at_top\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>local.laplace_integrand s integrable_on {a..};\n        a < k\\<rbrakk>\n       \\<Longrightarrow> local.laplace_integrand s integrable_on {a..k}\n 2. \\<forall>k>a.\n       local.laplace_integrand s integrable_on {a..k} \\<Longrightarrow>\n    local.laplace_integrand s integrable_on {a..}", "from li[of A] dominated_convergence_at_top(1)[OF *]"], ["proof (chain)\npicking this:\n  a < A \\<Longrightarrow> local.laplace_integrand s integrable_on {a..A}\n  (\\<And>k x.\n      x \\<in> {A..} \\<Longrightarrow> x \\<in> {A..}) \\<Longrightarrow>\n  local.laplace_integrand s integrable_on {A..}", "show \"laplace_integrand s integrable_on {a..}\""], ["proof (prove)\nusing this:\n  a < A \\<Longrightarrow> local.laplace_integrand s integrable_on {a..A}\n  (\\<And>k x.\n      x \\<in> {A..} \\<Longrightarrow> x \\<in> {A..}) \\<Longrightarrow>\n  local.laplace_integrand s integrable_on {A..}\n\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {a..}", "by (rule integrable_Un') (use \\<open>a < A\\<close> in \\<open>auto simp: max_def li\\<close>)"], ["proof (state)\nthis:\n  local.laplace_integrand s integrable_on {a..}\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>local.laplace_integrand s integrable_on {a..};\n        a < k\\<rbrakk>\n       \\<Longrightarrow> local.laplace_integrand s integrable_on {a..k}", "qed (rule integrable_on_subinterval, assumption, auto)"], ["proof (state)\nthis:\n  (local.laplace_integrand s integrable_on {a..}) =\n  (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "show ?th2"], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n    (\\<forall>k>a.\n        complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "assume ai: \"\\<forall>k>a. laplace_integrand s absolutely_integrable_on {a..k}\""], ["proof (state)\nthis:\n  \\<forall>k>a.\n     complex_set_integrable lebesgue {a..k} (local.laplace_integrand s)\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "then"], ["proof (chain)\npicking this:\n  \\<forall>k>a.\n     complex_set_integrable lebesgue {a..k} (local.laplace_integrand s)", "have \"laplace_integrand s absolutely_integrable_on {a..A}\""], ["proof (prove)\nusing this:\n  \\<forall>k>a.\n     complex_set_integrable lebesgue {a..k} (local.laplace_integrand s)\n\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {a..A} (local.laplace_integrand s)", "using A"], ["proof (prove)\nusing this:\n  \\<forall>k>a.\n     complex_set_integrable lebesgue {a..k} (local.laplace_integrand s)\n  a < A\n\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {a..A} (local.laplace_integrand s)", "by auto"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue {a..A} (local.laplace_integrand s)\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "moreover"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue {a..A} (local.laplace_integrand s)\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "from ai"], ["proof (chain)\npicking this:\n  \\<forall>k>a.\n     complex_set_integrable lebesgue {a..k} (local.laplace_integrand s)", "have \"\\<forall>k>a. laplace_integrand s integrable_on {a..k}\""], ["proof (prove)\nusing this:\n  \\<forall>k>a.\n     complex_set_integrable lebesgue {a..k} (local.laplace_integrand s)\n\ngoal (1 subgoal):\n 1. \\<forall>k>a. local.laplace_integrand s integrable_on {a..k}", "using set_lebesgue_integral_eq_integral(1)"], ["proof (prove)\nusing this:\n  \\<forall>k>a.\n     complex_set_integrable lebesgue {a..k} (local.laplace_integrand s)\n  ?f absolutely_integrable_on ?S \\<Longrightarrow> ?f integrable_on ?S\n\ngoal (1 subgoal):\n 1. \\<forall>k>a. local.laplace_integrand s integrable_on {a..k}", "by blast"], ["proof (state)\nthis:\n  \\<forall>k>a. local.laplace_integrand s integrable_on {a..k}\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "with th1"], ["proof (chain)\npicking this:\n  (local.laplace_integrand s integrable_on {a..}) =\n  (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n  \\<forall>k>a. local.laplace_integrand s integrable_on {a..k}", "have i: \"laplace_integrand s integrable_on {a..}\""], ["proof (prove)\nusing this:\n  (local.laplace_integrand s integrable_on {a..}) =\n  (\\<forall>k>a. local.laplace_integrand s integrable_on {a..k})\n  \\<forall>k>a. local.laplace_integrand s integrable_on {a..k}\n\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {a..}", "by auto"], ["proof (state)\nthis:\n  local.laplace_integrand s integrable_on {a..}\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "have 1: \"?f k integrable_on {A..}\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t.\n        indicat_real {A..k} t *\\<^sub>R\n        local.laplace_integrand s t) integrable_on\n    {A..}", "apply (rule integrable_on_superset[where S=\"{A..k}\"])"], ["proof (prove)\ngoal (3 subgoals):\n 1. (\\<lambda>t.\n        indicat_real {A..k} t *\\<^sub>R\n        local.laplace_integrand s t) integrable_on\n    {A..k}\n 2. \\<And>x.\n       x \\<notin> {A..k} \\<Longrightarrow>\n       indicat_real {A..k} x *\\<^sub>R local.laplace_integrand s x = 0\n 3. {A..k} \\<subseteq> {A..}", "using _ negligible_empty"], ["proof (prove)\nusing this:\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  negligible {}\n\ngoal (3 subgoals):\n 1. (\\<lambda>t.\n        indicat_real {A..k} t *\\<^sub>R\n        local.laplace_integrand s t) integrable_on\n    {A..k}\n 2. \\<And>x.\n       x \\<notin> {A..k} \\<Longrightarrow>\n       indicat_real {A..k} x *\\<^sub>R local.laplace_integrand s x = 0\n 3. {A..k} \\<subseteq> {A..}", "apply (rule integrable_spike[where f=\"laplace_integrand s\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. local.laplace_integrand s integrable_on {A..k}\n 2. \\<And>x.\n       x \\<in> {A..k} - {} \\<Longrightarrow>\n       indicat_real {A..k} x *\\<^sub>R local.laplace_integrand s x =\n       local.laplace_integrand s x\n 3. \\<And>x.\n       x \\<notin> {A..k} \\<Longrightarrow>\n       indicat_real {A..k} x *\\<^sub>R local.laplace_integrand s x = 0\n 4. {A..k} \\<subseteq> {A..}", "apply (rule integrable_on_subinterval)"], ["proof (prove)\ngoal (5 subgoals):\n 1. local.laplace_integrand s integrable_on ?S9\n 2. {A..k} \\<subseteq> ?S9\n 3. \\<And>x.\n       x \\<in> {A..k} - {} \\<Longrightarrow>\n       indicat_real {A..k} x *\\<^sub>R local.laplace_integrand s x =\n       local.laplace_integrand s x\n 4. \\<And>x.\n       x \\<notin> {A..k} \\<Longrightarrow>\n       indicat_real {A..k} x *\\<^sub>R local.laplace_integrand s x = 0\n 5. {A..k} \\<subseteq> {A..}", "apply (rule i)"], ["proof (prove)\ngoal (4 subgoals):\n 1. {A..k} \\<subseteq> {a..}\n 2. \\<And>x.\n       x \\<in> {A..k} - {} \\<Longrightarrow>\n       indicat_real {A..k} x *\\<^sub>R local.laplace_integrand s x =\n       local.laplace_integrand s x\n 3. \\<And>x.\n       x \\<notin> {A..k} \\<Longrightarrow>\n       indicat_real {A..k} x *\\<^sub>R local.laplace_integrand s x = 0\n 4. {A..k} \\<subseteq> {A..}", "by (use \\<open>a < A\\<close> in auto)"], ["proof (state)\nthis:\n  (\\<lambda>t.\n      indicat_real {A..?k} t *\\<^sub>R\n      local.laplace_integrand s t) integrable_on\n  {A..}\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "have \"laplace_integrand s absolutely_integrable_on {A..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {A..} (local.laplace_integrand s)", "using _ dominated_convergence_at_top(1)[OF 1 2 3 4] 2"], ["proof (prove)\nusing this:\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  (\\<And>k x.\n      x \\<in> {A..} \\<Longrightarrow> x \\<in> {A..}) \\<Longrightarrow>\n  local.laplace_integrand s integrable_on {A..}\n  (\\<lambda>t. M * exp (- (Re s - c) * t)) integrable_on {A..}\n\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {A..} (local.laplace_integrand s)", "by (rule absolutely_integrable_integrable_bound) (use le in auto)"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue {A..} (local.laplace_integrand s)\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "ultimately"], ["proof (chain)\npicking this:\n  complex_set_integrable lebesgue {a..A} (local.laplace_integrand s)\n  complex_set_integrable lebesgue {A..} (local.laplace_integrand s)", "have \"laplace_integrand s absolutely_integrable_on ({a..A} \\<union> {A..})\""], ["proof (prove)\nusing this:\n  complex_set_integrable lebesgue {a..A} (local.laplace_integrand s)\n  complex_set_integrable lebesgue {A..} (local.laplace_integrand s)\n\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue ({a..A} \\<union> {A..})\n     (local.laplace_integrand s)", "by (rule set_integrable_Un) auto"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue ({a..A} \\<union> {A..})\n   (local.laplace_integrand s)\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "also"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue ({a..A} \\<union> {A..})\n   (local.laplace_integrand s)\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "have \"{a..A} \\<union> {A..} = {a..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a..A} \\<union> {A..} = {a..}", "using \\<open>a < A\\<close>"], ["proof (prove)\nusing this:\n  a < A\n\ngoal (1 subgoal):\n 1. {a..A} \\<union> {A..} = {a..}", "by auto"], ["proof (state)\nthis:\n  {a..A} \\<union> {A..} = {a..}\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)\n 2. \\<forall>k>a.\n       complex_set_integrable lebesgue {a..k}\n        (local.laplace_integrand s) \\<Longrightarrow>\n    complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "finally"], ["proof (chain)\npicking this:\n  complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "show \"local.laplace_integrand s absolutely_integrable_on {a..}\""], ["proof (prove)\nusing this:\n  complex_set_integrable lebesgue {a..} (local.laplace_integrand s)\n\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {a..} (local.laplace_integrand s)", "."], ["proof (state)\nthis:\n  complex_set_integrable lebesgue {a..} (local.laplace_integrand s)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>complex_set_integrable lebesgue {a..}\n                 (local.laplace_integrand s);\n        a < k\\<rbrakk>\n       \\<Longrightarrow> complex_set_integrable lebesgue {a..k}\n                          (local.laplace_integrand s)", "qed (rule set_integrable_subset, assumption, auto)"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue {a..} (local.laplace_integrand s) =\n  (\\<forall>k>a.\n      complex_set_integrable lebesgue {a..k} (local.laplace_integrand s))\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem laplace_exists_laplace_integrandI:\n  assumes \"laplace_integrand s integrable_on {0..}\"\n  obtains F where \"(f has_laplace F) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>F.\n        (f has_laplace F) s \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>F.\n        (f has_laplace F) s \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms"], ["proof (chain)\npicking this:\n  local.laplace_integrand s integrable_on {0..}", "have \"(f has_laplace integral {0..} (laplace_integrand s)) s\""], ["proof (prove)\nusing this:\n  local.laplace_integrand s integrable_on {0..}\n\ngoal (1 subgoal):\n 1. (f has_laplace integral {0..} (local.laplace_integrand s)) s", "unfolding has_laplace_def laplace_integrand_def"], ["proof (prove)\nusing this:\n  (\\<lambda>t. exp (t *\\<^sub>R - s) * f t) integrable_on {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f t) has_integral\n     integral {0..} (\\<lambda>t. exp (t *\\<^sub>R - s) * f t))\n     {0..}", "by blast"], ["proof (state)\nthis:\n  (f has_laplace integral {0..} (local.laplace_integrand s)) s\n\ngoal (1 subgoal):\n 1. (\\<And>F.\n        (f has_laplace F) s \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  (f has_laplace integral {0..} (local.laplace_integrand s)) s\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  assumes eo: \"exponential_order M c f\"\n    and pc: \"\\<And>k. AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> B k\" \"\\<And>k. f integrable_on {0..k}\"\n    and s: \"Re s > c\"\n  shows laplace_integrand_integrable: \"laplace_integrand s integrable_on {0..}\" (is ?th1)\n    and laplace_integrand_absolutely_integrable:\n      \"laplace_integrand s absolutely_integrable_on {0..}\" (is ?th2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {0..} &&&\n    complex_set_integrable lebesgue {0..} (local.laplace_integrand s)", "using eo laplace_integrand_absolutely_integrable_on_Icc[OF pc] s"], ["proof (prove)\nusing this:\n  exponential_order M c f\n  complex_set_integrable lebesgue {0..?b3} (local.laplace_integrand ?s)\n  c < Re s\n\ngoal (1 subgoal):\n 1. local.laplace_integrand s integrable_on {0..} &&&\n    complex_set_integrable lebesgue {0..} (local.laplace_integrand s)", "by (auto simp: laplace_integrand_integrable_on_Ici_iff\n      laplace_integrand_absolutely_integrable_on_Ici_iff\n      set_lebesgue_integral_eq_integral)"], ["", "lemma piecewise_continuous_on_AE_boundedE:\n  assumes pc: \"\\<And>k. piecewise_continuous_on a k (I k) f\"\n  obtains B where \"\\<And>k. AE x\\<in>{a..k} in lebesgue. cmod (f x) \\<le> B k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>B.\n        (\\<And>k.\n            AE x\\<in>{a..k} in lebesgue.\n            cmod (f x) \\<le> B k) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "apply atomize_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>B.\n       \\<forall>k. AE x\\<in>{a..k} in lebesgue. cmod (f x) \\<le> B k", "apply (rule choice)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>k. \\<exists>y. AE x\\<in>{a..k} in lebesgue. cmod (f x) \\<le> y", "apply (rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k. \\<exists>y. AE x\\<in>{a..k} in lebesgue. cmod (f x) \\<le> y", "subgoal for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>y. AE x\\<in>{a..k} in lebesgue. cmod (f x) \\<le> y", "using bounded_piecewise_continuous_image[OF pc[of k]]"], ["proof (prove)\nusing this:\n  bounded (f ` {a..k})\n\ngoal (1 subgoal):\n 1. \\<exists>y. AE x\\<in>{a..k} in lebesgue. cmod (f x) \\<le> y", "by (force simp: bounded_iff)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "theorem piecewise_continuous_on_has_laplace:\n  assumes eo: \"exponential_order M c f\"\n    and pc: \"\\<And>k. piecewise_continuous_on 0 k (I k) f\"\n    and s: \"Re s > c\"\n  obtains F where \"(f has_laplace F) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>F.\n        (f has_laplace F) s \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>F.\n        (f has_laplace F) s \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from piecewise_continuous_on_AE_boundedE[OF pc]"], ["proof (chain)\npicking this:\n  (\\<And>B.\n      (\\<And>k.\n          AE x\\<in>{0..k} in lebesgue.\n          cmod (f x) \\<le> B k) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain B where AE: \"AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> B k\" for k"], ["proof (prove)\nusing this:\n  (\\<And>B.\n      (\\<And>k.\n          AE x\\<in>{0..k} in lebesgue.\n          cmod (f x) \\<le> B k) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        (\\<And>k.\n            AE x\\<in>{0..k} in lebesgue.\n            cmod (f x) \\<le> B k) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  AE x\\<in>{0..?k} in lebesgue. cmod (f x) \\<le> B ?k\n\ngoal (1 subgoal):\n 1. (\\<And>F.\n        (f has_laplace F) s \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have int: \"f integrable_on {0..k}\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on {0..k}", "using pc"], ["proof (prove)\nusing this:\n  piecewise_continuous_on 0 ?k (I ?k) f\n\ngoal (1 subgoal):\n 1. f integrable_on {0..k}", "by (rule piecewise_continuous_on_integrable)"], ["proof (state)\nthis:\n  f integrable_on {0..?k}\n\ngoal (1 subgoal):\n 1. (\\<And>F.\n        (f has_laplace F) s \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using pc"], ["proof (prove)\nusing this:\n  piecewise_continuous_on 0 ?k (I ?k) f\n\ngoal (1 subgoal):\n 1. thesis", "apply (rule piecewise_continuous_on_AE_boundedE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       thesis", "apply (rule laplace_exists_laplace_integrandI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       local.laplace_integrand (?s3 B) integrable_on {0..}\n 2. \\<And>B F.\n       \\<lbrakk>\\<And>k. AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> B k;\n        (f has_laplace F) (?s3 B)\\<rbrakk>\n       \\<Longrightarrow> thesis", "apply (rule laplace_integrand_integrable)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       exponential_order (?M6 B) (?c6 B) f\n 2. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> ?B6 B k\n 3. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       f integrable_on {0..k}\n 4. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       ?c6 B < Re (?s3 B)\n 5. \\<And>B F.\n       \\<lbrakk>\\<And>k. AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> B k;\n        (f has_laplace F) (?s3 B)\\<rbrakk>\n       \\<Longrightarrow> thesis", "apply (rule eo)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> ?B6 B k\n 2. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       f integrable_on {0..k}\n 3. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       c < Re (?s3 B)\n 4. \\<And>B F.\n       \\<lbrakk>\\<And>k. AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> B k;\n        (f has_laplace F) (?s3 B)\\<rbrakk>\n       \\<Longrightarrow> thesis", "apply assumption"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       f integrable_on {0..k}\n 2. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       c < Re (?s3 B)\n 3. \\<And>B F.\n       \\<lbrakk>\\<And>k. AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> B k;\n        (f has_laplace F) (?s3 B)\\<rbrakk>\n       \\<Longrightarrow> thesis", "apply (rule int)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (f x) \\<le> B k) \\<Longrightarrow>\n       c < Re (?s3 B)\n 2. \\<And>B F.\n       \\<lbrakk>\\<And>k. AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> B k;\n        (f has_laplace F) (?s3 B)\\<rbrakk>\n       \\<Longrightarrow> thesis", "apply (rule s)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>B F.\n       \\<lbrakk>\\<And>k. AE x\\<in>{0..k} in lebesgue. cmod (f x) \\<le> B k;\n        (f has_laplace F) s\\<rbrakk>\n       \\<Longrightarrow> thesis", "by (rule that)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open>Concrete Laplace Transforms\\<close>"], ["", "lemma exp_scaleR_has_vector_derivative_left'[derivative_intros]:\n  \"((\\<lambda>t. exp (t *\\<^sub>R A)) has_vector_derivative A * exp (t *\\<^sub>R A)) (at t within S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R A)) has_vector_derivative\n     A * exp (t *\\<^sub>R A))\n     (at t within S)", "by (metis exp_scaleR_has_vector_derivative_right exp_times_scaleR_commute)"], ["", "lemma\n  fixes a::complex\\<comment>\\<open>TODO: generalize\\<close>\n  assumes a: \"0 < Re a\"\n  shows integrable_on_cexp_minus_to_infinity: \"(\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\"\n    and integral_cexp_minus_to_infinity:  \"integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) = exp (c *\\<^sub>R - a) / a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..} &&&\n    integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "from a"], ["proof (chain)\npicking this:\n  0 < Re a", "have \"a \\<noteq> 0\""], ["proof (prove)\nusing this:\n  0 < Re a\n\ngoal (1 subgoal):\n 1. a \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  a \\<noteq> 0\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "define f where \"f = (\\<lambda>k x. if x \\<in> {c..real k} then exp (x *\\<^sub>R -a) else 0)\""], ["proof (state)\nthis:\n  f =\n  (\\<lambda>k x. if x \\<in> {c..real k} then exp (x *\\<^sub>R - a) else 0)\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "{"], ["proof (state)\nthis:\n  f =\n  (\\<lambda>k x. if x \\<in> {c..real k} then exp (x *\\<^sub>R - a) else 0)\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "fix k :: nat"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "assume k: \"of_nat k \\<ge> c\""], ["proof (state)\nthis:\n  c \\<le> real k\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "from \\<open>a \\<noteq> 0\\<close> k"], ["proof (chain)\npicking this:\n  a \\<noteq> 0\n  c \\<le> real k", "have \"((\\<lambda>x. exp (x *\\<^sub>R -a)) has_integral (-exp (k *\\<^sub>R -a)/a - (-exp (c *\\<^sub>R -a)/a))) {c..real k}\""], ["proof (prove)\nusing this:\n  a \\<noteq> 0\n  c \\<le> real k\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. exp (x *\\<^sub>R - a)) has_integral\n     - exp (real k *\\<^sub>R - a) / a - - exp (c *\\<^sub>R - a) / a)\n     {c..real k}", "by (intro fundamental_theorem_of_calculus)\n         (auto intro!: derivative_eq_intros exp_scaleR_has_vector_derivative_left\n            simp: divide_inverse_commute\n               simp del: scaleR_minus_left scaleR_minus_right)"], ["proof (state)\nthis:\n  ((\\<lambda>x. exp (x *\\<^sub>R - a)) has_integral\n   - exp (real k *\\<^sub>R - a) / a - - exp (c *\\<^sub>R - a) / a)\n   {c..real k}\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "hence \"(f k has_integral (exp (c *\\<^sub>R -a)/a - exp (k *\\<^sub>R -a)/a)) {c..}\""], ["proof (prove)\nusing this:\n  ((\\<lambda>x. exp (x *\\<^sub>R - a)) has_integral\n   - exp (real k *\\<^sub>R - a) / a - - exp (c *\\<^sub>R - a) / a)\n   {c..real k}\n\ngoal (1 subgoal):\n 1. (f k has_integral\n     exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a)\n     {c..}", "unfolding f_def"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. exp (x *\\<^sub>R - a)) has_integral\n   - exp (real k *\\<^sub>R - a) / a - - exp (c *\\<^sub>R - a) / a)\n   {c..real k}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         if x \\<in> {c..real k} then exp (x *\\<^sub>R - a)\n         else 0) has_integral\n     exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a)\n     {c..}", "by (subst has_integral_restrict) simp_all"], ["proof (state)\nthis:\n  (f k has_integral\n   exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a)\n   {c..}\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "}"], ["proof (state)\nthis:\n  c \\<le> real ?k2 \\<Longrightarrow>\n  (f ?k2 has_integral\n   exp (c *\\<^sub>R - a) / a - exp (real ?k2 *\\<^sub>R - a) / a)\n   {c..}\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "note has_integral_f = this"], ["proof (state)\nthis:\n  c \\<le> real ?k2 \\<Longrightarrow>\n  (f ?k2 has_integral\n   exp (c *\\<^sub>R - a) / a - exp (real ?k2 *\\<^sub>R - a) / a)\n   {c..}\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "have integrable_fk: \"f k integrable_on {c..}\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. f k integrable_on {c..}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f k integrable_on {c..}", "have \"(\\<lambda>x. exp (x *\\<^sub>R -a)) integrable_on {c..of_real k}\" (is ?P)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..of_real (real k)}", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..of_real (real k)}", "by (auto intro!: continuous_intros integrable_continuous_real)"], ["proof (state)\nthis:\n  (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..of_real (real k)}\n\ngoal (1 subgoal):\n 1. f k integrable_on {c..}", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..of_real (real k)}", "have int: \"(f k) integrable_on {c..of_real k}\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..of_real (real k)}\n\ngoal (1 subgoal):\n 1. f k integrable_on {c..of_real (real k)}", "by (rule integrable_eq) (simp add: f_def)"], ["proof (state)\nthis:\n  f k integrable_on {c..of_real (real k)}\n\ngoal (1 subgoal):\n 1. f k integrable_on {c..}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. f k integrable_on {c..}", "by (rule integrable_on_superset[OF int]) (auto simp: f_def)"], ["proof (state)\nthis:\n  f k integrable_on {c..}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f ?k integrable_on {c..}\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "have limseq: \"\\<And>x. x \\<in>{c..} \\<Longrightarrow> (\\<lambda>k. f k x) \\<longlonglongrightarrow> exp (x *\\<^sub>R - a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {c..} \\<Longrightarrow>\n       (\\<lambda>k. f k x) \\<longlonglongrightarrow> exp (x *\\<^sub>R - a)", "apply (auto intro!: Lim_transform_eventually[OF tendsto_const] simp: f_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       c \\<le> x \\<Longrightarrow>\n       \\<forall>\\<^sub>F xa in sequentially. x \\<le> real xa", "by (meson eventually_sequentiallyI nat_ceiling_le_eq)"], ["proof (state)\nthis:\n  ?x \\<in> {c..} \\<Longrightarrow>\n  (\\<lambda>k. f k ?x) \\<longlonglongrightarrow> exp (?x *\\<^sub>R - a)\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "have bnd: \"\\<And>x. x \\<in> {c..} \\<Longrightarrow> cmod (f k x) \\<le> exp (- Re a * x)\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {c..} \\<Longrightarrow> cmod (f k x) \\<le> exp (- Re a * x)", "by (auto simp: f_def)"], ["proof (state)\nthis:\n  ?x \\<in> {c..} \\<Longrightarrow> cmod (f ?k1 ?x) \\<le> exp (- Re a * ?x)\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "have [simp]: \"f k = (\\<lambda>_. 0)\" if \"of_nat k < c\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. f k = (\\<lambda>_. 0)", "using that"], ["proof (prove)\nusing this:\n  real k < c\n\ngoal (1 subgoal):\n 1. f k = (\\<lambda>_. 0)", "by (auto simp: fun_eq_iff f_def)"], ["proof (state)\nthis:\n  real ?k < c \\<Longrightarrow> f ?k = (\\<lambda>_. 0)\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "have integral_f: \"integral {c..} (f k) =\n                      (if real k \\<ge> c then exp (c *\\<^sub>R -a)/a - exp (k *\\<^sub>R -a)/a else 0)\"\n    for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {c..} (f k) =\n    (if c \\<le> real k\n     then exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a else 0)", "using integral_unique[OF has_integral_f[of k]]"], ["proof (prove)\nusing this:\n  c \\<le> real k \\<Longrightarrow>\n  integral {c..} (f k) =\n  exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a\n\ngoal (1 subgoal):\n 1. integral {c..} (f k) =\n    (if c \\<le> real k\n     then exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a else 0)", "by simp"], ["proof (state)\nthis:\n  integral {c..} (f ?k) =\n  (if c \\<le> real ?k\n   then exp (c *\\<^sub>R - a) / a - exp (real ?k *\\<^sub>R - a) / a else 0)\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "have \"(\\<lambda>k. exp (c *\\<^sub>R -a)/a - exp (k *\\<^sub>R -a)/a) \\<longlonglongrightarrow> exp (c*\\<^sub>R-a)/a - 0/a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. exp (c *\\<^sub>R - a) / a - exp (real x *\\<^sub>R - a) / a)\n    \\<longlonglongrightarrow> exp (c *\\<^sub>R - a) / a - 0 / a", "apply (intro tendsto_intros filterlim_compose[OF exp_at_bot]\n          filterlim_tendsto_neg_mult_at_bot[OF tendsto_const] filterlim_real_sequentially)+"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (real x *\\<^sub>R - a)) \\<longlonglongrightarrow> 0\n 2. a \\<noteq> 0", "apply (rule tendsto_norm_zero_cancel)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>x. cmod (exp (real x *\\<^sub>R - a)))\n    \\<longlonglongrightarrow> 0\n 2. a \\<noteq> 0", "by (auto intro!: assms \\<open>a \\<noteq> 0\\<close> filterlim_real_sequentially\n        filterlim_compose[OF exp_at_bot] filterlim_compose[OF filterlim_uminus_at_bot_at_top]\n        filterlim_at_top_mult_tendsto_pos[OF tendsto_const])"], ["proof (state)\nthis:\n  (\\<lambda>x. exp (c *\\<^sub>R - a) / a - exp (real x *\\<^sub>R - a) / a)\n  \\<longlonglongrightarrow> exp (c *\\<^sub>R - a) / a - 0 / a\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. exp (c *\\<^sub>R - a) / a - exp (real x *\\<^sub>R - a) / a)\n  \\<longlonglongrightarrow> exp (c *\\<^sub>R - a) / a - 0 / a\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "note A = dominated_convergence[where g=\"\\<lambda>x. exp (x *\\<^sub>R -a)\",\n    OF integrable_fk integrable_on_exp_minus_to_infinity[where a=\"Re a\" and c=c, OF \\<open>0 < Re a\\<close>]\n      bnd limseq]"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>k x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..};\n   \\<And>x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..}\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n  \\<lbrakk>\\<And>k x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..};\n   \\<And>x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..}\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>k. integral {c..} (f k))\n                    \\<longlonglongrightarrow> integral {c..}\n         (\\<lambda>x. exp (x *\\<^sub>R - a))\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n 2. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "from A(1)"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>k x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..};\n   \\<And>x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..}\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}", "show \"(\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..};\n   \\<And>x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..}\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}", "."], ["proof (state)\nthis:\n  (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {c..}\n\ngoal (1 subgoal):\n 1. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "from eventually_gt_at_top[of \"nat \\<lceil>c\\<rceil>\"]"], ["proof (chain)\npicking this:\n  eventually ((<) (nat \\<lceil>c\\<rceil>)) sequentially", "have \"eventually (\\<lambda>k. of_nat k > c) sequentially\""], ["proof (prove)\nusing this:\n  eventually ((<) (nat \\<lceil>c\\<rceil>)) sequentially\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially. c < real k", "by eventually_elim linarith"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in sequentially. c < real k\n\ngoal (1 subgoal):\n 1. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "hence \"eventually (\\<lambda>k. exp (c *\\<^sub>R -a)/a - exp (k *\\<^sub>R -a)/a = integral {c..} (f k)) sequentially\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F k in sequentially. c < real k\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a =\n       integral {c..} (f k)", "by eventually_elim (simp add: integral_f)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in sequentially.\n     exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a =\n     integral {c..} (f k)\n\ngoal (1 subgoal):\n 1. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. exp (c *\\<^sub>R - a) / a - exp (real x *\\<^sub>R - a) / a)\n  \\<longlonglongrightarrow> exp (c *\\<^sub>R - a) / a - 0 / a\n  \\<forall>\\<^sub>F k in sequentially.\n     exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a =\n     integral {c..} (f k)", "have \"(\\<lambda>k. integral {c..} (f k)) \\<longlonglongrightarrow> exp (c *\\<^sub>R -a)/a - 0/a\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. exp (c *\\<^sub>R - a) / a - exp (real x *\\<^sub>R - a) / a)\n  \\<longlonglongrightarrow> exp (c *\\<^sub>R - a) / a - 0 / a\n  \\<forall>\\<^sub>F k in sequentially.\n     exp (c *\\<^sub>R - a) / a - exp (real k *\\<^sub>R - a) / a =\n     integral {c..} (f k)\n\ngoal (1 subgoal):\n 1. (\\<lambda>k. integral {c..} (f k))\n    \\<longlonglongrightarrow> exp (c *\\<^sub>R - a) / a - 0 / a", "by (rule Lim_transform_eventually)"], ["proof (state)\nthis:\n  (\\<lambda>k. integral {c..} (f k))\n  \\<longlonglongrightarrow> exp (c *\\<^sub>R - a) / a - 0 / a\n\ngoal (1 subgoal):\n 1. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "from LIMSEQ_unique[OF A(2) this]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>k x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..};\n   \\<And>x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..}\\<rbrakk>\n  \\<Longrightarrow> integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n                    exp (c *\\<^sub>R - a) / a - 0 / a", "show \"integral {c..} (\\<lambda>x. exp (x *\\<^sub>R -a)) = exp (c *\\<^sub>R -a)/a\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>k x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..};\n   \\<And>x. x \\<in> {c..} \\<Longrightarrow> x \\<in> {c..}\\<rbrakk>\n  \\<Longrightarrow> integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n                    exp (c *\\<^sub>R - a) / a - 0 / a\n\ngoal (1 subgoal):\n 1. integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n    exp (c *\\<^sub>R - a) / a", "by simp"], ["proof (state)\nthis:\n  integral {c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n  exp (c *\\<^sub>R - a) / a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_integral_cexp_minus_to_infinity:\n  fixes a::complex\\<comment>\\<open>TODO: generalize\\<close>\n  assumes a: \"0 < Re a\"\n  shows \"((\\<lambda>x. exp (x *\\<^sub>R - a)) has_integral exp (c *\\<^sub>R - a) / a) {c..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. exp (x *\\<^sub>R - a)) has_integral\n     exp (c *\\<^sub>R - a) / a)\n     {c..}", "using integral_cexp_minus_to_infinity[OF assms]\n    integrable_on_cexp_minus_to_infinity[OF assms]"], ["proof (prove)\nusing this:\n  integral {?c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n  exp (?c *\\<^sub>R - a) / a\n  (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {?c..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. exp (x *\\<^sub>R - a)) has_integral\n     exp (c *\\<^sub>R - a) / a)\n     {c..}", "using has_integral_integrable_integral"], ["proof (prove)\nusing this:\n  integral {?c..} (\\<lambda>x. exp (x *\\<^sub>R - a)) =\n  exp (?c *\\<^sub>R - a) / a\n  (\\<lambda>x. exp (x *\\<^sub>R - a)) integrable_on {?c..}\n  (?f has_integral ?i) ?s = (?f integrable_on ?s \\<and> integral ?s ?f = ?i)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. exp (x *\\<^sub>R - a)) has_integral\n     exp (c *\\<^sub>R - a) / a)\n     {c..}", "by blast"], ["", "lemma has_laplace_one:\n  \"((\\<lambda>_. 1) has_laplace inverse s) s\" if \"Re s > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>_. 1) has_laplace inverse s) s", "proof (safe intro!: has_laplaceI)"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * 1) has_integral inverse s) {0..}", "from that"], ["proof (chain)\npicking this:\n  0 < Re s", "have \"((\\<lambda>t. exp (t *\\<^sub>R - s)) has_integral inverse s) {0..}\""], ["proof (prove)\nusing this:\n  0 < Re s\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s)) has_integral inverse s) {0..}", "by (rule has_integral_cexp_minus_to_infinity[THEN has_integral_eq_rhs])\n       (auto simp: inverse_eq_divide)"], ["proof (state)\nthis:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s)) has_integral inverse s) {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * 1) has_integral inverse s) {0..}", "then"], ["proof (chain)\npicking this:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s)) has_integral inverse s) {0..}", "show \"((\\<lambda>t. exp (t *\\<^sub>R - s) * 1) has_integral inverse s) {0..}\""], ["proof (prove)\nusing this:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s)) has_integral inverse s) {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * 1) has_integral inverse s) {0..}", "by simp"], ["proof (state)\nthis:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s) * 1) has_integral inverse s) {0..}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_laplace_add:\n  assumes f: \"(f has_laplace F) S\"\n  assumes g: \"(g has_laplace G) S\"\n  shows \"((\\<lambda>x. f x + g x) has_laplace F + G) S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f x + g x) has_laplace F + G) S", "apply (rule has_laplaceI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - S) * (f t + g t)) has_integral F + G)\n     {0..}", "using has_integral_add[OF has_laplaceD[OF f ] has_laplaceD[OF g]]"], ["proof (prove)\nusing this:\n  ((\\<lambda>x.\n       exp (x *\\<^sub>R - S) * f x +\n       exp (x *\\<^sub>R - S) * g x) has_integral\n   F + G)\n   {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - S) * (f t + g t)) has_integral F + G)\n     {0..}", "by (auto simp: algebra_simps)"], ["", "lemma has_laplace_cmul:\n  assumes \"(f has_laplace F) S\"\n  shows \"((\\<lambda>x. r *\\<^sub>R f x) has_laplace r *\\<^sub>R F) S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. r *\\<^sub>R f x) has_laplace r *\\<^sub>R F) S", "apply (rule has_laplaceI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - S) * r *\\<^sub>R f t) has_integral\n     r *\\<^sub>R F)\n     {0..}", "using has_laplaceD[OF assms, THEN has_integral_cmul[where c=r]]"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. r *\\<^sub>R (exp (x *\\<^sub>R - S) * f x)) has_integral\n   r *\\<^sub>R F)\n   {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - S) * r *\\<^sub>R f t) has_integral\n     r *\\<^sub>R F)\n     {0..}", "by auto"], ["", "lemma has_laplace_uminus:\n  assumes \"(f has_laplace F) S\"\n  shows \"((\\<lambda>x. - f x) has_laplace - F) S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. - f x) has_laplace - F) S", "using has_laplace_cmul[OF assms, of \"-1\"]"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. - 1 *\\<^sub>R f x) has_laplace - 1 *\\<^sub>R F) S\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. - f x) has_laplace - F) S", "by auto"], ["", "lemma has_laplace_minus:\n  assumes f: \"(f has_laplace F) S\"\n  assumes g: \"(g has_laplace G) S\"\n  shows \"((\\<lambda>x. f x - g x) has_laplace F - G) S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f x - g x) has_laplace F - G) S", "using has_laplace_add[OF f has_laplace_uminus[OF g]]"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. f x + - g x) has_laplace F + - G) S\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f x - g x) has_laplace F - G) S", "by simp"], ["", "lemma has_laplace_spike:\n  \"(f has_laplace L) s\"\n  if L: \"(g has_laplace L) s\"\n    and \"negligible T\"\n    and \"\\<And>t. t \\<notin> T \\<Longrightarrow> t \\<ge> 0 \\<Longrightarrow> f t = g t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_laplace L) s", "by (auto intro!: has_laplaceI has_integral_spike[where S=\"T\", OF _ _ has_laplaceD[OF L]] that)"], ["", "lemma has_laplace_frequency_shift:\\<comment>\\<open>First Translation Theorem in Schiff\\<close>\n  \"((\\<lambda>t. exp (t *\\<^sub>R b) * f t) has_laplace L) s\"\n  if \"(f has_laplace L) (s - b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R b) * f t) has_laplace L) s", "using that"], ["proof (prove)\nusing this:\n  (f has_laplace L) (s - b)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R b) * f t) has_laplace L) s", "by (auto intro!: has_laplaceI dest!: has_laplaceD\n      simp: mult_exp_exp algebra_simps)"], ["", "theorem has_laplace_derivative_time_domain:\n  \"(f' has_laplace s * L - f0) s\"\n  if L: \"(f has_laplace L) s\"\n    and f': \"\\<And>t. t > 0 \\<Longrightarrow> (f has_vector_derivative f' t) (at t)\"\n    and f0: \"(f \\<longlongrightarrow> f0) (at_right 0)\"\n    and eo: \"exponential_order M c f\"\n    and cs: \"c < Re s\"\n    \\<comment>\\<open>Proof and statement follow \"The Laplace Transform: Theory and Applications\" by Joel L. Schiff.\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f' has_laplace s * L - f0) s", "proof (rule has_laplaceI)"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have ce: \"continuous_on S (\\<lambda>t. exp (t *\\<^sub>R - s))\" for S"], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on S (\\<lambda>t. exp (t *\\<^sub>R - s))", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on ?S (\\<lambda>t. exp (t *\\<^sub>R - s))\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have de: \"((\\<lambda>t. exp (t *\\<^sub>R - s)) has_vector_derivative (- s * exp (- (t *\\<^sub>R s)))) (at t)\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s)) has_vector_derivative\n     - s * exp (- (t *\\<^sub>R s)))\n     (at t)", "by (auto simp: has_vector_derivative_def intro!: derivative_eq_intros ext)"], ["proof (state)\nthis:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s)) has_vector_derivative\n   - s * exp (- (?t *\\<^sub>R s)))\n   (at ?t)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have \"((\\<lambda>x. -s * (f x * exp (- (x *\\<^sub>R s)))) has_integral - s * L) {0..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. - s * (f x * exp (- (x *\\<^sub>R s)))) has_integral\n     - s * L)\n     {0..}", "apply (rule has_integral_mult_right)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f x * exp (- (x *\\<^sub>R s))) has_integral L) {0..}", "using has_laplaceD[OF L]"], ["proof (prove)\nusing this:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s) * f t) has_integral L) {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f x * exp (- (x *\\<^sub>R s))) has_integral L) {0..}", "by (auto simp: ac_simps)"], ["proof (state)\nthis:\n  ((\\<lambda>x. - s * (f x * exp (- (x *\\<^sub>R s)))) has_integral - s * L)\n   {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "define g where \"g x = (if x \\<le> 0 then f0 else f x)\" for x"], ["proof (state)\nthis:\n  g ?x = (if ?x \\<le> 0 then f0 else f ?x)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have eog: \"exponential_order M c g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exponential_order M c g", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. exponential_order M c g", "from exponential_orderD[OF eo]"], ["proof (chain)\npicking this:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)", "have \"0 < M\"\n      and ev: \"\\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)\""], ["proof (prove)\nusing this:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)\n\ngoal (1 subgoal):\n 1. 0 < M &&&\n    \\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)", "."], ["proof (state)\nthis:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)\n\ngoal (1 subgoal):\n 1. exponential_order M c g", "have \"\\<forall>\\<^sub>F t::real in at_top. t > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) 0) at_top", "by simp"], ["proof (state)\nthis:\n  eventually ((<) 0) at_top\n\ngoal (1 subgoal):\n 1. exponential_order M c g", "with ev"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)\n  eventually ((<) 0) at_top", "have \"\\<forall>\\<^sub>F t in at_top. cmod (g t) \\<le> M * exp (c * t)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_top. cmod (f t) \\<le> M * exp (c * t)\n  eventually ((<) 0) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top. cmod (g t) \\<le> M * exp (c * t)", "by eventually_elim (auto simp: g_def)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_top. cmod (g t) \\<le> M * exp (c * t)\n\ngoal (1 subgoal):\n 1. exponential_order M c g", "with \\<open>0 < M\\<close>"], ["proof (chain)\npicking this:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. cmod (g t) \\<le> M * exp (c * t)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. cmod (g t) \\<le> M * exp (c * t)\n\ngoal (1 subgoal):\n 1. exponential_order M c g", "by (rule exponential_orderI)"], ["proof (state)\nthis:\n  exponential_order M c g\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  exponential_order M c g\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have Lg: \"(g has_laplace L) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (g has_laplace L) s", "using L"], ["proof (prove)\nusing this:\n  (f has_laplace L) s\n\ngoal (1 subgoal):\n 1. (g has_laplace L) s", "by (rule has_laplace_spike[where T=\"{0}\"]) (auto simp: g_def)"], ["proof (state)\nthis:\n  (g has_laplace L) s\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have g': \"\\<And>t. 0 < t \\<Longrightarrow> (g has_vector_derivative f' t) (at t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t. 0 < t \\<Longrightarrow> (g has_vector_derivative f' t) (at t)", "using f'"], ["proof (prove)\nusing this:\n  0 < ?t \\<Longrightarrow> (f has_vector_derivative f' ?t) (at ?t)\n\ngoal (1 subgoal):\n 1. \\<And>t. 0 < t \\<Longrightarrow> (g has_vector_derivative f' t) (at t)", "by (rule has_vector_derivative_transform_within_open[where S=\"{0<..}\"]) (auto simp: g_def)"], ["proof (state)\nthis:\n  0 < ?t \\<Longrightarrow> (g has_vector_derivative f' ?t) (at ?t)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have cg: \"continuous_on {0..k} g\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0..k} g", "apply (auto simp: g_def continuous_on_def)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<le> k \\<Longrightarrow>\n    ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f0)\n     (at 0 within {0..k})\n 2. \\<And>x.\n       \\<lbrakk>x \\<le> k; \\<not> x \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>x.\n                              if x \\<le> 0 then f0\n                              else f x) \\<longlongrightarrow>\n                          f x)\n                          (at x within {0..k})", "apply (rule filterlim_at_within_If)"], ["proof (prove)\ngoal (3 subgoals):\n 1. 0 \\<le> k \\<Longrightarrow>\n    ((\\<lambda>x. f0) \\<longlongrightarrow> f0)\n     (at 0 within {0..k} \\<inter> {x. x \\<le> 0})\n 2. 0 \\<le> k \\<Longrightarrow>\n    (f \\<longlongrightarrow> f0)\n     (at 0 within {0..k} \\<inter> {x. \\<not> x \\<le> 0})\n 3. \\<And>x.\n       \\<lbrakk>x \\<le> k; \\<not> x \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>x.\n                              if x \\<le> 0 then f0\n                              else f x) \\<longlongrightarrow>\n                          f x)\n                          (at x within {0..k})", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> k \\<Longrightarrow>\n    ((\\<lambda>x. f0) \\<longlongrightarrow> f0)\n     (at 0 within {0..k} \\<inter> {x. x \\<le> 0})", "by (rule tendsto_intros)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<le> k \\<Longrightarrow>\n    (f \\<longlongrightarrow> f0)\n     (at 0 within {0..k} \\<inter> {x. \\<not> x \\<le> 0})\n 2. \\<And>x.\n       \\<lbrakk>x \\<le> k; \\<not> x \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>x.\n                              if x \\<le> 0 then f0\n                              else f x) \\<longlongrightarrow>\n                          f x)\n                          (at x within {0..k})", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> k \\<Longrightarrow>\n    (f \\<longlongrightarrow> f0)\n     (at 0 within {0..k} \\<inter> {x. \\<not> x \\<le> 0})", "apply (rule tendsto_within_subset)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<le> k \\<Longrightarrow>\n    (f \\<longlongrightarrow> f0) (at 0 within ?S)\n 2. 0 \\<le> k \\<Longrightarrow>\n    {0..k} \\<inter> {x. \\<not> x \\<le> 0} \\<subseteq> ?S", "apply (rule f0)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> k \\<Longrightarrow>\n    {0..k} \\<inter> {x. \\<not> x \\<le> 0} \\<subseteq> {0<..}", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<le> k; \\<not> x \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>x.\n                              if x \\<le> 0 then f0\n                              else f x) \\<longlongrightarrow>\n                          f x)\n                          (at x within {0..k})", "subgoal premises prems for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "from prems"], ["proof (chain)\npicking this:\n  x \\<le> k\n  \\<not> x \\<le> 0", "have \"0 < x\""], ["proof (prove)\nusing this:\n  x \\<le> k\n  \\<not> x \\<le> 0\n\ngoal (1 subgoal):\n 1. 0 < x", "by auto"], ["proof (state)\nthis:\n  0 < x\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "from order_tendstoD[OF tendsto_ident_at this]"], ["proof (chain)\npicking this:\n  eventually ((<) 0) (at x within ?s1)\n  \\<forall>\\<^sub>F xa in at 0 within ?s1. xa < x", "have \"eventually ((<) 0) (at x within {0..k})\""], ["proof (prove)\nusing this:\n  eventually ((<) 0) (at x within ?s1)\n  \\<forall>\\<^sub>F xa in at 0 within ?s1. xa < x\n\ngoal (1 subgoal):\n 1. eventually ((<) 0) (at x within {0..k})", "by auto"], ["proof (state)\nthis:\n  eventually ((<) 0) (at x within {0..k})\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "then"], ["proof (chain)\npicking this:\n  eventually ((<) 0) (at x within {0..k})", "have \"\\<forall>\\<^sub>F x in at x within {0..k}. f x = (if x \\<le> 0 then f0 else f x)\""], ["proof (prove)\nusing this:\n  eventually ((<) 0) (at x within {0..k})\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x within {0..k}.\n       f x = (if x \\<le> 0 then f0 else f x)", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x within {0..k}.\n     f x = (if x \\<le> 0 then f0 else f x)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x within {0..k}.\n     f x = (if x \\<le> 0 then f0 else f x)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "note [simp] = at_within_open[where S=\"{0<..}\"]"], ["proof (state)\nthis:\n  \\<lbrakk>?a \\<in> {0::?'a1<..}; open {0::?'a1<..}\\<rbrakk>\n  \\<Longrightarrow> at ?a within {0::?'a1<..} = at ?a\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "have \"continuous_on {0<..} f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0<..} f", "by (rule continuous_on_vector_derivative)\n          (auto simp add: intro!: f')"], ["proof (state)\nthis:\n  continuous_on {0<..} f\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "then"], ["proof (chain)\npicking this:\n  continuous_on {0<..} f", "have \"(f \\<longlongrightarrow> f x) (at x within {0..k})\""], ["proof (prove)\nusing this:\n  continuous_on {0<..} f\n\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> f x) (at x within {0..k})", "using \\<open>0 < x\\<close>"], ["proof (prove)\nusing this:\n  continuous_on {0<..} f\n  0 < x\n\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> f x) (at x within {0..k})", "by (auto simp: continuous_on_def intro: Lim_at_imp_Lim_at_within)"], ["proof (state)\nthis:\n  (f \\<longlongrightarrow> f x) (at x within {0..k})\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at x within {0..k}.\n     f x = (if x \\<le> 0 then f0 else f x)\n  (f \\<longlongrightarrow> f x) (at x within {0..k})", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at x within {0..k}.\n     f x = (if x \\<le> 0 then f0 else f x)\n  (f \\<longlongrightarrow> f x) (at x within {0..k})\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n     (at x within {0..k})", "by (rule Lim_transform_eventually[rotated])"], ["proof (state)\nthis:\n  ((\\<lambda>x. if x \\<le> 0 then f0 else f x) \\<longlongrightarrow> f x)\n   (at x within {0..k})\n\ngoal:\nNo subgoals!", "qed"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  continuous_on {0..?k} g\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "then"], ["proof (chain)\npicking this:\n  continuous_on {0..?k} g", "have pcg: \"piecewise_continuous_on 0 k {} g\" for k"], ["proof (prove)\nusing this:\n  continuous_on {0..?k} g\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on 0 k {} g", "by (auto simp: piecewise_continuous_on_def)"], ["proof (state)\nthis:\n  piecewise_continuous_on 0 ?k {} g\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "from piecewise_continuous_on_AE_boundedE[OF this]"], ["proof (chain)\npicking this:\n  (\\<And>B.\n      (\\<And>k.\n          AE x\\<in>{0..k} in lebesgue.\n          cmod (g x) \\<le> B k) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain B where B: \"AE x\\<in>{0..k} in lebesgue. cmod (g x) \\<le> B k\" for k"], ["proof (prove)\nusing this:\n  (\\<And>B.\n      (\\<And>k.\n          AE x\\<in>{0..k} in lebesgue.\n          cmod (g x) \\<le> B k) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        (\\<And>k.\n            AE x\\<in>{0..k} in lebesgue.\n            cmod (g x) \\<le> B k) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  AE x\\<in>{0..?k} in lebesgue. cmod (g x) \\<le> B ?k\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have 1: \"laplace_integrand g s absolutely_integrable_on {0..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {0..} (laplace_integrand g s)", "apply (rule laplace_integrand_absolutely_integrable[OF eog])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>k. AE x\\<in>{0..k} in lebesgue. cmod (g x) \\<le> ?B k\n 2. \\<And>k. g integrable_on {0..k}\n 3. c < Re s", "apply (rule B)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>k. g integrable_on {0..k}\n 2. c < Re s", "apply (rule piecewise_continuous_on_integrable)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>k. piecewise_continuous_on 0 k (?I5 k) g\n 2. c < Re s", "apply (rule pcg)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c < Re s", "apply (rule cs)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue {0..} (laplace_integrand g s)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "then"], ["proof (chain)\npicking this:\n  complex_set_integrable lebesgue {0..} (laplace_integrand g s)", "have csi: \"complex_set_integrable lebesgue {0..} (\\<lambda>x. exp (x *\\<^sub>R - s) * g x)\""], ["proof (prove)\nusing this:\n  complex_set_integrable lebesgue {0..} (laplace_integrand g s)\n\ngoal (1 subgoal):\n 1. complex_set_integrable lebesgue {0..}\n     (\\<lambda>x. exp (x *\\<^sub>R - s) * g x)", "by (auto simp: laplace_integrand_def[abs_def])"], ["proof (state)\nthis:\n  complex_set_integrable lebesgue {0..}\n   (\\<lambda>x. exp (x *\\<^sub>R - s) * g x)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "from has_laplaceD[OF Lg, THEN has_integral_improperE, OF csi]"], ["proof (chain)\npicking this:\n  (\\<And>J.\n      \\<lbrakk>\\<And>k.\n                  ((\\<lambda>t. exp (t *\\<^sub>R - s) * g t) has_integral\n                   J k)\n                   {0..k};\n       (J \\<longlongrightarrow> L) at_top\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain J where J: \"\\<And>k. ((\\<lambda>t. exp (t *\\<^sub>R - s) * g t) has_integral J k) {0..k}\"\n    and [tendsto_intros]: \"(J \\<longlongrightarrow> L) at_top\""], ["proof (prove)\nusing this:\n  (\\<And>J.\n      \\<lbrakk>\\<And>k.\n                  ((\\<lambda>t. exp (t *\\<^sub>R - s) * g t) has_integral\n                   J k)\n                   {0..k};\n       (J \\<longlongrightarrow> L) at_top\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>J.\n        \\<lbrakk>\\<And>k.\n                    ((\\<lambda>t. exp (t *\\<^sub>R - s) * g t) has_integral\n                     J k)\n                     {0..k};\n         (J \\<longlongrightarrow> L) at_top\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s) * g t) has_integral J ?k) {0..?k}\n  (J \\<longlongrightarrow> L) at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have \"((\\<lambda>x. -s * (exp (x *\\<^sub>R - s) * g x)) has_integral -s * J k) {0..k}\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. - s * (exp (x *\\<^sub>R - s) * g x)) has_integral\n     - s * J k)\n     {0..k}", "by (rule has_integral_mult_right) (rule J)"], ["proof (state)\nthis:\n  ((\\<lambda>x. - s * (exp (x *\\<^sub>R - s) * g x)) has_integral\n   - s * J ?k)\n   {0..?k}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "then"], ["proof (chain)\npicking this:\n  ((\\<lambda>x. - s * (exp (x *\\<^sub>R - s) * g x)) has_integral\n   - s * J ?k)\n   {0..?k}", "have *: \"((\\<lambda>x. g x * (- s * exp (- (x *\\<^sub>R s)))) has_integral -s * J k) {0..k}\" for k"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. - s * (exp (x *\\<^sub>R - s) * g x)) has_integral\n   - s * J ?k)\n   {0..?k}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. g x * (- s * exp (- (x *\\<^sub>R s)))) has_integral\n     - s * J k)\n     {0..k}", "by (auto simp: algebra_simps)"], ["proof (state)\nthis:\n  ((\\<lambda>x. g x * (- s * exp (- (x *\\<^sub>R s)))) has_integral\n   - s * J ?k)\n   {0..?k}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have \"\\<forall>\\<^sub>F k::real in at_top. k \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((\\<le>) 0) at_top", "using eventually_ge_at_top"], ["proof (prove)\nusing this:\n  eventually ((\\<le>) ?c) at_top\n\ngoal (1 subgoal):\n 1. eventually ((\\<le>) 0) at_top", "by blast"], ["proof (state)\nthis:\n  eventually ((\\<le>) 0) at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "then"], ["proof (chain)\npicking this:\n  eventually ((\\<le>) 0) at_top", "have evI: \"\\<forall>\\<^sub>F k in at_top. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral\n    g k * exp (k *\\<^sub>R - s) + s * J k - g 0) {0..k}\""], ["proof (prove)\nusing this:\n  eventually ((\\<le>) 0) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in at_top.\n       ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral\n        g k * exp (k *\\<^sub>R - s) + s * J k - g 0)\n        {0..k}", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       0 \\<le> k \\<Longrightarrow>\n       ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral\n        g k * exp (k *\\<^sub>R - s) + s * J k - g 0)\n        {0..k}", "case (elim k)"], ["proof (state)\nthis:\n  0 \\<le> k\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       0 \\<le> k \\<Longrightarrow>\n       ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral\n        g k * exp (k *\\<^sub>R - s) + s * J k - g 0)\n        {0..k}", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral\n     g k * exp (k *\\<^sub>R - s) + s * J k - g 0)\n     {0..k}", "apply (subst mult.commute)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. f' t * exp (t *\\<^sub>R - s)) has_integral\n     g k * exp (k *\\<^sub>R - s) + s * J k - g 0)\n     {0..k}", "apply (rule integration_by_parts_interior[OF bounded_bilinear_mult], fact)"], ["proof (prove)\ngoal (5 subgoals):\n 1. continuous_on {0..k} ?f\n 2. continuous_on {0..k} (\\<lambda>x. exp (x *\\<^sub>R - s))\n 3. \\<And>t.\n       t \\<in> {0<..<k} \\<Longrightarrow>\n       (?f has_vector_derivative f' t) (at t)\n 4. \\<And>t.\n       t \\<in> {0<..<k} \\<Longrightarrow>\n       ((\\<lambda>x. exp (x *\\<^sub>R - s)) has_vector_derivative ?g' t)\n        (at t)\n 5. ((\\<lambda>t. ?f t * ?g' t) has_integral\n     ?f k * exp (k *\\<^sub>R - s) - ?f 0 * exp (0 *\\<^sub>R - s) -\n     (g k * exp (k *\\<^sub>R - s) + s * J k - g 0))\n     {0..k}", "apply (rule cg)"], ["proof (prove)\ngoal (4 subgoals):\n 1. continuous_on {0..k} (\\<lambda>x. exp (x *\\<^sub>R - s))\n 2. \\<And>t.\n       t \\<in> {0<..<k} \\<Longrightarrow>\n       (g has_vector_derivative f' t) (at t)\n 3. \\<And>t.\n       t \\<in> {0<..<k} \\<Longrightarrow>\n       ((\\<lambda>x. exp (x *\\<^sub>R - s)) has_vector_derivative ?g' t)\n        (at t)\n 4. ((\\<lambda>t. g t * ?g' t) has_integral\n     g k * exp (k *\\<^sub>R - s) - g 0 * exp (0 *\\<^sub>R - s) -\n     (g k * exp (k *\\<^sub>R - s) + s * J k - g 0))\n     {0..k}", "apply (rule ce)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t.\n       t \\<in> {0<..<k} \\<Longrightarrow>\n       (g has_vector_derivative f' t) (at t)\n 2. \\<And>t.\n       t \\<in> {0<..<k} \\<Longrightarrow>\n       ((\\<lambda>x. exp (x *\\<^sub>R - s)) has_vector_derivative ?g' t)\n        (at t)\n 3. ((\\<lambda>t. g t * ?g' t) has_integral\n     g k * exp (k *\\<^sub>R - s) - g 0 * exp (0 *\\<^sub>R - s) -\n     (g k * exp (k *\\<^sub>R - s) + s * J k - g 0))\n     {0..k}", "apply (rule g')"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t. t \\<in> {0<..<k} \\<Longrightarrow> 0 < t\n 2. \\<And>t.\n       t \\<in> {0<..<k} \\<Longrightarrow>\n       ((\\<lambda>x. exp (x *\\<^sub>R - s)) has_vector_derivative ?g' t)\n        (at t)\n 3. ((\\<lambda>t. g t * ?g' t) has_integral\n     g k * exp (k *\\<^sub>R - s) - g 0 * exp (0 *\\<^sub>R - s) -\n     (g k * exp (k *\\<^sub>R - s) + s * J k - g 0))\n     {0..k}", "apply force"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t.\n       t \\<in> {0<..<k} \\<Longrightarrow>\n       ((\\<lambda>x. exp (x *\\<^sub>R - s)) has_vector_derivative ?g' t)\n        (at t)\n 2. ((\\<lambda>t. g t * ?g' t) has_integral\n     g k * exp (k *\\<^sub>R - s) - g 0 * exp (0 *\\<^sub>R - s) -\n     (g k * exp (k *\\<^sub>R - s) + s * J k - g 0))\n     {0..k}", "apply (rule de)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. g t * (- s * exp (- (t *\\<^sub>R s)))) has_integral\n     g k * exp (k *\\<^sub>R - s) - g 0 * exp (0 *\\<^sub>R - s) -\n     (g k * exp (k *\\<^sub>R - s) + s * J k - g 0))\n     {0..k}", "apply (rule has_integral_eq_rhs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. ((\\<lambda>t. g t * (- s * exp (- (t *\\<^sub>R s)))) has_integral ?j17)\n     {0..k}\n 2. g k * exp (k *\\<^sub>R - s) - g 0 * exp (0 *\\<^sub>R - s) -\n    (g k * exp (k *\\<^sub>R - s) + s * J k - g 0) =\n    ?j17", "apply (rule *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. g k * exp (k *\\<^sub>R - s) - g 0 * exp (0 *\\<^sub>R - s) -\n    (g k * exp (k *\\<^sub>R - s) + s * J k - g 0) =\n    - s * J k", "by (auto simp: )"], ["proof (state)\nthis:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral\n   g k * exp (k *\\<^sub>R - s) + s * J k - g 0)\n   {0..k}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in at_top.\n     ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral\n      g k * exp (k *\\<^sub>R - s) + s * J k - g 0)\n      {0..k}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "have t1: \"((\\<lambda>x. g x * exp (x *\\<^sub>R - s)) \\<longlongrightarrow> 0) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. g x * exp (x *\\<^sub>R - s)) \\<longlongrightarrow> 0)\n     at_top", "apply (subst mult.commute)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. exp (x *\\<^sub>R - s) * g x) \\<longlongrightarrow> 0)\n     at_top", "unfolding laplace_integrand_def[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (laplace_integrand g s \\<longlongrightarrow> 0) at_top", "apply (rule Lim_null_comparison)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F x in at_top. cmod (laplace_integrand g s x) \\<le> ?g x\n 2. (?g \\<longlongrightarrow> 0) at_top", "apply (rule eventually_laplace_integrand_le[OF eog])"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. M * exp (- (Re s - c) * t)) \\<longlongrightarrow> 0)\n     at_top", "apply (rule tendsto_mult_right_zero)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. exp (- (Re s - c) * x)) \\<longlongrightarrow> 0) at_top", "apply (rule filterlim_compose[OF exp_at_bot])"], ["proof (prove)\ngoal (1 subgoal):\n 1. filterlim ((*) (- (Re s - c))) at_bot at_top", "apply (rule filterlim_tendsto_neg_mult_at_bot)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ((\\<lambda>x. - (Re s - c)) \\<longlongrightarrow> ?c8) at_top\n 2. ?c8 < 0\n 3. LIM x at_top. x :> at_top", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (2 subgoals):\n 1. - (Re s - c) < 0\n 2. LIM x at_top. x :> at_top", "using cs"], ["proof (prove)\nusing this:\n  c < Re s\n\ngoal (2 subgoals):\n 1. - (Re s - c) < 0\n 2. LIM x at_top. x :> at_top", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. LIM x at_top. x :> at_top", "apply (rule filterlim_ident)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  ((\\<lambda>x. g x * exp (x *\\<^sub>R - s)) \\<longlongrightarrow> 0) at_top\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "show \"((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0) {0..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0)\n     {0..}", "apply (rule has_integral_improper_at_topI[OF evI])"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>k.\n         g k * exp (k *\\<^sub>R - s) + s * J k - g 0) \\<longlongrightarrow>\n     s * L - f0)\n     at_top", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>k.\n         g k * exp (k *\\<^sub>R - s) + s * J k - g 0) \\<longlongrightarrow>\n     s * L - f0)\n     at_top", "apply (rule tendsto_eq_intros)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ((\\<lambda>x.\n         g x * exp (x *\\<^sub>R - s) + s * J x) \\<longlongrightarrow>\n     ?a1)\n     at_top\n 2. ((\\<lambda>x. g 0) \\<longlongrightarrow> ?b1) at_top\n 3. ?a1 - ?b1 = s * L - f0", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (4 subgoals):\n 1. ((\\<lambda>x. g x * exp (x *\\<^sub>R - s)) \\<longlongrightarrow> ?a5)\n     at_top\n 2. ((\\<lambda>x. s * J x) \\<longlongrightarrow> ?b5) at_top\n 3. ((\\<lambda>x. g 0) \\<longlongrightarrow> ?b1) at_top\n 4. ?a5 + ?b5 - ?b1 = s * L - f0", "apply (rule t1)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ((\\<lambda>x. s * J x) \\<longlongrightarrow> ?b5) at_top\n 2. ((\\<lambda>x. g 0) \\<longlongrightarrow> ?b1) at_top\n 3. 0 + ?b5 - ?b1 = s * L - f0", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (4 subgoals):\n 1. ((\\<lambda>x. s) \\<longlongrightarrow> ?a8) at_top\n 2. (J \\<longlongrightarrow> ?b8) at_top\n 3. ((\\<lambda>x. g 0) \\<longlongrightarrow> ?b1) at_top\n 4. 0 + ?a8 * ?b8 - ?b1 = s * L - f0", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (J \\<longlongrightarrow> ?b8) at_top\n 2. ((\\<lambda>x. g 0) \\<longlongrightarrow> ?b1) at_top\n 3. 0 + s * ?b8 - ?b1 = s * L - f0", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (2 subgoals):\n 1. ((\\<lambda>x. g 0) \\<longlongrightarrow> ?b1) at_top\n 2. 0 + s * L - ?b1 = s * L - f0", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 + s * L - g 0 = s * L - f0", "by (simp add: g_def)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  ((\\<lambda>t. exp (t *\\<^sub>R - s) * f' t) has_integral s * L - f0) {0..}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma exp_times_has_integral:\n  \"((\\<lambda>t. exp (c * t)) has_integral (if c = 0 then t else exp (c * t) / c) - (if c = 0 then t0 else exp (c * t0) / c)) {t0 .. t}\"\n  if \"t0 \\<le> t\"\n  for c t::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. exp (c * t)) has_integral\n     (if c = 0 then t else exp (c * t) / c) -\n     (if c = 0 then t0 else exp (c * t0) / c))\n     {t0..t}", "apply (cases \"c = 0\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow>\n    ((\\<lambda>t. exp (c * t)) has_integral\n     (if c = 0 then t else exp (c * t) / c) -\n     (if c = 0 then t0 else exp (c * t0) / c))\n     {t0..t}\n 2. c \\<noteq> 0 \\<Longrightarrow>\n    ((\\<lambda>t. exp (c * t)) has_integral\n     (if c = 0 then t else exp (c * t) / c) -\n     (if c = 0 then t0 else exp (c * t0) / c))\n     {t0..t}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. c = 0 \\<Longrightarrow>\n    ((\\<lambda>t. exp (c * t)) has_integral\n     (if c = 0 then t else exp (c * t) / c) -\n     (if c = 0 then t0 else exp (c * t0) / c))\n     {t0..t}", "using that"], ["proof (prove)\nusing this:\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. c = 0 \\<Longrightarrow>\n    ((\\<lambda>t. exp (c * t)) has_integral\n     (if c = 0 then t else exp (c * t) / c) -\n     (if c = 0 then t0 else exp (c * t0) / c))\n     {t0..t}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>c = 0; t0 \\<le> t\\<rbrakk>\n    \\<Longrightarrow> ((\\<lambda>t. 1) has_integral t - t0) {t0..t}", "apply (rule has_integral_eq_rhs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>c = 0; t0 \\<le> t\\<rbrakk>\n    \\<Longrightarrow> ((\\<lambda>t. 1) has_integral ?j2) {t0..t}\n 2. \\<lbrakk>c = 0; t0 \\<le> t\\<rbrakk> \\<Longrightarrow> t - t0 = ?j2", "apply (rule has_integral_const_real)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>c = 0; t0 \\<le> t\\<rbrakk>\n    \\<Longrightarrow> t - t0 = content {t0..t} *\\<^sub>R 1", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    ((\\<lambda>t. exp (c * t)) has_integral\n     (if c = 0 then t else exp (c * t) / c) -\n     (if c = 0 then t0 else exp (c * t0) / c))\n     {t0..t}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    ((\\<lambda>t. exp (c * t)) has_integral\n     (if c = 0 then t else exp (c * t) / c) -\n     (if c = 0 then t0 else exp (c * t0) / c))\n     {t0..t}", "apply (rule fundamental_theorem_of_calculus)"], ["proof (prove)\ngoal (2 subgoals):\n 1. c \\<noteq> 0 \\<Longrightarrow> t0 \\<le> t\n 2. \\<And>x.\n       \\<lbrakk>c \\<noteq> 0; x \\<in> {t0..t}\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>a.\n                              if c = 0 then a\n                              else exp (c * a) / c) has_vector_derivative\n                          exp (c * x))\n                          (at x within {t0..t})", "using that"], ["proof (prove)\nusing this:\n  t0 \\<le> t\n\ngoal (2 subgoals):\n 1. c \\<noteq> 0 \\<Longrightarrow> t0 \\<le> t\n 2. \\<And>x.\n       \\<lbrakk>c \\<noteq> 0; x \\<in> {t0..t}\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>a.\n                              if c = 0 then a\n                              else exp (c * a) / c) has_vector_derivative\n                          exp (c * x))\n                          (at x within {t0..t})", "by (auto simp: has_vector_derivative_def intro!: derivative_eq_intros)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma integral_exp_times:\n  \"integral {t0 .. t} (\\<lambda>t. exp (c * t)) = (if c = 0 then t - t0 else exp (c * t) / c - exp (c * t0) / c)\"\n  if \"t0 \\<le> t\"\n  for c t::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {t0..t} (\\<lambda>t. exp (c * t)) =\n    (if c = 0 then t - t0 else exp (c * t) / c - exp (c * t0) / c)", "using exp_times_has_integral[OF that, of c] that"], ["proof (prove)\nusing this:\n  ((\\<lambda>t. exp (c * t)) has_integral\n   (if c = 0 then t else exp (c * t) / c) -\n   (if c = 0 then t0 else exp (c * t0) / c))\n   {t0..t}\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. integral {t0..t} (\\<lambda>t. exp (c * t)) =\n    (if c = 0 then t - t0 else exp (c * t) / c - exp (c * t0) / c)", "by (auto split: if_splits)"], ["", "lemma filtermap_times_pos_at_top: \"filtermap ((*) e) at_top = at_top\"\n  if \"e > 0\"\n  for e::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. filtermap ((*) e) at_top = at_top", "apply (rule filtermap_fun_inverse[of \"(*) (inverse e)\"])"], ["proof (prove)\ngoal (3 subgoals):\n 1. filterlim ((*) (inverse e)) at_top at_top\n 2. filterlim ((*) e) at_top at_top\n 3. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "apply (rule filterlim_tendsto_pos_mult_at_top)"], ["proof (prove)\ngoal (5 subgoals):\n 1. ((\\<lambda>x. inverse e) \\<longlongrightarrow> ?c4) at_top\n 2. 0 < ?c4\n 3. LIM x at_top. x :> at_top\n 4. filterlim ((*) e) at_top at_top\n 5. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (4 subgoals):\n 1. 0 < inverse e\n 2. LIM x at_top. x :> at_top\n 3. filterlim ((*) e) at_top at_top\n 4. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < inverse e", "using that"], ["proof (prove)\nusing this:\n  0 < e\n\ngoal (1 subgoal):\n 1. 0 < inverse e", "by simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. LIM x at_top. x :> at_top\n 2. filterlim ((*) e) at_top at_top\n 3. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "apply (rule filterlim_ident)"], ["proof (prove)\ngoal (2 subgoals):\n 1. filterlim ((*) e) at_top at_top\n 2. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "apply (rule filterlim_tendsto_pos_mult_at_top)"], ["proof (prove)\ngoal (4 subgoals):\n 1. ((\\<lambda>x. e) \\<longlongrightarrow> ?c11) at_top\n 2. 0 < ?c11\n 3. LIM x at_top. x :> at_top\n 4. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (3 subgoals):\n 1. 0 < e\n 2. LIM x at_top. x :> at_top\n 3. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < e", "using that"], ["proof (prove)\nusing this:\n  0 < e\n\ngoal (1 subgoal):\n 1. 0 < e", "by simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. LIM x at_top. x :> at_top\n 2. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "apply (rule filterlim_ident)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "using that"], ["proof (prove)\nusing this:\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_top. e * (inverse e * x) = x", "by auto"], ["", "lemma exponential_order_additiveI:\n  assumes \"0 < M\" and eo: \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M * exp (c * t)\" and \"c \\<ge> 0\"\n  obtains M' where \"exponential_order M' c f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "consider \"c = 0\" | \"c > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>c = 0 \\<Longrightarrow> thesis;\n     0 < c \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using \\<open>c \\<ge> 0\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<lbrakk>c = 0 \\<Longrightarrow> thesis;\n     0 < c \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by arith"], ["proof (state)\nthis:\n  \\<lbrakk>c = 0 \\<Longrightarrow> ?thesis;\n   0 < c \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>c = 0 \\<Longrightarrow> ?thesis;\n   0 < c \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>c = 0 \\<Longrightarrow> ?thesis;\n   0 < c \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow> thesis\n 2. 0 < c \\<Longrightarrow> thesis", "assume \"c = 0\""], ["proof (state)\nthis:\n  c = 0\n\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow> thesis\n 2. 0 < c \\<Longrightarrow> thesis", "have \"exponential_order (max K 0 + M) c f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exponential_order (max K 0 + M) c f", "using eo"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M * exp (c * t)\n\ngoal (1 subgoal):\n 1. exponential_order (max K 0 + M) c f", "apply (auto intro!: exponential_orderI add_nonneg_pos \\<open>0 < M\\<close> simp: \\<open>c = 0\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M \\<Longrightarrow>\n    \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> max K 0 + M", "apply (auto simp: max_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M;\n     K \\<le> 0\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M", "using eventually_elim2"], ["proof (prove)\nusing this:\n  \\<lbrakk>eventually ?P ?F; eventually ?Q ?F;\n   \\<And>i. \\<lbrakk>?P i; ?Q i\\<rbrakk> \\<Longrightarrow> ?R i\\<rbrakk>\n  \\<Longrightarrow> eventually ?R ?F\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M;\n     K \\<le> 0\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M", "by force"], ["proof (state)\nthis:\n  exponential_order (max K 0 + M) c f\n\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow> thesis\n 2. 0 < c \\<Longrightarrow> thesis", "then"], ["proof (chain)\npicking this:\n  exponential_order (max K 0 + M) c f", "show ?thesis"], ["proof (prove)\nusing this:\n  exponential_order (max K 0 + M) c f\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. 0 < c \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < c \\<Longrightarrow> thesis", "assume \"c > 0\""], ["proof (state)\nthis:\n  0 < c\n\ngoal (1 subgoal):\n 1. 0 < c \\<Longrightarrow> thesis", "have \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M * exp (c * t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M * exp (c * t)", "by fact"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M * exp (c * t)\n\ngoal (1 subgoal):\n 1. 0 < c \\<Longrightarrow> thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M * exp (c * t)\n\ngoal (1 subgoal):\n 1. 0 < c \\<Longrightarrow> thesis", "have \"\\<forall>\\<^sub>F t in (filtermap exp (filtermap ((*) c) at_top)). K < t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) K) (filtermap exp (filtermap ((*) c) at_top))", "by (simp add: filtermap_times_pos_at_top \\<open>c > 0\\<close> filtermap_exp_at_top)"], ["proof (state)\nthis:\n  eventually ((<) K) (filtermap exp (filtermap ((*) c) at_top))\n\ngoal (1 subgoal):\n 1. 0 < c \\<Longrightarrow> thesis", "then"], ["proof (chain)\npicking this:\n  eventually ((<) K) (filtermap exp (filtermap ((*) c) at_top))", "have \"\\<forall>\\<^sub>F t in at_top. K < exp (c * t)\""], ["proof (prove)\nusing this:\n  eventually ((<) K) (filtermap exp (filtermap ((*) c) at_top))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top. K < exp (c * t)", "by (simp add: eventually_filtermap)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_top. K < exp (c * t)\n\ngoal (1 subgoal):\n 1. 0 < c \\<Longrightarrow> thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M * exp (c * t)\n  \\<forall>\\<^sub>F t in at_top. K < exp (c * t)", "have \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> (1 + M) * exp (c * t)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> K + M * exp (c * t)\n  \\<forall>\\<^sub>F t in at_top. K < exp (c * t)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> (1 + M) * exp (c * t)", "by eventually_elim (auto simp: algebra_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> (1 + M) * exp (c * t)\n\ngoal (1 subgoal):\n 1. 0 < c \\<Longrightarrow> thesis", "with add_nonneg_pos[OF zero_le_one \\<open>0 < M\\<close>]"], ["proof (chain)\npicking this:\n  0 < 1 + M\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> (1 + M) * exp (c * t)", "have \"exponential_order (1 + M) c f\""], ["proof (prove)\nusing this:\n  0 < 1 + M\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> (1 + M) * exp (c * t)\n\ngoal (1 subgoal):\n 1. exponential_order (1 + M) c f", "by (rule exponential_orderI)"], ["proof (state)\nthis:\n  exponential_order (1 + M) c f\n\ngoal (1 subgoal):\n 1. 0 < c \\<Longrightarrow> thesis", "then"], ["proof (chain)\npicking this:\n  exponential_order (1 + M) c f", "show ?thesis"], ["proof (prove)\nusing this:\n  exponential_order (1 + M) c f\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma exponential_order_integral:\n  fixes f::\"real \\<Rightarrow> 'a::banach\"\n  assumes I: \"\\<And>t. t \\<ge> a \\<Longrightarrow> (f has_integral I t) {a .. t}\"\n    and eo: \"exponential_order M c f\"\n    and \"c > 0\"\n  obtains M' where \"exponential_order M' c I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from exponential_orderD[OF eo]"], ["proof (chain)\npicking this:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)", "have \"0 < M\"\n    and bound: \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)\""], ["proof (prove)\nusing this:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)\n\ngoal (1 subgoal):\n 1. 0 < M &&&\n    \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)", "by auto"], ["proof (state)\nthis:\n  0 < M\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F t in at_top. t > a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) a) at_top", "by simp"], ["proof (state)\nthis:\n  eventually ((<) a) at_top\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from bound this"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)\n  eventually ((<) a) at_top", "have \"\\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t) \\<and> t > a\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_top. norm (f t) \\<le> M * exp (c * t)\n  eventually ((<) a) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top.\n       norm (f t) \\<le> M * exp (c * t) \\<and> a < t", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_top.\n     norm (f t) \\<le> M * exp (c * t) \\<and> a < t\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at_top.\n     norm (f t) \\<le> M * exp (c * t) \\<and> a < t", "obtain t0 where t0: \"\\<And>t. t \\<ge> t0 \\<Longrightarrow> norm (f t) \\<le> M * exp (c * t)\" \"t0 > a\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_top.\n     norm (f t) \\<le> M * exp (c * t) \\<and> a < t\n\ngoal (1 subgoal):\n 1. (\\<And>t0.\n        \\<lbrakk>\\<And>t.\n                    t0 \\<le> t \\<Longrightarrow>\n                    norm (f t) \\<le> M * exp (c * t);\n         a < t0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: eventually_at_top_linorder)"], ["proof (state)\nthis:\n  t0 \\<le> ?t \\<Longrightarrow> norm (f ?t) \\<le> M * exp (c * ?t)\n  a < t0\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F t in at_top. t > t0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) t0) at_top", "by simp"], ["proof (state)\nthis:\n  eventually ((<) t0) at_top\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  eventually ((<) t0) at_top", "have \"\\<forall>\\<^sub>F t in at_top. norm (I t) \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c + (M / c) * exp (c * t)\""], ["proof (prove)\nusing this:\n  eventually ((<) t0) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_top.\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "case (elim t)"], ["proof (state)\nthis:\n  t0 < t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "then"], ["proof (chain)\npicking this:\n  t0 < t", "have that: \"t \\<ge> t0\""], ["proof (prove)\nusing this:\n  t0 < t\n\ngoal (1 subgoal):\n 1. t0 \\<le> t", "by simp"], ["proof (state)\nthis:\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "from t0"], ["proof (chain)\npicking this:\n  t0 \\<le> ?t \\<Longrightarrow> norm (f ?t) \\<le> M * exp (c * ?t)\n  a < t0", "have \"a \\<le> t0\""], ["proof (prove)\nusing this:\n  t0 \\<le> ?t \\<Longrightarrow> norm (f ?t) \\<le> M * exp (c * ?t)\n  a < t0\n\ngoal (1 subgoal):\n 1. a \\<le> t0", "by simp"], ["proof (state)\nthis:\n  a \\<le> t0\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "have \"f integrable_on {a .. t0}\" \"f integrable_on {t0 .. t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on {a..t0} &&& f integrable_on {t0..t}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on {a..t0}", "by (rule has_integral_integrable[OF I[OF \\<open>a \\<le> t0\\<close>]])"], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on {t0..t}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on {t0..t}", "apply (rule integrable_on_subinterval[OF has_integral_integrable[OF I[where t=t]]])"], ["proof (prove)\ngoal (2 subgoals):\n 1. a \\<le> t\n 2. {t0..t} \\<subseteq> {a..t}", "using \\<open>t0 > a\\<close> that"], ["proof (prove)\nusing this:\n  a < t0\n  t0 \\<le> t\n\ngoal (2 subgoals):\n 1. a \\<le> t\n 2. {t0..t} \\<subseteq> {a..t}", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  f integrable_on {a..t0}\n  f integrable_on {t0..t}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "have \"I t = integral {a .. t0} f + integral {t0 .. t} f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. I t = integral {a..t0} f + integral {t0..t} f", "by (smt I \\<open>a \\<le> t0\\<close> \\<open>f integrable_on {t0..t}\\<close> has_integral_combine has_integral_integrable_integral that)"], ["proof (state)\nthis:\n  I t = integral {a..t0} f + integral {t0..t} f\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "also"], ["proof (state)\nthis:\n  I t = integral {a..t0} f + integral {t0..t} f\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "have \"norm \\<dots> \\<le> norm (integral {a .. t0} f) + norm (integral {t0 .. t} f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (integral {a..t0} f + integral {t0..t} f)\n    \\<le> norm (integral {a..t0} f) + norm (integral {t0..t} f)", "by norm"], ["proof (state)\nthis:\n  norm (integral {a..t0} f + integral {t0..t} f)\n  \\<le> norm (integral {a..t0} f) + norm (integral {t0..t} f)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "also"], ["proof (state)\nthis:\n  norm (integral {a..t0} f + integral {t0..t} f)\n  \\<le> norm (integral {a..t0} f) + norm (integral {t0..t} f)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "have \"norm (integral {t0 .. t} f) \\<le> integral {t0 .. t} (\\<lambda>t. M * exp (c * t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (integral {t0..t} f)\n    \\<le> integral {t0..t} (\\<lambda>t. M * exp (c * t))", "apply (rule integral_norm_bound_integral)"], ["proof (prove)\ngoal (3 subgoals):\n 1. f integrable_on {t0..t}\n 2. (\\<lambda>t. M * exp (c * t)) integrable_on {t0..t}\n 3. \\<And>x.\n       x \\<in> {t0..t} \\<Longrightarrow> norm (f x) \\<le> M * exp (c * x)", "apply fact"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>t. M * exp (c * t)) integrable_on {t0..t}\n 2. \\<And>x.\n       x \\<in> {t0..t} \\<Longrightarrow> norm (f x) \\<le> M * exp (c * x)", "by (auto intro!: integrable_continuous_interval continuous_intros t0)"], ["proof (state)\nthis:\n  norm (integral {t0..t} f)\n  \\<le> integral {t0..t} (\\<lambda>t. M * exp (c * t))\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "also"], ["proof (state)\nthis:\n  norm (integral {t0..t} f)\n  \\<le> integral {t0..t} (\\<lambda>t. M * exp (c * t))\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "have \"\\<dots> = M * integral {t0 .. t} (\\<lambda>t. exp (c * t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {t0..t} (\\<lambda>t. M * exp (c * t)) =\n    M * integral {t0..t} (\\<lambda>t. exp (c * t))", "by simp"], ["proof (state)\nthis:\n  integral {t0..t} (\\<lambda>t. M * exp (c * t)) =\n  M * integral {t0..t} (\\<lambda>t. exp (c * t))\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "also"], ["proof (state)\nthis:\n  integral {t0..t} (\\<lambda>t. M * exp (c * t)) =\n  M * integral {t0..t} (\\<lambda>t. exp (c * t))\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "have \"integral {t0 .. t} (\\<lambda>t. exp (c * t)) = exp (c * t) / c - exp (c * t0) / c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {t0..t} (\\<lambda>t. exp (c * t)) =\n    exp (c * t) / c - exp (c * t0) / c", "using \\<open>c > 0\\<close> \\<open>t0 \\<le> t\\<close>"], ["proof (prove)\nusing this:\n  0 < c\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. integral {t0..t} (\\<lambda>t. exp (c * t)) =\n    exp (c * t) / c - exp (c * t0) / c", "by (subst integral_exp_times) auto"], ["proof (state)\nthis:\n  integral {t0..t} (\\<lambda>t. exp (c * t)) =\n  exp (c * t) / c - exp (c * t0) / c\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t0 < t \\<Longrightarrow>\n       norm (I t)\n       \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n             M / c * exp (c * t)", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      norm (integral {a..t0} f) + x\n      \\<le> norm (integral {a..t0} f) + y) \\<Longrightarrow>\n  norm (I t)\n  \\<le> norm (integral {a..t0} f) + M * (exp (c * t) / c - exp (c * t0) / c)", "show ?case"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      norm (integral {a..t0} f) + x\n      \\<le> norm (integral {a..t0} f) + y) \\<Longrightarrow>\n  norm (I t)\n  \\<le> norm (integral {a..t0} f) + M * (exp (c * t) / c - exp (c * t0) / c)\n\ngoal (1 subgoal):\n 1. norm (I t)\n    \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n          M / c * exp (c * t)", "using \\<open>c > 0\\<close>"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      norm (integral {a..t0} f) + x\n      \\<le> norm (integral {a..t0} f) + y) \\<Longrightarrow>\n  norm (I t)\n  \\<le> norm (integral {a..t0} f) + M * (exp (c * t) / c - exp (c * t0) / c)\n  0 < c\n\ngoal (1 subgoal):\n 1. norm (I t)\n    \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n          M / c * exp (c * t)", "by (auto simp: algebra_simps)"], ["proof (state)\nthis:\n  norm (I t)\n  \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n        M / c * exp (c * t)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_top.\n     norm (I t)\n     \\<le> norm (integral {a..t0} f) - M * exp (c * t0) / c +\n           M / c * exp (c * t)\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from exponential_order_additiveI[OF divide_pos_pos[OF \\<open>0 < M\\<close> \\<open>0 < c\\<close>] this less_imp_le[OF \\<open>0 < c\\<close>]]"], ["proof (chain)\npicking this:\n  (\\<And>M'.\n      exponential_order M' c I \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain M' where \"exponential_order M' c I\""], ["proof (prove)\nusing this:\n  (\\<And>M'.\n      exponential_order M' c I \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "."], ["proof (state)\nthis:\n  exponential_order M' c I\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  exponential_order M' c I", "show ?thesis"], ["proof (prove)\nusing this:\n  exponential_order M' c I\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma integral_has_vector_derivative_piecewise_continuous:\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\\<comment>\\<open>TODO: generalize?\\<close>\n  assumes \"piecewise_continuous_on a b D f\"\n  shows \"\\<And>x. x \\<in> {a .. b} - D \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f(x)) (at x within {a..b} - D)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {a..b} - D \\<Longrightarrow>\n       ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n        (at x within {a..b} - D)", "using assms"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b D f\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {a..b} - D \\<Longrightarrow>\n       ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n        (at x within {a..b} - D)", "proof (induction a b D f rule: piecewise_continuous_on_induct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b f x.\n       \\<lbrakk>continuous_on {a..b} f; x \\<in> {a..b} - {}\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - {})\n 2. \\<And>a i b I f1 f2 f x.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        \\<And>x.\n           x \\<in> {a..i} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n            (at x within {a..i} - I);\n        \\<And>x.\n           x \\<in> {i..b} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n            (at x within {i..b} - I);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)\n 3. \\<And>a b i I f x.\n       \\<lbrakk>\\<And>x.\n                   x \\<in> {a..b} - I \\<Longrightarrow>\n                   ((\\<lambda>u. integral {a..u} f) has_vector_derivative\n                    f x)\n                    (at x within {a..b} - I);\n        finite I; i \\<notin> I; x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)", "case (empty a b f)"], ["proof (state)\nthis:\n  continuous_on {a..b} f\n  x \\<in> {a..b} - {}\n\ngoal (3 subgoals):\n 1. \\<And>a b f x.\n       \\<lbrakk>continuous_on {a..b} f; x \\<in> {a..b} - {}\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - {})\n 2. \\<And>a i b I f1 f2 f x.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        \\<And>x.\n           x \\<in> {a..i} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n            (at x within {a..i} - I);\n        \\<And>x.\n           x \\<in> {i..b} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n            (at x within {i..b} - I);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)\n 3. \\<And>a b i I f x.\n       \\<lbrakk>\\<And>x.\n                   x \\<in> {a..b} - I \\<Longrightarrow>\n                   ((\\<lambda>u. integral {a..u} f) has_vector_derivative\n                    f x)\n                    (at x within {a..b} - I);\n        finite I; i \\<notin> I; x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)", "then"], ["proof (chain)\npicking this:\n  continuous_on {a..b} f\n  x \\<in> {a..b} - {}", "show ?case"], ["proof (prove)\nusing this:\n  continuous_on {a..b} f\n  x \\<in> {a..b} - {}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - {})", "by (auto intro: integral_has_vector_derivative)"], ["proof (state)\nthis:\n  ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n   (at x within {a..b} - {})\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f x.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        \\<And>x.\n           x \\<in> {a..i} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n            (at x within {a..i} - I);\n        \\<And>x.\n           x \\<in> {i..b} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n            (at x within {i..b} - I);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)\n 2. \\<And>a b i I f x.\n       \\<lbrakk>\\<And>x.\n                   x \\<in> {a..b} - I \\<Longrightarrow>\n                   ((\\<lambda>u. integral {a..u} f) has_vector_derivative\n                    f x)\n                    (at x within {a..b} - I);\n        finite I; i \\<notin> I; x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f x.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        \\<And>x.\n           x \\<in> {a..i} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n            (at x within {a..i} - I);\n        \\<And>x.\n           x \\<in> {i..b} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n            (at x within {i..b} - I);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)\n 2. \\<And>a b i I f x.\n       \\<lbrakk>\\<And>x.\n                   x \\<in> {a..b} - I \\<Longrightarrow>\n                   ((\\<lambda>u. integral {a..u} f) has_vector_derivative\n                    f x)\n                    (at x within {a..b} - I);\n        finite I; i \\<notin> I; x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)", "case (combine a i b I f1 f2 f)"], ["proof (state)\nthis:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f x.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        \\<And>x.\n           x \\<in> {a..i} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n            (at x within {a..i} - I);\n        \\<And>x.\n           x \\<in> {i..b} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n            (at x within {i..b} - I);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)\n 2. \\<And>a b i I f x.\n       \\<lbrakk>\\<And>x.\n                   x \\<in> {a..b} - I \\<Longrightarrow>\n                   ((\\<lambda>u. integral {a..u} f) has_vector_derivative\n                    f x)\n                    (at x within {a..b} - I);\n        finite I; i \\<notin> I; x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)", "then"], ["proof (chain)\npicking this:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I", "consider \"x < i\" | \"i < x\""], ["proof (prove)\nusing this:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < i \\<Longrightarrow> thesis;\n     i < x \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto arith"], ["proof (state)\nthis:\n  \\<lbrakk>x < i \\<Longrightarrow> ?thesis;\n   i < x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f x.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        \\<And>x.\n           x \\<in> {a..i} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n            (at x within {a..i} - I);\n        \\<And>x.\n           x \\<in> {i..b} - I \\<Longrightarrow>\n           ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n            (at x within {i..b} - I);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)\n 2. \\<And>a b i I f x.\n       \\<lbrakk>\\<And>x.\n                   x \\<in> {a..b} - I \\<Longrightarrow>\n                   ((\\<lambda>u. integral {a..u} f) has_vector_derivative\n                    f x)\n                    (at x within {a..b} - I);\n        finite I; i \\<notin> I; x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>x < i \\<Longrightarrow> ?thesis;\n   i < x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>x < i \\<Longrightarrow> ?thesis;\n   i < x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "proof cases\\<comment>\\<open>TODO: this is very explicit...\\<close>"], ["proof (state)\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)\n 2. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "case 1"], ["proof (state)\nthis:\n  x < i\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)\n 2. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "have evless: \"\\<forall>\\<^sub>F xa in nhds x. xa < i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds x. xa < i", "apply (rule order_tendstoD[OF _ \\<open>x < i\\<close>])"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. x) \\<longlongrightarrow> x) (nhds x)", "by (simp add: filterlim_ident)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F xa in nhds x. xa < i\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)\n 2. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "have eq: \"at x within {a..b} - insert i I = at x within {a .. i} - I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {a..b} - insert i I = at x within {a..i} - I", "unfolding filter_eq_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>P.\n       eventually P (at x within {a..b} - insert i I) =\n       eventually P (at x within {a..i} - I)", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {a..i} - I)\n 2. \\<And>P.\n       eventually P (at x within {a..i} - I) \\<Longrightarrow>\n       eventually P (at x within {a..b} - insert i I)", "fix P"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {a..i} - I)\n 2. \\<And>P.\n       eventually P (at x within {a..i} - I) \\<Longrightarrow>\n       eventually P (at x within {a..b} - insert i I)", "assume \"eventually P (at x within {a..i} - I)\""], ["proof (state)\nthis:\n  eventually P (at x within {a..i} - I)\n\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {a..i} - I)\n 2. \\<And>P.\n       eventually P (at x within {a..i} - I) \\<Longrightarrow>\n       eventually P (at x within {a..b} - insert i I)", "with evless"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F xa in nhds x. xa < i\n  eventually P (at x within {a..i} - I)", "show \"eventually P (at x within {a..b} - insert i I)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in nhds x. xa < i\n  eventually P (at x within {a..i} - I)\n\ngoal (1 subgoal):\n 1. eventually P (at x within {a..b} - insert i I)", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in nhds x. xa < i\n  \\<forall>\\<^sub>F xa in nhds x.\n     xa \\<noteq> x \\<longrightarrow>\n     xa \\<in> {a..i} - I \\<longrightarrow> P xa\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds x.\n       xa \\<noteq> x \\<longrightarrow>\n       xa \\<in> {a..b} - insert i I \\<longrightarrow> P xa", "by eventually_elim auto"], ["proof (state)\nthis:\n  eventually P (at x within {a..b} - insert i I)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {a..i} - I)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {a..i} - I)", "fix P"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {a..i} - I)", "assume \"eventually P (at x within {a..b} - insert i I)\""], ["proof (state)\nthis:\n  eventually P (at x within {a..b} - insert i I)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {a..i} - I)", "with evless"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F xa in nhds x. xa < i\n  eventually P (at x within {a..b} - insert i I)", "show \"eventually P (at x within {a..i} - I)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in nhds x. xa < i\n  eventually P (at x within {a..b} - insert i I)\n\ngoal (1 subgoal):\n 1. eventually P (at x within {a..i} - I)", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in nhds x. xa < i\n  \\<forall>\\<^sub>F xa in nhds x.\n     xa \\<noteq> x \\<longrightarrow>\n     xa \\<in> {a..b} - insert i I \\<longrightarrow> P xa\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds x.\n       xa \\<noteq> x \\<longrightarrow>\n       xa \\<in> {a..i} - I \\<longrightarrow> P xa", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa < i;\n        xa \\<noteq> x \\<longrightarrow>\n        xa \\<in> {a..b} - insert i I \\<longrightarrow> P xa\\<rbrakk>\n       \\<Longrightarrow> xa \\<noteq> x \\<longrightarrow>\n                         xa \\<in> {a..i} - I \\<longrightarrow> P xa", "using 1 combine"], ["proof (prove)\nusing this:\n  x < i\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa < i;\n        xa \\<noteq> x \\<longrightarrow>\n        xa \\<in> {a..b} - insert i I \\<longrightarrow> P xa\\<rbrakk>\n       \\<Longrightarrow> xa \\<noteq> x \\<longrightarrow>\n                         xa \\<in> {a..i} - I \\<longrightarrow> P xa", "by auto"], ["proof (state)\nthis:\n  eventually P (at x within {a..i} - I)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  at x within {a..b} - insert i I = at x within {a..i} - I\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)\n 2. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "have \"f x = f1 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x = f1 x", "using combine 1"], ["proof (prove)\nusing this:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n  x < i\n\ngoal (1 subgoal):\n 1. f x = f1 x", "by auto"], ["proof (state)\nthis:\n  f x = f1 x\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)\n 2. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "have i_eq: \"integral {a..y} f = integral {a..y} f1\" if \"y < i\" for y"], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..y} f = integral {a..y} f1", "using negligible_empty"], ["proof (prove)\nusing this:\n  negligible {}\n\ngoal (1 subgoal):\n 1. integral {a..y} f = integral {a..y} f1", "apply (rule integral_spike)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {a..y} - {} \\<Longrightarrow> f1 x = f x", "using combine 1 that"], ["proof (prove)\nusing this:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n  x < i\n  y < i\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {a..y} - {} \\<Longrightarrow> f1 x = f x", "by auto"], ["proof (state)\nthis:\n  ?y < i \\<Longrightarrow> integral {a..?y} f = integral {a..?y} f1\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)\n 2. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "from evless"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F xa in nhds x. xa < i", "have ev_eq: \"\\<forall>\\<^sub>F x in nhds x. x \\<in> {a..i} - I \\<longrightarrow> integral {a..x} f = integral {a..x} f1\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in nhds x. xa < i\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in nhds x.\n       x \\<in> {a..i} - I \\<longrightarrow>\n       integral {a..x} f = integral {a..x} f1", "by eventually_elim (auto simp: i_eq)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in nhds x.\n     x \\<in> {a..i} - I \\<longrightarrow>\n     integral {a..x} f = integral {a..x} f1\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)\n 2. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "unfolding eq \\<open>f x = f1 x\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u. integral {a..u} f) has_vector_derivative f1 x)\n     (at x within {a..i} - I)", "apply (subst has_vector_derivative_cong_ev[OF ev_eq])"], ["proof (prove)\ngoal (2 subgoals):\n 1. integral {a..x} f = integral {a..x} f1\n 2. ((\\<lambda>x. integral {a..x} f1) has_vector_derivative f1 x)\n     (at x within {a..i} - I)", "using combine.IH[of x]"], ["proof (prove)\nusing this:\n  x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n   (at x within {a..i} - I)\n  x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n   (at x within {i..b} - I)\n\ngoal (2 subgoals):\n 1. integral {a..x} f = integral {a..x} f1\n 2. ((\\<lambda>x. integral {a..x} f1) has_vector_derivative f1 x)\n     (at x within {a..i} - I)", "using combine.hyps combine.prems 1"], ["proof (prove)\nusing this:\n  x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n   (at x within {a..i} - I)\n  x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n   (at x within {i..b} - I)\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  x \\<in> {a..b} - insert i I\n  x < i\n\ngoal (2 subgoals):\n 1. integral {a..x} f = integral {a..x} f1\n 2. ((\\<lambda>x. integral {a..x} f1) has_vector_derivative f1 x)\n     (at x within {a..i} - I)", "by (auto simp: i_eq)"], ["proof (state)\nthis:\n  ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n   (at x within {a..b} - insert i I)\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "case 2"], ["proof (state)\nthis:\n  i < x\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "have evless: \"\\<forall>\\<^sub>F xa in nhds x. xa > i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) i) (nhds x)", "apply (rule order_tendstoD[OF _ \\<open>x > i\\<close>])"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. x) \\<longlongrightarrow> x) (nhds x)", "by (simp add: filterlim_ident)"], ["proof (state)\nthis:\n  eventually ((<) i) (nhds x)\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "have eq: \"at x within {a..b} - insert i I = at x within {i .. b} - I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {a..b} - insert i I = at x within {i..b} - I", "unfolding filter_eq_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>P.\n       eventually P (at x within {a..b} - insert i I) =\n       eventually P (at x within {i..b} - I)", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {i..b} - I)\n 2. \\<And>P.\n       eventually P (at x within {i..b} - I) \\<Longrightarrow>\n       eventually P (at x within {a..b} - insert i I)", "fix P"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {i..b} - I)\n 2. \\<And>P.\n       eventually P (at x within {i..b} - I) \\<Longrightarrow>\n       eventually P (at x within {a..b} - insert i I)", "assume \"eventually P (at x within {i..b} - I)\""], ["proof (state)\nthis:\n  eventually P (at x within {i..b} - I)\n\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {i..b} - I)\n 2. \\<And>P.\n       eventually P (at x within {i..b} - I) \\<Longrightarrow>\n       eventually P (at x within {a..b} - insert i I)", "with evless"], ["proof (chain)\npicking this:\n  eventually ((<) i) (nhds x)\n  eventually P (at x within {i..b} - I)", "show \"eventually P (at x within {a..b} - insert i I)\""], ["proof (prove)\nusing this:\n  eventually ((<) i) (nhds x)\n  eventually P (at x within {i..b} - I)\n\ngoal (1 subgoal):\n 1. eventually P (at x within {a..b} - insert i I)", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  eventually ((<) i) (nhds x)\n  \\<forall>\\<^sub>F xa in nhds x.\n     xa \\<noteq> x \\<longrightarrow>\n     xa \\<in> {i..b} - I \\<longrightarrow> P xa\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds x.\n       xa \\<noteq> x \\<longrightarrow>\n       xa \\<in> {a..b} - insert i I \\<longrightarrow> P xa", "by eventually_elim auto"], ["proof (state)\nthis:\n  eventually P (at x within {a..b} - insert i I)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {i..b} - I)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {i..b} - I)", "fix P"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {i..b} - I)", "assume \"eventually P (at x within {a..b} - insert i I)\""], ["proof (state)\nthis:\n  eventually P (at x within {a..b} - insert i I)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within {a..b} - insert i I) \\<Longrightarrow>\n       eventually P (at x within {i..b} - I)", "with evless"], ["proof (chain)\npicking this:\n  eventually ((<) i) (nhds x)\n  eventually P (at x within {a..b} - insert i I)", "show \"eventually P (at x within {i..b} - I)\""], ["proof (prove)\nusing this:\n  eventually ((<) i) (nhds x)\n  eventually P (at x within {a..b} - insert i I)\n\ngoal (1 subgoal):\n 1. eventually P (at x within {i..b} - I)", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  eventually ((<) i) (nhds x)\n  \\<forall>\\<^sub>F xa in nhds x.\n     xa \\<noteq> x \\<longrightarrow>\n     xa \\<in> {a..b} - insert i I \\<longrightarrow> P xa\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds x.\n       xa \\<noteq> x \\<longrightarrow>\n       xa \\<in> {i..b} - I \\<longrightarrow> P xa", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>i < xa;\n        xa \\<noteq> x \\<longrightarrow>\n        xa \\<in> {a..b} - insert i I \\<longrightarrow> P xa\\<rbrakk>\n       \\<Longrightarrow> xa \\<noteq> x \\<longrightarrow>\n                         xa \\<in> {i..b} - I \\<longrightarrow> P xa", "using 2 combine"], ["proof (prove)\nusing this:\n  i < x\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>i < xa;\n        xa \\<noteq> x \\<longrightarrow>\n        xa \\<in> {a..b} - insert i I \\<longrightarrow> P xa\\<rbrakk>\n       \\<Longrightarrow> xa \\<noteq> x \\<longrightarrow>\n                         xa \\<in> {i..b} - I \\<longrightarrow> P xa", "by auto"], ["proof (state)\nthis:\n  eventually P (at x within {i..b} - I)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  at x within {a..b} - insert i I = at x within {i..b} - I\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "have \"f x = f2 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x = f2 x", "using combine 2"], ["proof (prove)\nusing this:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n  i < x\n\ngoal (1 subgoal):\n 1. f x = f2 x", "by auto"], ["proof (state)\nthis:\n  f x = f2 x\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "have i_eq: \"integral {a..y} f = integral {a..i} f + integral {i..y} f2\" if \"i < y\" \"y \\<le> b\" for y"], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..y} f = integral {a..i} f + integral {i..y} f2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. integral {a..y} f = integral {a..i} f + integral {i..y} f2", "have \"integral {a..y} f = integral {a..i} f + integral {i..y} f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..y} f = integral {a..i} f + integral {i..y} f", "apply (cases \"i = y\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. i = y \\<Longrightarrow>\n    integral {a..y} f = integral {a..i} f + integral {i..y} f\n 2. i \\<noteq> y \\<Longrightarrow>\n    integral {a..y} f = integral {a..i} f + integral {i..y} f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. i = y \\<Longrightarrow>\n    integral {a..y} f = integral {a..i} f + integral {i..y} f", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<noteq> y \\<Longrightarrow>\n    integral {a..y} f = integral {a..i} f + integral {i..y} f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<noteq> y \\<Longrightarrow>\n    integral {a..y} f = integral {a..i} f + integral {i..y} f", "apply (rule Henstock_Kurzweil_Integration.integral_combine[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. i \\<noteq> y \\<Longrightarrow> a \\<le> i\n 2. i \\<noteq> y \\<Longrightarrow> i \\<le> y\n 3. i \\<noteq> y \\<Longrightarrow> f integrable_on {a..y}", "using combine that"], ["proof (prove)\nusing this:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n  i < y\n  y \\<le> b\n\ngoal (3 subgoals):\n 1. i \\<noteq> y \\<Longrightarrow> a \\<le> i\n 2. i \\<noteq> y \\<Longrightarrow> i \\<le> y\n 3. i \\<noteq> y \\<Longrightarrow> f integrable_on {a..y}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> f integrable_on {a..y}", "apply (rule integrable_Un'[where A=\"{a .. i}\" and B=\"{i..y}\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> f integrable_on {a..i}\n 2. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> f integrable_on {i..y}\n 3. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> negligible ({a..i} \\<inter> {i..y})\n 4. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> {a..y} = {a..i} \\<union> {i..y}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> f integrable_on {a..i}", "by (rule integrable_spike[where S=\"{i}\" and f=\"f1\"])\n              (auto intro: piecewise_continuous_on_integrable)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> f integrable_on {i..y}\n 2. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> negligible ({a..i} \\<inter> {i..y})\n 3. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> {a..y} = {a..i} \\<union> {i..y}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> f integrable_on {i..y}", "apply (rule integrable_on_subinterval[where S=\"{i..b}\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> f integrable_on {i..b}\n 2. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> {i..y} \\<subseteq> {i..b}", "by (rule integrable_spike[where S=\"{i}\" and f=\"f2\"])\n              (auto intro: piecewise_continuous_on_integrable)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> negligible ({a..i} \\<inter> {i..y})\n 2. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> {a..y} = {a..i} \\<union> {i..y}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> negligible ({a..i} \\<inter> {i..y})", "by (auto simp: max_def min_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> {a..y} = {a..i} \\<union> {i..y}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> i; i \\<notin> I; piecewise_continuous_on a i I f1;\n     piecewise_continuous_on i b I f2;\n     \\<And>x.\n        \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n     \\<And>x.\n        \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n     a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n     (f \\<longlongrightarrow> f2 i) (at_right i);\n     \\<And>x.\n        a \\<le> x \\<and> x \\<le> i \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n         (at x within {a..i} - I);\n     \\<And>x.\n        i \\<le> x \\<and> x \\<le> b \\<and> x \\<notin> I \\<Longrightarrow>\n        ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n         (at x within {i..b} - I);\n     i < y; y \\<le> b; a \\<le> x; x \\<le> b; x \\<noteq> i;\n     x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> {a..y} = {a..i} \\<union> {i..y}", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  integral {a..y} f = integral {a..i} f + integral {i..y} f\n\ngoal (1 subgoal):\n 1. integral {a..y} f = integral {a..i} f + integral {i..y} f2", "also"], ["proof (state)\nthis:\n  integral {a..y} f = integral {a..i} f + integral {i..y} f\n\ngoal (1 subgoal):\n 1. integral {a..y} f = integral {a..i} f + integral {i..y} f2", "have \"integral {i..y} f = integral {i..y} f2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {i..y} f = integral {i..y} f2", "apply (rule integral_spike[where S=\"{i}\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. negligible {i}\n 2. \\<And>x. x \\<in> {i..y} - {i} \\<Longrightarrow> f2 x = f x", "using combine 2 that"], ["proof (prove)\nusing this:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  ?x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 ?x)\n   (at ?x within {a..i} - I)\n  ?x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 ?x)\n   (at ?x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n  i < x\n  i < y\n  y \\<le> b\n\ngoal (2 subgoals):\n 1. negligible {i}\n 2. \\<And>x. x \\<in> {i..y} - {i} \\<Longrightarrow> f2 x = f x", "by auto"], ["proof (state)\nthis:\n  integral {i..y} f = integral {i..y} f2\n\ngoal (1 subgoal):\n 1. integral {a..y} f = integral {a..i} f + integral {i..y} f2", "finally"], ["proof (chain)\npicking this:\n  integral {a..y} f = integral {a..i} f + integral {i..y} f2", "show ?thesis"], ["proof (prove)\nusing this:\n  integral {a..y} f = integral {a..i} f + integral {i..y} f2\n\ngoal (1 subgoal):\n 1. integral {a..y} f = integral {a..i} f + integral {i..y} f2", "."], ["proof (state)\nthis:\n  integral {a..y} f = integral {a..i} f + integral {i..y} f2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>i < ?y; ?y \\<le> b\\<rbrakk>\n  \\<Longrightarrow> integral {a..?y} f =\n                    integral {a..i} f + integral {i..?y} f2\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "from evless"], ["proof (chain)\npicking this:\n  eventually ((<) i) (nhds x)", "have ev_eq: \"\\<forall>\\<^sub>F y in nhds x. y \\<in> {i..b} - I \\<longrightarrow> integral {a..y} f = integral {a..i} f + integral {i..y} f2\""], ["proof (prove)\nusing this:\n  eventually ((<) i) (nhds x)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in nhds x.\n       y \\<in> {i..b} - I \\<longrightarrow>\n       integral {a..y} f = integral {a..i} f + integral {i..y} f2", "by eventually_elim (auto simp: i_eq)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in nhds x.\n     y \\<in> {i..b} - I \\<longrightarrow>\n     integral {a..y} f = integral {a..i} f + integral {i..y} f2\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {a..b} - insert i I)", "unfolding eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n     (at x within {i..b} - I)", "apply (subst has_vector_derivative_cong_ev[OF ev_eq])"], ["proof (prove)\ngoal (2 subgoals):\n 1. integral {a..x} f = integral {a..i} f + integral {i..x} f2\n 2. ((\\<lambda>y.\n         integral {a..i} f + integral {i..y} f2) has_vector_derivative\n     f x)\n     (at x within {i..b} - I)", "using combine.IH[of x] combine.prems combine.hyps 2"], ["proof (prove)\nusing this:\n  x \\<in> {a..i} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {a..u} f1) has_vector_derivative f1 x)\n   (at x within {a..i} - I)\n  x \\<in> {i..b} - I \\<Longrightarrow>\n  ((\\<lambda>u. integral {i..u} f2) has_vector_derivative f2 x)\n   (at x within {i..b} - I)\n  x \\<in> {a..b} - insert i I\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  i < x\n\ngoal (2 subgoals):\n 1. integral {a..x} f = integral {a..i} f + integral {i..x} f2\n 2. ((\\<lambda>y.\n         integral {a..i} f + integral {i..y} f2) has_vector_derivative\n     f x)\n     (at x within {i..b} - I)", "by (auto simp: i_eq intro!: derivative_eq_intros)"], ["proof (state)\nthis:\n  ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n   (at x within {a..b} - insert i I)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n   (at x within {a..b} - insert i I)\n\ngoal (1 subgoal):\n 1. \\<And>a b i I f x.\n       \\<lbrakk>\\<And>x.\n                   x \\<in> {a..b} - I \\<Longrightarrow>\n                   ((\\<lambda>u. integral {a..u} f) has_vector_derivative\n                    f x)\n                    (at x within {a..b} - I);\n        finite I; i \\<notin> I; x \\<in> {a..b} - insert i I\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              integral {a..u} f) has_vector_derivative\n                          f x)\n                          (at x within {a..b} - insert i I)", "qed (auto intro: has_vector_derivative_within_subset)"], ["", "lemma has_derivative_at_split:\n  \"(f has_derivative f') (at x) \\<longleftrightarrow> (f has_derivative f') (at_left x) \\<and> (f has_derivative f') (at_right x)\"\n  for x::\"'a::{linorder_topology, real_normed_vector}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_derivative f') (at x) =\n    ((f has_derivative f') (at_left x) \\<and>\n     (f has_derivative f') (at_right x))", "by (auto simp: has_derivative_at_within filterlim_at_split)"], ["", "lemma has_vector_derivative_at_split:\n  \"(f has_vector_derivative f') (at x) \\<longleftrightarrow>\n   (f has_vector_derivative f') (at_left x) \\<and>\n   (f has_vector_derivative f') (at_right x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_vector_derivative f') (at x) =\n    ((f has_vector_derivative f') (at_left x) \\<and>\n     (f has_vector_derivative f') (at_right x))", "using has_derivative_at_split[of f \"\\<lambda>h. h *\\<^sub>R f'\" x]"], ["proof (prove)\nusing this:\n  (f has_derivative (\\<lambda>h. h *\\<^sub>R f')) (at x) =\n  ((f has_derivative (\\<lambda>h. h *\\<^sub>R f')) (at_left x) \\<and>\n   (f has_derivative (\\<lambda>h. h *\\<^sub>R f')) (at_right x))\n\ngoal (1 subgoal):\n 1. (f has_vector_derivative f') (at x) =\n    ((f has_vector_derivative f') (at_left x) \\<and>\n     (f has_vector_derivative f') (at_right x))", "by (simp add: has_vector_derivative_def)"], ["", "lemmas differentiableI_vector[intro]"], ["", "lemma differentiable_at_splitD:\n  \"f differentiable at_left x\"\n  \"f differentiable at_right x\"\n  if \"f differentiable (at x)\"\n  for x::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. f differentiable at_left x &&& f differentiable at_right x", "using that[unfolded vector_derivative_works has_vector_derivative_at_split]"], ["proof (prove)\nusing this:\n  (f has_vector_derivative vector_derivative f (at x)) (at_left x) \\<and>\n  (f has_vector_derivative vector_derivative f (at x)) (at_right x)\n\ngoal (1 subgoal):\n 1. f differentiable at_left x &&& f differentiable at_right x", "by auto"], ["", "lemma integral_differentiable:\n  fixes f :: \"real \\<Rightarrow> 'a::banach\"\n  assumes \"continuous_on {a..b} f\"\n    and \"x \\<in> {a..b}\"\n  shows \"(\\<lambda>u. integral {a..u} f) differentiable at x within {a..b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x within {a..b}", "using integral_has_vector_derivative[OF assms]"], ["proof (prove)\nusing this:\n  ((\\<lambda>u. integral {a..u} f) has_vector_derivative f x)\n   (at x within {a..b})\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x within {a..b}", "by blast"], ["", "theorem integral_has_vector_derivative_piecewise_continuous':\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\\<comment>\\<open>TODO: generalize?\\<close>\n  assumes \"piecewise_continuous_on a b D f\" \"a < b\"\n  shows\n    \"(\\<forall>x. a < x \\<longrightarrow> x < b \\<longrightarrow> x \\<notin> D \\<longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n    (\\<forall>x. a \\<le> x \\<longrightarrow> x < b \\<longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n    (\\<forall>x. a < x \\<longrightarrow> x \\<le> b \\<longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable at_left x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x>a.\n        x < b \\<longrightarrow>\n        x \\<notin> D \\<longrightarrow>\n        (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n    (\\<forall>x\\<ge>a.\n        x < b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n    (\\<forall>x>a.\n        x \\<le> b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_left x)", "using assms"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b D f\n  a < b\n\ngoal (1 subgoal):\n 1. (\\<forall>x>a.\n        x < b \\<longrightarrow>\n        x \\<notin> D \\<longrightarrow>\n        (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n    (\\<forall>x\\<ge>a.\n        x < b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n    (\\<forall>x>a.\n        x \\<le> b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_left x)", "proof (induction a b D f rule: piecewise_continuous_on_induct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b f.\n       \\<lbrakk>continuous_on {a..b} f; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> {} \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 3. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "case (empty a b f)"], ["proof (state)\nthis:\n  continuous_on {a..b} f\n  a < b\n\ngoal (3 subgoals):\n 1. \\<And>a b f.\n       \\<lbrakk>continuous_on {a..b} f; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> {} \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 3. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "have \"a < x \\<Longrightarrow> x < b \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable (at x)\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a < x; x < b\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at x", "using integral_differentiable[OF empty(1), of x]"], ["proof (prove)\nusing this:\n  x \\<in> {a..b} \\<Longrightarrow>\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {a..b}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a < x; x < b\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at x", "by (auto simp: at_within_interior)"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x\n\ngoal (3 subgoals):\n 1. \\<And>a b f.\n       \\<lbrakk>continuous_on {a..b} f; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> {} \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 3. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>a < ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>a < ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x\n\ngoal (1 subgoal):\n 1. (\\<forall>x>a.\n        x < b \\<longrightarrow>\n        x \\<notin> {} \\<longrightarrow>\n        (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n    (\\<forall>x\\<ge>a.\n        x < b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n    (\\<forall>x>a.\n        x \\<le> b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_left x)", "using integral_differentiable[OF empty(1), of a]\n      integral_differentiable[OF empty(1), of b]\n      \\<open>a < b\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>a < ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x\n  a \\<in> {a..b} \\<Longrightarrow>\n  (\\<lambda>u. integral {a..u} f) differentiable at a within {a..b}\n  b \\<in> {a..b} \\<Longrightarrow>\n  (\\<lambda>u. integral {a..u} f) differentiable at b within {a..b}\n  a < b\n\ngoal (1 subgoal):\n 1. (\\<forall>x>a.\n        x < b \\<longrightarrow>\n        x \\<notin> {} \\<longrightarrow>\n        (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n    (\\<forall>x\\<ge>a.\n        x < b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n    (\\<forall>x>a.\n        x \\<le> b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_left x)", "by (auto simp: at_within_Icc_at_right at_within_Icc_at_left le_less\n        intro: differentiable_at_withinI)"], ["proof (state)\nthis:\n  (\\<forall>x>a.\n      x < b \\<longrightarrow>\n      x \\<notin> {} \\<longrightarrow>\n      (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>a.\n      x < b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n  (\\<forall>x>a.\n      x \\<le> b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_left x)\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "case (combine a i b I f1 f2 f)"], ["proof (state)\nthis:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  a < i \\<Longrightarrow>\n  (\\<forall>x>a.\n      x < i \\<longrightarrow>\n      x \\<notin> I \\<longrightarrow>\n      (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>a.\n      x < i \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f1) differentiable at_right x) \\<and>\n  (\\<forall>x>a.\n      x \\<le> i \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f1) differentiable at_left x)\n  i < b \\<Longrightarrow>\n  (\\<forall>x>i.\n      x < b \\<longrightarrow>\n      x \\<notin> I \\<longrightarrow>\n      (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>i.\n      x < b \\<longrightarrow>\n      (\\<lambda>t. integral {i..t} f2) differentiable at_right x) \\<and>\n  (\\<forall>x>i.\n      x \\<le> b \\<longrightarrow>\n      (\\<lambda>t. integral {i..t} f2) differentiable at_left x)\n  a < b\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "from \\<open>piecewise_continuous_on a i I f1\\<close>"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a i I f1", "have \"finite I\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on a i I f1\n\ngoal (1 subgoal):\n 1. finite I", "by (auto elim!: piecewise_continuous_onE)"], ["proof (state)\nthis:\n  finite I\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "from combine(4)"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a i I f1", "have \"piecewise_continuous_on a i (insert i I) f1\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on a i I f1\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a i (insert i I) f1", "by (rule piecewise_continuous_on_insert_rightI)"], ["proof (state)\nthis:\n  piecewise_continuous_on a i (insert i I) f1\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "then"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a i (insert i I) f1", "have \"piecewise_continuous_on a i (insert i I) f\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on a i (insert i I) f1\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a i (insert i I) f", "by (rule piecewise_continuous_on_congI) (auto simp: combine)"], ["proof (state)\nthis:\n  piecewise_continuous_on a i (insert i I) f\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "moreover"], ["proof (state)\nthis:\n  piecewise_continuous_on a i (insert i I) f\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "from combine(5)"], ["proof (chain)\npicking this:\n  piecewise_continuous_on i b I f2", "have \"piecewise_continuous_on i b (insert i I) f2\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on i b I f2\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on i b (insert i I) f2", "by (rule piecewise_continuous_on_insert_leftI)"], ["proof (state)\nthis:\n  piecewise_continuous_on i b (insert i I) f2\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "then"], ["proof (chain)\npicking this:\n  piecewise_continuous_on i b (insert i I) f2", "have \"piecewise_continuous_on i b (insert i I) f\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on i b (insert i I) f2\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on i b (insert i I) f", "by (rule piecewise_continuous_on_congI) (auto simp: combine)"], ["proof (state)\nthis:\n  piecewise_continuous_on i b (insert i I) f\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "ultimately"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a i (insert i I) f\n  piecewise_continuous_on i b (insert i I) f", "have \"piecewise_continuous_on a b (insert i I) f\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on a i (insert i I) f\n  piecewise_continuous_on i b (insert i I) f\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b (insert i I) f", "by (rule piecewise_continuous_on_combine)"], ["proof (state)\nthis:\n  piecewise_continuous_on a b (insert i I) f\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "then"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a b (insert i I) f", "have f_int: \"f integrable_on {a .. b}\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b (insert i I) f\n\ngoal (1 subgoal):\n 1. f integrable_on {a..b}", "by (rule piecewise_continuous_on_integrable)"], ["proof (state)\nthis:\n  f integrable_on {a..b}\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "from combine.IH"], ["proof (chain)\npicking this:\n  a < i \\<Longrightarrow>\n  (\\<forall>x>a.\n      x < i \\<longrightarrow>\n      x \\<notin> I \\<longrightarrow>\n      (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>a.\n      x < i \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f1) differentiable at_right x) \\<and>\n  (\\<forall>x>a.\n      x \\<le> i \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f1) differentiable at_left x)\n  i < b \\<Longrightarrow>\n  (\\<forall>x>i.\n      x < b \\<longrightarrow>\n      x \\<notin> I \\<longrightarrow>\n      (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>i.\n      x < b \\<longrightarrow>\n      (\\<lambda>t. integral {i..t} f2) differentiable at_right x) \\<and>\n  (\\<forall>x>i.\n      x \\<le> b \\<longrightarrow>\n      (\\<lambda>t. integral {i..t} f2) differentiable at_left x)", "have f1: \"x>a \\<Longrightarrow> x < i \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> (\\<lambda>u. integral {a..u} f1) differentiable (at x)\"\n    \"x\\<ge>a \\<Longrightarrow> x < i \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable (at_right x)\"\n    \"x>a \\<Longrightarrow> x \\<le> i \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable (at_left x)\"\n   and f2: \"x>i \\<Longrightarrow> x < b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> (\\<lambda>u. integral {i..u} f2) differentiable (at x)\"\n    \"x\\<ge>i \\<Longrightarrow> x < b \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable (at_right x)\"\n    \"x>i \\<Longrightarrow> x \\<le> b \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable (at_left x)\"\n    for x"], ["proof (prove)\nusing this:\n  a < i \\<Longrightarrow>\n  (\\<forall>x>a.\n      x < i \\<longrightarrow>\n      x \\<notin> I \\<longrightarrow>\n      (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>a.\n      x < i \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f1) differentiable at_right x) \\<and>\n  (\\<forall>x>a.\n      x \\<le> i \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f1) differentiable at_left x)\n  i < b \\<Longrightarrow>\n  (\\<forall>x>i.\n      x < b \\<longrightarrow>\n      x \\<notin> I \\<longrightarrow>\n      (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>i.\n      x < b \\<longrightarrow>\n      (\\<lambda>t. integral {i..t} f2) differentiable at_right x) \\<and>\n  (\\<forall>x>i.\n      x \\<le> b \\<longrightarrow>\n      (\\<lambda>t. integral {i..t} f2) differentiable at_left x)\n\ngoal (1 subgoal):\n 1. ((\\<lbrakk>a < x; x < i; x \\<notin> I\\<rbrakk>\n      \\<Longrightarrow> (\\<lambda>u. integral {a..u} f1) differentiable\n                        at x) &&&\n     (\\<lbrakk>a \\<le> x; x < i\\<rbrakk>\n      \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                        at_right x) &&&\n     (\\<lbrakk>a < x; x \\<le> i\\<rbrakk>\n      \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                        at_left x)) &&&\n    (\\<lbrakk>i < x; x < b; x \\<notin> I\\<rbrakk>\n     \\<Longrightarrow> (\\<lambda>u. integral {i..u} f2) differentiable\n                       at x) &&&\n    (\\<lbrakk>i \\<le> x; x < b\\<rbrakk>\n     \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                       at_right x) &&&\n    (\\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n     \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                       at_left x)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x < i; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f1) differentiable at ?x\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                    at_right ?x\n  \\<lbrakk>a < ?x; ?x \\<le> i\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                    at_left ?x\n  \\<lbrakk>i < ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {i..u} f2) differentiable at ?x\n  \\<lbrakk>i \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                    at_right ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                    at_left ?x\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "have \"(\\<lambda>u. integral {a..u} f) differentiable at x\" if \"a < x\" \"x < b\" \"x \\<noteq> i\" \"x \\<notin> I\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x", "from that"], ["proof (chain)\npicking this:\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I", "consider \"x < i\" |\"i < x\""], ["proof (prove)\nusing this:\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < i \\<Longrightarrow> thesis;\n     i < x \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by arith"], ["proof (state)\nthis:\n  \\<lbrakk>x < i \\<Longrightarrow> ?thesis;\n   i < x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>x < i \\<Longrightarrow> ?thesis;\n   i < x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>x < i \\<Longrightarrow> ?thesis;\n   i < x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "case 1"], ["proof (state)\nthis:\n  x < i\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "have at: \"at x within {a<..<i} - I = at x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {a<..<i} - I = at x", "using that 1"], ["proof (prove)\nusing this:\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I\n  x < i\n\ngoal (1 subgoal):\n 1. at x within {a<..<i} - I = at x", "by (intro at_within_open) (auto intro!: open_Diff finite_imp_closed \\<open>finite I\\<close>)"], ["proof (state)\nthis:\n  at x within {a<..<i} - I = at x\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "then"], ["proof (chain)\npicking this:\n  at x within {a<..<i} - I = at x", "have \"(\\<lambda>u. integral {a..u} f1) differentiable at x within {a<..<i} - I\""], ["proof (prove)\nusing this:\n  at x within {a<..<i} - I = at x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f1) differentiable at x within {a<..<i} - I", "using that 1 f1"], ["proof (prove)\nusing this:\n  at x within {a<..<i} - I = at x\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I\n  x < i\n  \\<lbrakk>a < ?x; ?x < i; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f1) differentiable at ?x\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                    at_right ?x\n  \\<lbrakk>a < ?x; ?x \\<le> i\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                    at_left ?x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f1) differentiable at x within {a<..<i} - I", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f1) differentiable at x within {a<..<i} - I\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..u} f1) differentiable at x within {a<..<i} - I", "have \"(\\<lambda>u. integral {a..u} f) differentiable at x within {a<..<i} - I\""], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..u} f1) differentiable at x within {a<..<i} - I\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x within {a<..<i} - I", "apply (rule differentiable_transform_within[OF _ zero_less_one])"], ["proof (prove)\ngoal (2 subgoals):\n 1. x \\<in> {a<..<i} - I\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {a<..<i} - I; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f1 = integral {a..x'} f", "using that combine.hyps 1"], ["proof (prove)\nusing this:\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  x < i\n\ngoal (2 subgoals):\n 1. x \\<in> {a<..<i} - I\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {a<..<i} - I; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f1 = integral {a..x'} f", "by (auto intro!: integral_cong)"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {a<..<i} - I\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {a<..<i} - I", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {a<..<i} - I\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x", "by (simp add: at)"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f) differentiable at x\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "case 2"], ["proof (state)\nthis:\n  i < x\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "have at: \"at x within {i<..<b} - I = at x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {i<..<b} - I = at x", "using that 2"], ["proof (prove)\nusing this:\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I\n  i < x\n\ngoal (1 subgoal):\n 1. at x within {i<..<b} - I = at x", "by (intro at_within_open) (auto intro!: open_Diff finite_imp_closed \\<open>finite I\\<close>)"], ["proof (state)\nthis:\n  at x within {i<..<b} - I = at x\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "then"], ["proof (chain)\npicking this:\n  at x within {i<..<b} - I = at x", "have \"(\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x within {i<..<b} - I\""], ["proof (prove)\nusing this:\n  at x within {i<..<b} - I = at x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n    within {i<..<b} - I", "using that 2 f2"], ["proof (prove)\nusing this:\n  at x within {i<..<b} - I = at x\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I\n  i < x\n  \\<lbrakk>i < ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {i..u} f2) differentiable at ?x\n  \\<lbrakk>i \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                    at_right ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                    at_left ?x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n    within {i<..<b} - I", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n  within {i<..<b} - I\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n  within {i<..<b} - I", "have \"(\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x within {i<..<b} - I\""], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n  within {i<..<b} - I\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n    within {i<..<b} - I", "apply (rule differentiable_transform_within[OF _ zero_less_one])"], ["proof (prove)\ngoal (2 subgoals):\n 1. x \\<in> {i<..<b} - I\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {i<..<b} - I; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f2 =\n                         integral {a..i} f + integral {i..x'} f", "using that combine.hyps 2"], ["proof (prove)\nusing this:\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  i < x\n\ngoal (2 subgoals):\n 1. x \\<in> {i<..<b} - I\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {i<..<b} - I; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f2 =\n                         integral {a..i} f + integral {i..x'} f", "by (auto intro!: integral_spike[where S=\"{i,x}\"])"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n  within {i<..<b} - I\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n  within {i<..<b} - I", "have \"(\\<lambda>u. integral {a..u} f) differentiable at x within {i<..<b} - I\""], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n  within {i<..<b} - I\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x within {i<..<b} - I", "apply (rule differentiable_transform_within[OF _ zero_less_one])"], ["proof (prove)\ngoal (2 subgoals):\n 1. x \\<in> {i<..<b} - I\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {i<..<b} - I; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f =\n                         integral {a..x'} f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {i<..<b} - I", "using that 2"], ["proof (prove)\nusing this:\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I\n  i < x\n\ngoal (1 subgoal):\n 1. x \\<in> {i<..<b} - I", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x'.\n       \\<lbrakk>x' \\<in> {i<..<b} - I; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f =\n                         integral {a..x'} f", "apply (auto simp: )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f =\n                         integral {a..x'} f", "apply (subst Henstock_Kurzweil_Integration.integral_combine)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> a \\<le> i\n 2. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> i \\<le> x'\n 3. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f integrable_on {a..x'}\n 4. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f = integral {a..x'} f", "using that 2 \\<open>a \\<le> i\\<close>"], ["proof (prove)\nusing this:\n  a < x\n  x < b\n  x \\<noteq> i\n  x \\<notin> I\n  i < x\n  a \\<le> i\n\ngoal (4 subgoals):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> a \\<le> i\n 2. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> i \\<le> x'\n 3. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f integrable_on {a..x'}\n 4. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f = integral {a..x'} f", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i < x'; x' < b; x' \\<notin> I; x < b;\n        x \\<notin> I; i < x; a \\<le> i\\<rbrakk>\n       \\<Longrightarrow> f integrable_on {a..x'}", "by (auto intro: integrable_on_subinterval f_int)"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {i<..<b} - I\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>u. integral {a..u} f) differentiable at x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {i<..<b} - I", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {i<..<b} - I\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x", "by (simp add: at)"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f) differentiable at x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f) differentiable at x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x < b; ?x \\<noteq> i; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x < b; ?x \\<noteq> i; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "have \"(\\<lambda>t. integral {a..t} f) differentiable at_right x\" if \"a \\<le> x\" \"x < b\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_right x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_right x", "from that"], ["proof (chain)\npicking this:\n  a \\<le> x\n  x < b", "consider \"x < i\" |\"i \\<le> x\""], ["proof (prove)\nusing this:\n  a \\<le> x\n  x < b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < i \\<Longrightarrow> thesis;\n     i \\<le> x \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by arith"], ["proof (state)\nthis:\n  \\<lbrakk>x < i \\<Longrightarrow> ?thesis;\n   i \\<le> x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_right x", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>x < i \\<Longrightarrow> ?thesis;\n   i \\<le> x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>x < i \\<Longrightarrow> ?thesis;\n   i \\<le> x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_right x", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x\n 2. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "case 1"], ["proof (state)\nthis:\n  x < i\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x\n 2. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "have at: \"at x within {x..i} = at_right x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {x..i} = at_right x", "using \\<open>x < i\\<close>"], ["proof (prove)\nusing this:\n  x < i\n\ngoal (1 subgoal):\n 1. at x within {x..i} = at_right x", "by (rule at_within_Icc_at_right)"], ["proof (state)\nthis:\n  at x within {x..i} = at_right x\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x\n 2. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "then"], ["proof (chain)\npicking this:\n  at x within {x..i} = at_right x", "have \"(\\<lambda>u. integral {a..u} f1) differentiable at x within {x..i}\""], ["proof (prove)\nusing this:\n  at x within {x..i} = at_right x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f1) differentiable at x within {x..i}", "using that 1 f1"], ["proof (prove)\nusing this:\n  at x within {x..i} = at_right x\n  a \\<le> x\n  x < b\n  x < i\n  \\<lbrakk>a < ?x; ?x < i; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f1) differentiable at ?x\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                    at_right ?x\n  \\<lbrakk>a < ?x; ?x \\<le> i\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                    at_left ?x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f1) differentiable at x within {x..i}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f1) differentiable at x within {x..i}\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x\n 2. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..u} f1) differentiable at x within {x..i}", "have \"(\\<lambda>u. integral {a..u} f) differentiable at x within {x..i}\""], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..u} f1) differentiable at x within {x..i}\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x within {x..i}", "apply (rule differentiable_transform_within[OF _ zero_less_one])"], ["proof (prove)\ngoal (2 subgoals):\n 1. x \\<in> {x..i}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {x..i}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f1 = integral {a..x'} f", "using that combine.hyps 1"], ["proof (prove)\nusing this:\n  a \\<le> x\n  x < b\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  x < i\n\ngoal (2 subgoals):\n 1. x \\<in> {x..i}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {x..i}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f1 = integral {a..x'} f", "by (auto intro!: integral_spike[where S=\"{i,x}\"])"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {x..i}\n\ngoal (2 subgoals):\n 1. x < i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x\n 2. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {x..i}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {x..i}\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_right x", "by (simp add: at)"], ["proof (state)\nthis:\n  (\\<lambda>t. integral {a..t} f) differentiable at_right x\n\ngoal (1 subgoal):\n 1. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "case 2"], ["proof (state)\nthis:\n  i \\<le> x\n\ngoal (1 subgoal):\n 1. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "have at: \"at x within {x..b} = at_right x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {x..b} = at_right x", "using \\<open>x < b\\<close>"], ["proof (prove)\nusing this:\n  x < b\n\ngoal (1 subgoal):\n 1. at x within {x..b} = at_right x", "by (rule at_within_Icc_at_right)"], ["proof (state)\nthis:\n  at x within {x..b} = at_right x\n\ngoal (1 subgoal):\n 1. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "then"], ["proof (chain)\npicking this:\n  at x within {x..b} = at_right x", "have \"(\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x within {x..b}\""], ["proof (prove)\nusing this:\n  at x within {x..b} = at_right x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n    within {x..b}", "using that 2 f2"], ["proof (prove)\nusing this:\n  at x within {x..b} = at_right x\n  a \\<le> x\n  x < b\n  i \\<le> x\n  \\<lbrakk>i < ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {i..u} f2) differentiable at ?x\n  \\<lbrakk>i \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                    at_right ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                    at_left ?x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n    within {x..b}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n  within {x..b}\n\ngoal (1 subgoal):\n 1. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n  within {x..b}", "have \"(\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x within {x..b}\""], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n  within {x..b}\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n    within {x..b}", "apply (rule differentiable_transform_within[OF _ zero_less_one])"], ["proof (prove)\ngoal (2 subgoals):\n 1. x \\<in> {x..b}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {x..b}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f2 =\n                         integral {a..i} f + integral {i..x'} f", "using that combine.hyps 2"], ["proof (prove)\nusing this:\n  a \\<le> x\n  x < b\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  i \\<le> x\n\ngoal (2 subgoals):\n 1. x \\<in> {x..b}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {x..b}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f2 =\n                         integral {a..i} f + integral {i..x'} f", "by (auto intro!: integral_spike[where S=\"{i,x}\"])"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n  within {x..b}\n\ngoal (1 subgoal):\n 1. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n  within {x..b}", "have \"(\\<lambda>u. integral {a..u} f) differentiable at x within {x..b}\""], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n  within {x..b}\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x within {x..b}", "apply (rule differentiable_transform_within[OF _ zero_less_one])"], ["proof (prove)\ngoal (2 subgoals):\n 1. x \\<in> {x..b}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {x..b}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f =\n                         integral {a..x'} f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {x..b}", "using that 2"], ["proof (prove)\nusing this:\n  a \\<le> x\n  x < b\n  i \\<le> x\n\ngoal (1 subgoal):\n 1. x \\<in> {x..b}", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x'.\n       \\<lbrakk>x' \\<in> {x..b}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f =\n                         integral {a..x'} f", "apply (auto simp: )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f =\n                         integral {a..x'} f", "apply (subst Henstock_Kurzweil_Integration.integral_combine)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b\\<rbrakk>\n       \\<Longrightarrow> a \\<le> i\n 2. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b\\<rbrakk>\n       \\<Longrightarrow> i \\<le> x'\n 3. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b\\<rbrakk>\n       \\<Longrightarrow> f integrable_on {a..x'}\n 4. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f = integral {a..x'} f", "using that 2 \\<open>a \\<le> i\\<close>"], ["proof (prove)\nusing this:\n  a \\<le> x\n  x < b\n  i \\<le> x\n  a \\<le> i\n\ngoal (4 subgoals):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b\\<rbrakk>\n       \\<Longrightarrow> a \\<le> i\n 2. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b\\<rbrakk>\n       \\<Longrightarrow> i \\<le> x'\n 3. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b\\<rbrakk>\n       \\<Longrightarrow> f integrable_on {a..x'}\n 4. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f = integral {a..x'} f", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; x \\<le> x'; x' \\<le> b; x < b; i \\<le> x;\n        a \\<le> i\\<rbrakk>\n       \\<Longrightarrow> f integrable_on {a..x'}", "by (auto intro: integrable_on_subinterval f_int)"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {x..b}\n\ngoal (1 subgoal):\n 1. i \\<le> x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_right x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {x..b}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {x..b}\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_right x", "by (simp add: at)"], ["proof (state)\nthis:\n  (\\<lambda>t. integral {a..t} f) differentiable at_right x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>t. integral {a..t} f) differentiable at_right x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right ?x\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right ?x\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "have \"(\\<lambda>t. integral {a..t} f) differentiable at_left x\" if \"a < x\" \"x \\<le> b\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_left x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_left x", "from that"], ["proof (chain)\npicking this:\n  a < x\n  x \\<le> b", "consider \"x \\<le> i\" |\"i < x\""], ["proof (prove)\nusing this:\n  a < x\n  x \\<le> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<le> i \\<Longrightarrow> thesis;\n     i < x \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by arith"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<le> i \\<Longrightarrow> ?thesis;\n   i < x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_left x", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>x \\<le> i \\<Longrightarrow> ?thesis;\n   i < x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>x \\<le> i \\<Longrightarrow> ?thesis;\n   i < x \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_left x", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<le> i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "case 1"], ["proof (state)\nthis:\n  x \\<le> i\n\ngoal (2 subgoals):\n 1. x \\<le> i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "have at: \"at x within {a..x} = at_left x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {a..x} = at_left x", "using \\<open>a < x\\<close>"], ["proof (prove)\nusing this:\n  a < x\n\ngoal (1 subgoal):\n 1. at x within {a..x} = at_left x", "by (rule at_within_Icc_at_left)"], ["proof (state)\nthis:\n  at x within {a..x} = at_left x\n\ngoal (2 subgoals):\n 1. x \\<le> i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "then"], ["proof (chain)\npicking this:\n  at x within {a..x} = at_left x", "have \"(\\<lambda>u. integral {a..u} f1) differentiable at x within {a..x}\""], ["proof (prove)\nusing this:\n  at x within {a..x} = at_left x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f1) differentiable at x within {a..x}", "using that 1 f1"], ["proof (prove)\nusing this:\n  at x within {a..x} = at_left x\n  a < x\n  x \\<le> b\n  x \\<le> i\n  \\<lbrakk>a < ?x; ?x < i; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f1) differentiable at ?x\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                    at_right ?x\n  \\<lbrakk>a < ?x; ?x \\<le> i\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f1) differentiable\n                    at_left ?x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f1) differentiable at x within {a..x}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f1) differentiable at x within {a..x}\n\ngoal (2 subgoals):\n 1. x \\<le> i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..u} f1) differentiable at x within {a..x}", "have \"(\\<lambda>u. integral {a..u} f) differentiable at x within {a..x}\""], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..u} f1) differentiable at x within {a..x}\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x within {a..x}", "apply (rule differentiable_transform_within[OF _ zero_less_one])"], ["proof (prove)\ngoal (2 subgoals):\n 1. x \\<in> {a..x}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {a..x}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f1 = integral {a..x'} f", "using that combine.hyps 1"], ["proof (prove)\nusing this:\n  a < x\n  x \\<le> b\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  x \\<le> i\n\ngoal (2 subgoals):\n 1. x \\<in> {a..x}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {a..x}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f1 = integral {a..x'} f", "by (auto intro!: integral_spike[where S=\"{i,x}\"])"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {a..x}\n\ngoal (2 subgoals):\n 1. x \\<le> i \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x\n 2. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {a..x}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {a..x}\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_left x", "by (simp add: at)"], ["proof (state)\nthis:\n  (\\<lambda>t. integral {a..t} f) differentiable at_left x\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "case 2"], ["proof (state)\nthis:\n  i < x\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "have at: \"at x within {i..x} = at_left x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {i..x} = at_left x", "using \\<open>i < x\\<close>"], ["proof (prove)\nusing this:\n  i < x\n\ngoal (1 subgoal):\n 1. at x within {i..x} = at_left x", "by (rule at_within_Icc_at_left)"], ["proof (state)\nthis:\n  at x within {i..x} = at_left x\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "then"], ["proof (chain)\npicking this:\n  at x within {i..x} = at_left x", "have \"(\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x within {i..x}\""], ["proof (prove)\nusing this:\n  at x within {i..x} = at_left x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n    within {i..x}", "using that 2 f2"], ["proof (prove)\nusing this:\n  at x within {i..x} = at_left x\n  a < x\n  x \\<le> b\n  i < x\n  \\<lbrakk>i < ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {i..u} f2) differentiable at ?x\n  \\<lbrakk>i \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                    at_right ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {i..t} f2) differentiable\n                    at_left ?x\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n    within {i..x}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n  within {i..x}\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n  within {i..x}", "have \"(\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x within {i..x}\""], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f2) differentiable at x\n  within {i..x}\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n    within {i..x}", "apply (rule differentiable_transform_within[OF _ zero_less_one])"], ["proof (prove)\ngoal (2 subgoals):\n 1. x \\<in> {i..x}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {i..x}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f2 =\n                         integral {a..i} f + integral {i..x'} f", "using that combine.hyps 2"], ["proof (prove)\nusing this:\n  a < x\n  x \\<le> b\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  i < x\n\ngoal (2 subgoals):\n 1. x \\<in> {i..x}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {i..x}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f2 =\n                         integral {a..i} f + integral {i..x'} f", "by (auto intro!: integral_spike[where S=\"{i,x}\"])"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n  within {i..x}\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n  within {i..x}", "have \"(\\<lambda>u. integral {a..u} f) differentiable at x within {i..x}\""], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..i} f + integral {i..u} f) differentiable at x\n  within {i..x}\n\ngoal (1 subgoal):\n 1. (\\<lambda>u. integral {a..u} f) differentiable at x within {i..x}", "apply (rule differentiable_transform_within[OF _ zero_less_one])"], ["proof (prove)\ngoal (2 subgoals):\n 1. x \\<in> {i..x}\n 2. \\<And>x'.\n       \\<lbrakk>x' \\<in> {i..x}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f =\n                         integral {a..x'} f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {i..x}", "using that 2"], ["proof (prove)\nusing this:\n  a < x\n  x \\<le> b\n  i < x\n\ngoal (1 subgoal):\n 1. x \\<in> {i..x}", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x'.\n       \\<lbrakk>x' \\<in> {i..x}; dist x' x < 1\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f =\n                         integral {a..x'} f", "apply (auto simp: )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x\\<rbrakk>\n       \\<Longrightarrow> integral {a..i} f + integral {i..x'} f =\n                         integral {a..x'} f", "apply (subst Henstock_Kurzweil_Integration.integral_combine)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x\\<rbrakk>\n       \\<Longrightarrow> a \\<le> i\n 2. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x\\<rbrakk>\n       \\<Longrightarrow> i \\<le> x'\n 3. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x\\<rbrakk>\n       \\<Longrightarrow> f integrable_on {a..x'}\n 4. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f = integral {a..x'} f", "using that 2 \\<open>a \\<le> i\\<close>"], ["proof (prove)\nusing this:\n  a < x\n  x \\<le> b\n  i < x\n  a \\<le> i\n\ngoal (4 subgoals):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x\\<rbrakk>\n       \\<Longrightarrow> a \\<le> i\n 2. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x\\<rbrakk>\n       \\<Longrightarrow> i \\<le> x'\n 3. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x\\<rbrakk>\n       \\<Longrightarrow> f integrable_on {a..x'}\n 4. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x\\<rbrakk>\n       \\<Longrightarrow> integral {a..x'} f = integral {a..x'} f", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x'.\n       \\<lbrakk>dist x' x < 1; i \\<le> x'; x' \\<le> x; x \\<le> b; i < x;\n        a \\<le> i\\<rbrakk>\n       \\<Longrightarrow> f integrable_on {a..x'}", "by (auto intro: integrable_on_subinterval f_int)"], ["proof (state)\nthis:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {i..x}\n\ngoal (1 subgoal):\n 1. i < x \\<Longrightarrow>\n    (\\<lambda>t. integral {a..t} f) differentiable at_left x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {i..x}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>u. integral {a..u} f) differentiable at x within {i..x}\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. integral {a..t} f) differentiable at_left x", "by (simp add: at)"], ["proof (state)\nthis:\n  (\\<lambda>t. integral {a..t} f) differentiable at_left x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>t. integral {a..t} f) differentiable at_left x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left ?x\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        a < i \\<Longrightarrow>\n        (\\<forall>x>a.\n            x < i \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {a..u} f1) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>a.\n            x < i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>a.\n            x \\<le> i \\<longrightarrow>\n            (\\<lambda>t. integral {a..t} f1) differentiable at_left x);\n        i < b \\<Longrightarrow>\n        (\\<forall>x>i.\n            x < b \\<longrightarrow>\n            x \\<notin> I \\<longrightarrow>\n            (\\<lambda>u. integral {i..u} f2) differentiable at x) \\<and>\n        (\\<forall>x\\<ge>i.\n            x < b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable\n            at_right x) \\<and>\n        (\\<forall>x>i.\n            x \\<le> b \\<longrightarrow>\n            (\\<lambda>t. integral {i..t} f2) differentiable at_left x);\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i);\n        a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)\n 2. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>a < ?x; ?x < b; ?x \\<noteq> i; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x\n  \\<lbrakk>a \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right ?x\n  \\<lbrakk>a < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left ?x", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>a < ?x; ?x < b; ?x \\<noteq> i; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x\n  \\<lbrakk>a \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right ?x\n  \\<lbrakk>a < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left ?x\n\ngoal (1 subgoal):\n 1. (\\<forall>x>a.\n        x < b \\<longrightarrow>\n        x \\<notin> insert i I \\<longrightarrow>\n        (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n    (\\<forall>x\\<ge>a.\n        x < b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n    (\\<forall>x>a.\n        x \\<le> b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_left x)", "by auto"], ["proof (state)\nthis:\n  (\\<forall>x>a.\n      x < b \\<longrightarrow>\n      x \\<notin> insert i I \\<longrightarrow>\n      (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>a.\n      x < b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n  (\\<forall>x>a.\n      x \\<le> b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_left x)\n\ngoal (1 subgoal):\n 1. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "case (weaken a b i I f)"], ["proof (state)\nthis:\n  a < b \\<Longrightarrow>\n  (\\<forall>x>a.\n      x < b \\<longrightarrow>\n      x \\<notin> I \\<longrightarrow>\n      (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>a.\n      x < b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n  (\\<forall>x>a.\n      x \\<le> b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_left x)\n  finite I\n  i \\<notin> I\n  a < b\n\ngoal (1 subgoal):\n 1. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "from weaken.IH[OF \\<open>a < b\\<close>]"], ["proof (chain)\npicking this:\n  (\\<forall>x>a.\n      x < b \\<longrightarrow>\n      x \\<notin> I \\<longrightarrow>\n      (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>a.\n      x < b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n  (\\<forall>x>a.\n      x \\<le> b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_left x)", "obtain l u where IH:\n    \"\\<And>x. a < x \\<Longrightarrow> x < b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable (at x)\"\n    \"\\<And>x. a \\<le> x \\<Longrightarrow> x < b \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable (at_right x)\"\n    \"\\<And>x. a < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable (at_left x)\""], ["proof (prove)\nusing this:\n  (\\<forall>x>a.\n      x < b \\<longrightarrow>\n      x \\<notin> I \\<longrightarrow>\n      (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>a.\n      x < b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n  (\\<forall>x>a.\n      x \\<le> b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_left x)\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<And>x.\n                 \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n                 \\<Longrightarrow> (\\<lambda>u.\n integral {a..u} f) differentiable\n                                   at x;\n      \\<And>x.\n         \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n         \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                           at_right x;\n      \\<And>x.\n         \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n         \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                           at_left x\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x1; ?x1 < b; ?x1 \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x1\n  \\<lbrakk>a \\<le> ?x1; ?x1 < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right ?x1\n  \\<lbrakk>a < ?x1; ?x1 \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left ?x1\n\ngoal (1 subgoal):\n 1. \\<And>a b i I f.\n       \\<lbrakk>a < b \\<Longrightarrow>\n                (\\<forall>x>a.\n                    x < b \\<longrightarrow>\n                    x \\<notin> I \\<longrightarrow>\n                    (\\<lambda>u. integral {a..u} f) differentiable\n                    at x) \\<and>\n                (\\<forall>x\\<ge>a.\n                    x < b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right x) \\<and>\n                (\\<forall>x>a.\n                    x \\<le> b \\<longrightarrow>\n                    (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left x);\n        finite I; i \\<notin> I; a < b\\<rbrakk>\n       \\<Longrightarrow> (\\<forall>x>a.\n                             x < b \\<longrightarrow>\n                             x \\<notin> insert i I \\<longrightarrow>\n                             (\\<lambda>u. integral {a..u} f) differentiable\n                             at x) \\<and>\n                         (\\<forall>x\\<ge>a.\n                             x < b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_right x) \\<and>\n                         (\\<forall>x>a.\n                             x \\<le> b \\<longrightarrow>\n                             (\\<lambda>t. integral {a..t} f) differentiable\n                             at_left x)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>a < ?x1; ?x1 < b; ?x1 \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x1\n  \\<lbrakk>a \\<le> ?x1; ?x1 < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right ?x1\n  \\<lbrakk>a < ?x1; ?x1 \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left ?x1", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>a < ?x1; ?x1 < b; ?x1 \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>u. integral {a..u} f) differentiable at ?x1\n  \\<lbrakk>a \\<le> ?x1; ?x1 < b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_right ?x1\n  \\<lbrakk>a < ?x1; ?x1 \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>t. integral {a..t} f) differentiable\n                    at_left ?x1\n\ngoal (1 subgoal):\n 1. (\\<forall>x>a.\n        x < b \\<longrightarrow>\n        x \\<notin> insert i I \\<longrightarrow>\n        (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n    (\\<forall>x\\<ge>a.\n        x < b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n    (\\<forall>x>a.\n        x \\<le> b \\<longrightarrow>\n        (\\<lambda>t. integral {a..t} f) differentiable at_left x)", "by auto"], ["proof (state)\nthis:\n  (\\<forall>x>a.\n      x < b \\<longrightarrow>\n      x \\<notin> insert i I \\<longrightarrow>\n      (\\<lambda>u. integral {a..u} f) differentiable at x) \\<and>\n  (\\<forall>x\\<ge>a.\n      x < b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_right x) \\<and>\n  (\\<forall>x>a.\n      x \\<le> b \\<longrightarrow>\n      (\\<lambda>t. integral {a..t} f) differentiable at_left x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \"closure (-S) \\<inter> closure S = frontier S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closure (- S) \\<inter> closure S = frontier S", "by (auto simp add: frontier_def closure_complement)"], ["", "theorem integral_time_domain_has_laplace:\n  \"((\\<lambda>t. integral {0 .. t} f) has_laplace L / s) s\"\n  if pc: \"\\<And>k. piecewise_continuous_on 0 k D f\"\n    and eo: \"exponential_order M c f\"\n    and L: \"(f has_laplace L) s\"\n    and s: \"Re s > c\"\n    and c: \"c > 0\"\n    and TODO: \"D = {}\" \\<comment> \\<open>TODO: generalize to actual \\<open>piecewise_continuous_on\\<close>\\<close>\n  for f::\"real \\<Rightarrow> complex\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "define I where \"I = (\\<lambda>t. integral {0 .. t} f)\""], ["proof (state)\nthis:\n  I = (\\<lambda>t. integral {0..t} f)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "have I': \"(I has_vector_derivative f t) (at t within {0..x} - D)\"\n    if \"t \\<in> {0 .. x} - D\"\n    for x t"], ["proof (prove)\ngoal (1 subgoal):\n 1. (I has_vector_derivative f t) (at t within {0..x} - D)", "unfolding I_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_vector_derivative f t)\n     (at t within {0..x} - D)", "by (rule integral_has_vector_derivative_piecewise_continuous; fact)"], ["proof (state)\nthis:\n  ?t \\<in> {0..?x} - D \\<Longrightarrow>\n  (I has_vector_derivative f ?t) (at ?t within {0..?x} - D)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "have fi: \"f integrable_on {0..t}\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on {0..t}", "by (rule piecewise_continuous_on_integrable) fact"], ["proof (state)\nthis:\n  f integrable_on {0..?t}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "have Ic: \"continuous_on {0 .. t} I\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0..t} I", "unfolding I_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0..t} (\\<lambda>t. integral {0..t} f)", "using fi"], ["proof (prove)\nusing this:\n  f integrable_on {0..?t}\n\ngoal (1 subgoal):\n 1. continuous_on {0..t} (\\<lambda>t. integral {0..t} f)", "by (rule indefinite_integral_continuous_1)"], ["proof (state)\nthis:\n  continuous_on {0..?t} I\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "have Ipc: \"piecewise_continuous_on 0 t {} I\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on 0 t {} I", "by (rule piecewise_continuous_onI) (auto intro!: Ic)"], ["proof (state)\nthis:\n  piecewise_continuous_on 0 ?t {} I\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "have I: \"(f has_integral I t) {0 .. t}\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_integral I t) {0..t}", "unfolding I_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_integral integral {0..t} f) {0..t}", "using fi"], ["proof (prove)\nusing this:\n  f integrable_on {0..?t}\n\ngoal (1 subgoal):\n 1. (f has_integral integral {0..t} f) {0..t}", "by (rule integrable_integral)"], ["proof (state)\nthis:\n  (f has_integral I ?t) {0..?t}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "from exponential_order_integral[OF I eo \\<open>0 < c\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>M'.\n      exponential_order M' c I \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain M'\n    where Ieo: \"exponential_order M' c I\""], ["proof (prove)\nusing this:\n  (\\<And>M'.\n      exponential_order M' c I \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>M'.\n        exponential_order M' c I \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "."], ["proof (state)\nthis:\n  exponential_order M' c I\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "have Ili: \"laplace_integrand I s integrable_on {0..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. laplace_integrand I s integrable_on {0..}", "using Ipc"], ["proof (prove)\nusing this:\n  piecewise_continuous_on 0 ?t {} I\n\ngoal (1 subgoal):\n 1. laplace_integrand I s integrable_on {0..}", "apply (rule piecewise_continuous_on_AE_boundedE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       laplace_integrand I s integrable_on {0..}", "apply (rule laplace_integrand_integrable)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       exponential_order (?M3 B) (?c3 B) I\n 2. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       AE x\\<in>{0..k} in lebesgue. cmod (I x) \\<le> ?B3 B k\n 3. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       I integrable_on {0..k}\n 4. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       ?c3 B < Re s", "apply (rule Ieo)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       AE x\\<in>{0..k} in lebesgue. cmod (I x) \\<le> ?B3 B k\n 2. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       I integrable_on {0..k}\n 3. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       c < Re s", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       I integrable_on {0..k}\n 2. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       c < Re s", "apply (rule integrable_continuous_interval)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>B k.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       continuous_on {0..k} I\n 2. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       c < Re s", "apply (rule Ic)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>B.\n       (\\<And>k.\n           AE x\\<in>{0..k} in lebesgue.\n           cmod (I x) \\<le> B k) \\<Longrightarrow>\n       c < Re s", "apply (rule s)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  laplace_integrand I s integrable_on {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "then"], ["proof (chain)\npicking this:\n  laplace_integrand I s integrable_on {0..}", "obtain LI where LI: \"(I has_laplace LI) s\""], ["proof (prove)\nusing this:\n  laplace_integrand I s integrable_on {0..}\n\ngoal (1 subgoal):\n 1. (\\<And>LI.\n        (I has_laplace LI) s \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule laplace_exists_laplace_integrandI)"], ["proof (state)\nthis:\n  (I has_laplace LI) s\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "from piecewise_continuous_onE[OF pc]"], ["proof (chain)\npicking this:\n  (\\<And>l u.\n      \\<lbrakk>finite D; continuous_on ({0..?b} - D) f;\n       \\<And>i.\n          \\<lbrakk>i \\<in> D; 0 < i; i \\<le> ?b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n       \\<And>i.\n          \\<lbrakk>i \\<in> D; 0 \\<le> i; i < ?b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                             (at_right i)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "have \\<open>finite D\\<close>"], ["proof (prove)\nusing this:\n  (\\<And>l u.\n      \\<lbrakk>finite D; continuous_on ({0..?b} - D) f;\n       \\<And>i.\n          \\<lbrakk>i \\<in> D; 0 < i; i \\<le> ?b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n       \\<And>i.\n          \\<lbrakk>i \\<in> D; 0 \\<le> i; i < ?b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                             (at_right i)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. finite D", "by auto"], ["proof (state)\nthis:\n  finite D\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "have I'2: \"(I has_vector_derivative f t) (at t)\" if \"t > 0\" \"t \\<notin> D\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. (I has_vector_derivative f t) (at t)", "apply (subst at_within_open[symmetric, where S=\"{0<..<t+1} - D\"])"], ["proof (prove)\ngoal (3 subgoals):\n 1. t \\<in> {0<..<t + 1} - D\n 2. open ({0<..<t + 1} - D)\n 3. (I has_vector_derivative f t) (at t within {0<..<t + 1} - D)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> {0<..<t + 1} - D", "using that"], ["proof (prove)\nusing this:\n  0 < t\n  t \\<notin> D\n\ngoal (1 subgoal):\n 1. t \\<in> {0<..<t + 1} - D", "by auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. open ({0<..<t + 1} - D)\n 2. (I has_vector_derivative f t) (at t within {0<..<t + 1} - D)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. open ({0<..<t + 1} - D)", "by (auto intro!:open_Diff finite_imp_closed \\<open>finite D\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (I has_vector_derivative f t) (at t within {0<..<t + 1} - D)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (I has_vector_derivative f t) (at t within {0<..<t + 1} - D)", "using I'[where x=\"t + 1\"]"], ["proof (prove)\nusing this:\n  ?t \\<in> {0..t + 1} - D \\<Longrightarrow>\n  (I has_vector_derivative f ?t) (at ?t within {0..t + 1} - D)\n\ngoal (1 subgoal):\n 1. (I has_vector_derivative f t) (at t within {0<..<t + 1} - D)", "apply (rule has_vector_derivative_within_subset)"], ["proof (prove)\ngoal (2 subgoals):\n 1. t \\<in> {0..t + 1} - D\n 2. {0<..<t + 1} - D \\<subseteq> {0..t + 1} - D", "using that"], ["proof (prove)\nusing this:\n  0 < t\n  t \\<notin> D\n\ngoal (2 subgoals):\n 1. t \\<in> {0..t + 1} - D\n 2. {0<..<t + 1} - D \\<subseteq> {0..t + 1} - D", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?t; ?t \\<notin> D\\<rbrakk>\n  \\<Longrightarrow> (I has_vector_derivative f ?t) (at ?t)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "have I_tndsto: \"(I \\<longlongrightarrow> 0) (at_right 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (I \\<longlongrightarrow> 0) (at_right 0)", "apply (rule tendsto_eq_rhs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (I \\<longlongrightarrow> ?x) (at_right 0)\n 2. ?x = 0", "apply (rule continuous_on_Icc_at_rightD)"], ["proof (prove)\ngoal (3 subgoals):\n 1. continuous_on {0..?b3} I\n 2. 0 < ?b3\n 3. I 0 = 0", "apply (rule Ic)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 < ?b3\n 2. I 0 = 0", "apply (rule zero_less_one)"], ["proof (prove)\ngoal (1 subgoal):\n 1. I 0 = 0", "by (auto simp: I_def)"], ["proof (state)\nthis:\n  (I \\<longlongrightarrow> 0) (at_right 0)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "have \"(f has_laplace s * LI - 0) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_laplace s * LI - 0) s", "by (rule has_laplace_derivative_time_domain[OF LI I'2 I_tndsto Ieo s])\n      (auto simp: TODO)"], ["proof (state)\nthis:\n  (f has_laplace s * LI - 0) s\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "from has_laplace_unique[OF this L]"], ["proof (chain)\npicking this:\n  s * LI - 0 = L", "have \"LI = L / s\""], ["proof (prove)\nusing this:\n  s * LI - 0 = L\n\ngoal (1 subgoal):\n 1. LI = L / s", "using s c"], ["proof (prove)\nusing this:\n  s * LI - 0 = L\n  c < Re s\n  0 < c\n\ngoal (1 subgoal):\n 1. LI = L / s", "by auto"], ["proof (state)\nthis:\n  LI = L / s\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. integral {0..t} f) has_laplace L / s) s", "with LI"], ["proof (chain)\npicking this:\n  (I has_laplace LI) s\n  LI = L / s", "show \"(I has_laplace L / s) s\""], ["proof (prove)\nusing this:\n  (I has_laplace LI) s\n  LI = L / s\n\ngoal (1 subgoal):\n 1. (I has_laplace L / s) s", "by simp"], ["proof (state)\nthis:\n  (I has_laplace L / s) s\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>higher derivatives\\<close>"], ["", "definition \"nderiv i f X = ((\\<lambda>f. (\\<lambda>x. vector_derivative f (at x within X)))^^i) f\""], ["", "definition \"ndiff n f X \\<longleftrightarrow> (\\<forall>i<n. \\<forall>x \\<in> X. nderiv i f X differentiable at x within X)\""], ["", "lemma nderiv_zero[simp]: \"nderiv 0 f X = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nderiv 0 f X = f", "by (auto simp: nderiv_def)"], ["", "lemma nderiv_Suc[simp]:\n  \"nderiv (Suc i) f X x = vector_derivative (nderiv i f X) (at x within X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nderiv (Suc i) f X x = vector_derivative (nderiv i f X) (at x within X)", "by (auto simp: nderiv_def)"], ["", "lemma ndiff_zero[simp]: \"ndiff 0 f X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ndiff 0 f X", "by (auto simp: ndiff_def)"], ["", "lemma ndiff_Sucs[simp]:\n  \"ndiff (Suc i) f X \\<longleftrightarrow>\n    (ndiff i f X) \\<and>\n    (\\<forall>x \\<in> X. (nderiv i f X) differentiable (at x within X))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ndiff (Suc i) f X =\n    (ndiff i f X \\<and>\n     (\\<forall>x\\<in>X. nderiv i f X differentiable at x within X))", "apply (auto simp: ndiff_def )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ia x.\n       \\<lbrakk>\\<forall>ia<i.\n                   \\<forall>x\\<in>X.\n                      nderiv ia f X differentiable at x within X;\n        \\<forall>x\\<in>X. nderiv i f X differentiable at x within X;\n        ia < Suc i; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> nderiv ia f X differentiable at x within X", "using less_antisym"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<not> ?n < ?m; ?n < Suc ?m\\<rbrakk> \\<Longrightarrow> ?m = ?n\n\ngoal (1 subgoal):\n 1. \\<And>ia x.\n       \\<lbrakk>\\<forall>ia<i.\n                   \\<forall>x\\<in>X.\n                      nderiv ia f X differentiable at x within X;\n        \\<forall>x\\<in>X. nderiv i f X differentiable at x within X;\n        ia < Suc i; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> nderiv ia f X differentiable at x within X", "by blast"], ["", "theorem has_laplace_vector_derivative:\n  \"((\\<lambda>t. vector_derivative f (at t)) has_laplace s * L - f0) s\"\n  if L: \"(f has_laplace L) s\"\n    and f': \"\\<And>t. t > 0 \\<Longrightarrow> f differentiable (at t)\"\n    and f0: \"(f \\<longlongrightarrow> f0) (at_right 0)\"\n    and eo: \"exponential_order M c f\"\n    and cs: \"c < Re s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. vector_derivative f (at t)) has_laplace s * L - f0) s", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. vector_derivative f (at t)) has_laplace s * L - f0) s", "have f': \"(\\<And>t. 0 < t \\<Longrightarrow> (f has_vector_derivative vector_derivative f (at t)) (at t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t.\n       0 < t \\<Longrightarrow>\n       (f has_vector_derivative vector_derivative f (at t)) (at t)", "using f'"], ["proof (prove)\nusing this:\n  0 < ?t \\<Longrightarrow> f differentiable at ?t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       0 < t \\<Longrightarrow>\n       (f has_vector_derivative vector_derivative f (at t)) (at t)", "by (subst vector_derivative_works[symmetric])"], ["proof (state)\nthis:\n  0 < ?t \\<Longrightarrow>\n  (f has_vector_derivative vector_derivative f (at ?t)) (at ?t)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. vector_derivative f (at t)) has_laplace s * L - f0) s", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. vector_derivative f (at t)) has_laplace s * L - f0) s", "by (rule has_laplace_derivative_time_domain[OF L f' f0 eo cs])"], ["proof (state)\nthis:\n  ((\\<lambda>t. vector_derivative f (at t)) has_laplace s * L - f0) s\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_laplace_nderiv:\n  \"(nderiv n f {0<..} has_laplace s^n * L - (\\<Sum>i<n. s^(n - Suc i) * f0 i)) s\"\n  if L: \"(f has_laplace L) s\"\n    and f': \"ndiff n f {0<..}\"\n    and f0: \"\\<And>i. i < n \\<Longrightarrow> (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0)\"\n    and eo: \"\\<And>i. i < n \\<Longrightarrow> exponential_order M c (nderiv i f {0<..})\"\n    and cs: \"c < Re s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nderiv n f {0<..} has_laplace\n     s ^ n * L - (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n     s", "using f' f0 eo"], ["proof (prove)\nusing this:\n  ndiff n f {0<..}\n  ?i < n \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < n \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})\n\ngoal (1 subgoal):\n 1. (nderiv n f {0<..} has_laplace\n     s ^ n * L - (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n     s", "proof (induction n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>ndiff 0 f {0<..};\n     \\<And>i.\n        i < 0 \\<Longrightarrow>\n        (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n     \\<And>i.\n        i < 0 \\<Longrightarrow>\n        exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n    \\<Longrightarrow> (nderiv 0 f {0<..} has_laplace\n                       s ^ 0 * L - (\\<Sum>i<0. s ^ (0 - Suc i) * f0 i))\n                       s\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>ndiff n f {0<..};\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    (nderiv i f {0<..} \\<longlongrightarrow> f0 i)\n                     (at_right 0);\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n                \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                                   s ^ n * L -\n                                   (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                                   s;\n        ndiff (Suc n) f {0<..};\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n       \\<Longrightarrow> (nderiv (Suc n) f {0<..} has_laplace\n                          s ^ Suc n * L -\n                          (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n                          s", "case 0"], ["proof (state)\nthis:\n  ndiff 0 f {0<..}\n  ?i < 0 \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < 0 \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})\n\ngoal (2 subgoals):\n 1. \\<lbrakk>ndiff 0 f {0<..};\n     \\<And>i.\n        i < 0 \\<Longrightarrow>\n        (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n     \\<And>i.\n        i < 0 \\<Longrightarrow>\n        exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n    \\<Longrightarrow> (nderiv 0 f {0<..} has_laplace\n                       s ^ 0 * L - (\\<Sum>i<0. s ^ (0 - Suc i) * f0 i))\n                       s\n 2. \\<And>n.\n       \\<lbrakk>\\<lbrakk>ndiff n f {0<..};\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    (nderiv i f {0<..} \\<longlongrightarrow> f0 i)\n                     (at_right 0);\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n                \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                                   s ^ n * L -\n                                   (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                                   s;\n        ndiff (Suc n) f {0<..};\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n       \\<Longrightarrow> (nderiv (Suc n) f {0<..} has_laplace\n                          s ^ Suc n * L -\n                          (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n                          s", "then"], ["proof (chain)\npicking this:\n  ndiff 0 f {0<..}\n  ?i < 0 \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < 0 \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})", "show ?case"], ["proof (prove)\nusing this:\n  ndiff 0 f {0<..}\n  ?i < 0 \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < 0 \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})\n\ngoal (1 subgoal):\n 1. (nderiv 0 f {0<..} has_laplace\n     s ^ 0 * L - (\\<Sum>i<0. s ^ (0 - Suc i) * f0 i))\n     s", "by (auto simp: L)"], ["proof (state)\nthis:\n  (nderiv 0 f {0<..} has_laplace\n   s ^ 0 * L - (\\<Sum>i<0. s ^ (0 - Suc i) * f0 i))\n   s\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>ndiff n f {0<..};\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    (nderiv i f {0<..} \\<longlongrightarrow> f0 i)\n                     (at_right 0);\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n                \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                                   s ^ n * L -\n                                   (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                                   s;\n        ndiff (Suc n) f {0<..};\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n       \\<Longrightarrow> (nderiv (Suc n) f {0<..} has_laplace\n                          s ^ Suc n * L -\n                          (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n                          s", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>ndiff n f {0<..};\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    (nderiv i f {0<..} \\<longlongrightarrow> f0 i)\n                     (at_right 0);\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n                \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                                   s ^ n * L -\n                                   (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                                   s;\n        ndiff (Suc n) f {0<..};\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n       \\<Longrightarrow> (nderiv (Suc n) f {0<..} has_laplace\n                          s ^ Suc n * L -\n                          (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n                          s", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>ndiff n f {0<..};\n   \\<And>i.\n      i < n \\<Longrightarrow>\n      (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n   \\<And>i.\n      i < n \\<Longrightarrow>\n      exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n  \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                     s ^ n * L - (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                     s\n  ndiff (Suc n) f {0<..}\n  ?i < Suc n \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < Suc n \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>ndiff n f {0<..};\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    (nderiv i f {0<..} \\<longlongrightarrow> f0 i)\n                     (at_right 0);\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n                \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                                   s ^ n * L -\n                                   (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                                   s;\n        ndiff (Suc n) f {0<..};\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n       \\<Longrightarrow> (nderiv (Suc n) f {0<..} has_laplace\n                          s ^ Suc n * L -\n                          (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n                          s", "have awo: \"at t within {0<..} = at t\" if \"t > 0\" for t::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. at t within {0<..} = at t", "using that"], ["proof (prove)\nusing this:\n  0 < t\n\ngoal (1 subgoal):\n 1. at t within {0<..} = at t", "by (subst at_within_open) auto"], ["proof (state)\nthis:\n  0 < ?t \\<Longrightarrow> at ?t within {0<..} = at ?t\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>ndiff n f {0<..};\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    (nderiv i f {0<..} \\<longlongrightarrow> f0 i)\n                     (at_right 0);\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n                \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                                   s ^ n * L -\n                                   (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                                   s;\n        ndiff (Suc n) f {0<..};\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n       \\<Longrightarrow> (nderiv (Suc n) f {0<..} has_laplace\n                          s ^ Suc n * L -\n                          (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n                          s", "have \"((\\<lambda>a. vector_derivative (nderiv n f {0<..}) (at a)) has_laplace\n    s * ( s ^ n * L - (\\<Sum>i<n. s^(n - Suc i) * f0 i)) - f0 n) s\"\n    (is \"(_ has_laplace ?L) _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>a. vector_derivative (nderiv n f {0<..}) (at a)) has_laplace\n     s * (s ^ n * L - (\\<Sum>i<n. s ^ (n - Suc i) * f0 i)) - f0 n)\n     s", "apply (rule has_laplace_vector_derivative)"], ["proof (prove)\ngoal (5 subgoals):\n 1. (nderiv n f {0<..} has_laplace\n     s ^ n * L - (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n     s\n 2. \\<And>a. 0 < a \\<Longrightarrow> nderiv n f {0<..} differentiable at a\n 3. (nderiv n f {0<..} \\<longlongrightarrow> f0 n) (at_right 0)\n 4. exponential_order ?M ?c (nderiv n f {0<..})\n 5. ?c < Re s", "apply (rule Suc.IH)"], ["proof (prove)\ngoal (7 subgoals):\n 1. ndiff n f {0<..}\n 2. \\<And>i.\n       i < n \\<Longrightarrow>\n       (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0)\n 3. \\<And>i.\n       i < n \\<Longrightarrow> exponential_order M c (nderiv i f {0<..})\n 4. \\<And>a. 0 < a \\<Longrightarrow> nderiv n f {0<..} differentiable at a\n 5. (nderiv n f {0<..} \\<longlongrightarrow> f0 n) (at_right 0)\n 6. exponential_order ?M ?c (nderiv n f {0<..})\n 7. ?c < Re s", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. ndiff n f {0<..}", "using Suc.prems"], ["proof (prove)\nusing this:\n  ndiff (Suc n) f {0<..}\n  ?i < Suc n \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < Suc n \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})\n\ngoal (1 subgoal):\n 1. ndiff n f {0<..}", "by auto"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0)\n 2. \\<And>i.\n       i < n \\<Longrightarrow> exponential_order M c (nderiv i f {0<..})\n 3. \\<And>a. 0 < a \\<Longrightarrow> nderiv n f {0<..} differentiable at a\n 4. (nderiv n f {0<..} \\<longlongrightarrow> f0 n) (at_right 0)\n 5. exponential_order ?M ?c (nderiv n f {0<..})\n 6. ?c < Re s", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. i_ < n \\<Longrightarrow>\n    (nderiv i_ f {0<..} \\<longlongrightarrow> f0 i_) (at_right 0)", "using Suc.prems"], ["proof (prove)\nusing this:\n  ndiff (Suc n) f {0<..}\n  ?i < Suc n \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < Suc n \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})\n\ngoal (1 subgoal):\n 1. i_ < n \\<Longrightarrow>\n    (nderiv i_ f {0<..} \\<longlongrightarrow> f0 i_) (at_right 0)", "by auto"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i.\n       i < n \\<Longrightarrow> exponential_order M c (nderiv i f {0<..})\n 2. \\<And>a. 0 < a \\<Longrightarrow> nderiv n f {0<..} differentiable at a\n 3. (nderiv n f {0<..} \\<longlongrightarrow> f0 n) (at_right 0)\n 4. exponential_order ?M ?c (nderiv n f {0<..})\n 5. ?c < Re s", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. i_ < n \\<Longrightarrow> exponential_order M c (nderiv i_ f {0<..})", "using Suc.prems"], ["proof (prove)\nusing this:\n  ndiff (Suc n) f {0<..}\n  ?i < Suc n \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < Suc n \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})\n\ngoal (1 subgoal):\n 1. i_ < n \\<Longrightarrow> exponential_order M c (nderiv i_ f {0<..})", "by auto"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>a. 0 < a \\<Longrightarrow> nderiv n f {0<..} differentiable at a\n 2. (nderiv n f {0<..} \\<longlongrightarrow> f0 n) (at_right 0)\n 3. exponential_order ?M ?c (nderiv n f {0<..})\n 4. ?c < Re s", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < a_ \\<Longrightarrow> nderiv n f {0<..} differentiable at a_", "using Suc.prems"], ["proof (prove)\nusing this:\n  ndiff (Suc n) f {0<..}\n  ?i < Suc n \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < Suc n \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})\n\ngoal (1 subgoal):\n 1. 0 < a_ \\<Longrightarrow> nderiv n f {0<..} differentiable at a_", "by (auto simp: awo)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (nderiv n f {0<..} \\<longlongrightarrow> f0 n) (at_right 0)\n 2. exponential_order ?M ?c (nderiv n f {0<..})\n 3. ?c < Re s", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (nderiv n f {0<..} \\<longlongrightarrow> f0 n) (at_right 0)", "using Suc.prems"], ["proof (prove)\nusing this:\n  ndiff (Suc n) f {0<..}\n  ?i < Suc n \\<Longrightarrow>\n  (nderiv ?i f {0<..} \\<longlongrightarrow> f0 ?i) (at_right 0)\n  ?i < Suc n \\<Longrightarrow> exponential_order M c (nderiv ?i f {0<..})\n\ngoal (1 subgoal):\n 1. (nderiv n f {0<..} \\<longlongrightarrow> f0 n) (at_right 0)", "by auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. exponential_order ?M ?c (nderiv n f {0<..})\n 2. ?c < Re s", "apply (rule Suc.prems; force)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c < Re s", "apply (rule cs)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  ((\\<lambda>a. vector_derivative (nderiv n f {0<..}) (at a)) has_laplace\n   s * (s ^ n * L - (\\<Sum>i<n. s ^ (n - Suc i) * f0 i)) - f0 n)\n   s\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>ndiff n f {0<..};\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    (nderiv i f {0<..} \\<longlongrightarrow> f0 i)\n                     (at_right 0);\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n                \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                                   s ^ n * L -\n                                   (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                                   s;\n        ndiff (Suc n) f {0<..};\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n       \\<Longrightarrow> (nderiv (Suc n) f {0<..} has_laplace\n                          s ^ Suc n * L -\n                          (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n                          s", "also"], ["proof (state)\nthis:\n  ((\\<lambda>a. vector_derivative (nderiv n f {0<..}) (at a)) has_laplace\n   s * (s ^ n * L - (\\<Sum>i<n. s ^ (n - Suc i) * f0 i)) - f0 n)\n   s\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>ndiff n f {0<..};\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    (nderiv i f {0<..} \\<longlongrightarrow> f0 i)\n                     (at_right 0);\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n                \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                                   s ^ n * L -\n                                   (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                                   s;\n        ndiff (Suc n) f {0<..};\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n       \\<Longrightarrow> (nderiv (Suc n) f {0<..} has_laplace\n                          s ^ Suc n * L -\n                          (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n                          s", "have \"?L = s ^ Suc n * L - (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s * (s ^ n * L - (\\<Sum>i<n. s ^ (n - Suc i) * f0 i)) - f0 n =\n    s ^ Suc n * L - (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i)", "by (auto simp: algebra_simps sum_distrib_left diff_Suc Suc_diff_le\n        split: nat.splits\n        intro!: sum.cong)"], ["proof (state)\nthis:\n  s * (s ^ n * L - (\\<Sum>i<n. s ^ (n - Suc i) * f0 i)) - f0 n =\n  s ^ Suc n * L - (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<lbrakk>ndiff n f {0<..};\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    (nderiv i f {0<..} \\<longlongrightarrow> f0 i)\n                     (at_right 0);\n                 \\<And>i.\n                    i < n \\<Longrightarrow>\n                    exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n                \\<Longrightarrow> (nderiv n f {0<..} has_laplace\n                                   s ^ n * L -\n                                   (\\<Sum>i<n. s ^ (n - Suc i) * f0 i))\n                                   s;\n        ndiff (Suc n) f {0<..};\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           (nderiv i f {0<..} \\<longlongrightarrow> f0 i) (at_right 0);\n        \\<And>i.\n           i < Suc n \\<Longrightarrow>\n           exponential_order M c (nderiv i f {0<..})\\<rbrakk>\n       \\<Longrightarrow> (nderiv (Suc n) f {0<..} has_laplace\n                          s ^ Suc n * L -\n                          (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n                          s", "finally"], ["proof (chain)\npicking this:\n  ((\\<lambda>a. vector_derivative (nderiv n f {0<..}) (at a)) has_laplace\n   s ^ Suc n * L - (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n   s", "show ?case"], ["proof (prove)\nusing this:\n  ((\\<lambda>a. vector_derivative (nderiv n f {0<..}) (at a)) has_laplace\n   s ^ Suc n * L - (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n   s\n\ngoal (1 subgoal):\n 1. (nderiv (Suc n) f {0<..} has_laplace\n     s ^ Suc n * L - (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n     s", "by (rule has_laplace_spike[where T=\"{0}\"]) (auto simp: awo)"], ["proof (state)\nthis:\n  (nderiv (Suc n) f {0<..} has_laplace\n   s ^ Suc n * L - (\\<Sum>i<Suc n. s ^ (Suc n - Suc i) * f0 i))\n   s\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}