{"file_name": "/home/qj213/afp-2021-10-22/thys/Laplace_Transform/Piecewise_Continuous.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Laplace_Transform", "problem_names": ["lemma at_within_self_singleton[simp]: \"at i within {i} = bot\"", "lemma at_within_t1_space_avoid:\n  \"(at x within X - {i}) = (at x within X)\" if \"x \\<noteq> i\" for x i::\"'a::t1_space\"", "lemma at_within_t1_space_avoid_finite:\n  \"(at x within X - I) = (at x within X)\" if \"finite I\" \"x \\<notin> I\" for x::\"'a::t1_space\"", "lemma at_within_interior:\n  \"NO_MATCH (UNIV::'a set) (S::'a::topological_space set) \\<Longrightarrow> x \\<in> interior S \\<Longrightarrow> at x within S = at x\"", "lemma Compl_Icc: \"- {a .. b} = {..<a} \\<union> {b<..}\" for a b::\"'a::linorder\"", "lemma interior_Icc[simp]: \"interior {a..b} = {a<..<b}\"\n  for a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\"\n    \\<comment> \\<open>TODO: is \\<open>no_bot\\<close> and \\<open>no_top\\<close> really required?\\<close>", "lemma closure_finite[simp]: \"closure X = X\" if \"finite X\" for X::\"'a::t1_space set\"", "lemma piecewise_continuous_on_subset:\n  \"piecewise_continuous_on a b I f \\<Longrightarrow> {c .. d} \\<subseteq> {a .. b} \\<Longrightarrow> piecewise_continuous_on c d I f\"", "lemma piecewise_continuous_onE:\n  assumes \"piecewise_continuous_on a b I f\"\n  obtains l u\n  where \"finite I\"\n      and \"continuous_on ({a..b} - I) f\"\n      and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\"\n      and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i))\"", "lemma piecewise_continuous_onI:\n  assumes \"finite I\" \"continuous_on ({a..b} - I) f\"\n    and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\"\n    and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i))\"\n  shows \"piecewise_continuous_on a b I f\"", "lemma piecewise_continuous_onI':\n  fixes a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\"\n  assumes \"finite I\" \"\\<And>x. a < x \\<Longrightarrow> x < b \\<Longrightarrow> isCont f x\"\n    and \"a \\<notin> I \\<Longrightarrow> continuous (at_right a) f\"\n    and \"b \\<notin> I \\<Longrightarrow> continuous (at_left b) f\"\n    and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\"\n    and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i))\"\n  shows \"piecewise_continuous_on a b I f\"", "lemma piecewise_continuous_onE':\n  fixes a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\"\n  assumes \"piecewise_continuous_on a b I f\"\n  obtains l u\n  where \"finite I\"\n      and \"\\<And>x. a < x \\<Longrightarrow> x < b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> isCont f x\"\n      and \"(\\<And>x. a < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x))\"\n      and \"(\\<And>x. a \\<le> x \\<Longrightarrow> x < b \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x))\"\n      and \"\\<And>x. a \\<le> x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> f x = l x\"\n      and \"\\<And>x. a \\<le> x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> f x = u x\"", "lemma tendsto_avoid_at_within:\n  \"(f \\<longlongrightarrow> l) (at x within X)\"\n  if \"(f \\<longlongrightarrow> l) (at x within X - {x})\"", "lemma tendsto_within_subset_eventuallyI:\n  \"(f \\<longlongrightarrow> fx) (at x within X)\"\n  if g: \"(g \\<longlongrightarrow> gy) (at y within Y)\"\n    and ev: \"\\<forall>\\<^sub>F x in (at y within Y). f x = g x\"\n    and xy: \"x = y\"\n    and fxgy: \"fx = gy\"\n    and XY: \"X - {x} \\<subseteq> Y\"", "lemma piecewise_continuous_on_insertE:\n  assumes \"piecewise_continuous_on a b (insert i I) f\"\n  assumes \"i \\<in> {a .. b}\"\n  obtains g h where\n    \"piecewise_continuous_on a i I g\"\n    \"piecewise_continuous_on i b I h\"\n    \"\\<And>x. a \\<le> x \\<Longrightarrow> x < i \\<Longrightarrow> g x = f x\"\n    \"\\<And>x. i < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> h x = f x\"", "lemma eventually_avoid_finite:\n  \"\\<forall>\\<^sub>F x in at y within Y. x \\<notin> I\" if \"finite I\" for y::\"'a::t1_space\"", "lemma eventually_at_left_linorder:\\<comment> \\<open>TODO: generalize @{thm eventually_at_left_real}\\<close>\n  \"a > (b :: 'a :: linorder_topology) \\<Longrightarrow> eventually (\\<lambda>x. x \\<in> {b<..<a}) (at_left a)\"", "lemma eventually_at_right_linorder:\\<comment> \\<open>TODO: generalize @{thm eventually_at_right_real}\\<close>\n  \"a > (b :: 'a :: linorder_topology) \\<Longrightarrow> eventually (\\<lambda>x. x \\<in> {b<..<a}) (at_right b)\"", "lemma piecewise_continuous_on_congI:\n  \"piecewise_continuous_on a b I g\"\n  if \"piecewise_continuous_on a b I f\"\n    and eq: \"\\<And>x. x \\<in> {a .. b} - I \\<Longrightarrow> g x = f x\"", "lemma piecewise_continuous_on_cong[cong]:\n  \"piecewise_continuous_on a b I f \\<longleftrightarrow> piecewise_continuous_on c d J g\"\n  if \"a = c\"\n    \"b = d\"\n    \"I = J\"\n    \"\\<And>x. c \\<le> x \\<Longrightarrow> x \\<le> d \\<Longrightarrow> x \\<notin> J \\<Longrightarrow> f x = g x\"", "lemma tendsto_at_left_continuous_on_avoidI: \"(f \\<longlongrightarrow> g i) (at_left i)\"\n  if g: \"continuous_on ({a..i} - I) g\"\n    and gf: \"\\<And>x. a < x \\<Longrightarrow> x < i \\<Longrightarrow> g x = f x\"\n    \"i \\<notin> I\" \"finite I\" \"a < i\"\n  for i::\"'a::linorder_topology\"", "lemma tendsto_at_right_continuous_on_avoidI: \"(f \\<longlongrightarrow> g i) (at_right i)\"\n  if g: \"continuous_on ({i..b} - I) g\"\n    and gf: \"\\<And>x. i < x \\<Longrightarrow> x < b \\<Longrightarrow> g x = f x\"\n    \"i \\<notin> I\" \"finite I\" \"i < b\"\n  for i::\"'a::linorder_topology\"", "lemma piecewise_continuous_on_insert_leftI:\n  \"piecewise_continuous_on a b (insert a I) f\" if \"piecewise_continuous_on a b I f\"", "lemma piecewise_continuous_on_insert_rightI:\n  \"piecewise_continuous_on a b (insert b I) f\" if \"piecewise_continuous_on a b I f\"", "theorem piecewise_continuous_on_induct[consumes 1, case_names empty combine weaken]:\n  assumes pc: \"piecewise_continuous_on a b I f\"\n  assumes 1: \"\\<And>a b f. continuous_on {a .. b} f \\<Longrightarrow> P a b {} f\"\n  assumes 2: \"\\<And>a i b I f1 f2 f. a \\<le> i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> i \\<notin> I \\<Longrightarrow> P a i I f1 \\<Longrightarrow> P i b I f2 \\<Longrightarrow>\n    piecewise_continuous_on a i I f1 \\<Longrightarrow>\n    piecewise_continuous_on i b I f2 \\<Longrightarrow>\n    (\\<And>x. a \\<le> x \\<Longrightarrow> x < i \\<Longrightarrow> f1 x = f x) \\<Longrightarrow>\n    (\\<And>x. i < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> f2 x = f x) \\<Longrightarrow>\n    (i > a \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)) \\<Longrightarrow>\n    (i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)) \\<Longrightarrow>\n    P a b (insert i I) f\"\n  assumes 3: \"\\<And>a b i I f. P a b I f \\<Longrightarrow> finite I \\<Longrightarrow> i \\<notin> I \\<Longrightarrow> P a b (insert i I) f\"\n  shows \"P a b I f\"", "lemma continuous_on_imp_piecewise_continuous_on:\n  \"continuous_on {a .. b} f \\<Longrightarrow> piecewise_continuous_on a b {} f\"", "lemma piecewise_continuous_on_imp_absolutely_integrable:\n  fixes a b::real and f::\"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"piecewise_continuous_on a b I f\"\n  shows \"f absolutely_integrable_on {a..b}\"", "lemma piecewise_continuous_on_integrable:\n  fixes a b::real and f::\"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"piecewise_continuous_on a b I f\"\n  shows \"f integrable_on {a..b}\"", "lemma piecewise_continuous_on_comp:\n  assumes p: \"piecewise_continuous_on a b I f\"\n  assumes c: \"\\<And>x. isCont (\\<lambda>(x, y). g x y) x\"\n  shows \"piecewise_continuous_on a b I (\\<lambda>x. g x (f x))\"", "lemma bounded_piecewise_continuous_image:\n  \"bounded (f ` {a .. b})\"\n  if \"piecewise_continuous_on a b I f\" for a b::real", "lemma tendsto_within_eventually:\n  \"(f \\<longlongrightarrow> l) (at x within X)\"\n  if\n    \"(f \\<longlongrightarrow> l) (at x within Y)\"\n    \"\\<forall>\\<^sub>F y in at x within X. y \\<in> Y\"", "lemma at_within_eq_bot_lemma:\n  \"at x within {b..c} = (if x < b \\<or> b > c then bot else at x within {b..c})\"\n  for x b c::\"'a::linorder_topology\"", "lemma at_within_eq_bot_lemma2:\n  \"at x within {a..b} = (if x > b \\<or> a > b then bot else at x within {a..b})\"\n  for x a b::\"'a::linorder_topology\"", "lemma piecewise_continuous_on_combine:\n  \"piecewise_continuous_on a c J f\"\n  if \"piecewise_continuous_on a b J f\" \"piecewise_continuous_on b c J f\"", "lemma piecewise_continuous_on_finite_superset:\n  \"piecewise_continuous_on a b I f \\<Longrightarrow> I \\<subseteq> J \\<Longrightarrow> finite J \\<Longrightarrow> piecewise_continuous_on a b J f\"\n  for a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\"", "lemma piecewise_continuous_on_splitI:\n  \"piecewise_continuous_on a c K f\"\n  if\n    \"piecewise_continuous_on a b I f\"\n    \"piecewise_continuous_on b c J f\"\n    \"I \\<subseteq> K\" \"J \\<subseteq> K\" \"finite K\"\n  for a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\""], "translations": [["", "lemma at_within_self_singleton[simp]: \"at i within {i} = bot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at i within {i} = bot", "by (auto intro!: antisym filter_leI simp: eventually_at_filter)"], ["", "lemma at_within_t1_space_avoid:\n  \"(at x within X - {i}) = (at x within X)\" if \"x \\<noteq> i\" for x i::\"'a::t1_space\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within X - {i} = at x within X", "proof (safe intro!: antisym filter_leI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within X) \\<Longrightarrow>\n       eventually P (at x within X - {i})\n 2. \\<And>P.\n       eventually P (at x within X - {i}) \\<Longrightarrow>\n       eventually P (at x within X)", "fix P"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within X) \\<Longrightarrow>\n       eventually P (at x within X - {i})\n 2. \\<And>P.\n       eventually P (at x within X - {i}) \\<Longrightarrow>\n       eventually P (at x within X)", "assume \"eventually P (at x within X - {i})\""], ["proof (state)\nthis:\n  eventually P (at x within X - {i})\n\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within X) \\<Longrightarrow>\n       eventually P (at x within X - {i})\n 2. \\<And>P.\n       eventually P (at x within X - {i}) \\<Longrightarrow>\n       eventually P (at x within X)", "moreover"], ["proof (state)\nthis:\n  eventually P (at x within X - {i})\n\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within X) \\<Longrightarrow>\n       eventually P (at x within X - {i})\n 2. \\<And>P.\n       eventually P (at x within X - {i}) \\<Longrightarrow>\n       eventually P (at x within X)", "have \"eventually (\\<lambda>x. x \\<noteq> i) (nhds x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in nhds x. x \\<noteq> i", "by (rule t1_space_nhds) fact"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in nhds x. x \\<noteq> i\n\ngoal (2 subgoals):\n 1. \\<And>P.\n       eventually P (at x within X) \\<Longrightarrow>\n       eventually P (at x within X - {i})\n 2. \\<And>P.\n       eventually P (at x within X - {i}) \\<Longrightarrow>\n       eventually P (at x within X)", "ultimately"], ["proof (chain)\npicking this:\n  eventually P (at x within X - {i})\n  \\<forall>\\<^sub>F x in nhds x. x \\<noteq> i", "show \"eventually P (at x within X)\""], ["proof (prove)\nusing this:\n  eventually P (at x within X - {i})\n  \\<forall>\\<^sub>F x in nhds x. x \\<noteq> i\n\ngoal (1 subgoal):\n 1. eventually P (at x within X)", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in nhds x.\n     xa \\<noteq> x \\<longrightarrow> xa \\<in> X - {i} \\<longrightarrow> P xa\n  \\<forall>\\<^sub>F x in nhds x. x \\<noteq> i\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds x.\n       xa \\<noteq> x \\<longrightarrow> xa \\<in> X \\<longrightarrow> P xa", "by eventually_elim auto"], ["proof (state)\nthis:\n  eventually P (at x within X)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within X) \\<Longrightarrow>\n       eventually P (at x within X - {i})", "qed (simp add: eventually_mono order.order_iff_strict eventually_at_filter)"], ["", "lemma at_within_t1_space_avoid_finite:\n  \"(at x within X - I) = (at x within X)\" if \"finite I\" \"x \\<notin> I\" for x::\"'a::t1_space\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within X - I = at x within X", "using that"], ["proof (prove)\nusing this:\n  finite I\n  x \\<notin> I\n\ngoal (1 subgoal):\n 1. at x within X - I = at x within X", "proof (induction I)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<notin> {} \\<Longrightarrow> at x within X - {} = at x within X\n 2. \\<And>xa F.\n       \\<lbrakk>finite F; xa \\<notin> F;\n        x \\<notin> F \\<Longrightarrow> at x within X - F = at x within X;\n        x \\<notin> insert xa F\\<rbrakk>\n       \\<Longrightarrow> at x within X - insert xa F = at x within X", "case (insert i I)"], ["proof (state)\nthis:\n  finite I\n  i \\<notin> I\n  x \\<notin> I \\<Longrightarrow> at x within X - I = at x within X\n  x \\<notin> insert i I\n\ngoal (2 subgoals):\n 1. x \\<notin> {} \\<Longrightarrow> at x within X - {} = at x within X\n 2. \\<And>xa F.\n       \\<lbrakk>finite F; xa \\<notin> F;\n        x \\<notin> F \\<Longrightarrow> at x within X - F = at x within X;\n        x \\<notin> insert xa F\\<rbrakk>\n       \\<Longrightarrow> at x within X - insert xa F = at x within X", "then"], ["proof (chain)\npicking this:\n  finite I\n  i \\<notin> I\n  x \\<notin> I \\<Longrightarrow> at x within X - I = at x within X\n  x \\<notin> insert i I", "show ?case"], ["proof (prove)\nusing this:\n  finite I\n  i \\<notin> I\n  x \\<notin> I \\<Longrightarrow> at x within X - I = at x within X\n  x \\<notin> insert i I\n\ngoal (1 subgoal):\n 1. at x within X - insert i I = at x within X", "by auto (metis Diff_insert at_within_t1_space_avoid)"], ["proof (state)\nthis:\n  at x within X - insert i I = at x within X\n\ngoal (1 subgoal):\n 1. x \\<notin> {} \\<Longrightarrow> at x within X - {} = at x within X", "qed simp"], ["", "lemma at_within_interior:\n  \"NO_MATCH (UNIV::'a set) (S::'a::topological_space set) \\<Longrightarrow> x \\<in> interior S \\<Longrightarrow> at x within S = at x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>NO_MATCH UNIV S; x \\<in> interior S\\<rbrakk>\n    \\<Longrightarrow> at x within S = at x", "by (rule at_within_interior)"], ["", "subsection \\<open>intervals\\<close>"], ["", "lemma Compl_Icc: \"- {a .. b} = {..<a} \\<union> {b<..}\" for a b::\"'a::linorder\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - {a..b} = {..<a} \\<union> {b<..}", "by auto"], ["", "lemma interior_Icc[simp]: \"interior {a..b} = {a<..<b}\"\n  for a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\"\n    \\<comment> \\<open>TODO: is \\<open>no_bot\\<close> and \\<open>no_top\\<close> really required?\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. interior {a..b} = {a<..<b}", "by (auto simp add: Compl_Icc interior_closure)"], ["", "lemma closure_finite[simp]: \"closure X = X\" if \"finite X\" for X::\"'a::t1_space set\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closure X = X", "using that"], ["proof (prove)\nusing this:\n  finite X\n\ngoal (1 subgoal):\n 1. closure X = X", "by (induction X) (simp_all add: closure_insert)"], ["", "definition piecewise_continuous_on :: \"'a::linorder_topology \\<Rightarrow> 'a \\<Rightarrow> 'a set \\<Rightarrow> ('a \\<Rightarrow> 'b::topological_space) \\<Rightarrow> bool\"\nwhere \"piecewise_continuous_on a b I f \\<longleftrightarrow>\n  (continuous_on ({a .. b} - I) f \\<and> finite I \\<and>\n    (\\<forall>i\\<in>I. (i \\<in> {a<..b} \\<longrightarrow> (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n      (i \\<in> {a..<b} \\<longrightarrow> (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)))))\""], ["", "lemma piecewise_continuous_on_subset:\n  \"piecewise_continuous_on a b I f \\<Longrightarrow> {c .. d} \\<subseteq> {a .. b} \\<Longrightarrow> piecewise_continuous_on c d I f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>piecewise_continuous_on a b I f;\n     {c..d} \\<subseteq> {a..b}\\<rbrakk>\n    \\<Longrightarrow> piecewise_continuous_on c d I f", "by (force simp add: piecewise_continuous_on_def intro: continuous_on_subset)"], ["", "lemma piecewise_continuous_onE:\n  assumes \"piecewise_continuous_on a b I f\"\n  obtains l u\n  where \"finite I\"\n      and \"continuous_on ({a..b} - I) f\"\n      and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\"\n      and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                               (at_right i)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                               (at_right i)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: piecewise_continuous_on_def Ball_def) metis"], ["", "lemma piecewise_continuous_onI:\n  assumes \"finite I\" \"continuous_on ({a..b} - I) f\"\n    and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\"\n    and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i))\"\n  shows \"piecewise_continuous_on a b I f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I f", "using assms"], ["proof (prove)\nusing this:\n  finite I\n  continuous_on ({a..b} - I) f\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I f", "by (force simp: piecewise_continuous_on_def)"], ["", "lemma piecewise_continuous_onI':\n  fixes a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\"\n  assumes \"finite I\" \"\\<And>x. a < x \\<Longrightarrow> x < b \\<Longrightarrow> isCont f x\"\n    and \"a \\<notin> I \\<Longrightarrow> continuous (at_right a) f\"\n    and \"b \\<notin> I \\<Longrightarrow> continuous (at_left b) f\"\n    and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\"\n    and \"(\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i))\"\n  shows \"piecewise_continuous_on a b I f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I f", "proof (rule piecewise_continuous_onI)"], ["proof (state)\ngoal (4 subgoals):\n 1. finite I\n 2. continuous_on ({a..b} - I) f\n 3. \\<And>i.\n       \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> ?l i) (at_left i)\n 4. \\<And>i.\n       \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> ?u i) (at_right i)", "have \"x \\<notin> I \\<Longrightarrow> a \\<le> x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at x within {a..b})\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<notin> I; a \\<le> x; x \\<le> b\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at x within {a..b})", "using assms(2)[of x] assms(3,4)"], ["proof (prove)\nusing this:\n  \\<lbrakk>a < x; x < b\\<rbrakk> \\<Longrightarrow> isCont f x\n  a \\<notin> I \\<Longrightarrow> continuous (at_right a) f\n  b \\<notin> I \\<Longrightarrow> continuous (at_left b) f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<notin> I; a \\<le> x; x \\<le> b\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at x within {a..b})", "by (cases \"a = x\"; cases \"b = x\"; cases \"x \\<in> {a<..<b}\")\n      (auto simp: at_within_Icc_at_left at_within_Icc_at_right isCont_def\n        continuous_within filterlim_at_split at_within_interior)"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<notin> I; a \\<le> ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> f ?x) (at ?x within {a..b})\n\ngoal (4 subgoals):\n 1. finite I\n 2. continuous_on ({a..b} - I) f\n 3. \\<And>i.\n       \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> ?l i) (at_left i)\n 4. \\<And>i.\n       \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> ?u i) (at_right i)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?x \\<notin> I; a \\<le> ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> f ?x) (at ?x within {a..b})", "show \"continuous_on ({a .. b} - I) f\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<notin> I; a \\<le> ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> f ?x) (at ?x within {a..b})\n\ngoal (1 subgoal):\n 1. continuous_on ({a..b} - I) f", "by (auto simp: continuous_on_def \\<open>finite I\\<close> at_within_t1_space_avoid_finite)"], ["proof (state)\nthis:\n  continuous_on ({a..b} - I) f\n\ngoal (3 subgoals):\n 1. finite I\n 2. \\<And>i.\n       \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> ?l i) (at_left i)\n 3. \\<And>i.\n       \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> ?u i) (at_right i)", "qed fact+"], ["", "lemma piecewise_continuous_onE':\n  fixes a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\"\n  assumes \"piecewise_continuous_on a b I f\"\n  obtains l u\n  where \"finite I\"\n      and \"\\<And>x. a < x \\<Longrightarrow> x < b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> isCont f x\"\n      and \"(\\<And>x. a < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x))\"\n      and \"(\\<And>x. a \\<le> x \\<Longrightarrow> x < b \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x))\"\n      and \"\\<And>x. a \\<le> x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> f x = l x\"\n      and \"\\<And>x. a \\<le> x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> f x = u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from piecewise_continuous_onE[OF assms]"], ["proof (chain)\npicking this:\n  (\\<And>l u.\n      \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                             (at_right i)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain l u\n    where \"finite I\"\n      and continuous: \"continuous_on ({a..b} - I) f\"\n      and left: \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\"\n      and right: \"(\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i))\""], ["proof (prove)\nusing this:\n  (\\<And>l u.\n      \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                             (at_right i)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                               (at_right i)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  finite I\n  continuous_on ({a..b} - I) f\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define l' where \"l' x = (if x \\<in> I then l x else f x)\" for x"], ["proof (state)\nthis:\n  l' ?x = (if ?x \\<in> I then l ?x else f ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define u' where \"u' x = (if x \\<in> I then u x else f x)\" for x"], ["proof (state)\nthis:\n  u' ?x = (if ?x \\<in> I then u ?x else f ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note \\<open>finite I\\<close>"], ["proof (state)\nthis:\n  finite I\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  finite I\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from continuous"], ["proof (chain)\npicking this:\n  continuous_on ({a..b} - I) f", "have \"a < x \\<Longrightarrow> x < b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> isCont f x\" for x"], ["proof (prove)\nusing this:\n  continuous_on ({a..b} - I) f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> isCont f x", "by (rule continuous_on_interior) (auto simp: interior_diff \\<open>finite I\\<close>)"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> isCont f ?x\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> isCont f ?x\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from continuous"], ["proof (chain)\npicking this:\n  continuous_on ({a..b} - I) f", "have \"a < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at_left x)\" for x"], ["proof (prove)\nusing this:\n  continuous_on ({a..b} - I) f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a < x; x \\<le> b; x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at_left x)", "by (cases \"x = b\")\n     (auto simp: continuous_on_def at_within_t1_space_avoid_finite \\<open>finite I\\<close>\n        at_within_Icc_at_left at_within_interior filterlim_at_split\n        dest!: bspec[where x=x])"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> f ?x) (at_left ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>a < ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> f ?x) (at_left ?x)", "have \"a < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l' x) (at_left x)\" for x"], ["proof (prove)\nusing this:\n  \\<lbrakk>a < ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> f ?x) (at_left ?x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> l' x) (at_left x)", "by (auto simp: l'_def left)"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l' ?x) (at_left ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l' ?x) (at_left ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from continuous"], ["proof (chain)\npicking this:\n  continuous_on ({a..b} - I) f", "have \"a \\<le> x \\<Longrightarrow> x < b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at_right x)\" for x"], ["proof (prove)\nusing this:\n  continuous_on ({a..b} - I) f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> x; x < b; x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at_right x)", "by (cases \"x = a\")\n     (auto simp: continuous_on_def at_within_t1_space_avoid_finite \\<open>finite I\\<close>\n        at_within_Icc_at_right at_within_interior filterlim_at_split\n        dest!: bspec[where x=x])"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> f ?x) (at_right ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>a \\<le> ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> f ?x) (at_right ?x)", "have \"a \\<le> x \\<Longrightarrow> x < b \\<Longrightarrow> (f \\<longlongrightarrow> u' x) (at_right x)\" for x"], ["proof (prove)\nusing this:\n  \\<lbrakk>a \\<le> ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> f ?x) (at_right ?x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> u' x) (at_right x)", "by (auto simp: u'_def right)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u' ?x) (at_right ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u' ?x) (at_right ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"a \\<le> x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> f x = l' x\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> f x = l' x", "by (auto simp: l'_def)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> f ?x = l' ?x\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> f ?x = l' ?x\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"a \\<le> x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> x \\<notin> I \\<Longrightarrow> f x = u' x\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> f x = u' x", "by (auto simp: u'_def)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> f ?x = u' ?x\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I;\n         \\<And>x.\n            \\<lbrakk>a < x; x < b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> isCont f x;\n         \\<And>x.\n            \\<lbrakk>a < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l x) (at_left x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u x) (at_right x);\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = l x;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x \\<le> b; x \\<notin> I\\<rbrakk>\n            \\<Longrightarrow> f x = u x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  finite I\n  \\<lbrakk>a < ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> isCont f ?x\n  \\<lbrakk>a < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l' ?x) (at_left ?x)\n  \\<lbrakk>a \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u' ?x) (at_right ?x)\n  \\<lbrakk>a \\<le> ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> f ?x = l' ?x\n  \\<lbrakk>a \\<le> ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> f ?x = u' ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  finite I\n  \\<lbrakk>a < ?x; ?x < b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> isCont f ?x\n  \\<lbrakk>a < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l' ?x) (at_left ?x)\n  \\<lbrakk>a \\<le> ?x; ?x < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u' ?x) (at_right ?x)\n  \\<lbrakk>a \\<le> ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> f ?x = l' ?x\n  \\<lbrakk>a \\<le> ?x; ?x \\<le> b; ?x \\<notin> I\\<rbrakk>\n  \\<Longrightarrow> f ?x = u' ?x\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tendsto_avoid_at_within:\n  \"(f \\<longlongrightarrow> l) (at x within X)\"\n  if \"(f \\<longlongrightarrow> l) (at x within X - {x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> l) (at x within X)", "using that"], ["proof (prove)\nusing this:\n  (f \\<longlongrightarrow> l) (at x within X - {x})\n\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> l) (at x within X)", "by (auto simp: eventually_at_filter dest!: topological_tendstoD intro!: topological_tendstoI)"], ["", "lemma tendsto_within_subset_eventuallyI:\n  \"(f \\<longlongrightarrow> fx) (at x within X)\"\n  if g: \"(g \\<longlongrightarrow> gy) (at y within Y)\"\n    and ev: \"\\<forall>\\<^sub>F x in (at y within Y). f x = g x\"\n    and xy: \"x = y\"\n    and fxgy: \"fx = gy\"\n    and XY: \"X - {x} \\<subseteq> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> fx) (at x within X)", "apply (rule tendsto_avoid_at_within)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> fx) (at x within X - {x})", "apply (rule tendsto_within_subset[where S = \"Y\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. (f \\<longlongrightarrow> fx) (at x within Y)\n 2. X - {x} \\<subseteq> Y", "unfolding xy"], ["proof (prove)\ngoal (2 subgoals):\n 1. (f \\<longlongrightarrow> fx) (at y within Y)\n 2. X - {y} \\<subseteq> Y", "apply (subst tendsto_cong[OF ev ])"], ["proof (prove)\ngoal (2 subgoals):\n 1. (g \\<longlongrightarrow> fx) (at y within Y)\n 2. X - {y} \\<subseteq> Y", "apply (rule g[folded fxgy])"], ["proof (prove)\ngoal (1 subgoal):\n 1. X - {y} \\<subseteq> Y", "apply (rule XY[unfolded xy])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma piecewise_continuous_on_insertE:\n  assumes \"piecewise_continuous_on a b (insert i I) f\"\n  assumes \"i \\<in> {a .. b}\"\n  obtains g h where\n    \"piecewise_continuous_on a i I g\"\n    \"piecewise_continuous_on i b I h\"\n    \"\\<And>x. a \\<le> x \\<Longrightarrow> x < i \\<Longrightarrow> g x = f x\"\n    \"\\<And>x. i < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> h x = f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from piecewise_continuous_onE[OF assms(1)] \\<open>i \\<in> {a .. b}\\<close>"], ["proof (chain)\npicking this:\n  (\\<And>l u.\n      \\<lbrakk>finite (insert i I); continuous_on ({a..b} - insert i I) f;\n       \\<And>ia.\n          \\<lbrakk>ia \\<in> insert i I; a < ia; ia \\<le> b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l ia) (at_left ia);\n       \\<And>ia.\n          \\<lbrakk>ia \\<in> insert i I; a \\<le> ia; ia < b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u ia)\n                             (at_right ia)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n  i \\<in> {a..b}", "obtain l u where\n        finite: \"finite I\"\n    and cf: \"continuous_on ({a..b} - insert i I) f\"\n    and l: \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\" \"i > a \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i)\"\n    and u: \"(\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i))\" \"i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i)\""], ["proof (prove)\nusing this:\n  (\\<And>l u.\n      \\<lbrakk>finite (insert i I); continuous_on ({a..b} - insert i I) f;\n       \\<And>ia.\n          \\<lbrakk>ia \\<in> insert i I; a < ia; ia \\<le> b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l ia) (at_left ia);\n       \\<And>ia.\n          \\<lbrakk>ia \\<in> insert i I; a \\<le> ia; ia < b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u ia)\n                             (at_right ia)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n  i \\<in> {a..b}\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I; continuous_on ({a..b} - insert i I) f;\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n         a < i \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n         i < b \\<Longrightarrow>\n         (f \\<longlongrightarrow> u i) (at_right i)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto (metis (mono_tags))"], ["proof (state)\nthis:\n  finite I\n  continuous_on ({a..b} - insert i I) f\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i)\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have fl: \"(f(i := x) \\<longlongrightarrow> l j) (at_left j)\" if \"j \\<in> I\" \"a < j\" \"j \\<le> b\" for j x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f(i := x) \\<longlongrightarrow> l j) (at_left j)", "using l(1)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n\ngoal (1 subgoal):\n 1. (f(i := x) \\<longlongrightarrow> l j) (at_left j)", "apply (rule tendsto_within_subset_eventuallyI)"], ["proof (prove)\ngoal (7 subgoals):\n 1. ?y \\<in> I\n 2. a < ?y\n 3. ?y \\<le> b\n 4. \\<forall>\\<^sub>F xa in at_left ?y. (f(i := x)) xa = f xa\n 5. j = ?y\n 6. l j = l ?y\n 7. {..<j} - {j} \\<subseteq> {..<?y}", "apply (auto simp: eventually_at_filter that)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> i < j \\<longrightarrow> x = f i", "apply (cases \"j \\<noteq> i\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. j \\<noteq> i \\<Longrightarrow>\n    \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> i < j \\<longrightarrow> x = f i\n 2. \\<not> j \\<noteq> i \\<Longrightarrow>\n    \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> i < j \\<longrightarrow> x = f i", "subgoal premises prems"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> i < j \\<longrightarrow> x = f i", "using t1_space_nhds[OF prems]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in nhds j. x \\<noteq> i\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> i < j \\<longrightarrow> x = f i", "by eventually_elim auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> j \\<noteq> i \\<Longrightarrow>\n    \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> i < j \\<longrightarrow> x = f i", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> j \\<noteq> i \\<Longrightarrow>\n    \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> i < j \\<longrightarrow> x = f i", "by simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<lbrakk>?j \\<in> I; a < ?j; ?j \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f(i := ?x) \\<longlongrightarrow> l ?j) (at_left ?j)\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have fr: \"(f(i := x) \\<longlongrightarrow> u j) (at_right j)\" if \"j \\<in> I\" \"a \\<le> j\" \"j < b\" for j x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f(i := x) \\<longlongrightarrow> u j) (at_right j)", "using u(1)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)\n\ngoal (1 subgoal):\n 1. (f(i := x) \\<longlongrightarrow> u j) (at_right j)", "apply (rule tendsto_within_subset_eventuallyI)"], ["proof (prove)\ngoal (7 subgoals):\n 1. ?y \\<in> I\n 2. a \\<le> ?y\n 3. ?y < b\n 4. \\<forall>\\<^sub>F xa in at_right ?y. (f(i := x)) xa = f xa\n 5. j = ?y\n 6. u j = u ?y\n 7. {j<..} - {j} \\<subseteq> {?y<..}", "apply (auto simp: eventually_at_filter that)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> j < i \\<longrightarrow> x = f i", "apply (cases \"j \\<noteq> i\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. j \\<noteq> i \\<Longrightarrow>\n    \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> j < i \\<longrightarrow> x = f i\n 2. \\<not> j \\<noteq> i \\<Longrightarrow>\n    \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> j < i \\<longrightarrow> x = f i", "subgoal premises prems"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> j < i \\<longrightarrow> x = f i", "using t1_space_nhds[OF prems]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in nhds j. x \\<noteq> i\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> j < i \\<longrightarrow> x = f i", "by eventually_elim auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> j \\<noteq> i \\<Longrightarrow>\n    \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> j < i \\<longrightarrow> x = f i", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> j \\<noteq> i \\<Longrightarrow>\n    \\<forall>\\<^sub>F xa in nhds j.\n       xa = i \\<longrightarrow>\n       i \\<noteq> j \\<longrightarrow> j < i \\<longrightarrow> x = f i", "by simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<lbrakk>?j \\<in> I; a \\<le> ?j; ?j < b\\<rbrakk>\n  \\<Longrightarrow> (f(i := ?x) \\<longlongrightarrow> u ?j) (at_right ?j)\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from cf"], ["proof (chain)\npicking this:\n  continuous_on ({a..b} - insert i I) f", "have tendsto: \"(f \\<longlongrightarrow> f x) (at x within {a..b} - insert i I)\"\n    if \"x \\<in> {a .. b} - insert i I\" for x"], ["proof (prove)\nusing this:\n  continuous_on ({a..b} - insert i I) f\n\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> f x) (at x within {a..b} - insert i I)", "using that"], ["proof (prove)\nusing this:\n  continuous_on ({a..b} - insert i I) f\n  x \\<in> {a..b} - insert i I\n\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> f x) (at x within {a..b} - insert i I)", "by (auto simp: continuous_on_def)"], ["proof (state)\nthis:\n  ?x \\<in> {a..b} - insert i I \\<Longrightarrow>\n  (f \\<longlongrightarrow> f ?x) (at ?x within {a..b} - insert i I)\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"continuous_on ({a..i} - I) (f(i:=l i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on ({a..i} - I) (f(i := l i))", "apply (cases \"a = i\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. a = i \\<Longrightarrow> continuous_on ({a..i} - I) (f(i := l i))\n 2. a \\<noteq> i \\<Longrightarrow> continuous_on ({a..i} - I) (f(i := l i))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. a = i \\<Longrightarrow> continuous_on ({a..i} - I) (f(i := l i))", "by (auto simp: continuous_on_def Diff_triv)"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> i \\<Longrightarrow> continuous_on ({a..i} - I) (f(i := l i))", "unfolding continuous_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> i \\<Longrightarrow>\n    \\<forall>x\\<in>{a..i} - I.\n       (f(i := l i) \\<longlongrightarrow> (f(i := l i)) x)\n        (at x within {a..i} - I)", "apply safe"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> (f(i := l i) \\<longlongrightarrow> (f(i := l i)) x)\n                          (at x within {a..i} - I)", "subgoal for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i) \\<longlongrightarrow> (f(i := l i)) x)\n                       (at x within {a..i} - I)", "apply (cases \"x = i\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i) \\<longlongrightarrow> (f(i := l i)) x)\n                       (at x within {a..i} - I)\n 2. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i) \\<longlongrightarrow> (f(i := l i)) x)\n                       (at x within {a..i} - I)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i) \\<longlongrightarrow> (f(i := l i)) x)\n                       (at x within {a..i} - I)", "apply (rule tendsto_within_subset_eventuallyI)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (?g \\<longlongrightarrow> ?gy) (at ?y within ?Y)\n 2. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at ?y within ?Y.\n                         (f(i := l i)) x = ?g x\n 3. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> x = ?y\n 4. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i)) x = ?gy\n 5. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> {a..i} - I - {x} \\<subseteq> ?Y", "apply (rule l(2))"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> a < i\n 2. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at_left i.\n                         (f(i := l i)) x = f x\n 3. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> x = i\n 4. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i)) x = l i\n 5. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> {a..i} - I - {x} \\<subseteq> {..<i}", "by (auto simp: eventually_at_filter)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i) \\<longlongrightarrow> (f(i := l i)) x)\n                       (at x within {a..i} - I)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i) \\<longlongrightarrow> (f(i := l i)) x)\n                       (at x within {a..i} - I)", "apply (subst at_within_t1_space_avoid[symmetric], assumption)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i) \\<longlongrightarrow> (f(i := l i)) x)\n                       (at x within {a..i} - I - {i})", "apply (rule tendsto_within_subset_eventuallyI[where y=x])"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (?g1 \\<longlongrightarrow> ?gy1) (at x within ?Y1)\n 2. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at x within ?Y1.\n                         (f(i := l i)) x = ?g1 x\n 3. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x = x\n 4. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i)) x = ?gy1\n 5. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> {a..i} - I - {i} - {x} \\<subseteq> ?Y1", "apply (rule tendsto)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x \\<in> {a..b} - insert i I\n 2. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at x\n                         within {a..b} - insert i I. (f(i := l i)) x = f x\n 3. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x = x\n 4. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i)) x = f x\n 5. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> {a..i} - I - {i} - {x} \\<subseteq> {a..b} - insert i I", "using \\<open>i \\<in> {a .. b}\\<close>"], ["proof (prove)\nusing this:\n  i \\<in> {a..b}\n\ngoal (5 subgoals):\n 1. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x \\<in> {a..b} - insert i I\n 2. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at x\n                         within {a..b} - insert i I. (f(i := l i)) x = f x\n 3. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x = x\n 4. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := l i)) x = f x\n 5. \\<lbrakk>a \\<noteq> i; x \\<in> {a..i}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> {a..i} - I - {i} - {x} \\<subseteq> {a..b} - insert i I", "by (auto simp: eventually_at_filter)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  continuous_on ({a..i} - I) (f(i := l i))\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  continuous_on ({a..i} - I) (f(i := l i))", "have \"piecewise_continuous_on a i I (f(i:=l i))\""], ["proof (prove)\nusing this:\n  continuous_on ({a..i} - I) (f(i := l i))\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a i I (f(i := l i))", "using \\<open>i \\<in> {a .. b}\\<close>"], ["proof (prove)\nusing this:\n  continuous_on ({a..i} - I) (f(i := l i))\n  i \\<in> {a..b}\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a i I (f(i := l i))", "by (auto intro!: piecewise_continuous_onI finite fl fr)"], ["proof (state)\nthis:\n  piecewise_continuous_on a i I (f(i := l i))\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  piecewise_continuous_on a i I (f(i := l i))\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"continuous_on ({i..b} - I) (f(i:=u i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on ({i..b} - I) (f(i := u i))", "apply (cases \"b = i\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. b = i \\<Longrightarrow> continuous_on ({i..b} - I) (f(i := u i))\n 2. b \\<noteq> i \\<Longrightarrow> continuous_on ({i..b} - I) (f(i := u i))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. b = i \\<Longrightarrow> continuous_on ({i..b} - I) (f(i := u i))", "by (auto simp: continuous_on_def Diff_triv)"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<noteq> i \\<Longrightarrow> continuous_on ({i..b} - I) (f(i := u i))", "unfolding continuous_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<noteq> i \\<Longrightarrow>\n    \\<forall>x\\<in>{i..b} - I.\n       (f(i := u i) \\<longlongrightarrow> (f(i := u i)) x)\n        (at x within {i..b} - I)", "apply safe"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> (f(i := u i) \\<longlongrightarrow> (f(i := u i)) x)\n                          (at x within {i..b} - I)", "subgoal for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i) \\<longlongrightarrow> (f(i := u i)) x)\n                       (at x within {i..b} - I)", "apply (cases \"x = i\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i) \\<longlongrightarrow> (f(i := u i)) x)\n                       (at x within {i..b} - I)\n 2. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i) \\<longlongrightarrow> (f(i := u i)) x)\n                       (at x within {i..b} - I)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i) \\<longlongrightarrow> (f(i := u i)) x)\n                       (at x within {i..b} - I)", "apply (rule tendsto_within_subset_eventuallyI)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (?g \\<longlongrightarrow> ?gy) (at ?y within ?Y)\n 2. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at ?y within ?Y.\n                         (f(i := u i)) x = ?g x\n 3. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> x = ?y\n 4. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i)) x = ?gy\n 5. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> {i..b} - I - {x} \\<subseteq> ?Y", "apply (rule u(2))"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> i < b\n 2. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at_right i.\n                         (f(i := u i)) x = f x\n 3. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> x = i\n 4. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i)) x = u i\n 5. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I; x = i\\<rbrakk>\n    \\<Longrightarrow> {i..b} - I - {x} \\<subseteq> {i<..}", "by (auto simp: eventually_at_filter)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i) \\<longlongrightarrow> (f(i := u i)) x)\n                       (at x within {i..b} - I)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i) \\<longlongrightarrow> (f(i := u i)) x)\n                       (at x within {i..b} - I)", "apply (subst at_within_t1_space_avoid[symmetric], assumption)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i) \\<longlongrightarrow> (f(i := u i)) x)\n                       (at x within {i..b} - I - {i})", "apply (rule tendsto_within_subset_eventuallyI[where y=x])"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (?g1 \\<longlongrightarrow> ?gy1) (at x within ?Y1)\n 2. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at x within ?Y1.\n                         (f(i := u i)) x = ?g1 x\n 3. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x = x\n 4. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i)) x = ?gy1\n 5. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> {i..b} - I - {i} - {x} \\<subseteq> ?Y1", "apply (rule tendsto)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x \\<in> {a..b} - insert i I\n 2. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at x\n                         within {a..b} - insert i I. (f(i := u i)) x = f x\n 3. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x = x\n 4. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i)) x = f x\n 5. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> {i..b} - I - {i} - {x} \\<subseteq> {a..b} - insert i I", "using \\<open>i \\<in> {a .. b}\\<close>"], ["proof (prove)\nusing this:\n  i \\<in> {a..b}\n\ngoal (5 subgoals):\n 1. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x \\<in> {a..b} - insert i I\n 2. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F x in at x\n                         within {a..b} - insert i I. (f(i := u i)) x = f x\n 3. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> x = x\n 4. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> (f(i := u i)) x = f x\n 5. \\<lbrakk>b \\<noteq> i; x \\<in> {i..b}; x \\<notin> I;\n     x \\<noteq> i\\<rbrakk>\n    \\<Longrightarrow> {i..b} - I - {i} - {x} \\<subseteq> {a..b} - insert i I", "by (auto simp: eventually_at_filter)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  continuous_on ({i..b} - I) (f(i := u i))\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  continuous_on ({i..b} - I) (f(i := u i))", "have \"piecewise_continuous_on i b I (f(i:=u i))\""], ["proof (prove)\nusing this:\n  continuous_on ({i..b} - I) (f(i := u i))\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on i b I (f(i := u i))", "using \\<open>i \\<in> {a .. b}\\<close>"], ["proof (prove)\nusing this:\n  continuous_on ({i..b} - I) (f(i := u i))\n  i \\<in> {a..b}\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on i b I (f(i := u i))", "by (auto intro!: piecewise_continuous_onI finite fl fr)"], ["proof (state)\nthis:\n  piecewise_continuous_on i b I (f(i := u i))\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  piecewise_continuous_on i b I (f(i := u i))\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(f(i:=l i)) x = f x\" if \"a \\<le> x\" \"x < i\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f(i := l i)) x = f x", "using that"], ["proof (prove)\nusing this:\n  a \\<le> x\n  x < i\n\ngoal (1 subgoal):\n 1. (f(i := l i)) x = f x", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk>\n  \\<Longrightarrow> (f(i := l i)) ?x = f ?x\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk>\n  \\<Longrightarrow> (f(i := l i)) ?x = f ?x\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(f(i:=u i)) x = f x\" if \"i < x\" \"x \\<le> b\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f(i := u i)) x = f x", "using that"], ["proof (prove)\nusing this:\n  i < x\n  x \\<le> b\n\ngoal (1 subgoal):\n 1. (f(i := u i)) x = f x", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f(i := u i)) ?x = f ?x\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a i I (f(i := l i))\n  piecewise_continuous_on i b I (f(i := u i))\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk>\n  \\<Longrightarrow> (f(i := l i)) ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f(i := u i)) ?x = f ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a i I (f(i := l i))\n  piecewise_continuous_on i b I (f(i := u i))\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk>\n  \\<Longrightarrow> (f(i := l i)) ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f(i := u i)) ?x = f ?x\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eventually_avoid_finite:\n  \"\\<forall>\\<^sub>F x in at y within Y. x \\<notin> I\" if \"finite I\" for y::\"'a::t1_space\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at y within Y. x \\<notin> I", "using that"], ["proof (prove)\nusing this:\n  finite I\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at y within Y. x \\<notin> I", "proof (induction)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F x in at y within Y. x \\<notin> {}\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y.\n                            xa \\<notin> insert x F", "case empty"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F x in at y within Y. x \\<notin> {}\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y.\n                            xa \\<notin> insert x F", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at y within Y. x \\<notin> {}", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at y within Y. x \\<notin> {}\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y.\n                            xa \\<notin> insert x F", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y.\n                            xa \\<notin> insert x F", "case (insert x F)"], ["proof (state)\nthis:\n  finite F\n  x \\<notin> F\n  \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y.\n                            xa \\<notin> insert x F", "then"], ["proof (chain)\npicking this:\n  finite F\n  x \\<notin> F\n  \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F", "show ?case"], ["proof (prove)\nusing this:\n  finite F\n  x \\<notin> F\n  \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in at y within Y. xa \\<notin> insert x F", "apply (auto intro!: eventually_conj)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite F; x \\<notin> F;\n     \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y. xa \\<noteq> x", "apply (cases \"y = x\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>finite F; x \\<notin> F;\n     \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F; y = x\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y. xa \\<noteq> x\n 2. \\<lbrakk>finite F; x \\<notin> F;\n     \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F;\n     y \\<noteq> x\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y. xa \\<noteq> x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite F; x \\<notin> F;\n     \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F; y = x\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y. xa \\<noteq> x", "by (simp add: eventually_at_filter)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite F; x \\<notin> F;\n     \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F;\n     y \\<noteq> x\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y. xa \\<noteq> x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite F; x \\<notin> F;\n     \\<forall>\\<^sub>F x in at y within Y. x \\<notin> F;\n     y \\<noteq> x\\<rbrakk>\n    \\<Longrightarrow> \\<forall>\\<^sub>F xa in at y within Y. xa \\<noteq> x", "by (rule tendsto_imp_eventually_ne) (rule tendsto_ident_at)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F xa in at y within Y. xa \\<notin> insert x F\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eventually_at_left_linorder:\\<comment> \\<open>TODO: generalize @{thm eventually_at_left_real}\\<close>\n  \"a > (b :: 'a :: linorder_topology) \\<Longrightarrow> eventually (\\<lambda>x. x \\<in> {b<..<a}) (at_left a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b < a \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in at_left a. x \\<in> {b<..<a}", "unfolding eventually_at_left"], ["proof (prove)\ngoal (1 subgoal):\n 1. b < a \\<Longrightarrow>\n    \\<exists>ba<a. \\<forall>y>ba. y < a \\<longrightarrow> y \\<in> {b<..<a}", "by auto"], ["", "lemma eventually_at_right_linorder:\\<comment> \\<open>TODO: generalize @{thm eventually_at_right_real}\\<close>\n  \"a > (b :: 'a :: linorder_topology) \\<Longrightarrow> eventually (\\<lambda>x. x \\<in> {b<..<a}) (at_right b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b < a \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in at_right b. x \\<in> {b<..<a}", "unfolding eventually_at_right"], ["proof (prove)\ngoal (1 subgoal):\n 1. b < a \\<Longrightarrow>\n    \\<exists>ba>b. \\<forall>y>b. y < ba \\<longrightarrow> y \\<in> {b<..<a}", "by auto"], ["", "lemma piecewise_continuous_on_congI:\n  \"piecewise_continuous_on a b I g\"\n  if \"piecewise_continuous_on a b I f\"\n    and eq: \"\\<And>x. x \\<in> {a .. b} - I \\<Longrightarrow> g x = f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "from piecewise_continuous_onE[OF that(1)]"], ["proof (chain)\npicking this:\n  (\\<And>l u.\n      \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                             (at_right i)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain l u where finite: \"finite I\"\n    and *:\n    \"continuous_on ({a..b} - I) f\"\n    \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\"\n    \"\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i)\""], ["proof (prove)\nusing this:\n  (\\<And>l u.\n      \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                             (at_right i)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                               (at_right i)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  finite I\n  continuous_on ({a..b} - I) f\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "note finite"], ["proof (state)\nthis:\n  finite I\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "moreover"], ["proof (state)\nthis:\n  finite I\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "from *"], ["proof (chain)\npicking this:\n  continuous_on ({a..b} - I) f\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)", "have \"continuous_on ({a..b} - I) g\""], ["proof (prove)\nusing this:\n  continuous_on ({a..b} - I) f\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)\n\ngoal (1 subgoal):\n 1. continuous_on ({a..b} - I) g", "using that(2)"], ["proof (prove)\nusing this:\n  continuous_on ({a..b} - I) f\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)\n  ?x \\<in> {a..b} - I \\<Longrightarrow> g ?x = f ?x\n\ngoal (1 subgoal):\n 1. continuous_on ({a..b} - I) g", "by (auto simp: eq cong: continuous_on_cong) (subst continuous_on_cong[OF refl eq]; assumption)"], ["proof (state)\nthis:\n  continuous_on ({a..b} - I) g\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "moreover"], ["proof (state)\nthis:\n  continuous_on ({a..b} - I) g\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "have \"\\<forall>\\<^sub>F x in at_left i. f x = g x\" if \"a < i\" \"i \\<le> b\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_left i. f x = g x", "using eventually_avoid_finite[OF \\<open>finite I\\<close>, of i \"{..<i}\"]\n      eventually_at_left_linorder[OF \\<open>a < i\\<close>]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_left i. x \\<notin> I\n  \\<forall>\\<^sub>F x in at_left i. x \\<in> {a<..<i}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_left i. f x = g x", "by eventually_elim (subst eq, use that in auto)"], ["proof (state)\nthis:\n  \\<lbrakk>a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in at_left ?i. f x = g x\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in at_left ?i. f x = g x", "have \"i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (g \\<longlongrightarrow> l i) (at_left i)\" for i"], ["proof (prove)\nusing this:\n  \\<lbrakk>a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in at_left ?i. f x = g x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n    \\<Longrightarrow> (g \\<longlongrightarrow> l i) (at_left i)", "using *(2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in at_left ?i. f x = g x\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n    \\<Longrightarrow> (g \\<longlongrightarrow> l i) (at_left i)", "by (rule Lim_transform_eventually[rotated]) auto"], ["proof (state)\nthis:\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (g \\<longlongrightarrow> l ?i) (at_left ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (g \\<longlongrightarrow> l ?i) (at_left ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "have \"\\<forall>\\<^sub>F x in at_right i. f x = g x\" if \"a \\<le> i\" \"i < b\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_right i. f x = g x", "using eventually_avoid_finite[OF \\<open>finite I\\<close>, of i \"{i<..}\"]\n      eventually_at_right_linorder[OF \\<open>i < b\\<close>]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_right i. x \\<notin> I\n  \\<forall>\\<^sub>F x in at_right i. x \\<in> {i<..<b}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_right i. f x = g x", "by eventually_elim (subst eq, use that in auto)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in at_right ?i. f x = g x\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in at_right ?i. f x = g x", "have \"i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (g \\<longlongrightarrow> u i) (at_right i)\" for i"], ["proof (prove)\nusing this:\n  \\<lbrakk>a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in at_right ?i. f x = g x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n    \\<Longrightarrow> (g \\<longlongrightarrow> u i) (at_right i)", "using *(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in at_right ?i. f x = g x\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n    \\<Longrightarrow> (g \\<longlongrightarrow> u i) (at_right i)", "by (rule Lim_transform_eventually[rotated]) auto"], ["proof (state)\nthis:\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (g \\<longlongrightarrow> u ?i) (at_right ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "ultimately"], ["proof (chain)\npicking this:\n  finite I\n  continuous_on ({a..b} - I) g\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (g \\<longlongrightarrow> l ?i) (at_left ?i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (g \\<longlongrightarrow> u ?i) (at_right ?i)", "show ?thesis"], ["proof (prove)\nusing this:\n  finite I\n  continuous_on ({a..b} - I) g\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (g \\<longlongrightarrow> l ?i) (at_left ?i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (g \\<longlongrightarrow> u ?i) (at_right ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I g", "by (rule piecewise_continuous_onI) auto"], ["proof (state)\nthis:\n  piecewise_continuous_on a b I g\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma piecewise_continuous_on_cong[cong]:\n  \"piecewise_continuous_on a b I f \\<longleftrightarrow> piecewise_continuous_on c d J g\"\n  if \"a = c\"\n    \"b = d\"\n    \"I = J\"\n    \"\\<And>x. c \\<le> x \\<Longrightarrow> x \\<le> d \\<Longrightarrow> x \\<notin> J \\<Longrightarrow> f x = g x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I f = piecewise_continuous_on c d J g", "using that"], ["proof (prove)\nusing this:\n  a = c\n  b = d\n  I = J\n  \\<lbrakk>c \\<le> ?x; ?x \\<le> d; ?x \\<notin> J\\<rbrakk>\n  \\<Longrightarrow> f ?x = g ?x\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I f = piecewise_continuous_on c d J g", "by (auto intro: piecewise_continuous_on_congI)"], ["", "lemma tendsto_at_left_continuous_on_avoidI: \"(f \\<longlongrightarrow> g i) (at_left i)\"\n  if g: \"continuous_on ({a..i} - I) g\"\n    and gf: \"\\<And>x. a < x \\<Longrightarrow> x < i \\<Longrightarrow> g x = f x\"\n    \"i \\<notin> I\" \"finite I\" \"a < i\"\n  for i::\"'a::linorder_topology\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> g i) (at_left i)", "proof (rule Lim_transform_eventually)"], ["proof (state)\ngoal (2 subgoals):\n 1. (?f \\<longlongrightarrow> g i) (at_left i)\n 2. \\<forall>\\<^sub>F x in at_left i. ?f x = f x", "from that"], ["proof (chain)\npicking this:\n  continuous_on ({a..i} - I) g\n  \\<lbrakk>a < ?x; ?x < i\\<rbrakk> \\<Longrightarrow> g ?x = f ?x\n  i \\<notin> I\n  finite I\n  a < i", "have \"i \\<in> {a .. i}\""], ["proof (prove)\nusing this:\n  continuous_on ({a..i} - I) g\n  \\<lbrakk>a < ?x; ?x < i\\<rbrakk> \\<Longrightarrow> g ?x = f ?x\n  i \\<notin> I\n  finite I\n  a < i\n\ngoal (1 subgoal):\n 1. i \\<in> {a..i}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {a..i}\n\ngoal (2 subgoals):\n 1. (?f \\<longlongrightarrow> g i) (at_left i)\n 2. \\<forall>\\<^sub>F x in at_left i. ?f x = f x", "from g"], ["proof (chain)\npicking this:\n  continuous_on ({a..i} - I) g", "have \"(g \\<longlongrightarrow> g i) (at i within {a..i} - I)\""], ["proof (prove)\nusing this:\n  continuous_on ({a..i} - I) g\n\ngoal (1 subgoal):\n 1. (g \\<longlongrightarrow> g i) (at i within {a..i} - I)", "using \\<open>i \\<notin> I\\<close> \\<open>i \\<in> {a .. i}\\<close>"], ["proof (prove)\nusing this:\n  continuous_on ({a..i} - I) g\n  i \\<notin> I\n  i \\<in> {a..i}\n\ngoal (1 subgoal):\n 1. (g \\<longlongrightarrow> g i) (at i within {a..i} - I)", "by (auto elim!: piecewise_continuous_onE simp: continuous_on_def)"], ["proof (state)\nthis:\n  (g \\<longlongrightarrow> g i) (at i within {a..i} - I)\n\ngoal (2 subgoals):\n 1. (?f \\<longlongrightarrow> g i) (at_left i)\n 2. \\<forall>\\<^sub>F x in at_left i. ?f x = f x", "then"], ["proof (chain)\npicking this:\n  (g \\<longlongrightarrow> g i) (at i within {a..i} - I)", "show \"(g \\<longlongrightarrow> g i) (at_left i)\""], ["proof (prove)\nusing this:\n  (g \\<longlongrightarrow> g i) (at i within {a..i} - I)\n\ngoal (1 subgoal):\n 1. (g \\<longlongrightarrow> g i) (at_left i)", "by (metis that at_within_Icc_at_left at_within_t1_space_avoid_finite\n        greaterThanLessThan_iff)"], ["proof (state)\nthis:\n  (g \\<longlongrightarrow> g i) (at_left i)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_left i. g x = f x", "show \"\\<forall>\\<^sub>F x in at_left i. g x = f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_left i. g x = f x", "using eventually_at_left_linorder[OF \\<open>a < i\\<close>]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_left i. x \\<in> {a<..<i}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_left i. g x = f x", "by eventually_elim (auto simp: \\<open>a < i\\<close> gf)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at_left i. g x = f x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tendsto_at_right_continuous_on_avoidI: \"(f \\<longlongrightarrow> g i) (at_right i)\"\n  if g: \"continuous_on ({i..b} - I) g\"\n    and gf: \"\\<And>x. i < x \\<Longrightarrow> x < b \\<Longrightarrow> g x = f x\"\n    \"i \\<notin> I\" \"finite I\" \"i < b\"\n  for i::\"'a::linorder_topology\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> g i) (at_right i)", "proof (rule Lim_transform_eventually)"], ["proof (state)\ngoal (2 subgoals):\n 1. (?f \\<longlongrightarrow> g i) (at_right i)\n 2. \\<forall>\\<^sub>F x in at_right i. ?f x = f x", "from that"], ["proof (chain)\npicking this:\n  continuous_on ({i..b} - I) g\n  \\<lbrakk>i < ?x; ?x < b\\<rbrakk> \\<Longrightarrow> g ?x = f ?x\n  i \\<notin> I\n  finite I\n  i < b", "have \"i \\<in> {i .. b}\""], ["proof (prove)\nusing this:\n  continuous_on ({i..b} - I) g\n  \\<lbrakk>i < ?x; ?x < b\\<rbrakk> \\<Longrightarrow> g ?x = f ?x\n  i \\<notin> I\n  finite I\n  i < b\n\ngoal (1 subgoal):\n 1. i \\<in> {i..b}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {i..b}\n\ngoal (2 subgoals):\n 1. (?f \\<longlongrightarrow> g i) (at_right i)\n 2. \\<forall>\\<^sub>F x in at_right i. ?f x = f x", "from g"], ["proof (chain)\npicking this:\n  continuous_on ({i..b} - I) g", "have \"(g \\<longlongrightarrow> g i) (at i within {i..b} - I)\""], ["proof (prove)\nusing this:\n  continuous_on ({i..b} - I) g\n\ngoal (1 subgoal):\n 1. (g \\<longlongrightarrow> g i) (at i within {i..b} - I)", "using \\<open>i \\<notin> I\\<close> \\<open>i \\<in> {i .. b}\\<close>"], ["proof (prove)\nusing this:\n  continuous_on ({i..b} - I) g\n  i \\<notin> I\n  i \\<in> {i..b}\n\ngoal (1 subgoal):\n 1. (g \\<longlongrightarrow> g i) (at i within {i..b} - I)", "by (auto elim!: piecewise_continuous_onE simp: continuous_on_def)"], ["proof (state)\nthis:\n  (g \\<longlongrightarrow> g i) (at i within {i..b} - I)\n\ngoal (2 subgoals):\n 1. (?f \\<longlongrightarrow> g i) (at_right i)\n 2. \\<forall>\\<^sub>F x in at_right i. ?f x = f x", "then"], ["proof (chain)\npicking this:\n  (g \\<longlongrightarrow> g i) (at i within {i..b} - I)", "show \"(g \\<longlongrightarrow> g i) (at_right i)\""], ["proof (prove)\nusing this:\n  (g \\<longlongrightarrow> g i) (at i within {i..b} - I)\n\ngoal (1 subgoal):\n 1. (g \\<longlongrightarrow> g i) (at_right i)", "by (metis that at_within_Icc_at_right at_within_t1_space_avoid_finite\n        greaterThanLessThan_iff)"], ["proof (state)\nthis:\n  (g \\<longlongrightarrow> g i) (at_right i)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_right i. g x = f x", "show \"\\<forall>\\<^sub>F x in at_right i. g x = f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_right i. g x = f x", "using eventually_at_right_linorder[OF \\<open>i < b\\<close>]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_right i. x \\<in> {i<..<b}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_right i. g x = f x", "by eventually_elim (auto simp: \\<open>i < b\\<close> gf)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at_right i. g x = f x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma piecewise_continuous_on_insert_leftI:\n  \"piecewise_continuous_on a b (insert a I) f\" if \"piecewise_continuous_on a b I f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b (insert a I) f", "apply (cases \"a \\<in> I\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. a \\<in> I \\<Longrightarrow> piecewise_continuous_on a b (insert a I) f\n 2. a \\<notin> I \\<Longrightarrow>\n    piecewise_continuous_on a b (insert a I) f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> I \\<Longrightarrow> piecewise_continuous_on a b (insert a I) f", "using that"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. a \\<in> I \\<Longrightarrow> piecewise_continuous_on a b (insert a I) f", "by (auto dest: insert_absorb)"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> I \\<Longrightarrow>\n    piecewise_continuous_on a b (insert a I) f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> I \\<Longrightarrow>\n    piecewise_continuous_on a b (insert a I) f", "using that"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. a \\<notin> I \\<Longrightarrow>\n    piecewise_continuous_on a b (insert a I) f", "apply (rule piecewise_continuous_onE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>l u.\n       \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                              (at_right i)\\<rbrakk>\n       \\<Longrightarrow> piecewise_continuous_on a b (insert a I) f", "subgoal for l u"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                           (at_right i)\\<rbrakk>\n    \\<Longrightarrow> piecewise_continuous_on a b (insert a I) f", "apply (rule piecewise_continuous_onI[where u=\"u(a:=f a)\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                           (at_right i)\\<rbrakk>\n    \\<Longrightarrow> finite (insert a I)\n 2. \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                           (at_right i)\\<rbrakk>\n    \\<Longrightarrow> continuous_on ({a..b} - insert a I) f\n 3. \\<And>i.\n       \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n        i \\<in> insert a I; a < i; i \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> ?l i) (at_left i)\n 4. \\<And>i.\n       \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n        i \\<in> insert a I; a \\<le> i; i < b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> (u(a := f a)) i)\n                          (at_right i)", "apply (auto intro: continuous_on_subset )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     a < b\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f a) (at_right a)", "apply (rule tendsto_at_right_continuous_on_avoidI, assumption)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n        a < b; a < x; x < b\\<rbrakk>\n       \\<Longrightarrow> f x = f x\n 2. \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     a < b\\<rbrakk>\n    \\<Longrightarrow> a \\<notin> I\n 3. \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     a < b\\<rbrakk>\n    \\<Longrightarrow> finite I\n 4. \\<lbrakk>a \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     a < b\\<rbrakk>\n    \\<Longrightarrow> a < b", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma piecewise_continuous_on_insert_rightI:\n  \"piecewise_continuous_on a b (insert b I) f\" if \"piecewise_continuous_on a b I f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b (insert b I) f", "apply (cases \"b \\<in> I\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. b \\<in> I \\<Longrightarrow> piecewise_continuous_on a b (insert b I) f\n 2. b \\<notin> I \\<Longrightarrow>\n    piecewise_continuous_on a b (insert b I) f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<in> I \\<Longrightarrow> piecewise_continuous_on a b (insert b I) f", "using that"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. b \\<in> I \\<Longrightarrow> piecewise_continuous_on a b (insert b I) f", "by (auto dest: insert_absorb)"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> I \\<Longrightarrow>\n    piecewise_continuous_on a b (insert b I) f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> I \\<Longrightarrow>\n    piecewise_continuous_on a b (insert b I) f", "using that"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. b \\<notin> I \\<Longrightarrow>\n    piecewise_continuous_on a b (insert b I) f", "apply (rule piecewise_continuous_onE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>l u.\n       \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                              (at_right i)\\<rbrakk>\n       \\<Longrightarrow> piecewise_continuous_on a b (insert b I) f", "subgoal for l u"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                           (at_right i)\\<rbrakk>\n    \\<Longrightarrow> piecewise_continuous_on a b (insert b I) f", "apply (rule piecewise_continuous_onI[where l=\"l(b:=f b)\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                           (at_right i)\\<rbrakk>\n    \\<Longrightarrow> finite (insert b I)\n 2. \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                           (at_right i)\\<rbrakk>\n    \\<Longrightarrow> continuous_on ({a..b} - insert b I) f\n 3. \\<And>i.\n       \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n        i \\<in> insert b I; a < i; i \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> (l(b := f b)) i)\n                          (at_left i)\n 4. \\<And>i.\n       \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n        i \\<in> insert b I; a \\<le> i; i < b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> ?u i) (at_right i)", "apply (auto intro: continuous_on_subset )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     a < b\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f b) (at_left b)", "apply (rule tendsto_at_left_continuous_on_avoidI, assumption)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n        \\<And>i.\n           \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n           \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n        a < b; a < x; x < b\\<rbrakk>\n       \\<Longrightarrow> f x = f x\n 2. \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     a < b\\<rbrakk>\n    \\<Longrightarrow> b \\<notin> I\n 3. \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     a < b\\<rbrakk>\n    \\<Longrightarrow> finite I\n 4. \\<lbrakk>b \\<notin> I; finite I; continuous_on ({a..b} - I) f;\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n     \\<And>i.\n        \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n        \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     a < b\\<rbrakk>\n    \\<Longrightarrow> a < b", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "theorem piecewise_continuous_on_induct[consumes 1, case_names empty combine weaken]:\n  assumes pc: \"piecewise_continuous_on a b I f\"\n  assumes 1: \"\\<And>a b f. continuous_on {a .. b} f \\<Longrightarrow> P a b {} f\"\n  assumes 2: \"\\<And>a i b I f1 f2 f. a \\<le> i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> i \\<notin> I \\<Longrightarrow> P a i I f1 \\<Longrightarrow> P i b I f2 \\<Longrightarrow>\n    piecewise_continuous_on a i I f1 \\<Longrightarrow>\n    piecewise_continuous_on i b I f2 \\<Longrightarrow>\n    (\\<And>x. a \\<le> x \\<Longrightarrow> x < i \\<Longrightarrow> f1 x = f x) \\<Longrightarrow>\n    (\\<And>x. i < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> f2 x = f x) \\<Longrightarrow>\n    (i > a \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)) \\<Longrightarrow>\n    (i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)) \\<Longrightarrow>\n    P a b (insert i I) f\"\n  assumes 3: \"\\<And>a b i I f. P a b I f \\<Longrightarrow> finite I \\<Longrightarrow> i \\<notin> I \\<Longrightarrow> P a b (insert i I) f\"\n  shows \"P a b I f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P a b I f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P a b I f", "from pc"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a b I f", "have \"finite I\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. finite I", "by (auto simp: piecewise_continuous_on_def)"], ["proof (state)\nthis:\n  finite I\n\ngoal (1 subgoal):\n 1. P a b I f", "then"], ["proof (chain)\npicking this:\n  finite I", "show ?thesis"], ["proof (prove)\nusing this:\n  finite I\n\ngoal (1 subgoal):\n 1. P a b I f", "using pc"], ["proof (prove)\nusing this:\n  finite I\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. P a b I f", "proof (induction I arbitrary: a b f)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b f.\n       piecewise_continuous_on a b {} f \\<Longrightarrow> P a b {} f\n 2. \\<And>x F a b f.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<And>a b f.\n           piecewise_continuous_on a b F f \\<Longrightarrow> P a b F f;\n        piecewise_continuous_on a b (insert x F) f\\<rbrakk>\n       \\<Longrightarrow> P a b (insert x F) f", "case empty"], ["proof (state)\nthis:\n  piecewise_continuous_on a b {} f\n\ngoal (2 subgoals):\n 1. \\<And>a b f.\n       piecewise_continuous_on a b {} f \\<Longrightarrow> P a b {} f\n 2. \\<And>x F a b f.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<And>a b f.\n           piecewise_continuous_on a b F f \\<Longrightarrow> P a b F f;\n        piecewise_continuous_on a b (insert x F) f\\<rbrakk>\n       \\<Longrightarrow> P a b (insert x F) f", "then"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a b {} f", "show ?case"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b {} f\n\ngoal (1 subgoal):\n 1. P a b {} f", "by (auto simp: piecewise_continuous_on_def 1)"], ["proof (state)\nthis:\n  P a b {} f\n\ngoal (1 subgoal):\n 1. \\<And>x F a b f.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<And>a b f.\n           piecewise_continuous_on a b F f \\<Longrightarrow> P a b F f;\n        piecewise_continuous_on a b (insert x F) f\\<rbrakk>\n       \\<Longrightarrow> P a b (insert x F) f", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x F a b f.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<And>a b f.\n           piecewise_continuous_on a b F f \\<Longrightarrow> P a b F f;\n        piecewise_continuous_on a b (insert x F) f\\<rbrakk>\n       \\<Longrightarrow> P a b (insert x F) f", "case (insert i I)"], ["proof (state)\nthis:\n  finite I\n  i \\<notin> I\n  piecewise_continuous_on ?a ?b I ?f \\<Longrightarrow> P ?a ?b I ?f\n  piecewise_continuous_on a b (insert i I) f\n\ngoal (1 subgoal):\n 1. \\<And>x F a b f.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<And>a b f.\n           piecewise_continuous_on a b F f \\<Longrightarrow> P a b F f;\n        piecewise_continuous_on a b (insert x F) f\\<rbrakk>\n       \\<Longrightarrow> P a b (insert x F) f", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. P a b (insert i I) f", "proof (cases \"i \\<in> {a .. b}\")"], ["proof (state)\ngoal (2 subgoals):\n 1. i \\<in> {a..b} \\<Longrightarrow> P a b (insert i I) f\n 2. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "case True"], ["proof (state)\nthis:\n  i \\<in> {a..b}\n\ngoal (2 subgoals):\n 1. i \\<in> {a..b} \\<Longrightarrow> P a b (insert i I) f\n 2. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "from insert.prems[THEN piecewise_continuous_on_insertE, OF \\<open>i \\<in> {a .. b}\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>g h.\n      \\<lbrakk>piecewise_continuous_on a i I g;\n       piecewise_continuous_on i b I h;\n       \\<And>x.\n          \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n       \\<And>x.\n          \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n          \\<Longrightarrow> h x = f x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain g h\n        where g: \"piecewise_continuous_on a i I g\"\n          and h: \"piecewise_continuous_on i b I h\"\n          and gf: \"\\<And>x. a \\<le> x \\<Longrightarrow> x < i \\<Longrightarrow> g x = f x\"\n          and hf: \"\\<And>x. i < x \\<Longrightarrow> x \\<le> b \\<Longrightarrow> h x = f x\""], ["proof (prove)\nusing this:\n  (\\<And>g h.\n      \\<lbrakk>piecewise_continuous_on a i I g;\n       piecewise_continuous_on i b I h;\n       \\<And>x.\n          \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n       \\<And>x.\n          \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n          \\<Longrightarrow> h x = f x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>g h.\n        \\<lbrakk>piecewise_continuous_on a i I g;\n         piecewise_continuous_on i b I h;\n         \\<And>x.\n            \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x;\n         \\<And>x.\n            \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n            \\<Longrightarrow> h x = f x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  piecewise_continuous_on a i I g\n  piecewise_continuous_on i b I h\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> g ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> h ?x = f ?x\n\ngoal (2 subgoals):\n 1. i \\<in> {a..b} \\<Longrightarrow> P a b (insert i I) f\n 2. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "from g"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a i I g", "have pcg: \"piecewise_continuous_on a i I (f(i:=g i))\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on a i I g\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a i I (f(i := g i))", "by (rule piecewise_continuous_on_congI) (auto simp: gf)"], ["proof (state)\nthis:\n  piecewise_continuous_on a i I (f(i := g i))\n\ngoal (2 subgoals):\n 1. i \\<in> {a..b} \\<Longrightarrow> P a b (insert i I) f\n 2. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "from h"], ["proof (chain)\npicking this:\n  piecewise_continuous_on i b I h", "have pch: \"piecewise_continuous_on i b I (f(i:=h i))\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on i b I h\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on i b I (f(i := h i))", "by (rule piecewise_continuous_on_congI) (auto simp: hf)"], ["proof (state)\nthis:\n  piecewise_continuous_on i b I (f(i := h i))\n\ngoal (2 subgoals):\n 1. i \\<in> {a..b} \\<Longrightarrow> P a b (insert i I) f\n 2. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "have fg: \"(f \\<longlongrightarrow> g i) (at_left i)\" if \"a < i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> g i) (at_left i)", "apply (rule tendsto_at_left_continuous_on_avoidI[where a=a and I=I])"], ["proof (prove)\ngoal (5 subgoals):\n 1. continuous_on ({a..i} - I) g\n 2. \\<And>x. \\<lbrakk>a < x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x\n 3. i \\<notin> I\n 4. finite I\n 5. a < i", "using g \\<open>i \\<notin> I\\<close> \\<open>a < i\\<close>"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a i I g\n  i \\<notin> I\n  a < i\n\ngoal (5 subgoals):\n 1. continuous_on ({a..i} - I) g\n 2. \\<And>x. \\<lbrakk>a < x; x < i\\<rbrakk> \\<Longrightarrow> g x = f x\n 3. i \\<notin> I\n 4. finite I\n 5. a < i", "by (auto elim!: piecewise_continuous_onE simp: gf)"], ["proof (state)\nthis:\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> g i) (at_left i)\n\ngoal (2 subgoals):\n 1. i \\<in> {a..b} \\<Longrightarrow> P a b (insert i I) f\n 2. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "have fh: \"(f \\<longlongrightarrow> h i) (at_right i)\" if \"i < b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> h i) (at_right i)", "apply (rule tendsto_at_right_continuous_on_avoidI[where b=b and I=I])"], ["proof (prove)\ngoal (5 subgoals):\n 1. continuous_on ({i..b} - I) h\n 2. \\<And>x. \\<lbrakk>i < x; x < b\\<rbrakk> \\<Longrightarrow> h x = f x\n 3. i \\<notin> I\n 4. finite I\n 5. i < b", "using h \\<open>i \\<notin> I\\<close> \\<open>i < b\\<close>"], ["proof (prove)\nusing this:\n  piecewise_continuous_on i b I h\n  i \\<notin> I\n  i < b\n\ngoal (5 subgoals):\n 1. continuous_on ({i..b} - I) h\n 2. \\<And>x. \\<lbrakk>i < x; x < b\\<rbrakk> \\<Longrightarrow> h x = f x\n 3. i \\<notin> I\n 4. finite I\n 5. i < b", "by (auto elim!: piecewise_continuous_onE simp: hf)"], ["proof (state)\nthis:\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> h i) (at_right i)\n\ngoal (2 subgoals):\n 1. i \\<in> {a..b} \\<Longrightarrow> P a b (insert i I) f\n 2. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. P a b (insert i I) f", "apply (rule 2)"], ["proof (prove)\ngoal (11 subgoals):\n 1. a \\<le> i\n 2. i \\<le> b\n 3. i \\<notin> I\n 4. P a i I ?f1.0\n 5. P i b I ?f2.0\n 6. piecewise_continuous_on a i I ?f1.0\n 7. piecewise_continuous_on i b I ?f2.0\n 8. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> ?f1.0 x = f x\n 9. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> ?f2.0 x = f x\n 10. a < i \\<Longrightarrow> (f \\<longlongrightarrow> ?f1.0 i) (at_left i)\nA total of 11 subgoals...", "using True"], ["proof (prove)\nusing this:\n  i \\<in> {a..b}\n\ngoal (11 subgoals):\n 1. a \\<le> i\n 2. i \\<le> b\n 3. i \\<notin> I\n 4. P a i I ?f1.0\n 5. P i b I ?f2.0\n 6. piecewise_continuous_on a i I ?f1.0\n 7. piecewise_continuous_on i b I ?f2.0\n 8. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> ?f1.0 x = f x\n 9. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> ?f2.0 x = f x\n 10. a < i \\<Longrightarrow> (f \\<longlongrightarrow> ?f1.0 i) (at_left i)\nA total of 11 subgoals...", "apply force"], ["proof (prove)\ngoal (10 subgoals):\n 1. i \\<le> b\n 2. i \\<notin> I\n 3. P a i I ?f1.0\n 4. P i b I ?f2.0\n 5. piecewise_continuous_on a i I ?f1.0\n 6. piecewise_continuous_on i b I ?f2.0\n 7. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> ?f1.0 x = f x\n 8. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> ?f2.0 x = f x\n 9. a < i \\<Longrightarrow> (f \\<longlongrightarrow> ?f1.0 i) (at_left i)\n 10. i < b \\<Longrightarrow> (f \\<longlongrightarrow> ?f2.0 i) (at_right i)", "using True"], ["proof (prove)\nusing this:\n  i \\<in> {a..b}\n\ngoal (10 subgoals):\n 1. i \\<le> b\n 2. i \\<notin> I\n 3. P a i I ?f1.0\n 4. P i b I ?f2.0\n 5. piecewise_continuous_on a i I ?f1.0\n 6. piecewise_continuous_on i b I ?f2.0\n 7. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> ?f1.0 x = f x\n 8. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> ?f2.0 x = f x\n 9. a < i \\<Longrightarrow> (f \\<longlongrightarrow> ?f1.0 i) (at_left i)\n 10. i < b \\<Longrightarrow> (f \\<longlongrightarrow> ?f2.0 i) (at_right i)", "apply force"], ["proof (prove)\ngoal (9 subgoals):\n 1. i \\<notin> I\n 2. P a i I ?f1.0\n 3. P i b I ?f2.0\n 4. piecewise_continuous_on a i I ?f1.0\n 5. piecewise_continuous_on i b I ?f2.0\n 6. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> ?f1.0 x = f x\n 7. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> ?f2.0 x = f x\n 8. a < i \\<Longrightarrow> (f \\<longlongrightarrow> ?f1.0 i) (at_left i)\n 9. i < b \\<Longrightarrow> (f \\<longlongrightarrow> ?f2.0 i) (at_right i)", "apply (rule insert)"], ["proof (prove)\ngoal (8 subgoals):\n 1. P a i I ?f1.0\n 2. P i b I ?f2.0\n 3. piecewise_continuous_on a i I ?f1.0\n 4. piecewise_continuous_on i b I ?f2.0\n 5. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> ?f1.0 x = f x\n 6. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> ?f2.0 x = f x\n 7. a < i \\<Longrightarrow> (f \\<longlongrightarrow> ?f1.0 i) (at_left i)\n 8. i < b \\<Longrightarrow> (f \\<longlongrightarrow> ?f2.0 i) (at_right i)", "apply (rule insert.IH, rule pcg)"], ["proof (prove)\ngoal (7 subgoals):\n 1. P i b I ?f2.0\n 2. piecewise_continuous_on a i I (f(i := g i))\n 3. piecewise_continuous_on i b I ?f2.0\n 4. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk>\n       \\<Longrightarrow> (f(i := g i)) x = f x\n 5. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> ?f2.0 x = f x\n 6. a < i \\<Longrightarrow>\n    (f \\<longlongrightarrow> (f(i := g i)) i) (at_left i)\n 7. i < b \\<Longrightarrow> (f \\<longlongrightarrow> ?f2.0 i) (at_right i)", "apply (rule insert.IH, rule pch)"], ["proof (prove)\ngoal (6 subgoals):\n 1. piecewise_continuous_on a i I (f(i := g i))\n 2. piecewise_continuous_on i b I (f(i := h i))\n 3. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk>\n       \\<Longrightarrow> (f(i := g i)) x = f x\n 4. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f(i := h i)) x = f x\n 5. a < i \\<Longrightarrow>\n    (f \\<longlongrightarrow> (f(i := g i)) i) (at_left i)\n 6. i < b \\<Longrightarrow>\n    (f \\<longlongrightarrow> (f(i := h i)) i) (at_right i)", "apply fact"], ["proof (prove)\ngoal (5 subgoals):\n 1. piecewise_continuous_on i b I (f(i := h i))\n 2. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk>\n       \\<Longrightarrow> (f(i := g i)) x = f x\n 3. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f(i := h i)) x = f x\n 4. a < i \\<Longrightarrow>\n    (f \\<longlongrightarrow> (f(i := g i)) i) (at_left i)\n 5. i < b \\<Longrightarrow>\n    (f \\<longlongrightarrow> (f(i := h i)) i) (at_right i)", "apply fact"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk>\n       \\<Longrightarrow> (f(i := g i)) x = f x\n 2. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f(i := h i)) x = f x\n 3. a < i \\<Longrightarrow>\n    (f \\<longlongrightarrow> (f(i := g i)) i) (at_left i)\n 4. i < b \\<Longrightarrow>\n    (f \\<longlongrightarrow> (f(i := h i)) i) (at_right i)", "using 3"], ["proof (prove)\nusing this:\n  \\<lbrakk>P ?a ?b ?I ?f; finite ?I; ?i \\<notin> ?I\\<rbrakk>\n  \\<Longrightarrow> P ?a ?b (insert ?i ?I) ?f\n\ngoal (4 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>a \\<le> x; x < i\\<rbrakk>\n       \\<Longrightarrow> (f(i := g i)) x = f x\n 2. \\<And>x.\n       \\<lbrakk>i < x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f(i := h i)) x = f x\n 3. a < i \\<Longrightarrow>\n    (f \\<longlongrightarrow> (f(i := g i)) i) (at_left i)\n 4. i < b \\<Longrightarrow>\n    (f \\<longlongrightarrow> (f(i := h i)) i) (at_right i)", "by (auto simp: fg fh)"], ["proof (state)\nthis:\n  P a b (insert i I) f\n\ngoal (1 subgoal):\n 1. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "case False"], ["proof (state)\nthis:\n  i \\<notin> {a..b}\n\ngoal (1 subgoal):\n 1. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "with insert.prems"], ["proof (chain)\npicking this:\n  piecewise_continuous_on a b (insert i I) f\n  i \\<notin> {a..b}", "have \"piecewise_continuous_on a b I f\""], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b (insert i I) f\n  i \\<notin> {a..b}\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I f", "by (auto simp: piecewise_continuous_on_def)"], ["proof (state)\nthis:\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. i \\<notin> {a..b} \\<Longrightarrow> P a b (insert i I) f", "from insert.IH[OF this]"], ["proof (chain)\npicking this:\n  P a b I f", "show ?thesis"], ["proof (prove)\nusing this:\n  P a b I f\n\ngoal (1 subgoal):\n 1. P a b (insert i I) f", "by (rule 3) fact+"], ["proof (state)\nthis:\n  P a b (insert i I) f\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P a b (insert i I) f\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P a b I f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma continuous_on_imp_piecewise_continuous_on:\n  \"continuous_on {a .. b} f \\<Longrightarrow> piecewise_continuous_on a b {} f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {a..b} f \\<Longrightarrow>\n    piecewise_continuous_on a b {} f", "by (auto simp: piecewise_continuous_on_def)"], ["", "lemma piecewise_continuous_on_imp_absolutely_integrable:\n  fixes a b::real and f::\"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"piecewise_continuous_on a b I f\"\n  shows \"f absolutely_integrable_on {a..b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f absolutely_integrable_on {a..b}", "using assms"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. f absolutely_integrable_on {a..b}", "proof (induction rule: piecewise_continuous_on_induct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b f.\n       continuous_on {a..b} f \\<Longrightarrow>\n       f absolutely_integrable_on {a..b}\n 2. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        f1 absolutely_integrable_on {a..i};\n        f2 absolutely_integrable_on {i..b};\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}\n 3. \\<And>a b i I f.\n       \\<lbrakk>f absolutely_integrable_on {a..b}; finite I;\n        i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}", "case (empty a b f)"], ["proof (state)\nthis:\n  continuous_on {a..b} f\n\ngoal (3 subgoals):\n 1. \\<And>a b f.\n       continuous_on {a..b} f \\<Longrightarrow>\n       f absolutely_integrable_on {a..b}\n 2. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        f1 absolutely_integrable_on {a..i};\n        f2 absolutely_integrable_on {i..b};\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}\n 3. \\<And>a b i I f.\n       \\<lbrakk>f absolutely_integrable_on {a..b}; finite I;\n        i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. f absolutely_integrable_on {a..b}", "by (auto intro!: absolutely_integrable_onI integrable_continuous_interval\n          continuous_intros empty)"], ["proof (state)\nthis:\n  f absolutely_integrable_on {a..b}\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        f1 absolutely_integrable_on {a..i};\n        f2 absolutely_integrable_on {i..b};\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}\n 2. \\<And>a b i I f.\n       \\<lbrakk>f absolutely_integrable_on {a..b}; finite I;\n        i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        f1 absolutely_integrable_on {a..i};\n        f2 absolutely_integrable_on {i..b};\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}\n 2. \\<And>a b i I f.\n       \\<lbrakk>f absolutely_integrable_on {a..b}; finite I;\n        i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}", "case (combine a i b I f1 f2 f)"], ["proof (state)\nthis:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  f1 absolutely_integrable_on {a..i}\n  f2 absolutely_integrable_on {i..b}\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        f1 absolutely_integrable_on {a..i};\n        f2 absolutely_integrable_on {i..b};\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}\n 2. \\<And>a b i I f.\n       \\<lbrakk>f absolutely_integrable_on {a..b}; finite I;\n        i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}", "from combine(10)"], ["proof (chain)\npicking this:\n  f1 absolutely_integrable_on {a..i}", "have \"f absolutely_integrable_on {a..i}\""], ["proof (prove)\nusing this:\n  f1 absolutely_integrable_on {a..i}\n\ngoal (1 subgoal):\n 1. f absolutely_integrable_on {a..i}", "by (rule absolutely_integrable_spike[where S=\"{i}\"]) (auto simp: combine)"], ["proof (state)\nthis:\n  f absolutely_integrable_on {a..i}\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        f1 absolutely_integrable_on {a..i};\n        f2 absolutely_integrable_on {i..b};\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}\n 2. \\<And>a b i I f.\n       \\<lbrakk>f absolutely_integrable_on {a..b}; finite I;\n        i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}", "moreover"], ["proof (state)\nthis:\n  f absolutely_integrable_on {a..i}\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        f1 absolutely_integrable_on {a..i};\n        f2 absolutely_integrable_on {i..b};\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}\n 2. \\<And>a b i I f.\n       \\<lbrakk>f absolutely_integrable_on {a..b}; finite I;\n        i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}", "from combine(11)"], ["proof (chain)\npicking this:\n  f2 absolutely_integrable_on {i..b}", "have \"f absolutely_integrable_on {i..b}\""], ["proof (prove)\nusing this:\n  f2 absolutely_integrable_on {i..b}\n\ngoal (1 subgoal):\n 1. f absolutely_integrable_on {i..b}", "by (rule absolutely_integrable_spike[where S=\"{i}\"]) (auto simp: combine)"], ["proof (state)\nthis:\n  f absolutely_integrable_on {i..b}\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I;\n        f1 absolutely_integrable_on {a..i};\n        f2 absolutely_integrable_on {i..b};\n        piecewise_continuous_on a i I f1; piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}\n 2. \\<And>a b i I f.\n       \\<lbrakk>f absolutely_integrable_on {a..b}; finite I;\n        i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}", "ultimately"], ["proof (chain)\npicking this:\n  f absolutely_integrable_on {a..i}\n  f absolutely_integrable_on {i..b}", "show ?case"], ["proof (prove)\nusing this:\n  f absolutely_integrable_on {a..i}\n  f absolutely_integrable_on {i..b}\n\ngoal (1 subgoal):\n 1. f absolutely_integrable_on {a..b}", "by (rule absolutely_integrable_on_combine) fact+"], ["proof (state)\nthis:\n  f absolutely_integrable_on {a..b}\n\ngoal (1 subgoal):\n 1. \\<And>a b i I f.\n       \\<lbrakk>f absolutely_integrable_on {a..b}; finite I;\n        i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> f absolutely_integrable_on {a..b}", "qed"], ["", "lemma piecewise_continuous_on_integrable:\n  fixes a b::real and f::\"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"piecewise_continuous_on a b I f\"\n  shows \"f integrable_on {a..b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on {a..b}", "using piecewise_continuous_on_imp_absolutely_integrable[OF assms]"], ["proof (prove)\nusing this:\n  f absolutely_integrable_on {a..b}\n\ngoal (1 subgoal):\n 1. f integrable_on {a..b}", "unfolding absolutely_integrable_on_def"], ["proof (prove)\nusing this:\n  f integrable_on {a..b} \\<and>\n  (\\<lambda>x. norm (f x)) integrable_on {a..b}\n\ngoal (1 subgoal):\n 1. f integrable_on {a..b}", "by auto"], ["", "lemma piecewise_continuous_on_comp:\n  assumes p: \"piecewise_continuous_on a b I f\"\n  assumes c: \"\\<And>x. isCont (\\<lambda>(x, y). g x y) x\"\n  shows \"piecewise_continuous_on a b I (\\<lambda>x. g x (f x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "from piecewise_continuous_onE[OF p]"], ["proof (chain)\npicking this:\n  (\\<And>l u.\n      \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                             (at_right i)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain l u\n    where I: \"finite I\"\n      and cf: \"continuous_on ({a..b} - I) f\"\n      and l: \"(\\<And>i. i \\<in> I \\<Longrightarrow> a < i \\<Longrightarrow> i \\<le> b \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i))\"\n      and u: \"(\\<And>i. i \\<in> I \\<Longrightarrow> a \\<le> i \\<Longrightarrow> i < b \\<Longrightarrow> (f \\<longlongrightarrow> u i) (at_right i))\""], ["proof (prove)\nusing this:\n  (\\<And>l u.\n      \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n       \\<And>i.\n          \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n          \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                             (at_right i)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>finite I; continuous_on ({a..b} - I) f;\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a < i; i \\<le> b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> l i) (at_left i);\n         \\<And>i.\n            \\<lbrakk>i \\<in> I; a \\<le> i; i < b\\<rbrakk>\n            \\<Longrightarrow> (f \\<longlongrightarrow> u i)\n                               (at_right i)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  finite I\n  continuous_on ({a..b} - I) f\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> l ?i) (at_left ?i)\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> (f \\<longlongrightarrow> u ?i) (at_right ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "note \\<open>finite I\\<close>"], ["proof (state)\nthis:\n  finite I\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "moreover"], ["proof (state)\nthis:\n  finite I\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "from c"], ["proof (chain)\npicking this:\n  isCont (\\<lambda>(x, y). g x y) ?x", "have cg: \"continuous_on UNIV (\\<lambda>(x, y). g x y)\""], ["proof (prove)\nusing this:\n  isCont (\\<lambda>(x, y). g x y) ?x\n\ngoal (1 subgoal):\n 1. continuous_on UNIV (\\<lambda>(x, y). g x y)", "using c"], ["proof (prove)\nusing this:\n  isCont (\\<lambda>(x, y). g x y) ?x\n  isCont (\\<lambda>(x, y). g x y) ?x\n\ngoal (1 subgoal):\n 1. continuous_on UNIV (\\<lambda>(x, y). g x y)", "by (auto simp: continuous_on_def isCont_def intro: tendsto_within_subset)"], ["proof (state)\nthis:\n  continuous_on UNIV (\\<lambda>(x, y). g x y)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "then"], ["proof (chain)\npicking this:\n  continuous_on UNIV (\\<lambda>(x, y). g x y)", "have \"continuous_on ({a..b} - I) (\\<lambda>x. g x (f x))\""], ["proof (prove)\nusing this:\n  continuous_on UNIV (\\<lambda>(x, y). g x y)\n\ngoal (1 subgoal):\n 1. continuous_on ({a..b} - I) (\\<lambda>x. g x (f x))", "by (intro continuous_on_compose2[OF cg, where f=\"\\<lambda>x. (x, f x)\", simplified])\n      (auto intro!: continuous_intros cf)"], ["proof (state)\nthis:\n  continuous_on ({a..b} - I) (\\<lambda>x. g x (f x))\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "moreover"], ["proof (state)\nthis:\n  continuous_on ({a..b} - I) (\\<lambda>x. g x (f x))\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "note tendstcomp = tendsto_compose[OF c[unfolded isCont_def], where f=\"\\<lambda>x. (x, f x)\", simplified, THEN tendsto_eq_rhs]"], ["proof (state)\nthis:\n  \\<lbrakk>((\\<lambda>x. (x, f x)) \\<longlongrightarrow> ?l1) ?F;\n   (case ?l1 of (x, xa) \\<Rightarrow> g x xa) = ?y\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. g x (f x)) \\<longlongrightarrow> ?y) ?F\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "have \"((\\<lambda>x. g x (f x)) \\<longlongrightarrow> g i (u i)) (at_right i)\" if \"i \\<in> I\" \"a \\<le> i\" \"i < b\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. g x (f x)) \\<longlongrightarrow> g i (u i)) (at_right i)", "by (rule tendstcomp) (auto intro!: tendsto_eq_intros u[OF \\<open>i \\<in> I\\<close>] that)"], ["proof (state)\nthis:\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. g x (f x)) \\<longlongrightarrow>\n                     g ?i (u ?i))\n                     (at_right ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. g x (f x)) \\<longlongrightarrow>\n                     g ?i (u ?i))\n                     (at_right ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "have \"((\\<lambda>x. g x (f x)) \\<longlongrightarrow> g i (l i)) (at_left i)\" if \"i \\<in> I\" \"a < i\" \"i \\<le> b\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. g x (f x)) \\<longlongrightarrow> g i (l i)) (at_left i)", "by (rule tendstcomp) (auto intro!: tendsto_eq_intros l[OF \\<open>i \\<in> I\\<close>] that)"], ["proof (state)\nthis:\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. g x (f x)) \\<longlongrightarrow>\n                     g ?i (l ?i))\n                     (at_left ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "ultimately"], ["proof (chain)\npicking this:\n  finite I\n  continuous_on ({a..b} - I) (\\<lambda>x. g x (f x))\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. g x (f x)) \\<longlongrightarrow>\n                     g ?i (u ?i))\n                     (at_right ?i)\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. g x (f x)) \\<longlongrightarrow>\n                     g ?i (l ?i))\n                     (at_left ?i)", "show ?thesis"], ["proof (prove)\nusing this:\n  finite I\n  continuous_on ({a..b} - I) (\\<lambda>x. g x (f x))\n  \\<lbrakk>?i \\<in> I; a \\<le> ?i; ?i < b\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. g x (f x)) \\<longlongrightarrow>\n                     g ?i (u ?i))\n                     (at_right ?i)\n  \\<lbrakk>?i \\<in> I; a < ?i; ?i \\<le> b\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. g x (f x)) \\<longlongrightarrow>\n                     g ?i (l ?i))\n                     (at_left ?i)\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b I (\\<lambda>x. g x (f x))", "by (intro piecewise_continuous_onI)"], ["proof (state)\nthis:\n  piecewise_continuous_on a b I (\\<lambda>x. g x (f x))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bounded_piecewise_continuous_image:\n  \"bounded (f ` {a .. b})\"\n  if \"piecewise_continuous_on a b I f\" for a b::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded (f ` {a..b})", "using that"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b I f\n\ngoal (1 subgoal):\n 1. bounded (f ` {a..b})", "proof (induction rule: piecewise_continuous_on_induct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b f.\n       continuous_on {a..b} f \\<Longrightarrow> bounded (f ` {a..b})\n 2. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I; bounded (f1 ` {a..i});\n        bounded (f2 ` {i..b}); piecewise_continuous_on a i I f1;\n        piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})\n 3. \\<And>a b i I f.\n       \\<lbrakk>bounded (f ` {a..b}); finite I; i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})", "case (empty a b f)"], ["proof (state)\nthis:\n  continuous_on {a..b} f\n\ngoal (3 subgoals):\n 1. \\<And>a b f.\n       continuous_on {a..b} f \\<Longrightarrow> bounded (f ` {a..b})\n 2. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I; bounded (f1 ` {a..i});\n        bounded (f2 ` {i..b}); piecewise_continuous_on a i I f1;\n        piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})\n 3. \\<And>a b i I f.\n       \\<lbrakk>bounded (f ` {a..b}); finite I; i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})", "then"], ["proof (chain)\npicking this:\n  continuous_on {a..b} f", "show ?case"], ["proof (prove)\nusing this:\n  continuous_on {a..b} f\n\ngoal (1 subgoal):\n 1. bounded (f ` {a..b})", "by (auto intro!: compact_imp_bounded compact_continuous_image)"], ["proof (state)\nthis:\n  bounded (f ` {a..b})\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I; bounded (f1 ` {a..i});\n        bounded (f2 ` {i..b}); piecewise_continuous_on a i I f1;\n        piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})\n 2. \\<And>a b i I f.\n       \\<lbrakk>bounded (f ` {a..b}); finite I; i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I; bounded (f1 ` {a..i});\n        bounded (f2 ` {i..b}); piecewise_continuous_on a i I f1;\n        piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})\n 2. \\<And>a b i I f.\n       \\<lbrakk>bounded (f ` {a..b}); finite I; i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})", "case (combine a i b I f1 f2 f)"], ["proof (state)\nthis:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  bounded (f1 ` {a..i})\n  bounded (f2 ` {i..b})\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I; bounded (f1 ` {a..i});\n        bounded (f2 ` {i..b}); piecewise_continuous_on a i I f1;\n        piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})\n 2. \\<And>a b i I f.\n       \\<lbrakk>bounded (f ` {a..b}); finite I; i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})", "have \"(f ` {a..b}) \\<subseteq> (insert (f i) (f1 ` {a..i} \\<union> f2 ` {i..b}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f ` {a..b} \\<subseteq> insert (f i) (f1 ` {a..i} \\<union> f2 ` {i..b})", "using combine"], ["proof (prove)\nusing this:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  bounded (f1 ` {a..i})\n  bounded (f2 ` {i..b})\n\ngoal (1 subgoal):\n 1. f ` {a..b} \\<subseteq> insert (f i) (f1 ` {a..i} \\<union> f2 ` {i..b})", "by (auto simp: image_iff) (metis antisym_conv atLeastAtMost_iff le_cases not_less)"], ["proof (state)\nthis:\n  f ` {a..b} \\<subseteq> insert (f i) (f1 ` {a..i} \\<union> f2 ` {i..b})\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I; bounded (f1 ` {a..i});\n        bounded (f2 ` {i..b}); piecewise_continuous_on a i I f1;\n        piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})\n 2. \\<And>a b i I f.\n       \\<lbrakk>bounded (f ` {a..b}); finite I; i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})", "also"], ["proof (state)\nthis:\n  f ` {a..b} \\<subseteq> insert (f i) (f1 ` {a..i} \\<union> f2 ` {i..b})\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I; bounded (f1 ` {a..i});\n        bounded (f2 ` {i..b}); piecewise_continuous_on a i I f1;\n        piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})\n 2. \\<And>a b i I f.\n       \\<lbrakk>bounded (f ` {a..b}); finite I; i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})", "have \"bounded \\<dots>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded (insert (f i) (f1 ` {a..i} \\<union> f2 ` {i..b}))", "using combine"], ["proof (prove)\nusing this:\n  a \\<le> i\n  i \\<le> b\n  i \\<notin> I\n  piecewise_continuous_on a i I f1\n  piecewise_continuous_on i b I f2\n  \\<lbrakk>a \\<le> ?x; ?x < i\\<rbrakk> \\<Longrightarrow> f1 ?x = f ?x\n  \\<lbrakk>i < ?x; ?x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 ?x = f ?x\n  a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i)\n  i < b \\<Longrightarrow> (f \\<longlongrightarrow> f2 i) (at_right i)\n  bounded (f1 ` {a..i})\n  bounded (f2 ` {i..b})\n\ngoal (1 subgoal):\n 1. bounded (insert (f i) (f1 ` {a..i} \\<union> f2 ` {i..b}))", "by auto"], ["proof (state)\nthis:\n  bounded (insert (f i) (f1 ` {a..i} \\<union> f2 ` {i..b}))\n\ngoal (2 subgoals):\n 1. \\<And>a i b I f1 f2 f.\n       \\<lbrakk>a \\<le> i; i \\<le> b; i \\<notin> I; bounded (f1 ` {a..i});\n        bounded (f2 ` {i..b}); piecewise_continuous_on a i I f1;\n        piecewise_continuous_on i b I f2;\n        \\<And>x.\n           \\<lbrakk>a \\<le> x; x < i\\<rbrakk> \\<Longrightarrow> f1 x = f x;\n        \\<And>x.\n           \\<lbrakk>i < x; x \\<le> b\\<rbrakk> \\<Longrightarrow> f2 x = f x;\n        a < i \\<Longrightarrow> (f \\<longlongrightarrow> f1 i) (at_left i);\n        i < b \\<Longrightarrow>\n        (f \\<longlongrightarrow> f2 i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})\n 2. \\<And>a b i I f.\n       \\<lbrakk>bounded (f ` {a..b}); finite I; i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})", "finally (bounded_subset[rotated])"], ["proof (chain)\npicking this:\n  bounded (f ` {a..b})", "show ?case"], ["proof (prove)\nusing this:\n  bounded (f ` {a..b})\n\ngoal (1 subgoal):\n 1. bounded (f ` {a..b})", "."], ["proof (state)\nthis:\n  bounded (f ` {a..b})\n\ngoal (1 subgoal):\n 1. \\<And>a b i I f.\n       \\<lbrakk>bounded (f ` {a..b}); finite I; i \\<notin> I\\<rbrakk>\n       \\<Longrightarrow> bounded (f ` {a..b})", "qed"], ["", "lemma tendsto_within_eventually:\n  \"(f \\<longlongrightarrow> l) (at x within X)\"\n  if\n    \"(f \\<longlongrightarrow> l) (at x within Y)\"\n    \"\\<forall>\\<^sub>F y in at x within X. y \\<in> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> l) (at x within X)", "using _ that(1)"], ["proof (prove)\nusing this:\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  (f \\<longlongrightarrow> l) (at x within Y)\n\ngoal (1 subgoal):\n 1. (f \\<longlongrightarrow> l) (at x within X)", "proof (rule tendsto_mono)"], ["proof (state)\ngoal (1 subgoal):\n 1. at x within X \\<le> at x within Y", "show \"at x within X \\<le> at x within Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within X \\<le> at x within Y", "proof (rule filter_leI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within Y) \\<Longrightarrow>\n       eventually P (at x within X)", "fix P"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within Y) \\<Longrightarrow>\n       eventually P (at x within X)", "assume \"eventually P (at x within Y)\""], ["proof (state)\nthis:\n  eventually P (at x within Y)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       eventually P (at x within Y) \\<Longrightarrow>\n       eventually P (at x within X)", "with that(2)"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at x within X. y \\<in> Y\n  eventually P (at x within Y)", "show \"eventually P (at x within X)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x within X. y \\<in> Y\n  eventually P (at x within Y)\n\ngoal (1 subgoal):\n 1. eventually P (at x within X)", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in nhds x.\n     xa \\<noteq> x \\<longrightarrow> xa \\<in> X \\<longrightarrow> xa \\<in> Y\n  \\<forall>\\<^sub>F xa in nhds x.\n     xa \\<noteq> x \\<longrightarrow> xa \\<in> Y \\<longrightarrow> P xa\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F xa in nhds x.\n       xa \\<noteq> x \\<longrightarrow> xa \\<in> X \\<longrightarrow> P xa", "by eventually_elim auto"], ["proof (state)\nthis:\n  eventually P (at x within X)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  at x within X \\<le> at x within Y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma at_within_eq_bot_lemma:\n  \"at x within {b..c} = (if x < b \\<or> b > c then bot else at x within {b..c})\"\n  for x b c::\"'a::linorder_topology\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {b..c} =\n    (if x < b \\<or> c < b then bot else at x within {b..c})", "by (auto intro!: not_in_closure_trivial_limitI)"], ["", "lemma at_within_eq_bot_lemma2:\n  \"at x within {a..b} = (if x > b \\<or> a > b then bot else at x within {a..b})\"\n  for x a b::\"'a::linorder_topology\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x within {a..b} =\n    (if b < x \\<or> b < a then bot else at x within {a..b})", "by (auto intro!: not_in_closure_trivial_limitI)"], ["", "lemma piecewise_continuous_on_combine:\n  \"piecewise_continuous_on a c J f\"\n  if \"piecewise_continuous_on a b J f\" \"piecewise_continuous_on b c J f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a c J f", "using that"], ["proof (prove)\nusing this:\n  piecewise_continuous_on a b J f\n  piecewise_continuous_on b c J f\n\ngoal (1 subgoal):\n 1. piecewise_continuous_on a c J f", "apply (auto elim!: piecewise_continuous_onE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>l u la ua.\n       \\<lbrakk>continuous_on ({a..b} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J; continuous_on ({b..c} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> la i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> ua i) (at_right i)\\<rbrakk>\n       \\<Longrightarrow> piecewise_continuous_on a c J f", "subgoal for l u l' u'"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>continuous_on ({a..b} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J; continuous_on ({b..c} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow>\n        (f \\<longlongrightarrow> u' i) (at_right i)\\<rbrakk>\n    \\<Longrightarrow> piecewise_continuous_on a c J f", "apply (rule piecewise_continuous_onI[where\n          l=\"\\<lambda>i. if i \\<le> b then l i else l' i\" and\n          u=\"\\<lambda>i. if i < b then u i else u' i\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>continuous_on ({a..b} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J; continuous_on ({b..c} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow>\n        (f \\<longlongrightarrow> u' i) (at_right i)\\<rbrakk>\n    \\<Longrightarrow> finite J\n 2. \\<lbrakk>continuous_on ({a..b} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J; continuous_on ({b..c} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow>\n        (f \\<longlongrightarrow> u' i) (at_right i)\\<rbrakk>\n    \\<Longrightarrow> continuous_on ({a..c} - J) f\n 3. \\<And>i.\n       \\<lbrakk>continuous_on ({a..b} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J; continuous_on ({b..c} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        i \\<in> J; a < i; i \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow>\n                          (if i \\<le> b then l i else l' i))\n                          (at_left i)\n 4. \\<And>i.\n       \\<lbrakk>continuous_on ({a..b} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J; continuous_on ({b..c} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        i \\<in> J; a \\<le> i; i < c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow>\n                          (if i < b then u i else u' i))\n                          (at_right i)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>continuous_on ({a..b} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J; continuous_on ({b..c} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow>\n        (f \\<longlongrightarrow> u' i) (at_right i)\\<rbrakk>\n    \\<Longrightarrow> finite J", "by force"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>continuous_on ({a..b} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J; continuous_on ({b..c} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow>\n        (f \\<longlongrightarrow> u' i) (at_right i)\\<rbrakk>\n    \\<Longrightarrow> continuous_on ({a..c} - J) f\n 2. \\<And>i.\n       \\<lbrakk>continuous_on ({a..b} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J; continuous_on ({b..c} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        i \\<in> J; a < i; i \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow>\n                          (if i \\<le> b then l i else l' i))\n                          (at_left i)\n 3. \\<And>i.\n       \\<lbrakk>continuous_on ({a..b} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J; continuous_on ({b..c} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        i \\<in> J; a \\<le> i; i < c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow>\n                          (if i < b then u i else u' i))\n                          (at_right i)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>continuous_on ({a..b} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J; continuous_on ({b..c} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow>\n        (f \\<longlongrightarrow> u' i) (at_right i)\\<rbrakk>\n    \\<Longrightarrow> continuous_on ({a..c} - J) f", "apply (rule continuous_on_subset[where s=\"({a .. b} \\<union> {b .. c} - J)\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>continuous_on ({a..b} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J; continuous_on ({b..c} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow>\n        (f \\<longlongrightarrow> u' i) (at_right i)\\<rbrakk>\n    \\<Longrightarrow> continuous_on ({a..b} \\<union> {b..c} - J) f\n 2. \\<lbrakk>continuous_on ({a..b} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J; continuous_on ({b..c} - J) f;\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow>\n        (f \\<longlongrightarrow> u' i) (at_right i)\\<rbrakk>\n    \\<Longrightarrow> {a..c} - J \\<subseteq> {a..b} \\<union> {b..c} - J", "apply (auto simp: continuous_on_def at_within_t1_space_avoid_finite)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x)\n                          (at x within {a..b} \\<union> {b..c})\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; b \\<le> x; x \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x)\n                          (at x within {a..b} \\<union> {b..c})", "apply (rule Lim_Un)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at x within {a..b})\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at x within {b..c})\n 3. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; b \\<le> x; x \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x)\n                          (at x within {a..b} \\<union> {b..c})", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                (f \\<longlongrightarrow> f x) (at x within {a..b});\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J;\n     \\<forall>x\\<in>{b..c} - J.\n        (f \\<longlongrightarrow> f x) (at x within {b..c});\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow> (f \\<longlongrightarrow> u' i) (at_right i);\n     x_ \\<notin> J; a \\<le> x_; x_ \\<le> b\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f x_) (at x_ within {a..b})", "by auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; a \\<le> x; x \\<le> b\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at x within {b..c})\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; b \\<le> x; x \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x)\n                          (at x within {a..b} \\<union> {b..c})", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                (f \\<longlongrightarrow> f x) (at x within {a..b});\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J;\n     \\<forall>x\\<in>{b..c} - J.\n        (f \\<longlongrightarrow> f x) (at x within {b..c});\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow> (f \\<longlongrightarrow> u' i) (at_right i);\n     x_ \\<notin> J; a \\<le> x_; x_ \\<le> b\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f x_) (at x_ within {b..c})", "by (subst at_within_eq_bot_lemma) auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; b \\<le> x; x \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x)\n                          (at x within {a..b} \\<union> {b..c})", "apply (rule Lim_Un)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; b \\<le> x; x \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at x within {a..b})\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; b \\<le> x; x \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at x within {b..c})", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                (f \\<longlongrightarrow> f x) (at x within {a..b});\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J;\n     \\<forall>x\\<in>{b..c} - J.\n        (f \\<longlongrightarrow> f x) (at x within {b..c});\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow> (f \\<longlongrightarrow> u' i) (at_right i);\n     x_ \\<notin> J; b \\<le> x_; x_ \\<le> c\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f x_) (at x_ within {a..b})", "by (subst at_within_eq_bot_lemma2) auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                   (f \\<longlongrightarrow> f x) (at x within {a..b});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J;\n        \\<forall>x\\<in>{b..c} - J.\n           (f \\<longlongrightarrow> f x) (at x within {b..c});\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        x \\<notin> J; b \\<le> x; x \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow> f x) (at x within {b..c})", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>{a..b} - J.\n                (f \\<longlongrightarrow> f x) (at x within {a..b});\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a < i \\<longrightarrow>\n        i \\<le> b \\<longrightarrow>\n        (f \\<longlongrightarrow> l i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        a \\<le> i \\<longrightarrow>\n        i < b \\<longrightarrow> (f \\<longlongrightarrow> u i) (at_right i);\n     finite J;\n     \\<forall>x\\<in>{b..c} - J.\n        (f \\<longlongrightarrow> f x) (at x within {b..c});\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b < i \\<longrightarrow>\n        i \\<le> c \\<longrightarrow>\n        (f \\<longlongrightarrow> l' i) (at_left i);\n     \\<forall>i.\n        i \\<in> J \\<longrightarrow>\n        b \\<le> i \\<longrightarrow>\n        i < c \\<longrightarrow> (f \\<longlongrightarrow> u' i) (at_right i);\n     x_ \\<notin> J; b \\<le> x_; x_ \\<le> c\\<rbrakk>\n    \\<Longrightarrow> (f \\<longlongrightarrow> f x_) (at x_ within {b..c})", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>i.\n       \\<lbrakk>continuous_on ({a..b} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J; continuous_on ({b..c} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        i \\<in> J; a < i; i \\<le> c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow>\n                          (if i \\<le> b then l i else l' i))\n                          (at_left i)\n 2. \\<And>i.\n       \\<lbrakk>continuous_on ({a..b} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a < i \\<longrightarrow>\n           i \\<le> b \\<longrightarrow>\n           (f \\<longlongrightarrow> l i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           a \\<le> i \\<longrightarrow>\n           i < b \\<longrightarrow>\n           (f \\<longlongrightarrow> u i) (at_right i);\n        finite J; continuous_on ({b..c} - J) f;\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b < i \\<longrightarrow>\n           i \\<le> c \\<longrightarrow>\n           (f \\<longlongrightarrow> l' i) (at_left i);\n        \\<forall>i.\n           i \\<in> J \\<longrightarrow>\n           b \\<le> i \\<longrightarrow>\n           i < c \\<longrightarrow>\n           (f \\<longlongrightarrow> u' i) (at_right i);\n        i \\<in> J; a \\<le> i; i < c\\<rbrakk>\n       \\<Longrightarrow> (f \\<longlongrightarrow>\n                          (if i < b then u i else u' i))\n                          (at_right i)", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma piecewise_continuous_on_finite_superset:\n  \"piecewise_continuous_on a b I f \\<Longrightarrow> I \\<subseteq> J \\<Longrightarrow> finite J \\<Longrightarrow> piecewise_continuous_on a b J f\"\n  for a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>piecewise_continuous_on a b I f; I \\<subseteq> J;\n     finite J\\<rbrakk>\n    \\<Longrightarrow> piecewise_continuous_on a b J f", "apply (auto simp add: piecewise_continuous_on_def)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n     finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)))\\<rbrakk>\n    \\<Longrightarrow> continuous_on ({a..b} - J) f\n 2. \\<And>i.\n       \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n        finite I;\n        \\<forall>i\\<in>I.\n           (a < i \\<and> i \\<le> b \\<longrightarrow>\n            (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n           (a \\<le> i \\<and> i < b \\<longrightarrow>\n            (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n        i \\<in> J; a < i; i \\<le> b\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)\n 3. \\<And>i.\n       \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n        finite I;\n        \\<forall>i\\<in>I.\n           (a < i \\<and> i \\<le> b \\<longrightarrow>\n            (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n           (a \\<le> i \\<and> i < b \\<longrightarrow>\n            (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n        i \\<in> J; a \\<le> i; i < b\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u.\n                            (f \\<longlongrightarrow> u) (at_right i)", "apply (rule continuous_on_subset, assumption, force)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>i.\n       \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n        finite I;\n        \\<forall>i\\<in>I.\n           (a < i \\<and> i \\<le> b \\<longrightarrow>\n            (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n           (a \\<le> i \\<and> i < b \\<longrightarrow>\n            (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n        i \\<in> J; a < i; i \\<le> b\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)\n 2. \\<And>i.\n       \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n        finite I;\n        \\<forall>i\\<in>I.\n           (a < i \\<and> i \\<le> b \\<longrightarrow>\n            (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n           (a \\<le> i \\<and> i < b \\<longrightarrow>\n            (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n        i \\<in> J; a \\<le> i; i < b\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u.\n                            (f \\<longlongrightarrow> u) (at_right i)", "subgoal for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n     finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)", "apply (cases \"i \\<in> I\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n     finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<in> I\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)\n 2. \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n     finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)", "apply (auto simp: continuous_on_def at_within_t1_space_avoid_finite)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<subseteq> J; finite J;\n     \\<forall>x\\<in>{a..b} - I.\n        (f \\<longlongrightarrow> f x) (at x within {a..b});\n     finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)", "apply (drule bspec[where x=i])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> i \\<in> {a..b} - I\n 2. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b})\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)", "apply (auto simp: at_within_t1_space_avoid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b})\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)", "apply (cases \"i = b\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b}); i = b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)\n 2. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b});\n     i \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)", "apply (auto simp: at_within_Icc_at_left )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b});\n     i \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)", "apply (subst (asm) at_within_interior[where x=i])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>i \\<noteq> b; I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> NO_MATCH UNIV {a..b}\n 2. \\<lbrakk>i \\<noteq> b; I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> i \\<in> interior {a..b}\n 3. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a < i; i \\<le> b; i \\<notin> I;\n     f \\<midarrow>i\\<rightarrow> f i; i \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>l. (f \\<longlongrightarrow> l) (at_left i)", "by (auto simp: filterlim_at_split)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n        finite I;\n        \\<forall>i\\<in>I.\n           (a < i \\<and> i \\<le> b \\<longrightarrow>\n            (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n           (a \\<le> i \\<and> i < b \\<longrightarrow>\n            (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n        i \\<in> J; a \\<le> i; i < b\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u.\n                            (f \\<longlongrightarrow> u) (at_right i)", "subgoal for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n     finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)", "apply (cases \"i \\<in> I\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n     finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<in> I\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)\n 2. \\<lbrakk>I \\<subseteq> J; finite J; continuous_on ({a..b} - I) f;\n     finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)", "apply (auto simp: continuous_on_def at_within_t1_space_avoid_finite)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<subseteq> J; finite J;\n     \\<forall>x\\<in>{a..b} - I.\n        (f \\<longlongrightarrow> f x) (at x within {a..b});\n     finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)", "apply (drule bspec[where x=i])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> i \\<in> {a..b} - I\n 2. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b})\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)", "apply (auto simp: at_within_t1_space_avoid)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b})\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)", "apply (cases \"i = a\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b}); i = a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)\n 2. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b});\n     i \\<noteq> a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)", "apply (auto simp: at_within_Icc_at_right)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I;\n     (f \\<longlongrightarrow> f i) (at i within {a..b});\n     i \\<noteq> a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)", "apply (subst (asm) at_within_interior[where x=i])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>i \\<noteq> a; I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> NO_MATCH UNIV {a..b}\n 2. \\<lbrakk>i \\<noteq> a; I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> i \\<in> interior {a..b}\n 3. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I;\n     f \\<midarrow>i\\<rightarrow> f i; i \\<noteq> a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>i \\<noteq> a; I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> NO_MATCH UNIV {a..b}", "by (simp add: interior_Icc)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>i \\<noteq> a; I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I\\<rbrakk>\n    \\<Longrightarrow> i \\<in> interior {a..b}\n 2. \\<lbrakk>I \\<subseteq> J; finite J; finite I;\n     \\<forall>i\\<in>I.\n        (a < i \\<and> i \\<le> b \\<longrightarrow>\n         (\\<exists>l. (f \\<longlongrightarrow> l) (at_left i))) \\<and>\n        (a \\<le> i \\<and> i < b \\<longrightarrow>\n         (\\<exists>u. (f \\<longlongrightarrow> u) (at_right i)));\n     i \\<in> J; a \\<le> i; i < b; i \\<notin> I;\n     f \\<midarrow>i\\<rightarrow> f i; i \\<noteq> a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>u. (f \\<longlongrightarrow> u) (at_right i)", "by (auto simp: filterlim_at_split)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma piecewise_continuous_on_splitI:\n  \"piecewise_continuous_on a c K f\"\n  if\n    \"piecewise_continuous_on a b I f\"\n    \"piecewise_continuous_on b c J f\"\n    \"I \\<subseteq> K\" \"J \\<subseteq> K\" \"finite K\"\n  for a b::\"'a::{linorder_topology, dense_order, no_bot, no_top}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a c K f", "apply (rule piecewise_continuous_on_combine[where b=b])"], ["proof (prove)\ngoal (2 subgoals):\n 1. piecewise_continuous_on a b K f\n 2. piecewise_continuous_on b c K f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on a b K f", "by (rule piecewise_continuous_on_finite_superset, fact)\n    (use that in \\<open>auto elim!: piecewise_continuous_onE\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on b c K f", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. piecewise_continuous_on b c K f", "by (rule piecewise_continuous_on_finite_superset, fact)\n    (use that in \\<open>auto elim!: piecewise_continuous_onE\\<close>)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"]]}