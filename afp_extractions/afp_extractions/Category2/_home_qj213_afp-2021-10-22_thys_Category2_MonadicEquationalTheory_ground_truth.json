{"file_name": "/home/qj213/afp-2021-10-22/thys/Category2/MonadicEquationalTheory.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Category2", "problem_names": ["lemma funsignature_abbrevE[elim]: \n\"\\<lbrakk>f \\<in> Sig S : A \\<rightarrow> B ; \\<lbrakk>f \\<in> (BaseFunctions S) ; A \\<in> (BaseTypes S) ; B \\<in> (BaseTypes S) ; \n                        (SigDom S f) = A ; (SigCod S f) = B ; Signature S\\<rbrakk> \\<Longrightarrow> R\\<rbrakk> \\<Longrightarrow> R\"", "lemmas WellDefined.intros [intro]", "lemma SigId: \"Sig S \\<triangleright> (Vx : A  \\<turnstile> Vx : B) \\<Longrightarrow> A = B\"", "lemma SigTyId: \"Sig S \\<triangleright> (Vx : A  \\<turnstile> Vx : A) \\<Longrightarrow> A \\<in> BaseTypes S\"", "lemma (in Signature) SigTy: \"\\<And> B . Sig S \\<triangleright> (Vx : A  \\<turnstile> e : B) \\<Longrightarrow> (A \\<in> BaseTypes S \\<and> B \\<in> BaseTypes S)\"", "lemmas  Interp.intros [intro]", "lemma (in Interpretation) InterpEqEq[intro]: \n  \"\\<lbrakk>L\\<lbrakk>Vx : A  \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor g) ; L\\<lbrakk>Vx : A  \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g)\\<rbrakk> \\<Longrightarrow> L\\<lbrakk>Vx : A  \\<turnstile> e1 \\<equiv> e2 : B\\<rbrakk> \\<rightarrow> (IBool True)\"", "lemma (in Interpretation) InterpExprWellDefined:\n\"L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow> Sig iS \\<triangleright> Vx : A  \\<turnstile> e : B\"", "lemma (in Interpretation) WellDefined: \"L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i \\<Longrightarrow> Sig iS \\<triangleright> \\<phi>\"", "lemma (in Interpretation) Bool: \"L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> (IBool i) \\<Longrightarrow> \\<exists> A B e d . \\<phi> = (Vx : A \\<turnstile> e \\<equiv> d : B)\"", "lemma (in Interpretation) FunctionalExpr:\n\"\\<And>i j A B.\\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i; L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> j\\<rbrakk> \\<Longrightarrow> i = j\"", "lemma (in Interpretation) Functional: \"\\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i1 ; L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i2\\<rbrakk> \\<Longrightarrow> i1 = i2\"", "lemma (in Interpretation) MorphismsPreserved:\n\"\\<And> B i . L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow> \\<exists> g . i = (IMor g) \\<and> (g maps\\<^bsub>iC \\<^esub>Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>)\"", "lemma (in Interpretation) Expr2Mor: \"L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> (IMor g) \\<Longrightarrow> (g maps\\<^bsub>iC \\<^esub>Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>)\"", "lemma (in Interpretation) WellDefinedExprInterp: \"\\<And> B . (Sig iS \\<triangleright> Vx : A  \\<turnstile> e : B) \\<Longrightarrow> (\\<exists> i . L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i)\"", "lemma (in Interpretation) Sig2Mor: assumes \"(Sig iS \\<triangleright> Vx : A  \\<turnstile> e : B)\" shows \"\\<exists> g . L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> (IMor g)\"", "lemma SubstXinE: \"(sub Vx in e) = e\"", "lemma SubstAssoc: \"sub a in (sub b in c) = sub (sub a in b) in c\"", "lemma SubstWellDefined: \"\\<And> C . \\<lbrakk>Sig S \\<triangleright> (Vx : A \\<turnstile> e : B); Sig S \\<triangleright> (Vx : B \\<turnstile> d : C)\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> (Vx : A \\<turnstile> (sub e in d) : C)\"", "lemma (in Axioms) Equiv2WellDefined: \"\\<phi> \\<in> Theory \\<Longrightarrow> Sig aS \\<triangleright> \\<phi>\"", "lemma (in Axioms) Subst':\n  \"\\<And> C . \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C ; (Vx : A \\<turnstile> e1 \\<equiv> e2 : B) \\<in> Theory\\<rbrakk> \\<Longrightarrow> \n  (Vx : A \\<turnstile> (sub e1 in d) \\<equiv> (sub e2 in d) : C) \\<in> Theory\"", "lemma (in Interpretation) Equiv:\n  assumes \"L\\<lbrakk>Vx : A \\<turnstile> e1 \\<equiv> e2 : B\\<rbrakk> \\<rightarrow> (IBool True)\"\n  shows \"\\<exists> g . (L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor g)) \\<and> (L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g))\"", "lemma (in Interpretation) SubstComp: \"\\<And> h C . \\<lbrakk>(L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> (IMor g)) ; (L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> (IMor h))\\<rbrakk> \\<Longrightarrow>\n  (L\\<lbrakk>Vx : A \\<turnstile> (sub e in d) : C\\<rbrakk> \\<rightarrow> (IMor (g ;;\\<^bsub>iC\\<^esub> h)))\"", "lemma (in Model) Sound: \"\\<phi> \\<in> Theory \\<Longrightarrow>  L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> (IBool True)\"", "lemma [simp]: \"ZFAxioms T \\<Longrightarrow> Axioms T\"", "lemma Expr2ZFType0: \"ZFType (Expr2ZF e) = 0 \\<Longrightarrow> e = Vx\"", "lemma ZFDepthInNat: \"Elem (ZFTFst (Expr2ZF e)) Nat\"", "lemma Expr2ZFType1: \"ZFType (Expr2ZF e) = 1 \\<Longrightarrow> \n  \\<exists> f e' . e = (f E@ e') \\<and> (Suc (ZFDepth (Expr2ZF e'))) = (ZFDepth (Expr2ZF e))\"", "lemma Expr2ZFDepth0: \"ZFDepth (Expr2ZF e) = 0 \\<Longrightarrow> ZFType (Expr2ZF e) = 0\"", "lemma Expr2ZFDepthSuc: \"ZFDepth (Expr2ZF e) = Suc n \\<Longrightarrow> ZFType (Expr2ZF e) = 1\"", "lemma Expr2Data: \"ZFData (Expr2ZF (f E@ e)) = Opair f (Expr2ZF e)\"", "lemma Expr2ZFinj: \"inj Expr2ZF\"", "lemma TDomain: \"TDomain (TermEquivCl' T A e B) = A\"", "lemma TCodomain: \"TCodomain (TermEquivCl' T A e B) = B\"", "lemma WellFormedToSetInRangeExplode: \"ZFAxioms T \\<Longrightarrow> (Expr2ZF ` (WellFormedToSet aS\\<^bsub>T\\<^esub> n)) \\<in> range explode\"", "lemma WellDefinedToWellFormedSet: \"\\<And> B . (Sig S \\<triangleright> (Vx : A \\<turnstile> e : B)) \\<Longrightarrow> \\<exists>n. e \\<in> WellFormedToSet S n\"", "lemma TermSetInSet: \"ZFAxioms T \\<Longrightarrow> Expr2ZF ` (TermEquivClGen T A e B) \\<in> range explode\"", "lemma m2ZFinj_on: \"ZFAxioms T \\<Longrightarrow> inj_on m2ZF {TermEquivCl' T A e B | A e B . True}\"", "lemma ZF2m: \"ZFAxioms T \\<Longrightarrow> ZF2m T (m2ZF (TermEquivCl' T A e B)) = (TermEquivCl' T A e B)\"", "lemma CLDomain: \"ZFAxioms T \\<Longrightarrow> CLDomain T [A,e,B]\\<^bsub>T\\<^esub> = A\"", "lemma CLCodomain: \"ZFAxioms T \\<Longrightarrow> CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> = B\"", "lemma Equiv2Cl: assumes \"Axioms T\" and \"(Vx : A \\<turnstile> e \\<equiv> d : B) \\<in> Axioms.Theory T\" shows  \"[A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\"", "lemma Cl2Equiv: \n  assumes axt: \"ZFAxioms T\" and sa: \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e : B)\" and cl: \"[A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\"\n  shows \"(Vx : A \\<turnstile> e \\<equiv> d : B) \\<in> Axioms.Theory T\"", "lemma CanonicalCompWellDefined: \n  assumes zaxt: \"ZFAxioms T\" and \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> d : B)\" and \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : B \\<turnstile> d' : C)\" \n  shows \"CanonicalComp T [A,d,B]\\<^bsub>T\\<^esub> [B,d',C]\\<^bsub>T\\<^esub> = [A,sub d in d',C]\\<^bsub>T\\<^esub>\"", "lemma CanonicalCat'MapsTo: \n  assumes \"f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y\" and zx: \"ZFAxioms T\"\n  shows \"\\<exists> ef . f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and> Sig (aSignature T) \\<triangleright> (Vx : X \\<turnstile> ef : Y)\"", "lemma CanonicalCatCat': \"ZFAxioms T \\<Longrightarrow> Category_axioms (CanonicalCat' T)\"", "lemma CanonicalCatCat: \"ZFAxioms T \\<Longrightarrow> Category (CanonicalCat T)\"", "lemma CIObj: \"Obj (CanonicalCat T) = BaseTypes (aSignature T)\"", "lemma CIMor: \"ZFAxioms T \\<Longrightarrow> [A,e,B]\\<^bsub>T\\<^esub> \\<in> Mor (CanonicalCat T) = Sig (aSignature T) \\<triangleright> (Vx : A \\<turnstile> e : B)\"", "lemma CIDom: \"\\<lbrakk>ZFAxioms T ; [A,e,B]\\<^bsub>T\\<^esub> \\<in> Mor(CanonicalCat T)\\<rbrakk> \\<Longrightarrow>  Dom (CanonicalCat T) [A,e,B]\\<^bsub>T\\<^esub> = A\"", "lemma CICod: \"\\<lbrakk>ZFAxioms T ; [A,e,B]\\<^bsub>T\\<^esub> \\<in> Mor(CanonicalCat T)\\<rbrakk> \\<Longrightarrow> Cod (CanonicalCat T) [A,e,B]\\<^bsub>T\\<^esub> = B\"", "lemma CIId: \"\\<lbrakk>A \\<in> BaseTypes (aSignature T)\\<rbrakk> \\<Longrightarrow> Id (CanonicalCat T) A = [A,Vx,A]\\<^bsub>T\\<^esub>\"", "lemma CIComp: \n  assumes \"ZFAxioms T\" and \"Sig (aSignature T) \\<triangleright> (Vx : A \\<turnstile> e : B)\" and \"Sig (aSignature T) \\<triangleright> (Vx : B \\<turnstile> d : C)\"\n  shows \"[A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = [A,sub e in d,C]\\<^bsub>T\\<^esub>\"", "lemma [simp]: \"ZFAxioms T \\<Longrightarrow> Category iC\\<^bsub>CI T\\<^esub>\"", "lemma [simp]: \"ZFAxioms T \\<Longrightarrow> Signature iS\\<^bsub>CI T\\<^esub>\"", "lemma CIInterpretation: \"ZFAxioms T \\<Longrightarrow> Interpretation (CI T)\"", "lemma CIInterp2Mor: \"ZFAxioms T \\<Longrightarrow> (\\<And> B . Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e : B) \\<Longrightarrow>  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A, e, B]\\<^bsub>T\\<^esub>))\"", "lemma CIModel: \"ZFAxioms T \\<Longrightarrow> Model (CI T) T\"", "lemma CIComplete: assumes \"ZFAxioms T\" and \"L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IBool True)\" shows \"\\<phi> \\<in> Axioms.Theory T\"", "lemma Complete: \n  assumes \"ZFAxioms T\" \n  and \"\\<And> (I :: (ZF,ZF,ZF,ZF) Interpretation) . Model I T \\<Longrightarrow> (L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IBool True))\" \n  shows \"\\<phi> \\<in> Axioms.Theory T\""], "translations": [["", "lemma funsignature_abbrevE[elim]: \n\"\\<lbrakk>f \\<in> Sig S : A \\<rightarrow> B ; \\<lbrakk>f \\<in> (BaseFunctions S) ; A \\<in> (BaseTypes S) ; B \\<in> (BaseTypes S) ; \n                        (SigDom S f) = A ; (SigCod S f) = B ; Signature S\\<rbrakk> \\<Longrightarrow> R\\<rbrakk> \\<Longrightarrow> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>f \\<in> Sig S : A \\<rightarrow> B;\n     \\<lbrakk>f \\<in> Fn\\<^bsub>S\\<^esub>; A \\<in> Ty\\<^bsub>S\\<^esub>;\n      B \\<in> Ty\\<^bsub>S\\<^esub>; sDom\\<^bsub>S\\<^esub> f = A;\n      sCod\\<^bsub>S\\<^esub> f = B; Signature S\\<rbrakk>\n     \\<Longrightarrow> R\\<rbrakk>\n    \\<Longrightarrow> R", "by (simp add: funsignature_abbrev_def)"], ["", "datatype ('t,'f) Expression = ExprVar (\"Vx\") | ExprApp 'f \"('t,'f) Expression\" (\"_ E@ _\")"], ["", "datatype ('t,'f) Language = Type 't (\"\\<turnstile> _ Type\") | Term 't \"('t,'f) Expression\" 't (\"Vx : _ \\<turnstile> _ : _\") | \n                            Equation 't \"('t,'f) Expression\" \"('t,'f) Expression\" 't (\"Vx : _ \\<turnstile> _\\<equiv>_ : _\")"], ["", "inductive\n  WellDefined :: \"('t,'f) Signature \\<Rightarrow> ('t,'f) Language \\<Rightarrow> bool\" (\"Sig _ \\<triangleright> _\") where\n    WellDefinedTy: \"A \\<in> BaseTypes S \\<Longrightarrow> Sig S \\<triangleright> \\<turnstile> A Type\"\n  | WellDefinedVar: \"Sig S \\<triangleright> \\<turnstile> A Type \\<Longrightarrow> Sig S \\<triangleright> (Vx : A  \\<turnstile> Vx : A)\" \n  | WellDefinedFn: \"\\<lbrakk>Sig S \\<triangleright> (Vx : A  \\<turnstile> e : B)  ; f \\<in> Sig S : B \\<rightarrow> C\\<rbrakk> \\<Longrightarrow> Sig S \\<triangleright> (Vx : A  \\<turnstile> (f E@ e) : C)\"\n  | WellDefinedEq: \"\\<lbrakk>Sig S \\<triangleright> (Vx : A  \\<turnstile> e1 : B) ; Sig S \\<triangleright> (Vx : A  \\<turnstile> e2 : B)\\<rbrakk> \\<Longrightarrow> Sig S \\<triangleright> (Vx : A \\<turnstile> e1 \\<equiv> e2 : B)\""], ["", "lemmas WellDefined.intros [intro]"], ["", "inductive_cases WellDefinedTyE [elim!]: \"Sig S \\<triangleright> \\<turnstile> A Type\""], ["", "inductive_cases WellDefinedVarE [elim!]: \"Sig S \\<triangleright> (Vx : A  \\<turnstile> Vx : A)\""], ["", "inductive_cases WellDefinedFnE [elim!]: \"Sig S \\<triangleright> (Vx : A  \\<turnstile> (f E@ e) : C)\""], ["", "inductive_cases WellDefinedEqE [elim!]: \"Sig S \\<triangleright> (Vx : A \\<turnstile> e1 \\<equiv> e2 : B)\""], ["", "lemma SigId: \"Sig S \\<triangleright> (Vx : A  \\<turnstile> Vx : B) \\<Longrightarrow> A = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n    A = B", "apply(rule WellDefined.cases)"], ["proof (prove)\ngoal (5 subgoals):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n    Sig ?a1.0 \\<triangleright> ?a2.0\n 2. \\<And>Aa Sa.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B;\n        ?a1.0 = Sa; ?a2.0 = \\<turnstile> Aa Type;\n        Aa \\<in> Ty\\<^bsub>Sa\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> A = B\n 3. \\<And>Sa Aa.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B;\n        ?a1.0 = Sa; ?a2.0 = Vx : Aa \\<turnstile> Vx : Aa;\n        Sig Sa \\<triangleright> \\<turnstile> Aa Type\\<rbrakk>\n       \\<Longrightarrow> A = B\n 4. \\<And>Sa Aa e Ba f C.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B;\n        ?a1.0 = Sa; ?a2.0 = Vx : Aa \\<turnstile> f E@ e : C;\n        Sig Sa \\<triangleright> Vx : Aa \\<turnstile> e : Ba;\n        f \\<in> Sig Sa : Ba \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> A = B\n 5. \\<And>Sa Aa e1 Ba e2.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B;\n        ?a1.0 = Sa; ?a2.0 = Vx : Aa \\<turnstile> e1\\<equiv>e2 : Ba;\n        Sig Sa \\<triangleright> Vx : Aa \\<turnstile> e1 : Ba;\n        Sig Sa \\<triangleright> Vx : Aa \\<turnstile> e2 : Ba\\<rbrakk>\n       \\<Longrightarrow> A = B", "by simp+"], ["", "lemma SigTyId: \"Sig S \\<triangleright> (Vx : A  \\<turnstile> Vx : A) \\<Longrightarrow> A \\<in> BaseTypes S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> Vx : A \\<Longrightarrow>\n    A \\<in> Ty\\<^bsub>S\\<^esub>", "apply(rule WellDefined.cases)"], ["proof (prove)\ngoal (5 subgoals):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> Vx : A \\<Longrightarrow>\n    Sig ?a1.0 \\<triangleright> ?a2.0\n 2. \\<And>Aa Sa.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> Vx : A;\n        ?a1.0 = Sa; ?a2.0 = \\<turnstile> Aa Type;\n        Aa \\<in> Ty\\<^bsub>Sa\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty\\<^bsub>S\\<^esub>\n 3. \\<And>Sa Aa.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> Vx : A;\n        ?a1.0 = Sa; ?a2.0 = Vx : Aa \\<turnstile> Vx : Aa;\n        Sig Sa \\<triangleright> \\<turnstile> Aa Type\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty\\<^bsub>S\\<^esub>\n 4. \\<And>Sa Aa e B f C.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> Vx : A;\n        ?a1.0 = Sa; ?a2.0 = Vx : Aa \\<turnstile> f E@ e : C;\n        Sig Sa \\<triangleright> Vx : Aa \\<turnstile> e : B;\n        f \\<in> Sig Sa : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty\\<^bsub>S\\<^esub>\n 5. \\<And>Sa Aa e1 B e2.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> Vx : A;\n        ?a1.0 = Sa; ?a2.0 = Vx : Aa \\<turnstile> e1\\<equiv>e2 : B;\n        Sig Sa \\<triangleright> Vx : Aa \\<turnstile> e1 : B;\n        Sig Sa \\<triangleright> Vx : Aa \\<turnstile> e2 : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty\\<^bsub>S\\<^esub>", "by auto"], ["", "lemma (in Signature) SigTy: \"\\<And> B . Sig S \\<triangleright> (Vx : A  \\<turnstile> e : B) \\<Longrightarrow> (A \\<in> BaseTypes S \\<and> B \\<in> BaseTypes S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n       A \\<in> Ty \\<and> B \\<in> Ty", "proof(induct e)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       A \\<in> Ty \\<and> B \\<in> Ty\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       A \\<in> Ty \\<and> B \\<in> Ty\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "fix B"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       A \\<in> Ty \\<and> B \\<in> Ty\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "assume a: \"Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B\""], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       A \\<in> Ty \\<and> B \\<in> Ty\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "have \"A = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A = B", "using a SigId[of S]"], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B\n  Sig S \\<triangleright> Vx : ?A \\<turnstile> Vx : ?B \\<Longrightarrow>\n  ?A = ?B\n\ngoal (1 subgoal):\n 1. A = B", "by simp"], ["proof (state)\nthis:\n  A = B\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       A \\<in> Ty \\<and> B \\<in> Ty\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "thus \"A \\<in> Ty \\<and> B \\<in> Ty\""], ["proof (prove)\nusing this:\n  A = B\n\ngoal (1 subgoal):\n 1. A \\<in> Ty \\<and> B \\<in> Ty", "using a"], ["proof (prove)\nusing this:\n  A = B\n  Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B\n\ngoal (1 subgoal):\n 1. A \\<in> Ty \\<and> B \\<in> Ty", "by auto"], ["proof (state)\nthis:\n  A \\<in> Ty \\<and> B \\<in> Ty\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "}"], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> Vx : ?B2 \\<Longrightarrow>\n  A \\<in> Ty \\<and> ?B2 \\<in> Ty\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "{"], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> Vx : ?B2 \\<Longrightarrow>\n  A \\<in> Ty \\<and> ?B2 \\<in> Ty\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "fix B f e"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "assume ih: \"\\<And>B'. Sig S \\<triangleright> (Vx : A \\<turnstile> e : B') \\<Longrightarrow> A \\<in> Ty \\<and> B' \\<in> Ty\"\n    and a: \"Sig S \\<triangleright> (Vx : A \\<turnstile> (f E@ e) : B)\""], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : ?B' \\<Longrightarrow>\n  A \\<in> Ty \\<and> ?B' \\<in> Ty\n  Sig S \\<triangleright> Vx : A \\<turnstile> f E@ e : B\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "from a"], ["proof (chain)\npicking this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> f E@ e : B", "obtain B' where f: \"f \\<in> Sig S : B' \\<rightarrow> B\" and \"Sig S \\<triangleright> (Vx : A \\<turnstile> e : B')\""], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> f E@ e : B\n\ngoal (1 subgoal):\n 1. (\\<And>B'.\n        \\<lbrakk>f \\<in> Sig S : B' \\<rightarrow> B;\n         Sig S \\<triangleright> Vx : A \\<turnstile> e : B'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  f \\<in> Sig S : B' \\<rightarrow> B\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B'\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "hence \"A \\<in> Ty\""], ["proof (prove)\nusing this:\n  f \\<in> Sig S : B' \\<rightarrow> B\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B'\n\ngoal (1 subgoal):\n 1. A \\<in> Ty", "using ih"], ["proof (prove)\nusing this:\n  f \\<in> Sig S : B' \\<rightarrow> B\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B'\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : ?B' \\<Longrightarrow>\n  A \\<in> Ty \\<and> ?B' \\<in> Ty\n\ngoal (1 subgoal):\n 1. A \\<in> Ty", "by auto"], ["proof (state)\nthis:\n  A \\<in> Ty\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "moreover"], ["proof (state)\nthis:\n  A \\<in> Ty\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "have \"B \\<in> Ty\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> Ty", "using f"], ["proof (prove)\nusing this:\n  f \\<in> Sig S : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. B \\<in> Ty", "by (auto simp add: funsignature_abbrev_def Codt)"], ["proof (state)\nthis:\n  B \\<in> Ty\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   A \\<in> Ty \\<and> B \\<in> Ty;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> A \\<in> Ty \\<and> B \\<in> Ty", "ultimately"], ["proof (chain)\npicking this:\n  A \\<in> Ty\n  B \\<in> Ty", "show \"A \\<in> Ty \\<and> B \\<in> Ty\""], ["proof (prove)\nusing this:\n  A \\<in> Ty\n  B \\<in> Ty\n\ngoal (1 subgoal):\n 1. A \\<in> Ty \\<and> B \\<in> Ty", "by simp"], ["proof (state)\nthis:\n  A \\<in> Ty \\<and> B \\<in> Ty\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>B'.\n              Sig S \\<triangleright> Vx : A \\<turnstile> ?ea2 : B' \\<Longrightarrow>\n              A \\<in> Ty \\<and> B' \\<in> Ty;\n   Sig S \\<triangleright> Vx : A \\<turnstile> ?f2 E@ ?ea2 : ?B2\\<rbrakk>\n  \\<Longrightarrow> A \\<in> Ty \\<and> ?B2 \\<in> Ty\n\ngoal:\nNo subgoals!", "qed"], ["", "(*An interpretation is an object, a morphism or a boolean*)"], ["", "datatype ('o,'m) IType = IObj 'o | IMor 'm | IBool bool"], ["", "record ('t,'f,'o,'m) Interpretation = \n  ISignature :: \"('t,'f) Signature\" (\"iS\\<index>\")\n  ICategory  :: \"('o,'m) Category\"  (\"iC\\<index>\")\n  ITypes     :: \"'t \\<Rightarrow> 'o\" (\"Ty\\<lbrakk>_\\<rbrakk>\\<index>\")\n  IFunctions :: \"'f \\<Rightarrow> 'm\" (\"Fn\\<lbrakk>_\\<rbrakk>\\<index>\")"], ["", "locale Interpretation = \n  fixes I :: \"('t,'f,'o,'m) Interpretation\" (structure)\n  assumes ICat: \"Category  iC\"\n  and     ISig: \"Signature iS\" \n  and     It  : \"A \\<in> BaseTypes iS \\<Longrightarrow> Ty\\<lbrakk>A\\<rbrakk> \\<in> Obj iC\"\n  and     If  : \"(f \\<in> Sig iS : A \\<rightarrow> B) \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\""], ["", "inductive Interp  (\"L\\<lbrakk>_\\<rbrakk>\\<index> \\<rightarrow> _\") where\n    InterpTy: \"Sig iS\\<^bsub>I\\<^esub> \\<triangleright> \\<turnstile> A Type \\<Longrightarrow> \n                       L\\<lbrakk>\\<turnstile> A Type\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IObj Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>I\\<^esub>)\"\n  | InterpVar: \"L\\<lbrakk>\\<turnstile> A Type\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IObj c) \\<Longrightarrow> \n                       L\\<lbrakk>Vx : A  \\<turnstile> Vx : A\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IMor (Id iC\\<^bsub>I\\<^esub> c))\" \n  | InterpFn: \"\\<lbrakk>Sig iS\\<^bsub>I\\<^esub> \\<triangleright> Vx : A  \\<turnstile> e : B ; \n               f \\<in> Sig iS\\<^bsub>I\\<^esub> : B \\<rightarrow> C ; \n               L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IMor g)\\<rbrakk> \\<Longrightarrow> \n               L\\<lbrakk>Vx : A  \\<turnstile> (f E@ e) : C\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IMor (g ;;\\<^bsub>ICategory I\\<^esub> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>I\\<^esub>))\"\n  | InterpEq: \"\\<lbrakk>L\\<lbrakk>Vx : A  \\<turnstile> e1 : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IMor g1) ; \n                L\\<lbrakk>Vx : A  \\<turnstile> e2 : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IMor g2)\\<rbrakk> \\<Longrightarrow> \n                L\\<lbrakk>Vx : A  \\<turnstile> e1 \\<equiv> e2 : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IBool (g1 = g2))\""], ["", "lemmas  Interp.intros [intro]"], ["", "inductive_cases  InterpTyE [elim!]: \"L\\<lbrakk>\\<turnstile> A Type\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> i\""], ["", "inductive_cases  InterpVarE [elim!]: \"L\\<lbrakk>Vx : A  \\<turnstile> Vx : A\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> i\""], ["", "inductive_cases  InterpFnE [elim!]: \"L\\<lbrakk>Vx : A  \\<turnstile> (f E@ e) : C\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> i\""], ["", "inductive_cases  InterpEqE [elim!]: \"L\\<lbrakk>Vx : A  \\<turnstile> e1 \\<equiv> e2 : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> i\""], ["", "lemma (in Interpretation) InterpEqEq[intro]: \n  \"\\<lbrakk>L\\<lbrakk>Vx : A  \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor g) ; L\\<lbrakk>Vx : A  \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g)\\<rbrakk> \\<Longrightarrow> L\\<lbrakk>Vx : A  \\<turnstile> e1 \\<equiv> e2 : B\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                                    g;\n     L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                            g\\<rbrakk>\n    \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                 True", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                                    g;\n     L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                            g\\<rbrakk>\n    \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                 True", "assume a: \"L\\<lbrakk>Vx : A  \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor g)\" and b: \"L\\<lbrakk>Vx : A  \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g)\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                                    g;\n     L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                            g\\<rbrakk>\n    \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                 True", "thus ?thesis"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "using InterpEq[of I A e1 B g e2 g]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n  \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                                  g;\n   L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                          g\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n               (g = g)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in Interpretation) InterpExprWellDefined:\n\"L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow> Sig iS \\<triangleright> Vx : A  \\<turnstile> e : B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n    Sig iS \\<triangleright> Vx : A \\<turnstile> e : B", "apply (rule Interp.cases)"], ["proof (prove)\ngoal (5 subgoals):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n    L\\<lbrakk>?a2.0\\<rbrakk>\\<^bsub>?a1.0\\<^esub> \\<rightarrow> ?a3.0\n 2. \\<And>I Aa.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i;\n        ?a1.0 = I; ?a2.0 = \\<turnstile> Aa Type;\n        ?a3.0 = IObj Ty\\<lbrakk>Aa\\<rbrakk>\\<^bsub>I\\<^esub>;\n        Sig iS\\<^bsub>I\\<^esub> \\<triangleright> \\<turnstile> Aa Type\\<rbrakk>\n       \\<Longrightarrow> Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\n 3. \\<And>I Aa c.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i;\n        ?a1.0 = I; ?a2.0 = Vx : Aa \\<turnstile> Vx : Aa;\n        ?a3.0 = IMor (id\\<^bsub>iC\\<^bsub>I\\<^esub>\\<^esub> c);\n        L\\<lbrakk>\\<turnstile> Aa Type\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IObj\n    c\\<rbrakk>\n       \\<Longrightarrow> Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\n 4. \\<And>I Aa ea Ba f C g.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i;\n        ?a1.0 = I; ?a2.0 = Vx : Aa \\<turnstile> f E@ ea : C;\n        ?a3.0 =\n        IMor\n         (g ;;\\<^bsub>iC\\<^bsub>I\\<^esub>\\<^esub>\n          Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>I\\<^esub>);\n        Sig iS\\<^bsub>I\\<^esub> \\<triangleright> Vx : Aa \\<turnstile> ea : Ba;\n        f \\<in> Sig iS\\<^bsub>I\\<^esub> : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : Aa \\<turnstile> ea : Ba\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n            g\\<rbrakk>\n       \\<Longrightarrow> Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\n 5. \\<And>I Aa e1 Ba g1 e2 g2.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i;\n        ?a1.0 = I; ?a2.0 = Vx : Aa \\<turnstile> e1\\<equiv>e2 : Ba;\n        ?a3.0 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : Aa \\<turnstile> e1 : Ba\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n            g1;\n        L\\<lbrakk>Vx : Aa \\<turnstile> e2 : Ba\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n            g2\\<rbrakk>\n       \\<Longrightarrow> Sig iS \\<triangleright> Vx : A \\<turnstile> e : B", "by auto"], ["", "lemma (in Interpretation) WellDefined: \"L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i \\<Longrightarrow> Sig iS \\<triangleright> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n    Sig iS \\<triangleright> \\<phi>", "apply(rule Interp.cases)"], ["proof (prove)\ngoal (5 subgoals):\n 1. L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n    L\\<lbrakk>?a2.0\\<rbrakk>\\<^bsub>?a1.0\\<^esub> \\<rightarrow> ?a3.0\n 2. \\<And>I A.\n       \\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i; ?a1.0 = I;\n        ?a2.0 = \\<turnstile> A Type;\n        ?a3.0 = IObj Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>I\\<^esub>;\n        Sig iS\\<^bsub>I\\<^esub> \\<triangleright> \\<turnstile> A Type\\<rbrakk>\n       \\<Longrightarrow> Sig iS \\<triangleright> \\<phi>\n 3. \\<And>I A c.\n       \\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i; ?a1.0 = I;\n        ?a2.0 = Vx : A \\<turnstile> Vx : A;\n        ?a3.0 = IMor (id\\<^bsub>iC\\<^bsub>I\\<^esub>\\<^esub> c);\n        L\\<lbrakk>\\<turnstile> A Type\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IObj\n   c\\<rbrakk>\n       \\<Longrightarrow> Sig iS \\<triangleright> \\<phi>\n 4. \\<And>I A e B f C g.\n       \\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i; ?a1.0 = I;\n        ?a2.0 = Vx : A \\<turnstile> f E@ e : C;\n        ?a3.0 =\n        IMor\n         (g ;;\\<^bsub>iC\\<^bsub>I\\<^esub>\\<^esub>\n          Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>I\\<^esub>);\n        Sig iS\\<^bsub>I\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B;\n        f \\<in> Sig iS\\<^bsub>I\\<^esub> : B \\<rightarrow> C;\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n         g\\<rbrakk>\n       \\<Longrightarrow> Sig iS \\<triangleright> \\<phi>\n 5. \\<And>I A e1 B g1 e2 g2.\n       \\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i; ?a1.0 = I;\n        ?a2.0 = Vx : A \\<turnstile> e1\\<equiv>e2 : B;\n        ?a3.0 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n          g1;\n        L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n          g2\\<rbrakk>\n       \\<Longrightarrow> Sig iS \\<triangleright> \\<phi>", "by (auto simp add: InterpExprWellDefined)"], ["", "lemma (in Interpretation) Bool: \"L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> (IBool i) \\<Longrightarrow> \\<exists> A B e d . \\<phi> = (Vx : A \\<turnstile> e \\<equiv> d : B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> IBool i \\<Longrightarrow>\n    \\<exists>A B e d. \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B", "apply(rule Interp.cases)"], ["proof (prove)\ngoal (5 subgoals):\n 1. L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> IBool i \\<Longrightarrow>\n    L\\<lbrakk>?a2.0\\<rbrakk>\\<^bsub>?a1.0\\<^esub> \\<rightarrow> ?a3.0\n 2. \\<And>I A.\n       \\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> IBool i; ?a1.0 = I;\n        ?a2.0 = \\<turnstile> A Type;\n        ?a3.0 = IObj Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>I\\<^esub>;\n        Sig iS\\<^bsub>I\\<^esub> \\<triangleright> \\<turnstile> A Type\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A B e d.\n                            \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n 3. \\<And>I A c.\n       \\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> IBool i; ?a1.0 = I;\n        ?a2.0 = Vx : A \\<turnstile> Vx : A;\n        ?a3.0 = IMor (id\\<^bsub>iC\\<^bsub>I\\<^esub>\\<^esub> c);\n        L\\<lbrakk>\\<turnstile> A Type\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IObj\n   c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A B e d.\n                            \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n 4. \\<And>I A e B f C g.\n       \\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> IBool i; ?a1.0 = I;\n        ?a2.0 = Vx : A \\<turnstile> f E@ e : C;\n        ?a3.0 =\n        IMor\n         (g ;;\\<^bsub>iC\\<^bsub>I\\<^esub>\\<^esub>\n          Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>I\\<^esub>);\n        Sig iS\\<^bsub>I\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B;\n        f \\<in> Sig iS\\<^bsub>I\\<^esub> : B \\<rightarrow> C;\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n         g\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A B e d.\n                            \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n 5. \\<And>I A e1 B g1 e2 g2.\n       \\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> IBool i; ?a1.0 = I;\n        ?a2.0 = Vx : A \\<turnstile> e1\\<equiv>e2 : B;\n        ?a3.0 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n          g1;\n        L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n          g2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A B e d.\n                            \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B", "by auto"], ["", "lemma (in Interpretation) FunctionalExpr:\n\"\\<And>i j A B.\\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i; L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> j\\<rbrakk> \\<Longrightarrow> i = j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i j A B.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i;\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> j\\<rbrakk>\n       \\<Longrightarrow> i = j", "apply (induct e)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>i j A B.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i;\n        L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> j\\<rbrakk>\n       \\<Longrightarrow> i = j\n 2. \\<And>x1 e i j A B.\n       \\<lbrakk>\\<And>i j A B.\n                   \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i;\n                    L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> j\\<rbrakk>\n                   \\<Longrightarrow> i = j;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> j\\<rbrakk>\n       \\<Longrightarrow> i = j", "apply (rule Interp.cases)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i j A B.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i;\n        L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> j\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>?a2.2 i j A\n                                    B\\<rbrakk>\\<^bsub>?a1.2 i j A B\\<^esub> \\<rightarrow> ?a3.2\n               i j A B\n 2. \\<And>i j A B I Aa.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i;\n        L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> j;\n        ?a1.2 i j A B = I; ?a2.2 i j A B = \\<turnstile> Aa Type;\n        ?a3.2 i j A B = IObj Ty\\<lbrakk>Aa\\<rbrakk>\\<^bsub>I\\<^esub>;\n        Sig iS\\<^bsub>I\\<^esub> \\<triangleright> \\<turnstile> Aa Type\\<rbrakk>\n       \\<Longrightarrow> i = j\n 3. \\<And>i j A B I Aa c.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i;\n        L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> j;\n        ?a1.2 i j A B = I; ?a2.2 i j A B = Vx : Aa \\<turnstile> Vx : Aa;\n        ?a3.2 i j A B = IMor (id\\<^bsub>iC\\<^bsub>I\\<^esub>\\<^esub> c);\n        L\\<lbrakk>\\<turnstile> Aa Type\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IObj\n    c\\<rbrakk>\n       \\<Longrightarrow> i = j\n 4. \\<And>i j A B I Aa e Ba f C g.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i;\n        L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> j;\n        ?a1.2 i j A B = I; ?a2.2 i j A B = Vx : Aa \\<turnstile> f E@ e : C;\n        ?a3.2 i j A B =\n        IMor\n         (g ;;\\<^bsub>iC\\<^bsub>I\\<^esub>\\<^esub>\n          Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>I\\<^esub>);\n        Sig iS\\<^bsub>I\\<^esub> \\<triangleright> Vx : Aa \\<turnstile> e : Ba;\n        f \\<in> Sig iS\\<^bsub>I\\<^esub> : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : Aa \\<turnstile> e : Ba\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n           g\\<rbrakk>\n       \\<Longrightarrow> i = j\n 5. \\<And>i j A B I Aa e1 Ba g1 e2 g2.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i;\n        L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> j;\n        ?a1.2 i j A B = I;\n        ?a2.2 i j A B = Vx : Aa \\<turnstile> e1\\<equiv>e2 : Ba;\n        ?a3.2 i j A B = IBool (g1 = g2);\n        L\\<lbrakk>Vx : Aa \\<turnstile> e1 : Ba\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n            g1;\n        L\\<lbrakk>Vx : Aa \\<turnstile> e2 : Ba\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> IMor\n            g2\\<rbrakk>\n       \\<Longrightarrow> i = j\n 6. \\<And>x1 e i j A B.\n       \\<lbrakk>\\<And>i j A B.\n                   \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i;\n                    L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> j\\<rbrakk>\n                   \\<Longrightarrow> i = j;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> j\\<rbrakk>\n       \\<Longrightarrow> i = j", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1 e A B Ba g Bb ga.\n       \\<lbrakk>\\<And>i j A B.\n                   \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i;\n                    L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> j\\<rbrakk>\n                   \\<Longrightarrow> i = j;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> B;\n        L\\<lbrakk>Vx : A \\<turnstile> e : Ba\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e : Bb;\n        x1 \\<in> Sig iS : Bb \\<rightarrow> B;\n        L\\<lbrakk>Vx : A \\<turnstile> e : Bb\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk> =\n                         ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>", "apply (auto simp add: funsignature_abbrev_def)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma (in Interpretation) Functional: \"\\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i1 ; L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i2\\<rbrakk> \\<Longrightarrow> i1 = i2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i1;\n     L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n    \\<Longrightarrow> i1 = i2", "proof(induct \\<phi>)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>L\\<lbrakk>\\<turnstile> x Type\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>\\<turnstile> x Type\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 3. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "{"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>L\\<lbrakk>\\<turnstile> x Type\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>\\<turnstile> x Type\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 3. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "fix t"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>L\\<lbrakk>\\<turnstile> x Type\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>\\<turnstile> x Type\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 2. \\<And>x1a x2 x3.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 3. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "show \"\\<lbrakk>L\\<lbrakk>\\<turnstile> t Type\\<rbrakk> \\<rightarrow> i1 ; L\\<lbrakk>\\<turnstile> t Type\\<rbrakk> \\<rightarrow> i2\\<rbrakk> \\<Longrightarrow> i1 = i2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>L\\<lbrakk>\\<turnstile> t Type\\<rbrakk> \\<rightarrow> i1;\n     L\\<lbrakk>\\<turnstile> t Type\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n    \\<Longrightarrow> i1 = i2", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>\\<turnstile> t Type\\<rbrakk> \\<rightarrow> i1;\n   L\\<lbrakk>\\<turnstile> t Type\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n  \\<Longrightarrow> i1 = i2\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 2. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "}"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>\\<turnstile> ?t2 Type\\<rbrakk> \\<rightarrow> i1;\n   L\\<lbrakk>\\<turnstile> ?t2 Type\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n  \\<Longrightarrow> i1 = i2\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 2. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "{"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>\\<turnstile> ?t2 Type\\<rbrakk> \\<rightarrow> i1;\n   L\\<lbrakk>\\<turnstile> ?t2 Type\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n  \\<Longrightarrow> i1 = i2\n\ngoal (2 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 2. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "fix t1 t2 e"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1a x2 x3.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2 : x3\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2\n 2. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "show \"\\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e : t2\\<rbrakk> \\<rightarrow> i1; L\\<lbrakk>Vx : t1 \\<turnstile> e : t2\\<rbrakk> \\<rightarrow> i2\\<rbrakk> \\<Longrightarrow> i1 = i2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e : t2\\<rbrakk> \\<rightarrow> i1;\n     L\\<lbrakk>Vx : t1 \\<turnstile> e : t2\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n    \\<Longrightarrow> i1 = i2", "by (simp add: FunctionalExpr)"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e : t2\\<rbrakk> \\<rightarrow> i1;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e : t2\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n  \\<Longrightarrow> i1 = i2\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "}"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : ?t1.2 \\<turnstile> ?e2 : ?t2.2\\<rbrakk> \\<rightarrow> i1;\n   L\\<lbrakk>Vx : ?t1.2 \\<turnstile> ?e2 : ?t2.2\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n  \\<Longrightarrow> i1 = i2\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "{"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : ?t1.2 \\<turnstile> ?e2 : ?t2.2\\<rbrakk> \\<rightarrow> i1;\n   L\\<lbrakk>Vx : ?t1.2 \\<turnstile> ?e2 : ?t2.2\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n  \\<Longrightarrow> i1 = i2\n\ngoal (1 subgoal):\n 1. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "fix t1 t2 e1 e2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1a x2 x3 x4.\n       \\<lbrakk>L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i1;\n        L\\<lbrakk>Vx : x1a \\<turnstile> x2\\<equiv>x3 : x4\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n       \\<Longrightarrow> i1 = i2", "show \"\\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 \\<equiv> e2 : t2\\<rbrakk> \\<rightarrow> i1; L\\<lbrakk>Vx : t1 \\<turnstile> e1 \\<equiv> e2 : t2\\<rbrakk> \\<rightarrow> i2\\<rbrakk> \\<Longrightarrow> i1 = i2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1\\<equiv>e2 : t2\\<rbrakk> \\<rightarrow> i1;\n     L\\<lbrakk>Vx : t1 \\<turnstile> e1\\<equiv>e2 : t2\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n    \\<Longrightarrow> i1 = i2", "proof(auto)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>g2 g1a g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g2;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool True;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g1a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool (g1a = g2a)\\<rbrakk>\n       \\<Longrightarrow> g1a = g2a\n 2. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>g2 g1a g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g2;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool True;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g1a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool (g1a = g2a)\\<rbrakk>\n       \\<Longrightarrow> g1a = g2a\n 2. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "fix f g h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>g2 g1a g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g2;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool True;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g1a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool (g1a = g2a)\\<rbrakk>\n       \\<Longrightarrow> g1a = g2a\n 2. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "assume f1: \"L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> (IMor f)\" and f2: \"L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> (IMor f)\"\n          and g1: \"L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> (IMor g)\" and g2: \"L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> (IMor h)\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor f\n  L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor f\n  L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor h\n\ngoal (2 subgoals):\n 1. \\<And>g2 g1a g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g2;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool True;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g1a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool (g1a = g2a)\\<rbrakk>\n       \\<Longrightarrow> g1a = g2a\n 2. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "have \"f = g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f = g", "using f1 g1 FunctionalExpr[of t1 e1 t2 \"IMor f\" \"IMor g\"]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor f\n  L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor g\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                    f;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                            g\\<rbrakk>\n  \\<Longrightarrow> IMor f = IMor g\n\ngoal (1 subgoal):\n 1. f = g", "by simp"], ["proof (state)\nthis:\n  f = g\n\ngoal (2 subgoals):\n 1. \\<And>g2 g1a g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g2;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool True;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g1a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool (g1a = g2a)\\<rbrakk>\n       \\<Longrightarrow> g1a = g2a\n 2. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "moreover"], ["proof (state)\nthis:\n  f = g\n\ngoal (2 subgoals):\n 1. \\<And>g2 g1a g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g2;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool True;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g1a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool (g1a = g2a)\\<rbrakk>\n       \\<Longrightarrow> g1a = g2a\n 2. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "have \"f = h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f = h", "using f2 g2 FunctionalExpr[of t1 e2 t2 \"IMor f\" \"IMor h\"]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor f\n  L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor h\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                    f;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                            h\\<rbrakk>\n  \\<Longrightarrow> IMor f = IMor h\n\ngoal (1 subgoal):\n 1. f = h", "by simp"], ["proof (state)\nthis:\n  f = h\n\ngoal (2 subgoals):\n 1. \\<And>g2 g1a g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g2;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool True;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g1a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool (g1a = g2a)\\<rbrakk>\n       \\<Longrightarrow> g1a = g2a\n 2. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "ultimately"], ["proof (chain)\npicking this:\n  f = g\n  f = h", "show \"g = h\""], ["proof (prove)\nusing this:\n  f = g\n  f = h\n\ngoal (1 subgoal):\n 1. g = h", "by simp"], ["proof (state)\nthis:\n  g = h\n\ngoal (1 subgoal):\n 1. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "}"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                    ?f2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor ?f2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor ?g2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                            ?h2\\<rbrakk>\n  \\<Longrightarrow> ?g2 = ?h2\n\ngoal (1 subgoal):\n 1. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                    ?f2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor ?f2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor ?g2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                            ?h2\\<rbrakk>\n  \\<Longrightarrow> ?g2 = ?h2\n\ngoal (1 subgoal):\n 1. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "{"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                    ?f2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor ?f2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor ?g2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                            ?h2\\<rbrakk>\n  \\<Longrightarrow> ?g2 = ?h2\n\ngoal (1 subgoal):\n 1. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "fix f g h"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "assume f1: \"L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> (IMor f)\" and f2: \"L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> (IMor g)\"\n          and g1: \"L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> (IMor h)\" and g2: \"L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> (IMor h)\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor f\n  L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor h\n  L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor h\n\ngoal (1 subgoal):\n 1. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "have \"f = h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f = h", "using f1 g1 FunctionalExpr[of t1 e1 t2 \"IMor f\" \"IMor h\"]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor f\n  L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor h\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                    f;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                            h\\<rbrakk>\n  \\<Longrightarrow> IMor f = IMor h\n\ngoal (1 subgoal):\n 1. f = h", "by simp"], ["proof (state)\nthis:\n  f = h\n\ngoal (1 subgoal):\n 1. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "moreover"], ["proof (state)\nthis:\n  f = h\n\ngoal (1 subgoal):\n 1. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "have \"g = h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g = h", "using f2 g2 FunctionalExpr[of t1 e2 t2 \"IMor g\" \"IMor h\"]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor h\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                    g;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                            h\\<rbrakk>\n  \\<Longrightarrow> IMor g = IMor h\n\ngoal (1 subgoal):\n 1. g = h", "by simp"], ["proof (state)\nthis:\n  g = h\n\ngoal (1 subgoal):\n 1. \\<And>g1 g2 g2a.\n       \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n   g1;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2;\n        i1 = IBool (g1 = g2);\n        L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                                 g2a;\n        i2 = IBool True\\<rbrakk>\n       \\<Longrightarrow> g1 = g2", "ultimately"], ["proof (chain)\npicking this:\n  f = h\n  g = h", "show \"f = g\""], ["proof (prove)\nusing this:\n  f = h\n  g = h\n\ngoal (1 subgoal):\n 1. f = g", "by simp"], ["proof (state)\nthis:\n  f = g\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor\n                                    ?f2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor ?g2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e1 : t2\\<rbrakk> \\<rightarrow> IMor ?h2;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e2 : t2\\<rbrakk> \\<rightarrow> IMor\n                            ?h2\\<rbrakk>\n  \\<Longrightarrow> ?f2 = ?g2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : t1 \\<turnstile> e1\\<equiv>e2 : t2\\<rbrakk> \\<rightarrow> i1;\n   L\\<lbrakk>Vx : t1 \\<turnstile> e1\\<equiv>e2 : t2\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n  \\<Longrightarrow> i1 = i2\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : ?t1.2 \\<turnstile> ?e1.2\\<equiv>?e2.2 : ?t2.2\\<rbrakk> \\<rightarrow> i1;\n   L\\<lbrakk>Vx : ?t1.2 \\<turnstile> ?e1.2\\<equiv>?e2.2 : ?t2.2\\<rbrakk> \\<rightarrow> i2\\<rbrakk>\n  \\<Longrightarrow> i1 = i2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in Interpretation) MorphismsPreserved:\n\"\\<And> B i . L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow> \\<exists> g . i = (IMor g) \\<and> (g maps\\<^bsub>iC \\<^esub>Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>B i.\n       L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n       \\<exists>g.\n          i = IMor g \\<and>\n          g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "proof(induct e)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n       \\<exists>g.\n          i = IMor g \\<and>\n          g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n 2. \\<And>x1 e B i.\n       \\<lbrakk>\\<And>B i.\n                   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                   \\<exists>g.\n                      i = IMor g \\<and>\n                      g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n       \\<Longrightarrow> \\<exists>g.\n                            i = IMor g \\<and>\n                            g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n       \\<exists>g.\n          i = IMor g \\<and>\n          g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n 2. \\<And>x1 e B i.\n       \\<lbrakk>\\<And>B i.\n                   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                   \\<exists>g.\n                      i = IMor g \\<and>\n                      g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n       \\<Longrightarrow> \\<exists>g.\n                            i = IMor g \\<and>\n                            g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "fix B i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n       \\<exists>g.\n          i = IMor g \\<and>\n          g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n 2. \\<And>x1 e B i.\n       \\<lbrakk>\\<And>B i.\n                   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                   \\<exists>g.\n                      i = IMor g \\<and>\n                      g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n       \\<Longrightarrow> \\<exists>g.\n                            i = IMor g \\<and>\n                            g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "assume a: \"L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i\n\ngoal (2 subgoals):\n 1. \\<And>B i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n       \\<exists>g.\n          i = IMor g \\<and>\n          g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n 2. \\<And>x1 e B i.\n       \\<lbrakk>\\<And>B i.\n                   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                   \\<exists>g.\n                      i = IMor g \\<and>\n                      g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n       \\<Longrightarrow> \\<exists>g.\n                            i = IMor g \\<and>\n                            g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "show \"\\<exists> g. i = IMor g \\<and> g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       i = IMor g \\<and>\n       g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "proof(rule exI[where ?x=\"Id iC Ty\\<lbrakk>A\\<rbrakk>\"], rule conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. i = IMor (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n 2. id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "have sig: \"Sig iS \\<triangleright> Vx : A  \\<turnstile> Vx : B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B", "using a"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B", "by (simp add: InterpExprWellDefined)"], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B\n\ngoal (2 subgoals):\n 1. i = IMor (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n 2. id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "hence aEqb: \"A = B\""], ["proof (prove)\nusing this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B\n\ngoal (1 subgoal):\n 1. A = B", "by (simp add: SigId)"], ["proof (state)\nthis:\n  A = B\n\ngoal (2 subgoals):\n 1. i = IMor (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n 2. id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "have ty: \"A \\<in> BaseTypes iS\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> Ty\\<^bsub>iS\\<^esub>", "using aEqb sig SigTyId"], ["proof (prove)\nusing this:\n  A = B\n  Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B\n  Sig ?S \\<triangleright> Vx : ?A \\<turnstile> Vx : ?A \\<Longrightarrow>\n  ?A \\<in> Ty\\<^bsub>?S\\<^esub>\n\ngoal (1 subgoal):\n 1. A \\<in> Ty\\<^bsub>iS\\<^esub>", "by simp"], ["proof (state)\nthis:\n  A \\<in> Ty\\<^bsub>iS\\<^esub>\n\ngoal (2 subgoals):\n 1. i = IMor (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n 2. id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "hence \"L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> (IMor (Id iC Ty\\<lbrakk>A\\<rbrakk>))\""], ["proof (prove)\nusing this:\n  A \\<in> Ty\\<^bsub>iS\\<^esub>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> IMor\n                           (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> IMor\n                         (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. i = IMor (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n 2. id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "thus \"i = IMor (Category.Id iC Ty\\<lbrakk>A\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> IMor\n                         (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. i = IMor (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)", "using a aEqb Functional"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> IMor\n                         (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i\n  A = B\n  \\<lbrakk>L\\<lbrakk>?\\<phi>\\<rbrakk> \\<rightarrow> ?i1.0;\n   L\\<lbrakk>?\\<phi>\\<rbrakk> \\<rightarrow> ?i2.0\\<rbrakk>\n  \\<Longrightarrow> ?i1.0 = ?i2.0\n\ngoal (1 subgoal):\n 1. i = IMor (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)", "by simp"], ["proof (state)\nthis:\n  i = IMor (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "show \"(Id iC Ty\\<lbrakk>A\\<rbrakk>) maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "using aEqb ICat It[of A] Category.Cidm[of iC \"Ty\\<lbrakk>A\\<rbrakk>\"] ty"], ["proof (prove)\nusing this:\n  A = B\n  Category iC\n  A \\<in> Ty\\<^bsub>iS\\<^esub> \\<Longrightarrow>\n  Ty\\<lbrakk>A\\<rbrakk> \\<in> obj\\<^bsub>iC\\<^esub>\n  \\<lbrakk>Category iC;\n   Ty\\<lbrakk>A\\<rbrakk> \\<in> obj\\<^bsub>iC\\<^esub>\\<rbrakk>\n  \\<Longrightarrow> id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>A\\<rbrakk>\n  A \\<in> Ty\\<^bsub>iS\\<^esub>\n\ngoal (1 subgoal):\n 1. id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "by simp"], ["proof (state)\nthis:\n  id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>g.\n     i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B i.\n       \\<lbrakk>\\<And>B i.\n                   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                   \\<exists>g.\n                      i = IMor g \\<and>\n                      g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n       \\<Longrightarrow> \\<exists>g.\n                            i = IMor g \\<and>\n                            g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "}"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : ?B2\\<rbrakk> \\<rightarrow> ?i2 \\<Longrightarrow>\n  \\<exists>g.\n     ?i2 = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>?B2\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B i.\n       \\<lbrakk>\\<And>B i.\n                   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                   \\<exists>g.\n                      i = IMor g \\<and>\n                      g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n       \\<Longrightarrow> \\<exists>g.\n                            i = IMor g \\<and>\n                            g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "{"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : ?B2\\<rbrakk> \\<rightarrow> ?i2 \\<Longrightarrow>\n  \\<exists>g.\n     ?i2 = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>?B2\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B i.\n       \\<lbrakk>\\<And>B i.\n                   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                   \\<exists>g.\n                      i = IMor g \\<and>\n                      g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n       \\<Longrightarrow> \\<exists>g.\n                            i = IMor g \\<and>\n                            g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "fix f e B i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 e B i.\n       \\<lbrakk>\\<And>B i.\n                   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                   \\<exists>g.\n                      i = IMor g \\<and>\n                      g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n       \\<Longrightarrow> \\<exists>g.\n                            i = IMor g \\<and>\n                            g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "assume a: \"\\<And> B i . L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow> \\<exists>g. i = IMor g \\<and> g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\"\n               and b: \"L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : ?B\\<rbrakk> \\<rightarrow> ?i \\<Longrightarrow>\n  \\<exists>g.\n     ?i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>?B\\<rbrakk>\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B i.\n       \\<lbrakk>\\<And>B i.\n                   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                   \\<exists>g.\n                      i = IMor g \\<and>\n                      g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n        L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n       \\<Longrightarrow> \\<exists>g.\n                            i = IMor g \\<and>\n                            g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "show \"\\<exists>g. i = IMor g \\<and> g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       i = IMor g \\<and>\n       g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "using a b"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : ?B\\<rbrakk> \\<rightarrow> ?i \\<Longrightarrow>\n  \\<exists>g.\n     ?i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>?B\\<rbrakk>\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       i = IMor g \\<and>\n       g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>B i.\n                L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                \\<exists>g.\n                   i = IMor g \\<and>\n                   g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n     L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n    \\<Longrightarrow> \\<exists>g.\n                         i = IMor g \\<and>\n                         g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "from b"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i", "obtain g B' where g: \"(Sig iS \\<triangleright> Vx : A \\<turnstile> e : B') \\<and> (f \\<in> Sig iS : B' \\<rightarrow> B) \\<and> (L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> (IMor g))\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. (\\<And>B' g.\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n        f \\<in> Sig iS : B' \\<rightarrow> B \\<and>\n        L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> IMor\n                               g \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n  f \\<in> Sig iS : B' \\<rightarrow> B \\<and>\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>B i.\n                L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                \\<exists>g.\n                   i = IMor g \\<and>\n                   g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n     L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n    \\<Longrightarrow> \\<exists>g.\n                         i = IMor g \\<and>\n                         g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "from a"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : ?B\\<rbrakk> \\<rightarrow> ?i \\<Longrightarrow>\n  \\<exists>g.\n     ?i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>?B\\<rbrakk>", "have gmaps: \"g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B'\\<rbrakk>\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : ?B\\<rbrakk> \\<rightarrow> ?i \\<Longrightarrow>\n  \\<exists>g.\n     ?i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>?B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B'\\<rbrakk>", "using g"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : ?B\\<rbrakk> \\<rightarrow> ?i \\<Longrightarrow>\n  \\<exists>g.\n     ?i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>?B\\<rbrakk>\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n  f \\<in> Sig iS : B' \\<rightarrow> B \\<and>\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B'\\<rbrakk>", "by auto"], ["proof (state)\nthis:\n  g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B'\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>B i.\n                L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                \\<exists>g.\n                   i = IMor g \\<and>\n                   g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n     L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n    \\<Longrightarrow> \\<exists>g.\n                         i = IMor g \\<and>\n                         g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "have fmaps: \"Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B'\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B'\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "using g If"], ["proof (prove)\nusing this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n  f \\<in> Sig iS : B' \\<rightarrow> B \\<and>\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> IMor g\n  ?f \\<in> Sig iS : ?A \\<rightarrow> ?B \\<Longrightarrow>\n  Fn\\<lbrakk>?f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>?A\\<rbrakk> to Ty\\<lbrakk>?B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B'\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "by simp"], ["proof (state)\nthis:\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B'\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>B i.\n                L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                \\<exists>g.\n                   i = IMor g \\<and>\n                   g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n     L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n    \\<Longrightarrow> \\<exists>g.\n                         i = IMor g \\<and>\n                         g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "have \"(g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>) maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g ;;\\<^bsub>iC\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "using ICat fmaps gmaps Category.Ccompt[of \"iC\" g]"], ["proof (prove)\nusing this:\n  Category iC\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B'\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n  g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B'\\<rbrakk>\n  \\<lbrakk>Category iC; g maps\\<^bsub>iC\\<^esub> ?X to ?Y;\n   ?g maps\\<^bsub>iC\\<^esub> ?Y to ?Z\\<rbrakk>\n  \\<Longrightarrow> g ;;\\<^bsub>iC\\<^esub>\n                    ?g maps\\<^bsub>iC\\<^esub> ?X to ?Z\n\ngoal (1 subgoal):\n 1. g ;;\\<^bsub>iC\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "by simp"], ["proof (state)\nthis:\n  g ;;\\<^bsub>iC\\<^esub>\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>B i.\n                L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                \\<exists>g.\n                   i = IMor g \\<and>\n                   g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n     L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n    \\<Longrightarrow> \\<exists>g.\n                         i = IMor g \\<and>\n                         g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "moreover"], ["proof (state)\nthis:\n  g ;;\\<^bsub>iC\\<^esub>\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>B i.\n                L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                \\<exists>g.\n                   i = IMor g \\<and>\n                   g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n     L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n    \\<Longrightarrow> \\<exists>g.\n                         i = IMor g \\<and>\n                         g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "have \"L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> (IMor (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> IMor\n                               (g ;;\\<^bsub>iC\\<^esub>\n                                Fn\\<lbrakk>f\\<rbrakk>)", "using g"], ["proof (prove)\nusing this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n  f \\<in> Sig iS : B' \\<rightarrow> B \\<and>\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> IMor\n                               (g ;;\\<^bsub>iC\\<^esub>\n                                Fn\\<lbrakk>f\\<rbrakk>)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> IMor\n                             (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>B i.\n                L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n                \\<exists>g.\n                   i = IMor g \\<and>\n                   g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n     L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\\<rbrakk>\n    \\<Longrightarrow> \\<exists>g.\n                         i = IMor g \\<and>\n                         g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "ultimately"], ["proof (chain)\npicking this:\n  g ;;\\<^bsub>iC\\<^esub>\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> IMor\n                             (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)", "show ?thesis"], ["proof (prove)\nusing this:\n  g ;;\\<^bsub>iC\\<^esub>\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> IMor\n                             (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       i = IMor g \\<and>\n       g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "using b Functional exI[where ?x = \"(g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\"]"], ["proof (prove)\nusing this:\n  g ;;\\<^bsub>iC\\<^esub>\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> IMor\n                             (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\n  \\<lbrakk>L\\<lbrakk>?\\<phi>\\<rbrakk> \\<rightarrow> ?i1.0;\n   L\\<lbrakk>?\\<phi>\\<rbrakk> \\<rightarrow> ?i2.0\\<rbrakk>\n  \\<Longrightarrow> ?i1.0 = ?i2.0\n  ?P (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>) \\<Longrightarrow>\n  \\<exists>x. ?P x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       i = IMor g \\<and>\n       g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "by simp"], ["proof (state)\nthis:\n  \\<exists>g.\n     i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>g.\n     i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>B i.\n              L\\<lbrakk>Vx : A \\<turnstile> ?ea2 : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n              \\<exists>g.\n                 i = IMor g \\<and>\n                 g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>;\n   L\\<lbrakk>Vx : A \\<turnstile> ?f2 E@ ?ea2 : ?B2\\<rbrakk> \\<rightarrow> ?i2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>g.\n                       ?i2 = IMor g \\<and>\n                       g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>?B2\\<rbrakk>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in Interpretation) Expr2Mor: \"L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> (IMor g) \\<Longrightarrow> (g maps\\<^bsub>iC \\<^esub>Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                          g \\<Longrightarrow>\n    g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                          g \\<Longrightarrow>\n    g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "assume a: \"L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> (IMor g)\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                          g \\<Longrightarrow>\n    g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "from MorphismsPreserved[of A e B \"(IMor g)\"]"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                        g \\<Longrightarrow>\n  \\<exists>ga.\n     IMor g = IMor ga \\<and>\n     ga maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "obtain g' where \"(IMor g) = (IMor g') \\<and> (g' maps\\<^bsub>iC \\<^esub>Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                        g \\<Longrightarrow>\n  \\<exists>ga.\n     IMor g = IMor ga \\<and>\n     ga maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. (\\<And>g'.\n        IMor g = IMor g' \\<and>\n        g' maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using a"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                        g \\<Longrightarrow>\n  \\<exists>ga.\n     IMor g = IMor ga \\<and>\n     ga maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>g'.\n        IMor g = IMor g' \\<and>\n        g' maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  IMor g = IMor g' \\<and>\n  g' maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                          g \\<Longrightarrow>\n    g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "thus ?thesis"], ["proof (prove)\nusing this:\n  IMor g = IMor g' \\<and>\n  g' maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "by simp"], ["proof (state)\nthis:\n  g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in Interpretation) WellDefinedExprInterp: \"\\<And> B . (Sig iS \\<triangleright> Vx : A  \\<turnstile> e : B) \\<Longrightarrow> (\\<exists> i . L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>B.\n       Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n       \\<exists>i.\n          L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i", "proof(induct e)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       Ex (Interp I Vx : A \\<turnstile> Vx : B)\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   Ex (Interp I Vx : A \\<turnstile> e : B);\n        Sig iS \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> Ex (Interp I Vx : A \\<turnstile> x1 E@ e : B)", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       Ex (Interp I Vx : A \\<turnstile> Vx : B)\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   Ex (Interp I Vx : A \\<turnstile> e : B);\n        Sig iS \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> Ex (Interp I Vx : A \\<turnstile> x1 E@ e : B)", "fix B"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       Ex (Interp I Vx : A \\<turnstile> Vx : B)\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   Ex (Interp I Vx : A \\<turnstile> e : B);\n        Sig iS \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> Ex (Interp I Vx : A \\<turnstile> x1 E@ e : B)", "assume sig: \"(Sig iS \\<triangleright> Vx : A  \\<turnstile> Vx : B)\""], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       Ex (Interp I Vx : A \\<turnstile> Vx : B)\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   Ex (Interp I Vx : A \\<turnstile> e : B);\n        Sig iS \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> Ex (Interp I Vx : A \\<turnstile> x1 E@ e : B)", "show \"\\<exists>i. L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i", "have aEqb: \"A = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A = B", "using sig"], ["proof (prove)\nusing this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B\n\ngoal (1 subgoal):\n 1. A = B", "by (simp add: SigId)"], ["proof (state)\nthis:\n  A = B\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i", "hence ty: \"A \\<in> BaseTypes iS\""], ["proof (prove)\nusing this:\n  A = B\n\ngoal (1 subgoal):\n 1. A \\<in> Ty\\<^bsub>iS\\<^esub>", "using sig SigTyId"], ["proof (prove)\nusing this:\n  A = B\n  Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : B\n  Sig ?S \\<triangleright> Vx : ?A \\<turnstile> Vx : ?A \\<Longrightarrow>\n  ?A \\<in> Ty\\<^bsub>?S\\<^esub>\n\ngoal (1 subgoal):\n 1. A \\<in> Ty\\<^bsub>iS\\<^esub>", "by simp"], ["proof (state)\nthis:\n  A \\<in> Ty\\<^bsub>iS\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i", "hence \"L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> (IMor (Id iC Ty\\<lbrakk>A\\<rbrakk>))\""], ["proof (prove)\nusing this:\n  A \\<in> Ty\\<^bsub>iS\\<^esub>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> IMor\n                           (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> IMor\n                         (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i", "thus ?thesis"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> IMor\n                         (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i", "using aEqb"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : A\\<rbrakk> \\<rightarrow> IMor\n                         (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk>)\n  A = B\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i", "by auto"], ["proof (state)\nthis:\n  \\<exists>i. L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>i. L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   Ex (Interp I Vx : A \\<turnstile> e : B);\n        Sig iS \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> Ex (Interp I Vx : A \\<turnstile> x1 E@ e : B)", "}"], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : ?B2 \\<Longrightarrow>\n  \\<exists>i.\n     L\\<lbrakk>Vx : A \\<turnstile> Vx : ?B2\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   Ex (Interp I Vx : A \\<turnstile> e : B);\n        Sig iS \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> Ex (Interp I Vx : A \\<turnstile> x1 E@ e : B)", "{"], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> Vx : ?B2 \\<Longrightarrow>\n  \\<exists>i.\n     L\\<lbrakk>Vx : A \\<turnstile> Vx : ?B2\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   Ex (Interp I Vx : A \\<turnstile> e : B);\n        Sig iS \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> Ex (Interp I Vx : A \\<turnstile> x1 E@ e : B)", "fix f e B"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   Ex (Interp I Vx : A \\<turnstile> e : B);\n        Sig iS \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> Ex (Interp I Vx : A \\<turnstile> x1 E@ e : B)", "assume a: \"\\<And> B . (Sig iS \\<triangleright> Vx : A  \\<turnstile> e : B) \\<Longrightarrow> (\\<exists> i . L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i)\"\n      and b: \"(Sig iS \\<triangleright> Vx : A  \\<turnstile> f E@ e : B)\""], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : ?B \\<Longrightarrow>\n  \\<exists>i. L\\<lbrakk>Vx : A \\<turnstile> e : ?B\\<rbrakk> \\<rightarrow> i\n  Sig iS \\<triangleright> Vx : A \\<turnstile> f E@ e : B\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   Ex (Interp I Vx : A \\<turnstile> e : B);\n        Sig iS \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> Ex (Interp I Vx : A \\<turnstile> x1 E@ e : B)", "show \"\\<exists> i . L\\<lbrakk>Vx : A  \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i", "from b"], ["proof (chain)\npicking this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> f E@ e : B", "obtain B' where B': \"(Sig iS \\<triangleright> (Vx : A  \\<turnstile> e : B')) \\<and> (f \\<in> Sig iS : B' \\<rightarrow> B)\""], ["proof (prove)\nusing this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> f E@ e : B\n\ngoal (1 subgoal):\n 1. (\\<And>B'.\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n        f \\<in> Sig iS : B' \\<rightarrow> B \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n  f \\<in> Sig iS : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i", "from B' a"], ["proof (chain)\npicking this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n  f \\<in> Sig iS : B' \\<rightarrow> B\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : ?B \\<Longrightarrow>\n  \\<exists>i. L\\<lbrakk>Vx : A \\<turnstile> e : ?B\\<rbrakk> \\<rightarrow> i", "obtain i where i: \"L\\<lbrakk>Vx : A  \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> i\""], ["proof (prove)\nusing this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n  f \\<in> Sig iS : B' \\<rightarrow> B\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : ?B \\<Longrightarrow>\n  \\<exists>i. L\\<lbrakk>Vx : A \\<turnstile> e : ?B\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i", "from MorphismsPreserved[of A e B' i] i"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n  \\<exists>g.\n     i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B'\\<rbrakk>\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> i", "obtain g where g: \"i = (IMor g)\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n  \\<exists>g.\n     i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B'\\<rbrakk>\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. (\\<And>g. i = IMor g \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  i = IMor g\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i", "thus ?thesis"], ["proof (prove)\nusing this:\n  i = IMor g\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i", "using B' i"], ["proof (prove)\nusing this:\n  i = IMor g\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B' \\<and>\n  f \\<in> Sig iS : B' \\<rightarrow> B\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i", "by auto"], ["proof (state)\nthis:\n  \\<exists>i.\n     L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>i.\n     L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk> \\<rightarrow> i\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>B.\n              Sig iS \\<triangleright> Vx : A \\<turnstile> ?ea2 : B \\<Longrightarrow>\n              \\<exists>i.\n                 L\\<lbrakk>Vx : A \\<turnstile> ?ea2 : B\\<rbrakk> \\<rightarrow> i;\n   Sig iS \\<triangleright> Vx : A \\<turnstile> ?f2 E@ ?ea2 : ?B2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       L\\<lbrakk>Vx : A \\<turnstile> ?f2 E@ ?ea2 : ?B2\\<rbrakk> \\<rightarrow> i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in Interpretation) Sig2Mor: assumes \"(Sig iS \\<triangleright> Vx : A  \\<turnstile> e : B)\" shows \"\\<exists> g . L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> (IMor g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g", "from WellDefinedExprInterp[of A e B] assms"], ["proof (chain)\npicking this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n  \\<exists>i. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B", "obtain i where i: \"L\\<lbrakk>Vx : A  \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i\""], ["proof (prove)\nusing this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n  \\<exists>i. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g", "thus ?thesis"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g", "using MorphismsPreserved[of A e B i] i"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i \\<Longrightarrow>\n  \\<exists>g.\n     i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> i\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g", "by auto"], ["proof (state)\nthis:\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal:\nNo subgoals!", "qed"], ["", "record ('t,'f) Axioms = \n  aAxioms :: \"('t,'f) Language set\" \n  aSignature :: \"('t,'f) Signature\" (\"aS\\<index>\")"], ["", "locale Axioms = \n  fixes Ax :: \"('t,'f) Axioms\" (structure)\n  assumes AxT: \"(aAxioms Ax) \\<subseteq> {(Vx : A \\<turnstile> e1 \\<equiv> e2 : B) | A B e1 e2 . Sig (aSignature Ax) \\<triangleright> (Vx : A \\<turnstile> e1 \\<equiv> e2 : B)}\"\n  assumes AxSig: \"Signature (aSignature Ax)\""], ["", "primrec Subst :: \"('t,'f) Expression \\<Rightarrow> ('t,'f) Expression \\<Rightarrow> ('t,'f) Expression\" (\"sub _ in _\" [81,81] 81) where\n  \"(sub e in Vx) = e\" | \"sub e in (f E@ d) = (f E@ (sub e in d))\""], ["", "lemma SubstXinE: \"(sub Vx in e) = e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sub Vx in e = e", "by(induct e, auto simp add: Subst_def)"], ["", "lemma SubstAssoc: \"sub a in (sub b in c) = sub (sub a in b) in c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sub a in sub b in c = sub sub a in b in c", "by(induct c, (simp add: Subst_def)+)"], ["", "lemma SubstWellDefined: \"\\<And> C . \\<lbrakk>Sig S \\<triangleright> (Vx : A \\<turnstile> e : B); Sig S \\<triangleright> (Vx : B \\<turnstile> d : C)\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> (Vx : A \\<turnstile> (sub e in d) : C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C", "proof(induct d)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> Vx : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : C\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> Vx : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : C\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "fix C"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> Vx : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : C\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "assume a: \"Sig S \\<triangleright> Vx : A \\<turnstile> e : B\" and b: \"Sig S \\<triangleright> Vx : B \\<turnstile> Vx : C\""], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B\n  Sig S \\<triangleright> Vx : B \\<turnstile> Vx : C\n\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> Vx : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : C\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "have BCeq: \"B = C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B = C", "using b SigId[of S]"], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : B \\<turnstile> Vx : C\n  Sig S \\<triangleright> Vx : ?A \\<turnstile> Vx : ?B \\<Longrightarrow>\n  ?A = ?B\n\ngoal (1 subgoal):\n 1. B = C", "by simp"], ["proof (state)\nthis:\n  B = C\n\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> Vx : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : C\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "thus \"Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : C\""], ["proof (prove)\nusing this:\n  B = C\n\ngoal (1 subgoal):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : C", "using a"], ["proof (prove)\nusing this:\n  B = C\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal (1 subgoal):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : C", "by simp"], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : C\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "}"], ["proof (state)\nthis:\n  \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n   Sig S \\<triangleright> Vx : B \\<turnstile> Vx : ?C2\\<rbrakk>\n  \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : ?C2\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "{"], ["proof (state)\nthis:\n  \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n   Sig S \\<triangleright> Vx : B \\<turnstile> Vx : ?C2\\<rbrakk>\n  \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in Vx : ?C2\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "fix f d C"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "assume ih: \"\\<And>B'. \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B; Sig S \\<triangleright> Vx : B \\<turnstile> d : B'\\<rbrakk>\n            \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : B'\" and a: \"Sig S \\<triangleright> Vx : A \\<turnstile> e : B\" \n    and b: \"Sig S \\<triangleright> Vx : B \\<turnstile> f E@ d : C\""], ["proof (state)\nthis:\n  \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n   Sig S \\<triangleright> Vx : B \\<turnstile> d : ?B'\\<rbrakk>\n  \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : ?B'\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B\n  Sig S \\<triangleright> Vx : B \\<turnstile> f E@ d : C\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "from b"], ["proof (chain)\npicking this:\n  Sig S \\<triangleright> Vx : B \\<turnstile> f E@ d : C", "obtain B' where B': \"f \\<in> Sig S : B' \\<rightarrow> C\" and d: \"Sig S \\<triangleright> Vx : B \\<turnstile> d : B'\""], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : B \\<turnstile> f E@ d : C\n\ngoal (1 subgoal):\n 1. (\\<And>B'.\n        \\<lbrakk>f \\<in> Sig S : B' \\<rightarrow> C;\n         Sig S \\<triangleright> Vx : B \\<turnstile> d : B'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  f \\<in> Sig S : B' \\<rightarrow> C\n  Sig S \\<triangleright> Vx : B \\<turnstile> d : B'\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "hence \"Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : B'\""], ["proof (prove)\nusing this:\n  f \\<in> Sig S : B' \\<rightarrow> C\n  Sig S \\<triangleright> Vx : B \\<turnstile> d : B'\n\ngoal (1 subgoal):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : B'", "using ih a"], ["proof (prove)\nusing this:\n  f \\<in> Sig S : B' \\<rightarrow> C\n  Sig S \\<triangleright> Vx : B \\<turnstile> d : B'\n  \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n   Sig S \\<triangleright> Vx : B \\<turnstile> d : ?B'\\<rbrakk>\n  \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : ?B'\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal (1 subgoal):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : B'", "by simp"], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : B'\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "hence \"Sig S \\<triangleright> Vx : A \\<turnstile> f E@ (sub e in d) : C\""], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : B'\n\ngoal (1 subgoal):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> f E@ sub e in d : C", "using B'"], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : B'\n  f \\<in> Sig S : B' \\<rightarrow> C\n\ngoal (1 subgoal):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> f E@ sub e in d : C", "by auto"], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> f E@ sub e in d : C\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n                    Sig S \\<triangleright> Vx : B \\<turnstile> d : C\\<rbrakk>\n                   \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in d : C;\n        Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n        Sig S \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C\\<rbrakk>\n       \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in x1 E@ d : C", "thus \"Sig S \\<triangleright> Vx : A \\<turnstile> (sub e in (f E@ d)) : C\""], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> f E@ sub e in d : C\n\ngoal (1 subgoal):\n 1. Sig S \\<triangleright> Vx : A \\<turnstile> sub e in f E@ d : C", "by auto"], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> sub e in f E@ d : C\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>B'.\n              \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n               Sig S \\<triangleright> Vx : B \\<turnstile> ?da2 : B'\\<rbrakk>\n              \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in ?da2 : B';\n   Sig S \\<triangleright> Vx : A \\<turnstile> e : B;\n   Sig S \\<triangleright> Vx : B \\<turnstile> ?f2 E@ ?da2 : ?C2\\<rbrakk>\n  \\<Longrightarrow> Sig S \\<triangleright> Vx : A \\<turnstile> sub e in ?f2 E@ ?da2 : ?C2\n\ngoal:\nNo subgoals!", "qed"], ["", "inductive_set (in Axioms) Theory where\n  Ax: \"A \\<in> (aAxioms Ax) \\<Longrightarrow> A \\<in> Theory\"\n| Refl: \"Sig (aSignature Ax) \\<triangleright> (Vx : A \\<turnstile> e : B) \\<Longrightarrow> (Vx : A \\<turnstile> e \\<equiv> e : B) \\<in> Theory\"\n| Symm: \"(Vx : A \\<turnstile> e1 \\<equiv> e2 : B) \\<in> Theory \\<Longrightarrow> (Vx : A \\<turnstile> e2 \\<equiv> e1 : B) \\<in> Theory\" \n| Trans: \"\\<lbrakk>(Vx : A \\<turnstile> e1 \\<equiv> e2 : B) \\<in> Theory ; (Vx : A \\<turnstile> e2 \\<equiv> e3 : B) \\<in> Theory\\<rbrakk> \\<Longrightarrow>\n           (Vx : A \\<turnstile> e1 \\<equiv> e3 : B) \\<in> Theory\"\n| Congr: \"\\<lbrakk>(Vx : A \\<turnstile> e1 \\<equiv> e2 : B) \\<in> Theory ; f \\<in> Sig (aSignature Ax) : B \\<rightarrow> C\\<rbrakk> \\<Longrightarrow> \n           (Vx : A \\<turnstile> (f E@ e1) \\<equiv> (f E@ e2) : C) \\<in> Theory\"\n| Subst: \"\\<lbrakk>Sig (aSignature Ax) \\<triangleright> (Vx : A \\<turnstile> e1 : B) ; (Vx : B \\<turnstile> e2 \\<equiv> e3 : C) \\<in> Theory\\<rbrakk> \\<Longrightarrow>\n           (Vx : A \\<turnstile> (sub e1 in e2) \\<equiv> (sub e1 in e3) : C) \\<in> Theory\""], ["", "lemma (in Axioms) Equiv2WellDefined: \"\\<phi> \\<in> Theory \\<Longrightarrow> Sig aS \\<triangleright> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Theory \\<Longrightarrow> Sig aS \\<triangleright> \\<phi>", "proof(rule Theory.induct,auto simp add: SubstWellDefined)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<phi> \\<in> Theory; A \\<in> aAxioms Ax\\<rbrakk>\n       \\<Longrightarrow> Sig aS \\<triangleright> A", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<phi> \\<in> Theory; A \\<in> aAxioms Ax\\<rbrakk>\n       \\<Longrightarrow> Sig aS \\<triangleright> A", "fix \\<phi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<phi> \\<in> Theory; A \\<in> aAxioms Ax\\<rbrakk>\n       \\<Longrightarrow> Sig aS \\<triangleright> A", "assume ax: \"\\<phi> \\<in> aAxioms Ax\""], ["proof (state)\nthis:\n  \\<phi> \\<in> aAxioms Ax\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<phi> \\<in> Theory; A \\<in> aAxioms Ax\\<rbrakk>\n       \\<Longrightarrow> Sig aS \\<triangleright> A", "from AxT"], ["proof (chain)\npicking this:\n  aAxioms Ax\n  \\<subseteq> {Vx : A \\<turnstile> e1\\<equiv>e2 : B |A B e1 e2.\n               Sig aS \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B}", "obtain A e1 e2 B where \"Sig aS \\<triangleright> Vx : A \\<turnstile> e1 \\<equiv> e2 : B\" and \"\\<phi> = Vx : A \\<turnstile> e1 \\<equiv> e2 : B\""], ["proof (prove)\nusing this:\n  aAxioms Ax\n  \\<subseteq> {Vx : A \\<turnstile> e1\\<equiv>e2 : B |A B e1 e2.\n               Sig aS \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B}\n\ngoal (1 subgoal):\n 1. (\\<And>A e1 e2 B.\n        \\<lbrakk>Sig aS \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B;\n         \\<phi> = Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using ax"], ["proof (prove)\nusing this:\n  aAxioms Ax\n  \\<subseteq> {Vx : A \\<turnstile> e1\\<equiv>e2 : B |A B e1 e2.\n               Sig aS \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B}\n  \\<phi> \\<in> aAxioms Ax\n\ngoal (1 subgoal):\n 1. (\\<And>A e1 e2 B.\n        \\<lbrakk>Sig aS \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B;\n         \\<phi> = Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Sig aS \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B\n  \\<phi> = Vx : A \\<turnstile> e1\\<equiv>e2 : B\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<phi> \\<in> Theory; A \\<in> aAxioms Ax\\<rbrakk>\n       \\<Longrightarrow> Sig aS \\<triangleright> A", "thus \"Sig aS \\<triangleright> \\<phi>\""], ["proof (prove)\nusing this:\n  Sig aS \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B\n  \\<phi> = Vx : A \\<turnstile> e1\\<equiv>e2 : B\n\ngoal (1 subgoal):\n 1. Sig aS \\<triangleright> \\<phi>", "by simp"], ["proof (state)\nthis:\n  Sig aS \\<triangleright> \\<phi>\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  ?\\<phi>'2 \\<in> aAxioms Ax \\<Longrightarrow>\n  Sig aS \\<triangleright> ?\\<phi>'2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in Axioms) Subst':\n  \"\\<And> C . \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C ; (Vx : A \\<turnstile> e1 \\<equiv> e2 : B) \\<in> Theory\\<rbrakk> \\<Longrightarrow> \n  (Vx : A \\<turnstile> (sub e1 in d) \\<equiv> (sub e2 in d) : C) \\<in> Theory\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C.\n       \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                         \\<in> Theory", "proof(induct d)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : C\n                         \\<in> Theory\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : C\n                         \\<in> Theory\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "fix C"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : C\n                         \\<in> Theory\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "assume a: \"Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : C\" and b: \"(Vx : A \\<turnstile> e1\\<equiv>e2 : B) \\<in> Theory\""], ["proof (state)\nthis:\n  Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : C\n  Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\n\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : C\n                         \\<in> Theory\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "have BCeq: \"B = C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B = C", "using a SigId[of aS B C]"], ["proof (prove)\nusing this:\n  Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : C\n  Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : C \\<Longrightarrow> B = C\n\ngoal (1 subgoal):\n 1. B = C", "by simp"], ["proof (state)\nthis:\n  B = C\n\ngoal (2 subgoals):\n 1. \\<And>C.\n       \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : C\n                         \\<in> Theory\n 2. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "thus \"(Vx : A \\<turnstile> (sub e1 in Vx) \\<equiv> (sub e2 in Vx) : C) \\<in> Theory\""], ["proof (prove)\nusing this:\n  B = C\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : C \\<in> Theory", "using b"], ["proof (prove)\nusing this:\n  B = C\n  Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : C \\<in> Theory", "by (simp add: Subst_def)"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : C \\<in> Theory\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "}"], ["proof (state)\nthis:\n  \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : ?C2;\n   Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n  \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : ?C2\n                    \\<in> Theory\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "{"], ["proof (state)\nthis:\n  \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> Vx : ?C2;\n   Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n  \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in Vx\\<equiv>sub e2 in Vx : ?C2\n                    \\<in> Theory\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "fix C f d"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "assume ih: \"\\<And> B' . \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : B'; (Vx : A \\<turnstile> e1\\<equiv>e2 : B) \\<in> Theory\\<rbrakk>\n      \\<Longrightarrow> (Vx : A \\<turnstile> (sub e1 in d) \\<equiv> (sub e2 in d) : B') \\<in> Theory\" and wd: \"Sig aS \\<triangleright> Vx : B \\<turnstile> f E@ d : C\" and\n      eq: \"(Vx : A \\<turnstile> e1 \\<equiv> e2 : B) \\<in> Theory\""], ["proof (state)\nthis:\n  \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : ?B';\n   Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n  \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : ?B'\n                    \\<in> Theory\n  Sig aS \\<triangleright> Vx : B \\<turnstile> f E@ d : C\n  Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "from wd"], ["proof (chain)\npicking this:\n  Sig aS \\<triangleright> Vx : B \\<turnstile> f E@ d : C", "obtain B' where B': \"f \\<in> Sig aS : B' \\<rightarrow> C\" and d: \"Sig aS \\<triangleright> Vx : B \\<turnstile> d : B'\""], ["proof (prove)\nusing this:\n  Sig aS \\<triangleright> Vx : B \\<turnstile> f E@ d : C\n\ngoal (1 subgoal):\n 1. (\\<And>B'.\n        \\<lbrakk>f \\<in> Sig aS : B' \\<rightarrow> C;\n         Sig aS \\<triangleright> Vx : B \\<turnstile> d : B'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  f \\<in> Sig aS : B' \\<rightarrow> C\n  Sig aS \\<triangleright> Vx : B \\<turnstile> d : B'\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "hence \"(Vx : A \\<turnstile> (sub e1 in d) \\<equiv> (sub e2 in d) : B') \\<in> Theory\""], ["proof (prove)\nusing this:\n  f \\<in> Sig aS : B' \\<rightarrow> C\n  Sig aS \\<triangleright> Vx : B \\<turnstile> d : B'\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : B' \\<in> Theory", "using ih eq"], ["proof (prove)\nusing this:\n  f \\<in> Sig aS : B' \\<rightarrow> C\n  Sig aS \\<triangleright> Vx : B \\<turnstile> d : B'\n  \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : ?B';\n   Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n  \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : ?B'\n                    \\<in> Theory\n  Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : B' \\<in> Theory", "by simp"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : B' \\<in> Theory\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "hence \"(Vx : A \\<turnstile> f E@ (sub e1 in d) \\<equiv> f E@ (sub e2 in d) : C) \\<in> Theory\""], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : B' \\<in> Theory\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> f E@ sub e1 in d\\<equiv>f E@ sub e2 in d : C\n    \\<in> Theory", "using B'"], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : B' \\<in> Theory\n  f \\<in> Sig aS : B' \\<rightarrow> C\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> f E@ sub e1 in d\\<equiv>f E@ sub e2 in d : C\n    \\<in> Theory", "by (simp add: Congr)"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> f E@ sub e1 in d\\<equiv>f E@ sub e2 in d : C\n  \\<in> Theory\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C.\n       \\<lbrakk>\\<And>C.\n                   \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> d : C;\n                    Vx : A \\<turnstile> e1\\<equiv>e2 : B\n                    \\<in> Theory\\<rbrakk>\n                   \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in d\\<equiv>sub e2 in d : C\n                                     \\<in> Theory;\n        Sig aS \\<triangleright> Vx : B \\<turnstile> x1 E@ d : C;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n       \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in x1 E@ d\\<equiv>sub e2 in x1 E@ d : C\n                         \\<in> Theory", "thus \"(Vx : A \\<turnstile> (sub e1 in (f E@ d)) \\<equiv> (sub e2 in (f E@ d)) : C) \\<in> Theory\""], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> f E@ sub e1 in d\\<equiv>f E@ sub e2 in d : C\n  \\<in> Theory\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub e1 in f E@ d\\<equiv>sub e2 in f E@ d : C\n    \\<in> Theory", "by (simp add: Subst_def)"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> sub e1 in f E@ d\\<equiv>sub e2 in f E@ d : C\n  \\<in> Theory\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>B'.\n              \\<lbrakk>Sig aS \\<triangleright> Vx : B \\<turnstile> ?da2 : B';\n               Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n              \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in ?da2\\<equiv>sub e2 in ?da2 : B'\n                                \\<in> Theory;\n   Sig aS \\<triangleright> Vx : B \\<turnstile> ?f2 E@ ?da2 : ?C2;\n   Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory\\<rbrakk>\n  \\<Longrightarrow> Vx : A \\<turnstile> sub e1 in ?f2 E@ ?da2\\<equiv>sub e2 in ?f2 E@ ?da2 : ?C2\n                    \\<in> Theory\n\ngoal:\nNo subgoals!", "qed"], ["", "(*This is the diamond problem in multiple inheritance -- both Interpretation and Axioms share a Signature*)"], ["", "locale Model = Interpretation I + Axioms Ax\n  for I :: \"('t,'f,'o,'m) Interpretation\" (structure)\n  and Ax :: \"('t,'f) Axioms\" +\n  assumes AxSound: \"\\<phi> \\<in> (aAxioms Ax) \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> (IBool True)\"\n  and Seq[simp]: \"(aSignature Ax) = iS\""], ["", "lemma (in Interpretation) Equiv:\n  assumes \"L\\<lbrakk>Vx : A \\<turnstile> e1 \\<equiv> e2 : B\\<rbrakk> \\<rightarrow> (IBool True)\"\n  shows \"\\<exists> g . (L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor g)) \\<and> (L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                              g \\<and>\n       L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                              g \\<and>\n       L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g", "from assms Sig2Mor[of A e1 B]"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g", "obtain g1 where g1: \"L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor g1)\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>g1.\n        L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                               g1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g1\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                              g \\<and>\n       L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g", "from assms Sig2Mor[of A e2 B]"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e2 : B \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g", "obtain g2 where g2: \"L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g2)\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e2 : B \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>g2.\n        L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                               g2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g2\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                              g \\<and>\n       L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g", "have \"L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> (IBool (g1 = g2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                     (g1 = g2)", "using g1 g2"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g1\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g2\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                     (g1 = g2)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   (g1 = g2)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                              g \\<and>\n       L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g", "hence \"g1 = g2\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   (g1 = g2)\n\ngoal (1 subgoal):\n 1. g1 = g2", "using assms Functional[of \"Vx : A \\<turnstile> e1\\<equiv>e2 : B\" \"(IBool True)\" \"IBool (g1=g2)\"]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   (g1 = g2)\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n      True;\n   L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                    (g1 = g2)\\<rbrakk>\n  \\<Longrightarrow> IBool True = IBool (g1 = g2)\n\ngoal (1 subgoal):\n 1. g1 = g2", "by simp"], ["proof (state)\nthis:\n  g1 = g2\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                              g \\<and>\n       L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g", "thus ?thesis"], ["proof (prove)\nusing this:\n  g1 = g2\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                              g \\<and>\n       L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g", "using g1 g2"], ["proof (prove)\nusing this:\n  g1 = g2\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g1\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g2\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                              g \\<and>\n       L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g", "by auto"], ["proof (state)\nthis:\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                            g \\<and>\n     L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in Interpretation) SubstComp: \"\\<And> h C . \\<lbrakk>(L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> (IMor g)) ; (L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> (IMor h))\\<rbrakk> \\<Longrightarrow>\n  (L\\<lbrakk>Vx : A \\<turnstile> (sub e in d) : C\\<rbrakk> \\<rightarrow> (IMor (g ;;\\<^bsub>iC\\<^esub> h)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>h C.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\ng;\n        L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n                              h\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                  (g ;;\\<^bsub>iC\\<^esub> h)", "proof(induct d,auto)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>h C.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\ng;\n        L\\<lbrakk>Vx : B \\<turnstile> Vx : C\\<rbrakk> \\<rightarrow> IMor\n                               h\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n         (g ;;\\<^bsub>iC\\<^esub> h)\n 2. \\<And>x1 d C Ba ga.\n       \\<lbrakk>\\<And>h C.\n                   L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n   h \\<Longrightarrow>\n                   L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n            (g ;;\\<^bsub>iC\\<^esub> h);\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : B \\<turnstile> d : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : B \\<turnstile> d : Ba\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub>\n                         (ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>))", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>h C.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\ng;\n        L\\<lbrakk>Vx : B \\<turnstile> Vx : C\\<rbrakk> \\<rightarrow> IMor\n                               h\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n         (g ;;\\<^bsub>iC\\<^esub> h)\n 2. \\<And>x1 d C Ba ga.\n       \\<lbrakk>\\<And>h C.\n                   L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n   h \\<Longrightarrow>\n                   L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n            (g ;;\\<^bsub>iC\\<^esub> h);\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : B \\<turnstile> d : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : B \\<turnstile> d : Ba\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub>\n                         (ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>))", "fix h C"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>h C.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\ng;\n        L\\<lbrakk>Vx : B \\<turnstile> Vx : C\\<rbrakk> \\<rightarrow> IMor\n                               h\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n         (g ;;\\<^bsub>iC\\<^esub> h)\n 2. \\<And>x1 d C Ba ga.\n       \\<lbrakk>\\<And>h C.\n                   L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n   h \\<Longrightarrow>\n                   L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n            (g ;;\\<^bsub>iC\\<^esub> h);\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : B \\<turnstile> d : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : B \\<turnstile> d : Ba\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub>\n                         (ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>))", "assume a: \"L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\" and b: \"L\\<lbrakk>Vx : B \\<turnstile> Vx : C\\<rbrakk> \\<rightarrow> (IMor h)\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : B \\<turnstile> Vx : C\\<rbrakk> \\<rightarrow> IMor h\n\ngoal (2 subgoals):\n 1. \\<And>h C.\n       \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\ng;\n        L\\<lbrakk>Vx : B \\<turnstile> Vx : C\\<rbrakk> \\<rightarrow> IMor\n                               h\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n         (g ;;\\<^bsub>iC\\<^esub> h)\n 2. \\<And>x1 d C Ba ga.\n       \\<lbrakk>\\<And>h C.\n                   L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n   h \\<Longrightarrow>\n                   L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n            (g ;;\\<^bsub>iC\\<^esub> h);\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : B \\<turnstile> d : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : B \\<turnstile> d : Ba\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub>\n                         (ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>))", "show \"L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor (g ;;\\<^bsub>iC\\<^esub> h)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "have beqc: \"B = C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B = C", "using b SigId[of iS B C] InterpExprWellDefined"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : B \\<turnstile> Vx : C\\<rbrakk> \\<rightarrow> IMor h\n  Sig iS \\<triangleright> Vx : B \\<turnstile> Vx : C \\<Longrightarrow> B = C\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk> \\<rightarrow> ?i \\<Longrightarrow>\n  Sig iS \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\n\ngoal (1 subgoal):\n 1. B = C", "by simp"], ["proof (state)\nthis:\n  B = C\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "have \"L\\<lbrakk>Vx : B \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> (IMor (Id iC Ty\\<lbrakk>B\\<rbrakk>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : B \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> IMor\n                           (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk>)", "using beqc b"], ["proof (prove)\nusing this:\n  B = C\n  L\\<lbrakk>Vx : B \\<turnstile> Vx : C\\<rbrakk> \\<rightarrow> IMor h\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : B \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> IMor\n                           (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk>)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : B \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> IMor\n                         (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "hence h: \"h = Id iC Ty\\<lbrakk>B\\<rbrakk>\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : B \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> IMor\n                         (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. h = id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk>", "using b beqc"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : B \\<turnstile> Vx : B\\<rbrakk> \\<rightarrow> IMor\n                         (id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk>)\n  L\\<lbrakk>Vx : B \\<turnstile> Vx : C\\<rbrakk> \\<rightarrow> IMor h\n  B = C\n\ngoal (1 subgoal):\n 1. h = id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk>", "by (auto simp add: Functional)"], ["proof (state)\nthis:\n  h = id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "have \"g maps\\<^bsub>iC \\<^esub>Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "using a MorphismsPreserved"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk> \\<rightarrow> ?i \\<Longrightarrow>\n  \\<exists>g.\n     ?i = IMor g \\<and>\n     g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>?A\\<rbrakk> to Ty\\<lbrakk>?B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>", "by auto"], ["proof (state)\nthis:\n  g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "hence \"g \\<in> Mor iC\" and \"cod\\<^bsub>iC\\<^esub> g = Ty\\<lbrakk>B\\<rbrakk>\""], ["proof (prove)\nusing this:\n  g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. g \\<in> mor\\<^bsub>iC\\<^esub> &&&\n    cod\\<^bsub>iC\\<^esub> g = Ty\\<lbrakk>B\\<rbrakk>", "by auto"], ["proof (state)\nthis:\n  g \\<in> mor\\<^bsub>iC\\<^esub>\n  cod\\<^bsub>iC\\<^esub> g = Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "hence \"(g ;;\\<^bsub>iC\\<^esub> h) = g\""], ["proof (prove)\nusing this:\n  g \\<in> mor\\<^bsub>iC\\<^esub>\n  cod\\<^bsub>iC\\<^esub> g = Ty\\<lbrakk>B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. g ;;\\<^bsub>iC\\<^esub> h = g", "using h ICat Category.Cidr[of iC g]"], ["proof (prove)\nusing this:\n  g \\<in> mor\\<^bsub>iC\\<^esub>\n  cod\\<^bsub>iC\\<^esub> g = Ty\\<lbrakk>B\\<rbrakk>\n  h = id\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk>\n  Category iC\n  \\<lbrakk>Category iC; g \\<in> mor\\<^bsub>iC\\<^esub>\\<rbrakk>\n  \\<Longrightarrow> g ;;\\<^bsub>iC\\<^esub>\n                    id\\<^bsub>iC\\<^esub> (cod\\<^bsub>iC\\<^esub> g) =\n                    g\n\ngoal (1 subgoal):\n 1. g ;;\\<^bsub>iC\\<^esub> h = g", "by simp"], ["proof (state)\nthis:\n  g ;;\\<^bsub>iC\\<^esub> h = g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "thus ?thesis"], ["proof (prove)\nusing this:\n  g ;;\\<^bsub>iC\\<^esub> h = g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "using beqc a"], ["proof (prove)\nusing this:\n  g ;;\\<^bsub>iC\\<^esub> h = g\n  B = C\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                          (g ;;\\<^bsub>iC\\<^esub> h)", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub> h)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub> h)\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C Ba ga.\n       \\<lbrakk>\\<And>h C.\n                   L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n   h \\<Longrightarrow>\n                   L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n            (g ;;\\<^bsub>iC\\<^esub> h);\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : B \\<turnstile> d : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : B \\<turnstile> d : Ba\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub>\n                         (ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>))", "}"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                                 g;\n   L\\<lbrakk>Vx : B \\<turnstile> Vx : ?C2\\<rbrakk> \\<rightarrow> IMor\n                            ?h2\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : ?C2\\<rbrakk> \\<rightarrow> IMor\n      (g ;;\\<^bsub>iC\\<^esub> ?h2)\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C Ba ga.\n       \\<lbrakk>\\<And>h C.\n                   L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n   h \\<Longrightarrow>\n                   L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n            (g ;;\\<^bsub>iC\\<^esub> h);\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : B \\<turnstile> d : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : B \\<turnstile> d : Ba\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub>\n                         (ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>))", "{"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                                 g;\n   L\\<lbrakk>Vx : B \\<turnstile> Vx : ?C2\\<rbrakk> \\<rightarrow> IMor\n                            ?h2\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : ?C2\\<rbrakk> \\<rightarrow> IMor\n      (g ;;\\<^bsub>iC\\<^esub> ?h2)\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C Ba ga.\n       \\<lbrakk>\\<And>h C.\n                   L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n   h \\<Longrightarrow>\n                   L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n            (g ;;\\<^bsub>iC\\<^esub> h);\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : B \\<turnstile> d : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : B \\<turnstile> d : Ba\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub>\n                         (ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>))", "fix f d C' h C"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 d C Ba ga.\n       \\<lbrakk>\\<And>h C.\n                   L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n   h \\<Longrightarrow>\n                   L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n            (g ;;\\<^bsub>iC\\<^esub> h);\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : B \\<turnstile> d : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : B \\<turnstile> d : Ba\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub>\n                         (ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>))", "assume \n      i: \"\\<And> h C' . L\\<lbrakk>Vx : B \\<turnstile> d : C'\\<rbrakk> \\<rightarrow> IMor h \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> (sub e in d) : C'\\<rbrakk> \\<rightarrow> (IMor (g ;;\\<^bsub>iC\\<^esub> h))\" and\n      a: \"L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\" \"f \\<in> Sig iS : C' \\<rightarrow> C\" \"L\\<lbrakk>Vx : B \\<turnstile> d : C'\\<rbrakk> \\<rightarrow> IMor h\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : B \\<turnstile> d : ?C'\\<rbrakk> \\<rightarrow> IMor\n                          ?h \\<Longrightarrow>\n  L\\<lbrakk>Vx : A \\<turnstile> sub e in d : ?C'\\<rbrakk> \\<rightarrow> IMor\n                                   (g ;;\\<^bsub>iC\\<^esub> ?h)\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n  f \\<in> Sig iS : C' \\<rightarrow> C\n  L\\<lbrakk>Vx : B \\<turnstile> d : C'\\<rbrakk> \\<rightarrow> IMor h\n\ngoal (1 subgoal):\n 1. \\<And>x1 d C Ba ga.\n       \\<lbrakk>\\<And>h C.\n                   L\\<lbrakk>Vx : B \\<turnstile> d : C\\<rbrakk> \\<rightarrow> IMor\n   h \\<Longrightarrow>\n                   L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n            (g ;;\\<^bsub>iC\\<^esub> h);\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n        Sig iS \\<triangleright> Vx : B \\<turnstile> d : Ba;\n        x1 \\<in> Sig iS : Ba \\<rightarrow> C;\n        L\\<lbrakk>Vx : B \\<turnstile> d : Ba\\<rbrakk> \\<rightarrow> IMor\n                               ga\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n                        (g ;;\\<^bsub>iC\\<^esub>\n                         (ga ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>x1\\<rbrakk>))", "show \"L\\<lbrakk>Vx : A \\<turnstile> f E@ (sub e in d) : C\\<rbrakk> \\<rightarrow> (IMor (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "have \"L\\<lbrakk>Vx : A \\<turnstile> (sub e in d) : C'\\<rbrakk> \\<rightarrow> (IMor (g ;;\\<^bsub>iC\\<^esub> h))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C'\\<rbrakk> \\<rightarrow> IMor\n                                    (g ;;\\<^bsub>iC\\<^esub> h)", "using i a"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : B \\<turnstile> d : ?C'\\<rbrakk> \\<rightarrow> IMor\n                          ?h \\<Longrightarrow>\n  L\\<lbrakk>Vx : A \\<turnstile> sub e in d : ?C'\\<rbrakk> \\<rightarrow> IMor\n                                   (g ;;\\<^bsub>iC\\<^esub> ?h)\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n  f \\<in> Sig iS : C' \\<rightarrow> C\n  L\\<lbrakk>Vx : B \\<turnstile> d : C'\\<rbrakk> \\<rightarrow> IMor h\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C'\\<rbrakk> \\<rightarrow> IMor\n                                    (g ;;\\<^bsub>iC\\<^esub> h)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C'\\<rbrakk> \\<rightarrow> IMor\n                                  (g ;;\\<^bsub>iC\\<^esub> h)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "moreover"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C'\\<rbrakk> \\<rightarrow> IMor\n                                  (g ;;\\<^bsub>iC\\<^esub> h)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "hence \"Sig iS \\<triangleright> Vx : A \\<turnstile> (sub e in d) : C'\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C'\\<rbrakk> \\<rightarrow> IMor\n                                  (g ;;\\<^bsub>iC\\<^esub> h)\n\ngoal (1 subgoal):\n 1. Sig iS \\<triangleright> Vx : A \\<turnstile> sub e in d : C'", "using InterpExprWellDefined"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C'\\<rbrakk> \\<rightarrow> IMor\n                                  (g ;;\\<^bsub>iC\\<^esub> h)\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk> \\<rightarrow> ?i \\<Longrightarrow>\n  Sig iS \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\n\ngoal (1 subgoal):\n 1. Sig iS \\<triangleright> Vx : A \\<turnstile> sub e in d : C'", "by simp"], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> sub e in d : C'\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "ultimately"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C'\\<rbrakk> \\<rightarrow> IMor\n                                  (g ;;\\<^bsub>iC\\<^esub> h)\n  Sig iS \\<triangleright> Vx : A \\<turnstile> sub e in d : C'", "have 1: \"L\\<lbrakk>Vx : A \\<turnstile> f E@ (sub e in d) : C\\<rbrakk> \\<rightarrow> (IMor ((g ;;\\<^bsub>iC\\<^esub> h) ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C'\\<rbrakk> \\<rightarrow> IMor\n                                  (g ;;\\<^bsub>iC\\<^esub> h)\n  Sig iS \\<triangleright> Vx : A \\<turnstile> sub e in d : C'\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)", "using a(2)"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e in d : C'\\<rbrakk> \\<rightarrow> IMor\n                                  (g ;;\\<^bsub>iC\\<^esub> h)\n  Sig iS \\<triangleright> Vx : A \\<turnstile> sub e in d : C'\n  f \\<in> Sig iS : C' \\<rightarrow> C\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n(g ;;\\<^bsub>iC\\<^esub> h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "have \"g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\" and \"h maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk> to Ty\\<lbrakk>C'\\<rbrakk>\" and \"Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>C'\\<rbrakk> to Ty\\<lbrakk>C\\<rbrakk>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk> &&&\n    h maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk> to Ty\\<lbrakk>C'\\<rbrakk> &&&\n    Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>C'\\<rbrakk> to Ty\\<lbrakk>C\\<rbrakk>", "using a If Expr2Mor"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n  f \\<in> Sig iS : C' \\<rightarrow> C\n  L\\<lbrakk>Vx : B \\<turnstile> d : C'\\<rbrakk> \\<rightarrow> IMor h\n  ?f \\<in> Sig iS : ?A \\<rightarrow> ?B \\<Longrightarrow>\n  Fn\\<lbrakk>?f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>?A\\<rbrakk> to Ty\\<lbrakk>?B\\<rbrakk>\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk> \\<rightarrow> IMor\n                           ?g \\<Longrightarrow>\n  ?g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>?A\\<rbrakk> to Ty\\<lbrakk>?B\\<rbrakk>\n\ngoal (1 subgoal):\n 1. g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk> &&&\n    h maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk> to Ty\\<lbrakk>C'\\<rbrakk> &&&\n    Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>C'\\<rbrakk> to Ty\\<lbrakk>C\\<rbrakk>", "by simp+"], ["proof (state)\nthis:\n  g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n  h maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk> to Ty\\<lbrakk>C'\\<rbrakk>\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>C'\\<rbrakk> to Ty\\<lbrakk>C\\<rbrakk>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "hence \"g \\<approx>>\\<^bsub>iC\\<^esub> h\" and \"h \\<approx>>\\<^bsub>iC\\<^esub> (Fn\\<lbrakk>f\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n  h maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk> to Ty\\<lbrakk>C'\\<rbrakk>\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>C'\\<rbrakk> to Ty\\<lbrakk>C\\<rbrakk>\n\ngoal (1 subgoal):\n 1. g \\<approx>>\\<^bsub>iC\\<^esub> h &&&\n    h \\<approx>>\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>", "using MapsToCompDef[of iC]"], ["proof (prove)\nusing this:\n  g maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>A\\<rbrakk> to Ty\\<lbrakk>B\\<rbrakk>\n  h maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>B\\<rbrakk> to Ty\\<lbrakk>C'\\<rbrakk>\n  Fn\\<lbrakk>f\\<rbrakk> maps\\<^bsub>iC\\<^esub> Ty\\<lbrakk>C'\\<rbrakk> to Ty\\<lbrakk>C\\<rbrakk>\n  \\<lbrakk>?f maps\\<^bsub>iC\\<^esub> ?X to ?Y;\n   ?g maps\\<^bsub>iC\\<^esub> ?Y to ?Z\\<rbrakk>\n  \\<Longrightarrow> ?f \\<approx>>\\<^bsub>iC\\<^esub> ?g\n\ngoal (1 subgoal):\n 1. g \\<approx>>\\<^bsub>iC\\<^esub> h &&&\n    h \\<approx>>\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>", "by simp+"], ["proof (state)\nthis:\n  g \\<approx>>\\<^bsub>iC\\<^esub> h\n  h \\<approx>>\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "hence \"(g ;;\\<^bsub>iC\\<^esub> h) ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk> = g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  g \\<approx>>\\<^bsub>iC\\<^esub> h\n  h \\<approx>>\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>\n\ngoal (1 subgoal):\n 1. g ;;\\<^bsub>iC\\<^esub> h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk> =\n    g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)", "using ICat Category.Cassoc[of iC]"], ["proof (prove)\nusing this:\n  g \\<approx>>\\<^bsub>iC\\<^esub> h\n  h \\<approx>>\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>\n  Category iC\n  \\<lbrakk>Category iC; ?f \\<approx>>\\<^bsub>iC\\<^esub> ?g;\n   ?g \\<approx>>\\<^bsub>iC\\<^esub> ?h\\<rbrakk>\n  \\<Longrightarrow> ?f ;;\\<^bsub>iC\\<^esub> ?g ;;\\<^bsub>iC\\<^esub> ?h =\n                    ?f ;;\\<^bsub>iC\\<^esub> (?g ;;\\<^bsub>iC\\<^esub> ?h)\n\ngoal (1 subgoal):\n 1. g ;;\\<^bsub>iC\\<^esub> h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk> =\n    g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)", "by simp"], ["proof (state)\nthis:\n  g ;;\\<^bsub>iC\\<^esub> h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk> =\n  g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "thus ?thesis"], ["proof (prove)\nusing this:\n  g ;;\\<^bsub>iC\\<^esub> h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk> =\n  g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "using 1"], ["proof (prove)\nusing this:\n  g ;;\\<^bsub>iC\\<^esub> h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk> =\n  g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n(g ;;\\<^bsub>iC\\<^esub> h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n  (g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n(g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ sub e in d : C\\<rbrakk> \\<rightarrow> IMor\n(g ;;\\<^bsub>iC\\<^esub> (h ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>h C'.\n              L\\<lbrakk>Vx : B \\<turnstile> ?da2 : C'\\<rbrakk> \\<rightarrow> IMor\n  h \\<Longrightarrow>\n              L\\<lbrakk>Vx : A \\<turnstile> sub e in ?da2 : C'\\<rbrakk> \\<rightarrow> IMor\n           (g ;;\\<^bsub>iC\\<^esub> h);\n   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g;\n   ?f2 \\<in> Sig iS : ?C'2 \\<rightarrow> ?C2;\n   L\\<lbrakk>Vx : B \\<turnstile> ?da2 : ?C'2\\<rbrakk> \\<rightarrow> IMor\n                               ?h2\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> ?f2 E@ sub e in ?da2 : ?C2\\<rbrakk> \\<rightarrow> IMor\n                         (g ;;\\<^bsub>iC\\<^esub>\n                          (?h2 ;;\\<^bsub>iC\\<^esub>\n                           Fn\\<lbrakk>?f2\\<rbrakk>))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in Model) Sound: \"\\<phi> \\<in> Theory \\<Longrightarrow>  L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Theory \\<Longrightarrow>\n    L\\<lbrakk>\\<phi>\\<rbrakk> \\<rightarrow> IBool True", "proof(rule Theory.induct, (simp_all add: AxSound)+)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>A e B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                  True\n 2. \\<And>A e1 e2 B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 3. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 4. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 5. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "{"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>A e B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                  True\n 2. \\<And>A e1 e2 B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 3. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 4. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 5. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "fix A e B"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>A e B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                  True\n 2. \\<And>A e1 e2 B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 3. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 4. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 5. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "assume sig: \"Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\""], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal (5 subgoals):\n 1. \\<And>A e B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                  True\n 2. \\<And>A e1 e2 B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 3. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 4. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 5. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "show \"L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                                   True", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                                   True", "from sig Sig2Mor[of A e B]"], ["proof (chain)\npicking this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g", "obtain g where g: \"L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> (IMor g)\""], ["proof (prove)\nusing this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                              g \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                                   True", "thus ?thesis"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                                   True", "using InterpEq[of I A e B g e g]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor g\n  \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                                 g;\n   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk> \\<rightarrow> IMor\n                         g\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n             (g = g)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                                   True", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                                 True\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>e : B\\<rbrakk> \\<rightarrow> IBool\n                                 True\n\ngoal (4 subgoals):\n 1. \\<And>A e1 e2 B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 3. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 4. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "}"], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : ?A2 \\<turnstile> ?e2 : ?B2 \\<Longrightarrow>\n  L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e2\\<equiv>?e2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n   True\n\ngoal (4 subgoals):\n 1. \\<And>A e1 e2 B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 3. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 4. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "{"], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : ?A2 \\<turnstile> ?e2 : ?B2 \\<Longrightarrow>\n  L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e2\\<equiv>?e2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n   True\n\ngoal (4 subgoals):\n 1. \\<And>A e1 e2 B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 3. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 4. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "fix A e1 e2 B"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>A e1 e2 B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 3. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 4. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "assume a: \"L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (4 subgoals):\n 1. \\<And>A e1 e2 B.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 3. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 4. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "show \"L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "from a"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True", "obtain g where g1: \"L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor g)\" and g2: \"L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g)\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n  g;\n         L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                                g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Equiv"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0\\<equiv>?e2.0 : ?B\\<rbrakk> \\<rightarrow> IBool\n     True \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0 : ?B\\<rbrakk> \\<rightarrow> IMor\n                                 g \\<and>\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e2.0 : ?B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n  g;\n         L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                                g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "thus ?thesis"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e1 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (3 subgoals):\n 1. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 3. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "}"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e1.2\\<equiv>?e2.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n       True \\<Longrightarrow>\n  L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e2.2\\<equiv>?e1.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n       True\n\ngoal (3 subgoals):\n 1. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 3. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "{"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e1.2\\<equiv>?e2.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n       True \\<Longrightarrow>\n  L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e2.2\\<equiv>?e1.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n       True\n\ngoal (3 subgoals):\n 1. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 3. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "fix A e1 e2 B e3"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 3. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "assume a: \"L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> (IBool True)\" and b: \"L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (3 subgoals):\n 1. \\<And>A e1 e2 B e3.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        Vx : A \\<turnstile> e2\\<equiv>e3 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                    True\n 2. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 3. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "show \"L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "from a"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True", "obtain g where g1: \"L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor g)\" and g2: \"L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g)\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n  g;\n         L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                                g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Equiv"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0\\<equiv>?e2.0 : ?B\\<rbrakk> \\<rightarrow> IBool\n     True \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0 : ?B\\<rbrakk> \\<rightarrow> IMor\n                                 g \\<and>\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e2.0 : ?B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n  g;\n         L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                                g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "from b"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True", "obtain g' where g1': \"L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g')\" and g2': \"L\\<lbrakk>Vx : A \\<turnstile> e3 : B\\<rbrakk> \\<rightarrow> (IMor g')\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (1 subgoal):\n 1. (\\<And>g'.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n  g';\n         L\\<lbrakk>Vx : A \\<turnstile> e3 : B\\<rbrakk> \\<rightarrow> IMor\n                                g'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Equiv"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e2\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0\\<equiv>?e2.0 : ?B\\<rbrakk> \\<rightarrow> IBool\n     True \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0 : ?B\\<rbrakk> \\<rightarrow> IMor\n                                 g \\<and>\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e2.0 : ?B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>g'.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n  g';\n         L\\<lbrakk>Vx : A \\<turnstile> e3 : B\\<rbrakk> \\<rightarrow> IMor\n                                g'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g'\n  L\\<lbrakk>Vx : A \\<turnstile> e3 : B\\<rbrakk> \\<rightarrow> IMor g'\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "have eq: \"g = g'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g = g'", "using g2 g1'"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g'\n\ngoal (1 subgoal):\n 1. g = g'", "using Functional"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g'\n  \\<lbrakk>L\\<lbrakk>?\\<phi>\\<rbrakk> \\<rightarrow> ?i1.0;\n   L\\<lbrakk>?\\<phi>\\<rbrakk> \\<rightarrow> ?i2.0\\<rbrakk>\n  \\<Longrightarrow> ?i1.0 = ?i2.0\n\ngoal (1 subgoal):\n 1. g = g'", "by auto"], ["proof (state)\nthis:\n  g = g'\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "thus ?thesis"], ["proof (prove)\nusing this:\n  g = g'\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "using eq g1 g2'"], ["proof (prove)\nusing this:\n  g = g'\n  g = g'\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e3 : B\\<rbrakk> \\<rightarrow> IMor g'\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                     True", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e3 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (2 subgoals):\n 1. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 2. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "}"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e1.2\\<equiv>?e2.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n                True;\n   L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e2.2\\<equiv>?e3.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n        True\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e1.2\\<equiv>?e3.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n                         True\n\ngoal (2 subgoals):\n 1. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 2. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "{"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e1.2\\<equiv>?e2.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n                True;\n   L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e2.2\\<equiv>?e3.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n        True\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e1.2\\<equiv>?e3.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n                         True\n\ngoal (2 subgoals):\n 1. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 2. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "fix A e1 e2 B f C"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 2. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "assume a: \"L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> (IBool True)\" and b: \"f \\<in> Sig iS : B \\<rightarrow> C\""], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  f \\<in> Sig iS : B \\<rightarrow> C\n\ngoal (2 subgoals):\n 1. \\<And>A e1 e2 B f C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Vx : A \\<turnstile> e1\\<equiv>e2 : B \\<in> Theory;\n        L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n   True;\n        f \\<in> Sig iS : B \\<rightarrow> C\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n                              True\n 2. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "show \"L\\<lbrakk>Vx : A \\<turnstile> (f E@ e1) \\<equiv> (f E@ e2) : C\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n         True", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n         True", "from a"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True", "obtain g where g1: \"L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor g)\" and g2: \"L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> (IMor g)\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n  g;\n         L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                                g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Equiv"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1\\<equiv>e2 : B\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0\\<equiv>?e2.0 : ?B\\<rbrakk> \\<rightarrow> IBool\n     True \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0 : ?B\\<rbrakk> \\<rightarrow> IMor\n                                 g \\<and>\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e2.0 : ?B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n  g;\n         L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor\n                                g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n         True", "have s1: \"Sig iS \\<triangleright> Vx : A  \\<turnstile> e1 : B\" and s2: \"Sig iS \\<triangleright> Vx : A  \\<turnstile> e2 : B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B &&&\n    Sig iS \\<triangleright> Vx : A \\<turnstile> e2 : B", "using g1 g2 InterpExprWellDefined"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk> \\<rightarrow> ?i \\<Longrightarrow>\n  Sig iS \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\n\ngoal (1 subgoal):\n 1. Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B &&&\n    Sig iS \\<triangleright> Vx : A \\<turnstile> e2 : B", "by simp+"], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e2 : B\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n         True", "have \"L\\<lbrakk>Vx : A  \\<turnstile> (f E@ e1) : C\\<rbrakk> \\<rightarrow> (IMor (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))\"\n        and \"L\\<lbrakk>Vx : A  \\<turnstile> (f E@ e2) : C\\<rbrakk> \\<rightarrow> (IMor (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e1 : C\\<rbrakk> \\<rightarrow> IMor\n                                (g ;;\\<^bsub>iC\\<^esub>\n                                 Fn\\<lbrakk>f\\<rbrakk>) &&&\n    L\\<lbrakk>Vx : A \\<turnstile> f E@ e2 : C\\<rbrakk> \\<rightarrow> IMor\n                                (g ;;\\<^bsub>iC\\<^esub>\n                                 Fn\\<lbrakk>f\\<rbrakk>)", "using b g1 s1 g2 s2"], ["proof (prove)\nusing this:\n  f \\<in> Sig iS : B \\<rightarrow> C\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B\n  L\\<lbrakk>Vx : A \\<turnstile> e2 : B\\<rbrakk> \\<rightarrow> IMor g\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e2 : B\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e1 : C\\<rbrakk> \\<rightarrow> IMor\n                                (g ;;\\<^bsub>iC\\<^esub>\n                                 Fn\\<lbrakk>f\\<rbrakk>) &&&\n    L\\<lbrakk>Vx : A \\<turnstile> f E@ e2 : C\\<rbrakk> \\<rightarrow> IMor\n                                (g ;;\\<^bsub>iC\\<^esub>\n                                 Fn\\<lbrakk>f\\<rbrakk>)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e1 : C\\<rbrakk> \\<rightarrow> IMor\n                              (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e2 : C\\<rbrakk> \\<rightarrow> IMor\n                              (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n         True", "thus ?thesis"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e1 : C\\<rbrakk> \\<rightarrow> IMor\n                              (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e2 : C\\<rbrakk> \\<rightarrow> IMor\n                              (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n         True", "using InterpEqEq[of A \"(f E@ e1)\" C \"(g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\"]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e1 : C\\<rbrakk> \\<rightarrow> IMor\n                              (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e2 : C\\<rbrakk> \\<rightarrow> IMor\n                              (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>)\n  \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> f E@ e1 : C\\<rbrakk> \\<rightarrow> IMor\n (g ;;\\<^bsub>iC\\<^esub> Fn\\<lbrakk>f\\<rbrakk>);\n   L\\<lbrakk>Vx : A \\<turnstile> ?e2.0 : C\\<rbrakk> \\<rightarrow> IMor\n                             (g ;;\\<^bsub>iC\\<^esub>\n                              Fn\\<lbrakk>f\\<rbrakk>)\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>?e2.0 : C\\<rbrakk> \\<rightarrow> IBool\n                       True\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n         True", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n       True\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e1\\<equiv>f E@ e2 : C\\<rbrakk> \\<rightarrow> IBool\n       True\n\ngoal (1 subgoal):\n 1. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "}"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e1.2\\<equiv>?e2.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n                True;\n   ?f2 \\<in> Sig iS : ?B2 \\<rightarrow> ?C2\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A2 \\<turnstile> ?f2 E@ ?e1.2\\<equiv>?f2 E@ ?e2.2 : ?C2\\<rbrakk> \\<rightarrow> IBool\n True\n\ngoal (1 subgoal):\n 1. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "{"], ["proof (state)\nthis:\n  \\<lbrakk>L\\<lbrakk>Vx : ?A2 \\<turnstile> ?e1.2\\<equiv>?e2.2 : ?B2\\<rbrakk> \\<rightarrow> IBool\n                True;\n   ?f2 \\<in> Sig iS : ?B2 \\<rightarrow> ?C2\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A2 \\<turnstile> ?f2 E@ ?e1.2\\<equiv>?f2 E@ ?e2.2 : ?C2\\<rbrakk> \\<rightarrow> IBool\n True\n\ngoal (1 subgoal):\n 1. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "fix A e1 B e2 e3 C"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "assume a: \"Sig iS \\<triangleright> (Vx : A \\<turnstile> e1 : B)\" and b: \"L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (state)\nthis:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B\n  L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (1 subgoal):\n 1. \\<And>A e1 B e2 e3 C.\n       \\<lbrakk>\\<phi> \\<in> Theory;\n        Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B;\n        Vx : B \\<turnstile> e2\\<equiv>e3 : C \\<in> Theory;\n        L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n   True\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n  True", "show \"L\\<lbrakk>Vx : A \\<turnstile> (sub e1 in e2) \\<equiv> (sub e1 in e3) : C\\<rbrakk> \\<rightarrow> (IBool True)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                   True", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                   True", "from b"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n                                   True", "obtain g where g1: \"L\\<lbrakk>Vx : B \\<turnstile> e2 : C\\<rbrakk> \\<rightarrow> (IMor g)\" and g2: \"L\\<lbrakk>Vx : B \\<turnstile> e3 : C\\<rbrakk> \\<rightarrow> (IMor g)\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n                                   True\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : B \\<turnstile> e2 : C\\<rbrakk> \\<rightarrow> IMor\n  g;\n         L\\<lbrakk>Vx : B \\<turnstile> e3 : C\\<rbrakk> \\<rightarrow> IMor\n                                g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Equiv"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : B \\<turnstile> e2\\<equiv>e3 : C\\<rbrakk> \\<rightarrow> IBool\n                                   True\n  L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0\\<equiv>?e2.0 : ?B\\<rbrakk> \\<rightarrow> IBool\n     True \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0 : ?B\\<rbrakk> \\<rightarrow> IMor\n                                 g \\<and>\n     L\\<lbrakk>Vx : ?A \\<turnstile> ?e2.0 : ?B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : B \\<turnstile> e2 : C\\<rbrakk> \\<rightarrow> IMor\n  g;\n         L\\<lbrakk>Vx : B \\<turnstile> e3 : C\\<rbrakk> \\<rightarrow> IMor\n                                g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : B \\<turnstile> e2 : C\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : B \\<turnstile> e3 : C\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                   True", "from a Sig2Mor[of A e1 B]"], ["proof (chain)\npicking this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g", "obtain f where f: \"L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> (IMor f)\""], ["proof (prove)\nusing this:\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B\n  Sig iS \\<triangleright> Vx : A \\<turnstile> e1 : B \\<Longrightarrow>\n  \\<exists>g.\n     L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor g\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor\n                               f \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor f\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                   True", "have \"L\\<lbrakk>Vx : A \\<turnstile> (sub e1 in e2) : C\\<rbrakk> \\<rightarrow> (IMor (f ;;\\<^bsub>iC\\<^esub> g))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2 : C\\<rbrakk> \\<rightarrow> IMor\n                                     (f ;;\\<^bsub>iC\\<^esub> g)", "using SubstComp g1 f"], ["proof (prove)\nusing this:\n  \\<lbrakk>L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk> \\<rightarrow> IMor\n                                    ?g;\n   L\\<lbrakk>Vx : ?B \\<turnstile> ?d : ?C\\<rbrakk> \\<rightarrow> IMor\n                            ?h\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A \\<turnstile> sub ?e in ?d : ?C\\<rbrakk> \\<rightarrow> IMor\n                 (?g ;;\\<^bsub>iC\\<^esub> ?h)\n  L\\<lbrakk>Vx : B \\<turnstile> e2 : C\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor f\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2 : C\\<rbrakk> \\<rightarrow> IMor\n                                     (f ;;\\<^bsub>iC\\<^esub> g)", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2 : C\\<rbrakk> \\<rightarrow> IMor\n                                   (f ;;\\<^bsub>iC\\<^esub> g)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                   True", "moreover"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2 : C\\<rbrakk> \\<rightarrow> IMor\n                                   (f ;;\\<^bsub>iC\\<^esub> g)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                   True", "have \"L\\<lbrakk>Vx : A \\<turnstile> (sub e1 in e3) : C\\<rbrakk> \\<rightarrow> (IMor (f ;;\\<^bsub>iC\\<^esub> g))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IMor\n                                     (f ;;\\<^bsub>iC\\<^esub> g)", "using SubstComp g2 f"], ["proof (prove)\nusing this:\n  \\<lbrakk>L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk> \\<rightarrow> IMor\n                                    ?g;\n   L\\<lbrakk>Vx : ?B \\<turnstile> ?d : ?C\\<rbrakk> \\<rightarrow> IMor\n                            ?h\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A \\<turnstile> sub ?e in ?d : ?C\\<rbrakk> \\<rightarrow> IMor\n                 (?g ;;\\<^bsub>iC\\<^esub> ?h)\n  L\\<lbrakk>Vx : B \\<turnstile> e3 : C\\<rbrakk> \\<rightarrow> IMor g\n  L\\<lbrakk>Vx : A \\<turnstile> e1 : B\\<rbrakk> \\<rightarrow> IMor f\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IMor\n                                     (f ;;\\<^bsub>iC\\<^esub> g)", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IMor\n                                   (f ;;\\<^bsub>iC\\<^esub> g)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                   True", "ultimately"], ["proof (chain)\npicking this:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2 : C\\<rbrakk> \\<rightarrow> IMor\n                                   (f ;;\\<^bsub>iC\\<^esub> g)\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IMor\n                                   (f ;;\\<^bsub>iC\\<^esub> g)", "show ?thesis"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2 : C\\<rbrakk> \\<rightarrow> IMor\n                                   (f ;;\\<^bsub>iC\\<^esub> g)\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IMor\n                                   (f ;;\\<^bsub>iC\\<^esub> g)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                   True", "using InterpEqEq"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2 : C\\<rbrakk> \\<rightarrow> IMor\n                                   (f ;;\\<^bsub>iC\\<^esub> g)\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IMor\n                                   (f ;;\\<^bsub>iC\\<^esub> g)\n  \\<lbrakk>L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0 : ?B\\<rbrakk> \\<rightarrow> IMor\n ?g;\n   L\\<lbrakk>Vx : ?A \\<turnstile> ?e2.0 : ?B\\<rbrakk> \\<rightarrow> IMor\n                               ?g\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A \\<turnstile> ?e1.0\\<equiv>?e2.0 : ?B\\<rbrakk> \\<rightarrow> IBool\n                       True\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                   True", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                 True\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> sub e1 in e2\\<equiv>sub e1 in e3 : C\\<rbrakk> \\<rightarrow> IBool\n                 True\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>Sig iS \\<triangleright> Vx : ?A2 \\<turnstile> ?e1.2 : ?B2;\n   L\\<lbrakk>Vx : ?B2 \\<turnstile> ?e2.2\\<equiv>?e3.2 : ?C2\\<rbrakk> \\<rightarrow> IBool\n        True\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A2 \\<turnstile> sub ?e1.2 in ?e2.2\\<equiv>sub ?e1.2 in ?e3.2 : ?C2\\<rbrakk> \\<rightarrow> IBool\n             True\n\ngoal:\nNo subgoals!", "qed"], ["", "record ('t,'f) TermEquivClT = \n  TDomain :: 't\n  TExprSet :: \"('t,'f) Expression set\"\n  TCodomain :: 't"], ["", "locale ZFAxioms = Ax : Axioms Ax for Ax :: \"(ZF,ZF) Axioms\" (structure) +\n  assumes     fnzf: \"BaseFunctions (aSignature Ax) \\<in> range explode\""], ["", "lemma [simp]: \"ZFAxioms T \\<Longrightarrow> Axioms T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow> Axioms T", "by (simp add: ZFAxioms_def)"], ["", "(*(tree depth, rule number, components)*)"], ["", "primrec Expr2ZF :: \"(ZF,ZF) Expression \\<Rightarrow> ZF\" where\n    Expr2ZFVx: \"Expr2ZF Vx = ZFTriple (nat2Nat 0) (nat2Nat 0) Empty\" \n  | Expr2ZFfe: \"Expr2ZF (f E@ e) = ZFTriple (SucNat (ZFTFst (Expr2ZF e)))\n                                 (nat2Nat 1)\n                                 (Opair f (Expr2ZF e))\""], ["", "definition ZF2Expr :: \"ZF \\<Rightarrow> (ZF,ZF) Expression\" where\n  \"ZF2Expr = inv Expr2ZF\""], ["", "definition \"ZFDepth = Nat2nat o ZFTFst\""], ["", "definition \"ZFType = Nat2nat o ZFTSnd\""], ["", "definition \"ZFData = ZFTThd\""], ["", "lemma Expr2ZFType0: \"ZFType (Expr2ZF e) = 0 \\<Longrightarrow> e = Vx\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFType (Expr2ZF e) = 0 \\<Longrightarrow> e = Vx", "by(cases e,auto simp add: ZFType_def ZFTSnd Elem_Empty_Nat Elem_SucNat_Nat ZFSucNeq0)"], ["", "lemma ZFDepthInNat: \"Elem (ZFTFst (Expr2ZF e)) Nat\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Elem (ZFTFst (Expr2ZF e)) HOLZF.Nat", "by(induct e, auto simp add:  ZFTFst HOLZF.Elem_Empty_Nat Elem_SucNat_Nat)"], ["", "lemma Expr2ZFType1: \"ZFType (Expr2ZF e) = 1 \\<Longrightarrow> \n  \\<exists> f e' . e = (f E@ e') \\<and> (Suc (ZFDepth (Expr2ZF e'))) = (ZFDepth (Expr2ZF e))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFType (Expr2ZF e) = 1 \\<Longrightarrow>\n    \\<exists>f e'.\n       e = f E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF e)", "by(cases e,auto simp add: ZFType_def ZFTSnd ZFDepth_def ZFTFst ZFZero ZFDepthInNat Nat2nat_SucNat)"], ["", "lemma Expr2ZFDepth0: \"ZFDepth (Expr2ZF e) = 0 \\<Longrightarrow> ZFType (Expr2ZF e) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFDepth (Expr2ZF e) = 0 \\<Longrightarrow> ZFType (Expr2ZF e) = 0", "by(cases e, auto simp add: ZFDepth_def ZFTFst ZFType_def ZFTSnd ZFSucNeq0 ZFDepthInNat)"], ["", "lemma Expr2ZFDepthSuc: \"ZFDepth (Expr2ZF e) = Suc n \\<Longrightarrow> ZFType (Expr2ZF e) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFDepth (Expr2ZF e) = Suc n \\<Longrightarrow> ZFType (Expr2ZF e) = 1", "by(cases e, auto simp add: ZFDepth_def ZFTFst ZFType_def ZFTSnd ZFSucZero ZFSucNeq0 ZFZero)"], ["", "lemma Expr2Data: \"ZFData (Expr2ZF (f E@ e)) = Opair f (Expr2ZF e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFData (Expr2ZF f E@ e) = Opair f (Expr2ZF e)", "by(auto simp add: ZFData_def ZFTThd)"], ["", "lemma Expr2ZFinj: \"inj Expr2ZF\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj Expr2ZF", "proof(auto simp add: inj_on_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y. Expr2ZF x = Expr2ZF y \\<Longrightarrow> x = y", "have a: \"\\<And> n e d . \\<lbrakk>n = ZFDepth (Expr2ZF e) ; Expr2ZF e = Expr2ZF d\\<rbrakk> \\<Longrightarrow> e = d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "show \"\\<And> e d . \\<lbrakk>n = ZFDepth (Expr2ZF e) ; Expr2ZF e = Expr2ZF d\\<rbrakk> \\<Longrightarrow> e = d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e d.\n       \\<lbrakk>n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "proof(induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e d.\n       \\<lbrakk>0 = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d\n 2. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e d.\n       \\<lbrakk>0 = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d\n 2. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "fix e d"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e d.\n       \\<lbrakk>0 = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d\n 2. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "assume a: \"0 = ZFDepth (Expr2ZF e)\" and b: \"Expr2ZF e = Expr2ZF d\""], ["proof (state)\nthis:\n  0 = ZFDepth (Expr2ZF e)\n  Expr2ZF e = Expr2ZF d\n\ngoal (2 subgoals):\n 1. \\<And>e d.\n       \\<lbrakk>0 = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d\n 2. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "have \"0 = ZFDepth (Expr2ZF d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 = ZFDepth (Expr2ZF d)", "using a b"], ["proof (prove)\nusing this:\n  0 = ZFDepth (Expr2ZF e)\n  Expr2ZF e = Expr2ZF d\n\ngoal (1 subgoal):\n 1. 0 = ZFDepth (Expr2ZF d)", "by simp"], ["proof (state)\nthis:\n  0 = ZFDepth (Expr2ZF d)\n\ngoal (2 subgoals):\n 1. \\<And>e d.\n       \\<lbrakk>0 = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d\n 2. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "hence \"e = Vx\" and \"d = Vx\""], ["proof (prove)\nusing this:\n  0 = ZFDepth (Expr2ZF d)\n\ngoal (1 subgoal):\n 1. e = Vx &&& d = Vx", "using a"], ["proof (prove)\nusing this:\n  0 = ZFDepth (Expr2ZF d)\n  0 = ZFDepth (Expr2ZF e)\n\ngoal (1 subgoal):\n 1. e = Vx &&& d = Vx", "by (simp add: Expr2ZFDepth0 Expr2ZFType0)+"], ["proof (state)\nthis:\n  e = Vx\n  d = Vx\n\ngoal (2 subgoals):\n 1. \\<And>e d.\n       \\<lbrakk>0 = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d\n 2. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "thus \"e = d\""], ["proof (prove)\nusing this:\n  e = Vx\n  d = Vx\n\ngoal (1 subgoal):\n 1. e = d", "by simp"], ["proof (state)\nthis:\n  e = d\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "}"], ["proof (state)\nthis:\n  \\<lbrakk>0 = ZFDepth (Expr2ZF ?e2); Expr2ZF ?e2 = Expr2ZF ?d2\\<rbrakk>\n  \\<Longrightarrow> ?e2 = ?d2\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "{"], ["proof (state)\nthis:\n  \\<lbrakk>0 = ZFDepth (Expr2ZF ?e2); Expr2ZF ?e2 = Expr2ZF ?d2\\<rbrakk>\n  \\<Longrightarrow> ?e2 = ?d2\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "fix n e d"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "assume ih: \"\\<And> e' d' . \\<lbrakk>n = ZFDepth (Expr2ZF e') ; Expr2ZF e' = Expr2ZF d'\\<rbrakk> \\<Longrightarrow> e' = d'\"\n          and a: \"Suc n = ZFDepth (Expr2ZF e)\" and b: \"Expr2ZF e = Expr2ZF d\""], ["proof (state)\nthis:\n  \\<lbrakk>n = ZFDepth (Expr2ZF ?e'); Expr2ZF ?e' = Expr2ZF ?d'\\<rbrakk>\n  \\<Longrightarrow> ?e' = ?d'\n  Suc n = ZFDepth (Expr2ZF e)\n  Expr2ZF e = Expr2ZF d\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "have \"ZFType (Expr2ZF e) = 1\" and \"ZFType (Expr2ZF d) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFType (Expr2ZF e) = 1 &&& ZFType (Expr2ZF d) = 1", "using a b Expr2ZFDepthSuc[of e n]"], ["proof (prove)\nusing this:\n  Suc n = ZFDepth (Expr2ZF e)\n  Expr2ZF e = Expr2ZF d\n  ZFDepth (Expr2ZF e) = Suc n \\<Longrightarrow> ZFType (Expr2ZF e) = 1\n\ngoal (1 subgoal):\n 1. ZFType (Expr2ZF e) = 1 &&& ZFType (Expr2ZF d) = 1", "by simp+"], ["proof (state)\nthis:\n  ZFType (Expr2ZF e) = 1\n  ZFType (Expr2ZF d) = 1\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "from this Expr2ZFType1[of e] Expr2ZFType1[of d]"], ["proof (chain)\npicking this:\n  ZFType (Expr2ZF e) = 1\n  ZFType (Expr2ZF d) = 1\n  ZFType (Expr2ZF e) = 1 \\<Longrightarrow>\n  \\<exists>f e'.\n     e = f E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF e)\n  ZFType (Expr2ZF d) = 1 \\<Longrightarrow>\n  \\<exists>f e'.\n     d = f E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF d)", "obtain fe fd e' d' \n          where e: \"e = (fe E@ e') \\<and> (Suc (ZFDepth (Expr2ZF e'))) = (ZFDepth (Expr2ZF e))\" and\n          d: \"d = (fd E@ d') \\<and> (Suc (ZFDepth (Expr2ZF d'))) = (ZFDepth (Expr2ZF d))\""], ["proof (prove)\nusing this:\n  ZFType (Expr2ZF e) = 1\n  ZFType (Expr2ZF d) = 1\n  ZFType (Expr2ZF e) = 1 \\<Longrightarrow>\n  \\<exists>f e'.\n     e = f E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF e)\n  ZFType (Expr2ZF d) = 1 \\<Longrightarrow>\n  \\<exists>f e'.\n     d = f E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF d)\n\ngoal (1 subgoal):\n 1. (\\<And>fe e' fd d'.\n        \\<lbrakk>e = fe E@ e' \\<and>\n                 Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF e);\n         d = fd E@ d' \\<and>\n         Suc (ZFDepth (Expr2ZF d')) = ZFDepth (Expr2ZF d)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  e = fe E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF e)\n  d = fd E@ d' \\<and> Suc (ZFDepth (Expr2ZF d')) = ZFDepth (Expr2ZF d)\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "hence \"Suc (ZFDepth (Expr2ZF e')) = Suc n\""], ["proof (prove)\nusing this:\n  e = fe E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF e)\n  d = fd E@ d' \\<and> Suc (ZFDepth (Expr2ZF d')) = ZFDepth (Expr2ZF d)\n\ngoal (1 subgoal):\n 1. Suc (ZFDepth (Expr2ZF e')) = Suc n", "using a"], ["proof (prove)\nusing this:\n  e = fe E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF e)\n  d = fd E@ d' \\<and> Suc (ZFDepth (Expr2ZF d')) = ZFDepth (Expr2ZF d)\n  Suc n = ZFDepth (Expr2ZF e)\n\ngoal (1 subgoal):\n 1. Suc (ZFDepth (Expr2ZF e')) = Suc n", "by simp"], ["proof (state)\nthis:\n  Suc (ZFDepth (Expr2ZF e')) = Suc n\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "hence ne: \"(ZFDepth (Expr2ZF e')) = n\""], ["proof (prove)\nusing this:\n  Suc (ZFDepth (Expr2ZF e')) = Suc n\n\ngoal (1 subgoal):\n 1. ZFDepth (Expr2ZF e') = n", "by (rule Suc_inject)"], ["proof (state)\nthis:\n  ZFDepth (Expr2ZF e') = n\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "have edat: \"ZFData (Expr2ZF e) = Opair fe (Expr2ZF e')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFData (Expr2ZF e) = Opair fe (Expr2ZF e')", "using e Expr2Data"], ["proof (prove)\nusing this:\n  e = fe E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF e)\n  ZFData (Expr2ZF ?f E@ ?e) = Opair ?f (Expr2ZF ?e)\n\ngoal (1 subgoal):\n 1. ZFData (Expr2ZF e) = Opair fe (Expr2ZF e')", "by simp"], ["proof (state)\nthis:\n  ZFData (Expr2ZF e) = Opair fe (Expr2ZF e')\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "have ddat: \"ZFData (Expr2ZF d) = Opair fd (Expr2ZF d')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFData (Expr2ZF d) = Opair fd (Expr2ZF d')", "using d Expr2Data"], ["proof (prove)\nusing this:\n  d = fd E@ d' \\<and> Suc (ZFDepth (Expr2ZF d')) = ZFDepth (Expr2ZF d)\n  ZFData (Expr2ZF ?f E@ ?e) = Opair ?f (Expr2ZF ?e)\n\ngoal (1 subgoal):\n 1. ZFData (Expr2ZF d) = Opair fd (Expr2ZF d')", "by simp"], ["proof (state)\nthis:\n  ZFData (Expr2ZF d) = Opair fd (Expr2ZF d')\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "have fd_eq_fe: \"fe = fd\" and \"(Expr2ZF e') = (Expr2ZF d')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fe = fd &&& Expr2ZF e' = Expr2ZF d'", "using edat ddat Opair b"], ["proof (prove)\nusing this:\n  ZFData (Expr2ZF e) = Opair fe (Expr2ZF e')\n  ZFData (Expr2ZF d) = Opair fd (Expr2ZF d')\n  (Opair ?a ?b = Opair ?c ?d) = (?a = ?c \\<and> ?b = ?d)\n  Expr2ZF e = Expr2ZF d\n\ngoal (1 subgoal):\n 1. fe = fd &&& Expr2ZF e' = Expr2ZF d'", "by auto"], ["proof (state)\nthis:\n  fe = fd\n  Expr2ZF e' = Expr2ZF d'\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "hence \"e' = d'\""], ["proof (prove)\nusing this:\n  fe = fd\n  Expr2ZF e' = Expr2ZF d'\n\ngoal (1 subgoal):\n 1. e' = d'", "using ne ih"], ["proof (prove)\nusing this:\n  fe = fd\n  Expr2ZF e' = Expr2ZF d'\n  ZFDepth (Expr2ZF e') = n\n  \\<lbrakk>n = ZFDepth (Expr2ZF ?e'); Expr2ZF ?e' = Expr2ZF ?d'\\<rbrakk>\n  \\<Longrightarrow> ?e' = ?d'\n\ngoal (1 subgoal):\n 1. e' = d'", "by auto"], ["proof (state)\nthis:\n  e' = d'\n\ngoal (1 subgoal):\n 1. \\<And>n e d.\n       \\<lbrakk>\\<And>e d.\n                   \\<lbrakk>n = ZFDepth (Expr2ZF e);\n                    Expr2ZF e = Expr2ZF d\\<rbrakk>\n                   \\<Longrightarrow> e = d;\n        Suc n = ZFDepth (Expr2ZF e); Expr2ZF e = Expr2ZF d\\<rbrakk>\n       \\<Longrightarrow> e = d", "thus \"e = d\""], ["proof (prove)\nusing this:\n  e' = d'\n\ngoal (1 subgoal):\n 1. e = d", "using e d fd_eq_fe"], ["proof (prove)\nusing this:\n  e' = d'\n  e = fe E@ e' \\<and> Suc (ZFDepth (Expr2ZF e')) = ZFDepth (Expr2ZF e)\n  d = fd E@ d' \\<and> Suc (ZFDepth (Expr2ZF d')) = ZFDepth (Expr2ZF d)\n  fe = fd\n\ngoal (1 subgoal):\n 1. e = d", "by auto"], ["proof (state)\nthis:\n  e = d\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>e' d'.\n              \\<lbrakk>?na2 = ZFDepth (Expr2ZF e');\n               Expr2ZF e' = Expr2ZF d'\\<rbrakk>\n              \\<Longrightarrow> e' = d';\n   Suc ?na2 = ZFDepth (Expr2ZF ?e2); Expr2ZF ?e2 = Expr2ZF ?d2\\<rbrakk>\n  \\<Longrightarrow> ?e2 = ?d2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>n = ZFDepth (Expr2ZF ?e); Expr2ZF ?e = Expr2ZF ?d\\<rbrakk>\n  \\<Longrightarrow> ?e = ?d\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?n = ZFDepth (Expr2ZF ?e); Expr2ZF ?e = Expr2ZF ?d\\<rbrakk>\n  \\<Longrightarrow> ?e = ?d\n\ngoal (1 subgoal):\n 1. \\<And>x y. Expr2ZF x = Expr2ZF y \\<Longrightarrow> x = y", "fix e d"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y. Expr2ZF x = Expr2ZF y \\<Longrightarrow> x = y", "show \"Expr2ZF e = Expr2ZF d \\<Longrightarrow> e = d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Expr2ZF e = Expr2ZF d \\<Longrightarrow> e = d", "using a"], ["proof (prove)\nusing this:\n  \\<lbrakk>?n = ZFDepth (Expr2ZF ?e); Expr2ZF ?e = Expr2ZF ?d\\<rbrakk>\n  \\<Longrightarrow> ?e = ?d\n\ngoal (1 subgoal):\n 1. Expr2ZF e = Expr2ZF d \\<Longrightarrow> e = d", "by auto"], ["proof (state)\nthis:\n  Expr2ZF e = Expr2ZF d \\<Longrightarrow> e = d\n\ngoal:\nNo subgoals!", "qed"], ["", "definition \"TermEquivClGen T A e B \\<equiv> {e' . (Vx : A \\<turnstile> e' \\<equiv> e : B) \\<in> Axioms.Theory T}\""], ["", "definition \"TermEquivCl' T A e B \\<equiv> \\<lparr> TDomain = A , TExprSet = TermEquivClGen T A e B , TCodomain = B\\<rparr>\""], ["", "definition m2ZF :: \"(ZF,ZF) TermEquivClT \\<Rightarrow> ZF\" where\n  \"m2ZF t \\<equiv> ZFTriple (TDomain t) (implode (Expr2ZF ` (TExprSet t))) (TCodomain t)\""], ["", "definition ZF2m :: \"(ZF,ZF) Axioms \\<Rightarrow> ZF \\<Rightarrow> (ZF,ZF) TermEquivClT\" where\n  \"ZF2m T \\<equiv> inv_into {TermEquivCl' T A e B | A e B . True} m2ZF\""], ["", "lemma TDomain: \"TDomain (TermEquivCl' T A e B) = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TDomain (TermEquivCl' T A e B) = A", "by (simp add: TermEquivCl'_def)"], ["", "lemma TCodomain: \"TCodomain (TermEquivCl' T A e B) = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TCodomain (TermEquivCl' T A e B) = B", "by (simp add: TermEquivCl'_def)"], ["", "primrec WellFormedToSet :: \"(ZF,ZF) Signature \\<Rightarrow> nat \\<Rightarrow> (ZF,ZF) Expression set\" where\n  WFS0: \"WellFormedToSet S 0 = {Vx}\"\n| WFSS: \"WellFormedToSet S (Suc n) = (WellFormedToSet S n) \\<union>\n                { f E@ e | f e . f \\<in> BaseFunctions S \\<and> e \\<in> (WellFormedToSet S n)}\""], ["", "lemma WellFormedToSetInRangeExplode: \"ZFAxioms T \\<Longrightarrow> (Expr2ZF ` (WellFormedToSet aS\\<^bsub>T\\<^esub> n)) \\<in> range explode\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<in> range explode", "proof((induct n),(simp add: WellFormedToSet_def SingletonInRangeExplode))"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "assume zfx: \"ZFAxioms T\" and ih: \"ZFAxioms T \\<Longrightarrow> Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<in> range explode\""], ["proof (state)\nthis:\n  ZFAxioms T\n  ZFAxioms T \\<Longrightarrow>\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<in> range explode\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "hence a: \"Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<in> range explode\""], ["proof (prove)\nusing this:\n  ZFAxioms T\n  ZFAxioms T \\<Longrightarrow>\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<in> range explode\n\ngoal (1 subgoal):\n 1. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<in> range explode", "by simp"], ["proof (state)\nthis:\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<in> range explode\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "have \"Expr2ZF ` { f E@ e | f e . f \\<in> BaseFunctions aS\\<^bsub>T\\<^esub> \\<and> e \\<in> (WellFormedToSet aS\\<^bsub>T\\<^esub> n)}\n    = (\\<lambda> (f, ze) . Expr2ZF (f E@ (ZF2Expr ze))) ` ((BaseFunctions aS\\<^bsub>T\\<^esub>) \\<times> Expr2ZF ` (WellFormedToSet aS\\<^bsub>T\\<^esub> n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Expr2ZF `\n    {f E@ e |f e.\n     f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n     e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n} =\n    (\\<lambda>(f, ze). Expr2ZF f E@ ZF2Expr ze) `\n    (Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<times>\n     Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)", "proof (auto simp add: image_Collect image_def ZF2Expr_def Expr2ZFinj)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f e.\n       \\<lbrakk>f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>;\n        e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>.\n                            \\<exists>y.\n                               (\\<exists>x\n   \\<in>WellFormedToSet aS\\<^bsub>T\\<^esub> n.\n                                   y = Expr2ZF x) \\<and>\n                               ZFTriple (SucNat (ZFTFst (Expr2ZF e)))\n                                (SucNat Empty) (Opair f (Expr2ZF e)) =\n                               ZFTriple\n                                (SucNat (ZFTFst (Expr2ZF (inv Expr2ZF y))))\n                                (SucNat Empty)\n                                (Opair x (Expr2ZF (inv Expr2ZF y)))\n 2. \\<And>xa xb.\n       \\<lbrakk>xa \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>;\n        xb \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            (\\<exists>f e.\n                                x = f E@ e \\<and>\n                                f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n                                e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub>\n   n) \\<and>\n                            ZFTriple (SucNat (ZFTFst (Expr2ZF xb)))\n                             (SucNat Empty) (Opair xa (Expr2ZF xb)) =\n                            Expr2ZF x", "fix f e"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f e.\n       \\<lbrakk>f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>;\n        e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>.\n                            \\<exists>y.\n                               (\\<exists>x\n   \\<in>WellFormedToSet aS\\<^bsub>T\\<^esub> n.\n                                   y = Expr2ZF x) \\<and>\n                               ZFTriple (SucNat (ZFTFst (Expr2ZF e)))\n                                (SucNat Empty) (Opair f (Expr2ZF e)) =\n                               ZFTriple\n                                (SucNat (ZFTFst (Expr2ZF (inv Expr2ZF y))))\n                                (SucNat Empty)\n                                (Opair x (Expr2ZF (inv Expr2ZF y)))\n 2. \\<And>xa xb.\n       \\<lbrakk>xa \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>;\n        xb \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            (\\<exists>f e.\n                                x = f E@ e \\<and>\n                                f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n                                e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub>\n   n) \\<and>\n                            ZFTriple (SucNat (ZFTFst (Expr2ZF xb)))\n                             (SucNat Empty) (Opair xa (Expr2ZF xb)) =\n                            Expr2ZF x", "assume f: \"f \\<in> BaseFunctions aS\\<^bsub>T\\<^esub>\" and e: \"e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n\""], ["proof (state)\nthis:\n  f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n  e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n\n\ngoal (2 subgoals):\n 1. \\<And>f e.\n       \\<lbrakk>f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>;\n        e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>.\n                            \\<exists>y.\n                               (\\<exists>x\n   \\<in>WellFormedToSet aS\\<^bsub>T\\<^esub> n.\n                                   y = Expr2ZF x) \\<and>\n                               ZFTriple (SucNat (ZFTFst (Expr2ZF e)))\n                                (SucNat Empty) (Opair f (Expr2ZF e)) =\n                               ZFTriple\n                                (SucNat (ZFTFst (Expr2ZF (inv Expr2ZF y))))\n                                (SucNat Empty)\n                                (Opair x (Expr2ZF (inv Expr2ZF y)))\n 2. \\<And>xa xb.\n       \\<lbrakk>xa \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>;\n        xb \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            (\\<exists>f e.\n                                x = f E@ e \\<and>\n                                f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n                                e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub>\n   n) \\<and>\n                            ZFTriple (SucNat (ZFTFst (Expr2ZF xb)))\n                             (SucNat Empty) (Opair xa (Expr2ZF xb)) =\n                            Expr2ZF x", "show \"\\<exists> x \\<in> BaseFunctions aS\\<^bsub>T\\<^esub>.\\<exists>y. (\\<exists> x \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n. y = Expr2ZF x) \\<and>\n      ZFTriple (SucNat (ZFTFst (Expr2ZF e))) (SucNat Empty) (Opair f (Expr2ZF e)) =\n      ZFTriple (SucNat (ZFTFst (Expr2ZF (inv Expr2ZF y)))) (SucNat Empty) (Opair x (Expr2ZF (inv Expr2ZF y)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>.\n       \\<exists>y.\n          (\\<exists>x\\<in>WellFormedToSet aS\\<^bsub>T\\<^esub> n.\n              y = Expr2ZF x) \\<and>\n          ZFTriple (SucNat (ZFTFst (Expr2ZF e))) (SucNat Empty)\n           (Opair f (Expr2ZF e)) =\n          ZFTriple (SucNat (ZFTFst (Expr2ZF (inv Expr2ZF y))))\n           (SucNat Empty) (Opair x (Expr2ZF (inv Expr2ZF y)))", "apply(rule bexI[where ?x = f], rule exI[where ?x = \"Expr2ZF e\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<exists>x\\<in>WellFormedToSet aS\\<^bsub>T\\<^esub> n.\n        Expr2ZF e = Expr2ZF x) \\<and>\n    ZFTriple (SucNat (ZFTFst (Expr2ZF e))) (SucNat Empty)\n     (Opair f (Expr2ZF e)) =\n    ZFTriple (SucNat (ZFTFst (Expr2ZF (inv Expr2ZF (Expr2ZF e)))))\n     (SucNat Empty) (Opair f (Expr2ZF (inv Expr2ZF (Expr2ZF e))))\n 2. f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>", "apply (auto simp add: Expr2ZFinj f e)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<exists>x\\<in>Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>.\n     \\<exists>y.\n        (\\<exists>x\\<in>WellFormedToSet aS\\<^bsub>T\\<^esub> n.\n            y = Expr2ZF x) \\<and>\n        ZFTriple (SucNat (ZFTFst (Expr2ZF e))) (SucNat Empty)\n         (Opair f (Expr2ZF e)) =\n        ZFTriple (SucNat (ZFTFst (Expr2ZF (inv Expr2ZF y)))) (SucNat Empty)\n         (Opair x (Expr2ZF (inv Expr2ZF y)))\n\ngoal (1 subgoal):\n 1. \\<And>xa xb.\n       \\<lbrakk>xa \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>;\n        xb \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            (\\<exists>f e.\n                                x = f E@ e \\<and>\n                                f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n                                e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub>\n   n) \\<and>\n                            ZFTriple (SucNat (ZFTFst (Expr2ZF xb)))\n                             (SucNat Empty) (Opair xa (Expr2ZF xb)) =\n                            Expr2ZF x", "show \"\\<exists>x. (\\<exists>f e. x = f E@ e \\<and> f \\<in> (BaseFunctions aS\\<^bsub>T\\<^esub>) \\<and> e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n) \\<and>\n              ZFTriple (SucNat (ZFTFst (Expr2ZF e))) (SucNat Empty) (Opair f (Expr2ZF e)) = Expr2ZF x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       (\\<exists>f e.\n           x = f E@ e \\<and>\n           f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n           e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n) \\<and>\n       ZFTriple (SucNat (ZFTFst (Expr2ZF e))) (SucNat Empty)\n        (Opair f (Expr2ZF e)) =\n       Expr2ZF x", "apply(rule exI[where ?x = \"f E@ e\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>fa ea.\n        f E@ e = fa E@ ea \\<and>\n        fa \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n        ea \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n) \\<and>\n    ZFTriple (SucNat (ZFTFst (Expr2ZF e))) (SucNat Empty)\n     (Opair f (Expr2ZF e)) =\n    Expr2ZF f E@ e", "apply (auto simp add: f e)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<exists>x.\n     (\\<exists>f e.\n         x = f E@ e \\<and>\n         f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n         e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n) \\<and>\n     ZFTriple (SucNat (ZFTFst (Expr2ZF e))) (SucNat Empty)\n      (Opair f (Expr2ZF e)) =\n     Expr2ZF x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n} =\n  (\\<lambda>(f, ze). Expr2ZF f E@ ZF2Expr ze) `\n  (Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<times>\n   Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "moreover"], ["proof (state)\nthis:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n} =\n  (\\<lambda>(f, ze). Expr2ZF f E@ ZF2Expr ze) `\n  (Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<times>\n   Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "have \"(BaseFunctions aS\\<^bsub>T\\<^esub>) \\<in> range explode\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<in> range explode", "using zfx ZFAxioms.fnzf"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  ZFAxioms ?Ax \\<Longrightarrow>\n  Fn\\<^bsub>aS\\<^bsub>?Ax\\<^esub>\\<^esub> \\<in> range explode\n\ngoal (1 subgoal):\n 1. Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<in> range explode", "by simp"], ["proof (state)\nthis:\n  Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<in> range explode\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "ultimately"], ["proof (chain)\npicking this:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n} =\n  (\\<lambda>(f, ze). Expr2ZF f E@ ZF2Expr ze) `\n  (Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<times>\n   Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<in> range explode", "have \"Expr2ZF ` { f E@ e | f e . f \\<in> BaseFunctions aS\\<^bsub>T\\<^esub> \\<and> e \\<in> (WellFormedToSet aS\\<^bsub>T\\<^esub> n)} \\<in> range explode\""], ["proof (prove)\nusing this:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n} =\n  (\\<lambda>(f, ze). Expr2ZF f E@ ZF2Expr ze) `\n  (Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<times>\n   Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<in> range explode\n\ngoal (1 subgoal):\n 1. Expr2ZF `\n    {f E@ e |f e.\n     f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n     e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n    \\<in> range explode", "using a ZFProdFnInRangeExplode"], ["proof (prove)\nusing this:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n} =\n  (\\<lambda>(f, ze). Expr2ZF f E@ ZF2Expr ze) `\n  (Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<times>\n   Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<in> range explode\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<in> range explode\n  \\<lbrakk>?A \\<in> range explode; ?B \\<in> range explode\\<rbrakk>\n  \\<Longrightarrow> ?f ` (?A \\<times> ?B) \\<in> range explode\n\ngoal (1 subgoal):\n 1. Expr2ZF `\n    {f E@ e |f e.\n     f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n     e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n    \\<in> range explode", "by simp"], ["proof (state)\nthis:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n  \\<in> range explode\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "moreover"], ["proof (state)\nthis:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n  \\<in> range explode\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "have \"Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n) = (Expr2ZF ` (WellFormedToSet aS\\<^bsub>T\\<^esub> n)) \\<union>\n                (Expr2ZF  ` { f E@ e | f e . f \\<in> BaseFunctions aS\\<^bsub>T\\<^esub> \\<and> e \\<in> (WellFormedToSet aS\\<^bsub>T\\<^esub> n)})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n) =\n    Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<union>\n    Expr2ZF `\n    {f E@ e |f e.\n     f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n     e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}", "by auto"], ["proof (state)\nthis:\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n) =\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<union>\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>ZFAxioms T \\<Longrightarrow>\n                Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n\n                \\<in> range explode;\n        ZFAxioms T\\<rbrakk>\n       \\<Longrightarrow> Expr2ZF `\n                         WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n                         \\<in> range explode", "ultimately"], ["proof (chain)\npicking this:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n  \\<in> range explode\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n) =\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<union>\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}", "show \"Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n) \\<in> range explode\""], ["proof (prove)\nusing this:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n  \\<in> range explode\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n) =\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<union>\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n\ngoal (1 subgoal):\n 1. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n    \\<in> range explode", "using ZFUnionInRangeExplode a"], ["proof (prove)\nusing this:\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n  \\<in> range explode\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n) =\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<union>\n  Expr2ZF `\n  {f E@ e |f e.\n   f \\<in> Fn\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n   e \\<in> WellFormedToSet aS\\<^bsub>T\\<^esub> n}\n  \\<lbrakk>?A \\<in> range explode; ?B \\<in> range explode\\<rbrakk>\n  \\<Longrightarrow> ?A \\<union> ?B \\<in> range explode\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n \\<in> range explode\n\ngoal (1 subgoal):\n 1. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n)\n    \\<in> range explode", "by simp"], ["proof (state)\nthis:\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> (Suc n) \\<in> range explode\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma WellDefinedToWellFormedSet: \"\\<And> B . (Sig S \\<triangleright> (Vx : A \\<turnstile> e : B)) \\<Longrightarrow> \\<exists>n. e \\<in> WellFormedToSet S n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n       \\<exists>n. e \\<in> WellFormedToSet S n", "proof(induct e)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       \\<exists>n. Vx \\<in> WellFormedToSet S n\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       \\<exists>n. Vx \\<in> WellFormedToSet S n\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "fix B"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       \\<exists>n. Vx \\<in> WellFormedToSet S n\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "assume \"Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B\""], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       Sig S \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n       \\<exists>n. Vx \\<in> WellFormedToSet S n\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "show \"\\<exists>n. Vx \\<in> WellFormedToSet S n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>n. Vx \\<in> WellFormedToSet S n", "by (rule exI[of _ 0], auto)"], ["proof (state)\nthis:\n  \\<exists>n. Vx \\<in> WellFormedToSet S n\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "}"], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> Vx : ?B2 \\<Longrightarrow>\n  \\<exists>n. Vx \\<in> WellFormedToSet S n\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "{"], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> Vx : ?B2 \\<Longrightarrow>\n  \\<exists>n. Vx \\<in> WellFormedToSet S n\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "fix f e B"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "assume ih: \"\\<And>B'. Sig S \\<triangleright> Vx : A \\<turnstile> e : B' \\<Longrightarrow> \\<exists>n. e \\<in> WellFormedToSet S n\"\n      and \"Sig S \\<triangleright> Vx : A \\<turnstile> (f E@ e) : B\""], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : ?B' \\<Longrightarrow>\n  \\<exists>n. e \\<in> WellFormedToSet S n\n  Sig S \\<triangleright> Vx : A \\<turnstile> f E@ e : B\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "from this"], ["proof (chain)\npicking this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : ?B' \\<Longrightarrow>\n  \\<exists>n. e \\<in> WellFormedToSet S n\n  Sig S \\<triangleright> Vx : A \\<turnstile> f E@ e : B", "obtain B' where \"Sig S \\<triangleright> (Vx : A \\<turnstile> e : B')\" and f: \"f \\<in> Sig S : B' \\<rightarrow> B\""], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : ?B' \\<Longrightarrow>\n  \\<exists>n. e \\<in> WellFormedToSet S n\n  Sig S \\<triangleright> Vx : A \\<turnstile> f E@ e : B\n\ngoal (1 subgoal):\n 1. (\\<And>B'.\n        \\<lbrakk>Sig S \\<triangleright> Vx : A \\<turnstile> e : B';\n         f \\<in> Sig S : B' \\<rightarrow> B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B'\n  f \\<in> Sig S : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "from this"], ["proof (chain)\npicking this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B'\n  f \\<in> Sig S : B' \\<rightarrow> B", "obtain n where a: \"e \\<in> WellFormedToSet S n\""], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B'\n  f \\<in> Sig S : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        e \\<in> WellFormedToSet S n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using ih"], ["proof (prove)\nusing this:\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : B'\n  f \\<in> Sig S : B' \\<rightarrow> B\n  Sig S \\<triangleright> Vx : A \\<turnstile> e : ?B' \\<Longrightarrow>\n  \\<exists>n. e \\<in> WellFormedToSet S n\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        e \\<in> WellFormedToSet S n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  e \\<in> WellFormedToSet S n\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "have ff: \"f \\<in> BaseFunctions S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> Fn\\<^bsub>S\\<^esub>", "using f"], ["proof (prove)\nusing this:\n  f \\<in> Sig S : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. f \\<in> Fn\\<^bsub>S\\<^esub>", "by auto"], ["proof (state)\nthis:\n  f \\<in> Fn\\<^bsub>S\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   Sig S \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n                   \\<exists>n. e \\<in> WellFormedToSet S n;\n        Sig S \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. x1 E@ e \\<in> WellFormedToSet S n", "show \"\\<exists>n. (f E@ e) \\<in> WellFormedToSet S n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>n. f E@ e \\<in> WellFormedToSet S n", "by(rule exI[of _ \"Suc n\"], auto simp add: a ff)"], ["proof (state)\nthis:\n  \\<exists>n. f E@ e \\<in> WellFormedToSet S n\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>B'.\n              Sig S \\<triangleright> Vx : A \\<turnstile> ?ea2 : B' \\<Longrightarrow>\n              \\<exists>n. ?ea2 \\<in> WellFormedToSet S n;\n   Sig S \\<triangleright> Vx : A \\<turnstile> ?f2 E@ ?ea2 : ?B2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>n. ?f2 E@ ?ea2 \\<in> WellFormedToSet S n\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma TermSetInSet: \"ZFAxioms T \\<Longrightarrow> Expr2ZF ` (TermEquivClGen T A e B) \\<in> range explode\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "assume zfax: \"ZFAxioms T\""], ["proof (state)\nthis:\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "have \"(TermEquivClGen T A e B) \\<subseteq> {e' . (Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e' : B))}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TermEquivClGen T A e B\n    \\<subseteq> {e'.\n                 Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e' : B}", "proof(auto simp add: TermEquivClGen_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       Vx : A \\<turnstile> x\\<equiv>e : B\n       \\<in> Axioms.Theory T \\<Longrightarrow>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x : B", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       Vx : A \\<turnstile> x\\<equiv>e : B\n       \\<in> Axioms.Theory T \\<Longrightarrow>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x : B", "assume \"Vx : A \\<turnstile> x\\<equiv>e : B \\<in> Axioms.Theory T\""], ["proof (state)\nthis:\n  Vx : A \\<turnstile> x\\<equiv>e : B \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       Vx : A \\<turnstile> x\\<equiv>e : B\n       \\<in> Axioms.Theory T \\<Longrightarrow>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x : B", "hence \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x\\<equiv>e : B\""], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> x\\<equiv>e : B \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x\\<equiv>e : B", "by (auto simp add: Axioms.Equiv2WellDefined zfax)"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x\\<equiv>e : B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       Vx : A \\<turnstile> x\\<equiv>e : B\n       \\<in> Axioms.Theory T \\<Longrightarrow>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x : B", "thus \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x : B\""], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x\\<equiv>e : B\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x : B", "by auto"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x : B\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TermEquivClGen T A e B\n  \\<subseteq> {e'.\n               Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e' : B}\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "also"], ["proof (state)\nthis:\n  TermEquivClGen T A e B\n  \\<subseteq> {e'.\n               Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e' : B}\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "have \"... \\<subseteq> (\\<Union> n . (WellFormedToSet aS\\<^bsub>T\\<^esub> n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {e'.\n     Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e' : B}\n    \\<subseteq> \\<Union> (range (WellFormedToSet aS\\<^bsub>T\\<^esub>))", "by (auto simp add: WellDefinedToWellFormedSet)"], ["proof (state)\nthis:\n  {e'. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e' : B}\n  \\<subseteq> \\<Union> (range (WellFormedToSet aS\\<^bsub>T\\<^esub>))\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "finally"], ["proof (chain)\npicking this:\n  TermEquivClGen T A e B\n  \\<subseteq> \\<Union> (range (WellFormedToSet aS\\<^bsub>T\\<^esub>))", "have \"Expr2ZF ` (TermEquivClGen T A e B) \\<subseteq> Expr2ZF ` (\\<Union> n . (WellFormedToSet aS\\<^bsub>T\\<^esub> n))\""], ["proof (prove)\nusing this:\n  TermEquivClGen T A e B\n  \\<subseteq> \\<Union> (range (WellFormedToSet aS\\<^bsub>T\\<^esub>))\n\ngoal (1 subgoal):\n 1. Expr2ZF ` TermEquivClGen T A e B\n    \\<subseteq> Expr2ZF `\n                \\<Union> (range (WellFormedToSet aS\\<^bsub>T\\<^esub>))", "by auto"], ["proof (state)\nthis:\n  Expr2ZF ` TermEquivClGen T A e B\n  \\<subseteq> Expr2ZF `\n              \\<Union> (range (WellFormedToSet aS\\<^bsub>T\\<^esub>))\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "also"], ["proof (state)\nthis:\n  Expr2ZF ` TermEquivClGen T A e B\n  \\<subseteq> Expr2ZF `\n              \\<Union> (range (WellFormedToSet aS\\<^bsub>T\\<^esub>))\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "have \"... = (\\<Union> n . (Expr2ZF ` (WellFormedToSet aS\\<^bsub>T\\<^esub> n)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Expr2ZF ` \\<Union> (range (WellFormedToSet aS\\<^bsub>T\\<^esub>)) =\n    (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)", "by auto"], ["proof (state)\nthis:\n  Expr2ZF ` \\<Union> (range (WellFormedToSet aS\\<^bsub>T\\<^esub>)) =\n  (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "finally"], ["proof (chain)\npicking this:\n  Expr2ZF ` TermEquivClGen T A e B\n  \\<subseteq> (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)", "have \"Expr2ZF ` (TermEquivClGen T A e B) \\<subseteq> (\\<Union> n . (Expr2ZF ` (WellFormedToSet aS\\<^bsub>T\\<^esub> n)))\""], ["proof (prove)\nusing this:\n  Expr2ZF ` TermEquivClGen T A e B\n  \\<subseteq> (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n\ngoal (1 subgoal):\n 1. Expr2ZF ` TermEquivClGen T A e B\n    \\<subseteq> (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)", "by auto"], ["proof (state)\nthis:\n  Expr2ZF ` TermEquivClGen T A e B\n  \\<subseteq> (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "moreover"], ["proof (state)\nthis:\n  Expr2ZF ` TermEquivClGen T A e B\n  \\<subseteq> (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "have \"(\\<Union> n . (Expr2ZF ` (WellFormedToSet aS\\<^bsub>T\\<^esub> n))) \\<in> range explode\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n    \\<in> range explode", "using zfax ZFUnionNatInRangeExplode WellFormedToSetInRangeExplode"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  (\\<And>n. ?f n \\<in> range explode) \\<Longrightarrow>\n  \\<Union> (range ?f) \\<in> range explode\n  ZFAxioms ?T \\<Longrightarrow>\n  Expr2ZF ` WellFormedToSet aS\\<^bsub>?T\\<^esub> ?n \\<in> range explode\n\ngoal (1 subgoal):\n 1. (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n    \\<in> range explode", "by auto"], ["proof (state)\nthis:\n  (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  \\<in> range explode\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "ultimately"], ["proof (chain)\npicking this:\n  Expr2ZF ` TermEquivClGen T A e B\n  \\<subseteq> (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  \\<in> range explode", "show ?thesis"], ["proof (prove)\nusing this:\n  Expr2ZF ` TermEquivClGen T A e B\n  \\<subseteq> (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  \\<in> range explode\n\ngoal (1 subgoal):\n 1. Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "using  ZFSubsetRangeExplode[of \n    \"(\\<Union> n . (Expr2ZF ` (WellFormedToSet aS\\<^bsub>T\\<^esub> n)))\" \"Expr2ZF ` (TermEquivClGen T A e B)\"]"], ["proof (prove)\nusing this:\n  Expr2ZF ` TermEquivClGen T A e B\n  \\<subseteq> (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  (\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n  \\<in> range explode\n  \\<lbrakk>(\\<Union>n. Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\n           \\<in> range explode;\n   Expr2ZF ` TermEquivClGen T A e B\n   \\<subseteq> (\\<Union>n.\n                   Expr2ZF ` WellFormedToSet aS\\<^bsub>T\\<^esub> n)\\<rbrakk>\n  \\<Longrightarrow> Expr2ZF ` TermEquivClGen T A e B \\<in> range explode\n\ngoal (1 subgoal):\n 1. Expr2ZF ` TermEquivClGen T A e B \\<in> range explode", "by simp"], ["proof (state)\nthis:\n  Expr2ZF ` TermEquivClGen T A e B \\<in> range explode\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma m2ZFinj_on: \"ZFAxioms T \\<Longrightarrow> inj_on m2ZF {TermEquivCl' T A e B | A e B . True}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    inj_on m2ZF {TermEquivCl' T A e B |A e B. True}", "apply(auto simp only: inj_on_def m2ZF_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Aa e ea B Ba.\n       \\<lbrakk>ZFAxioms T; True; True;\n        ZFTriple (TDomain (TermEquivCl' T A e B))\n         (implode (Expr2ZF ` TExprSet (TermEquivCl' T A e B)))\n         (TCodomain (TermEquivCl' T A e B)) =\n        ZFTriple (TDomain (TermEquivCl' T Aa ea Ba))\n         (implode (Expr2ZF ` TExprSet (TermEquivCl' T Aa ea Ba)))\n         (TCodomain (TermEquivCl' T Aa ea Ba))\\<rbrakk>\n       \\<Longrightarrow> TermEquivCl' T A e B = TermEquivCl' T Aa ea Ba", "apply(drule ZFTriple)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Aa e ea B Ba.\n       \\<lbrakk>ZFAxioms T; True; True;\n        TDomain (TermEquivCl' T A e B) =\n        TDomain (TermEquivCl' T Aa ea Ba) \\<and>\n        implode (Expr2ZF ` TExprSet (TermEquivCl' T A e B)) =\n        implode (Expr2ZF ` TExprSet (TermEquivCl' T Aa ea Ba)) \\<and>\n        TCodomain (TermEquivCl' T A e B) =\n        TCodomain (TermEquivCl' T Aa ea Ba)\\<rbrakk>\n       \\<Longrightarrow> TermEquivCl' T A e B = TermEquivCl' T Aa ea Ba", "apply(auto simp add: TDomain TCodomain implode_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A e ea B.\n       \\<lbrakk>ZFAxioms T;\n        inv explode (Expr2ZF ` TExprSet (TermEquivCl' T A e B)) =\n        inv explode (Expr2ZF ` TExprSet (TermEquivCl' T A ea B))\\<rbrakk>\n       \\<Longrightarrow> TermEquivCl' T A e B = TermEquivCl' T A ea B", "apply(simp add: TermEquivCl'_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A e ea B.\n       \\<lbrakk>ZFAxioms T;\n        inv explode (Expr2ZF ` TermEquivClGen T A e B) =\n        inv explode (Expr2ZF ` TermEquivClGen T A ea B)\\<rbrakk>\n       \\<Longrightarrow> TermEquivClGen T A e B = TermEquivClGen T A ea B", "apply(drule inv_into_injective)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>A e ea B.\n       ZFAxioms T \\<Longrightarrow>\n       Expr2ZF ` TermEquivClGen T A e B \\<in> range explode\n 2. \\<And>A e ea B.\n       ZFAxioms T \\<Longrightarrow>\n       Expr2ZF ` TermEquivClGen T A ea B \\<in> range explode\n 3. \\<And>A e ea B.\n       \\<lbrakk>ZFAxioms T;\n        Expr2ZF ` TermEquivClGen T A e B =\n        Expr2ZF ` TermEquivClGen T A ea B\\<rbrakk>\n       \\<Longrightarrow> TermEquivClGen T A e B = TermEquivClGen T A ea B", "apply(auto simp add: TermSetInSet inj_image_eq_iff Expr2ZFinj)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma ZF2m: \"ZFAxioms T \\<Longrightarrow> ZF2m T (m2ZF (TermEquivCl' T A e B)) = (TermEquivCl' T A e B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    ZF2m T (m2ZF (TermEquivCl' T A e B)) = TermEquivCl' T A e B", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    ZF2m T (m2ZF (TermEquivCl' T A e B)) = TermEquivCl' T A e B", "assume zfax: \"ZFAxioms T\""], ["proof (state)\nthis:\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    ZF2m T (m2ZF (TermEquivCl' T A e B)) = TermEquivCl' T A e B", "let ?A = \"{TermEquivCl' T A e B | A e B . True}\" and ?x = \"TermEquivCl' T A e B\""], ["proof (state)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    ZF2m T (m2ZF (TermEquivCl' T A e B)) = TermEquivCl' T A e B", "have \"?x \\<in> ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TermEquivCl' T A e B \\<in> {TermEquivCl' T A e B |A e B. True}", "by auto"], ["proof (state)\nthis:\n  TermEquivCl' T A e B \\<in> {TermEquivCl' T A e B |A e B. True}\n\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    ZF2m T (m2ZF (TermEquivCl' T A e B)) = TermEquivCl' T A e B", "thus ?thesis"], ["proof (prove)\nusing this:\n  TermEquivCl' T A e B \\<in> {TermEquivCl' T A e B |A e B. True}\n\ngoal (1 subgoal):\n 1. ZF2m T (m2ZF (TermEquivCl' T A e B)) = TermEquivCl' T A e B", "using m2ZFinj_on[of T] inv_into_f_f zfax"], ["proof (prove)\nusing this:\n  TermEquivCl' T A e B \\<in> {TermEquivCl' T A e B |A e B. True}\n  ZFAxioms T \\<Longrightarrow>\n  inj_on m2ZF {TermEquivCl' T A e B |A e B. True}\n  \\<lbrakk>inj_on ?f ?A; ?x \\<in> ?A\\<rbrakk>\n  \\<Longrightarrow> inv_into ?A ?f (?f ?x) = ?x\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. ZF2m T (m2ZF (TermEquivCl' T A e B)) = TermEquivCl' T A e B", "by (simp add:  ZF2m_def )"], ["proof (state)\nthis:\n  ZF2m T (m2ZF (TermEquivCl' T A e B)) = TermEquivCl' T A e B\n\ngoal:\nNo subgoals!", "qed"], ["", "definition TermEquivCl (\"[_,_,_]\\<index>\") where \"[A,e,B]\\<^bsub>T\\<^esub> \\<equiv> m2ZF (TermEquivCl' T A e B)\""], ["", "definition \"CLDomain T \\<equiv> TDomain o ZF2m T\""], ["", "definition \"CLCodomain T \\<equiv> TCodomain o ZF2m T\""], ["", "definition \"CanonicalComp T f g \\<equiv> \n  THE h . \\<exists> e e' . h = [CLDomain T f,sub e in e',CLCodomain T g]\\<^bsub>T\\<^esub> \\<and>  \n  f = [CLDomain T f,e,CLCodomain T f]\\<^bsub>T\\<^esub> \\<and> g = [CLDomain T g,e',CLCodomain T g]\\<^bsub>T\\<^esub>\""], ["", "lemma CLDomain: \"ZFAxioms T \\<Longrightarrow> CLDomain T [A,e,B]\\<^bsub>T\\<^esub> = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow> CLDomain T [A,e,B]\\<^bsub>T\\<^esub> = A", "by (simp add: TermEquivCl_def CLDomain_def ZF2m TDomain)"], ["", "lemma CLCodomain: \"ZFAxioms T \\<Longrightarrow> CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow> CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> = B", "by (simp add: TermEquivCl_def CLCodomain_def ZF2m TCodomain)"], ["", "lemma Equiv2Cl: assumes \"Axioms T\" and \"(Vx : A \\<turnstile> e \\<equiv> d : B) \\<in> Axioms.Theory T\" shows  \"[A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>", "have \"{e'. (Vx : A \\<turnstile> e'\\<equiv>e : B) \\<in> Axioms.Theory T} = {e'. (Vx : A \\<turnstile> e'\\<equiv>d : B) \\<in> Axioms.Theory T}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {e'. Vx : A \\<turnstile> e'\\<equiv>e : B \\<in> Axioms.Theory T} =\n    {e'. Vx : A \\<turnstile> e'\\<equiv>d : B \\<in> Axioms.Theory T}", "using assms"], ["proof (prove)\nusing this:\n  Axioms T\n  Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. {e'. Vx : A \\<turnstile> e'\\<equiv>e : B \\<in> Axioms.Theory T} =\n    {e'. Vx : A \\<turnstile> e'\\<equiv>d : B \\<in> Axioms.Theory T}", "by(blast intro: Axioms.Trans Axioms.Symm)"], ["proof (state)\nthis:\n  {e'. Vx : A \\<turnstile> e'\\<equiv>e : B \\<in> Axioms.Theory T} =\n  {e'. Vx : A \\<turnstile> e'\\<equiv>d : B \\<in> Axioms.Theory T}\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>", "thus ?thesis"], ["proof (prove)\nusing this:\n  {e'. Vx : A \\<turnstile> e'\\<equiv>e : B \\<in> Axioms.Theory T} =\n  {e'. Vx : A \\<turnstile> e'\\<equiv>d : B \\<in> Axioms.Theory T}\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>", "by(auto simp add: TermEquivCl_def TermEquivCl'_def TermEquivClGen_def)"], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Cl2Equiv: \n  assumes axt: \"ZFAxioms T\" and sa: \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e : B)\" and cl: \"[A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\"\n  shows \"(Vx : A \\<turnstile> e \\<equiv> d : B) \\<in> Axioms.Theory T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T", "have \"ZF2m T (m2ZF (TermEquivCl' T A e B)) = ZF2m T (m2ZF (TermEquivCl' T A d B))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZF2m T (m2ZF (TermEquivCl' T A e B)) =\n    ZF2m T (m2ZF (TermEquivCl' T A d B))", "using cl"], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. ZF2m T (m2ZF (TermEquivCl' T A e B)) =\n    ZF2m T (m2ZF (TermEquivCl' T A d B))", "by (simp add: TermEquivCl_def)"], ["proof (state)\nthis:\n  ZF2m T (m2ZF (TermEquivCl' T A e B)) =\n  ZF2m T (m2ZF (TermEquivCl' T A d B))\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T", "hence a:\"TermEquivCl' T A e B = TermEquivCl' T A d B\""], ["proof (prove)\nusing this:\n  ZF2m T (m2ZF (TermEquivCl' T A e B)) =\n  ZF2m T (m2ZF (TermEquivCl' T A d B))\n\ngoal (1 subgoal):\n 1. TermEquivCl' T A e B = TermEquivCl' T A d B", "using assms"], ["proof (prove)\nusing this:\n  ZF2m T (m2ZF (TermEquivCl' T A e B)) =\n  ZF2m T (m2ZF (TermEquivCl' T A d B))\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. TermEquivCl' T A e B = TermEquivCl' T A d B", "by (simp add: ZF2m)"], ["proof (state)\nthis:\n  TermEquivCl' T A e B = TermEquivCl' T A d B\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T", "have \"(Vx : A \\<turnstile> e \\<equiv> e : B) \\<in> Axioms.Theory T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>e : B \\<in> Axioms.Theory T", "using axt sa Axioms.Refl[of T]"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  \\<lbrakk>Axioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\n  \\<Longrightarrow> Vx : ?A \\<turnstile> ?e\\<equiv>?e : ?B\n                    \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>e : B \\<in> Axioms.Theory T", "by simp"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> e\\<equiv>e : B \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T", "hence \"e \\<in> TermEquivClGen T A e B\""], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> e\\<equiv>e : B \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. e \\<in> TermEquivClGen T A e B", "by (simp add: TermEquivClGen_def)"], ["proof (state)\nthis:\n  e \\<in> TermEquivClGen T A e B\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T", "hence \"e \\<in> TermEquivClGen T A d B\""], ["proof (prove)\nusing this:\n  e \\<in> TermEquivClGen T A e B\n\ngoal (1 subgoal):\n 1. e \\<in> TermEquivClGen T A d B", "using a"], ["proof (prove)\nusing this:\n  e \\<in> TermEquivClGen T A e B\n  TermEquivCl' T A e B = TermEquivCl' T A d B\n\ngoal (1 subgoal):\n 1. e \\<in> TermEquivClGen T A d B", "by (simp add: TermEquivCl'_def)"], ["proof (state)\nthis:\n  e \\<in> TermEquivClGen T A d B\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T", "thus ?thesis"], ["proof (prove)\nusing this:\n  e \\<in> TermEquivClGen T A d B\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T", "by (simp add: TermEquivClGen_def)"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> e\\<equiv>d : B \\<in> Axioms.Theory T\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CanonicalCompWellDefined: \n  assumes zaxt: \"ZFAxioms T\" and \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> d : B)\" and \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : B \\<turnstile> d' : C)\" \n  shows \"CanonicalComp T [A,d,B]\\<^bsub>T\\<^esub> [B,d',C]\\<^bsub>T\\<^esub> = [A,sub d in d',C]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CanonicalComp T [A,d,B]\\<^bsub>T\\<^esub> [B,d',C]\\<^bsub>T\\<^esub> =\n    [A,sub d in d',C]\\<^bsub>T\\<^esub>", "proof((simp only: zaxt CanonicalComp_def CLDomain CLCodomain),(rule the_equality),\n    (rule exI[of _ d], rule exI[of _ d'], auto))"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "fix e e'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "assume de: \"[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>\" and de': \"[B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\""], ["proof (state)\nthis:\n  [A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>\n  [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "have axt: \"Axioms T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Axioms T", "using assms"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> d' : C\n\ngoal (1 subgoal):\n 1. Axioms T", "by simp"], ["proof (state)\nthis:\n  Axioms T\n\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "have a: \"(Vx : A \\<turnstile> d \\<equiv> e : B) \\<in> Axioms.Theory T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> d\\<equiv>e : B \\<in> Axioms.Theory T", "using assms de Cl2Equiv"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> d' : C\n  [A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>\n  \\<lbrakk>ZFAxioms ?T;\n   Sig aS\\<^bsub>?T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B;\n   [?A,?e,?B]\\<^bsub>?T\\<^esub> = [?A,?d,?B]\\<^bsub>?T\\<^esub>\\<rbrakk>\n  \\<Longrightarrow> Vx : ?A \\<turnstile> ?e\\<equiv>?d : ?B\n                    \\<in> Axioms.Theory ?T\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> d\\<equiv>e : B \\<in> Axioms.Theory T", "by simp"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> d\\<equiv>e : B \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "hence sa: \"(Vx : A \\<turnstile> (sub d in d') \\<equiv> (sub e in d') : C) \\<in> Axioms.Theory T\""], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> d\\<equiv>e : B \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub d in d'\\<equiv>sub e in d' : C\n    \\<in> Axioms.Theory T", "using assms Axioms.Subst'[of T]"], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> d\\<equiv>e : B \\<in> Axioms.Theory T\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> d' : C\n  \\<lbrakk>Axioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?B \\<turnstile> ?d : ?C;\n   Vx : ?A \\<turnstile> ?e1.0\\<equiv>?e2.0 : ?B\n   \\<in> Axioms.Theory T\\<rbrakk>\n  \\<Longrightarrow> Vx : ?A \\<turnstile> sub ?e1.0 in ?d\\<equiv>sub ?e2.0 in ?d : ?C\n                    \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub d in d'\\<equiv>sub e in d' : C\n    \\<in> Axioms.Theory T", "by simp"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> sub d in d'\\<equiv>sub e in d' : C\n  \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "have b: \"(Vx : B \\<turnstile> d'\\<equiv> e' : C) \\<in> Axioms.Theory T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vx : B \\<turnstile> d'\\<equiv>e' : C \\<in> Axioms.Theory T", "using assms de' Cl2Equiv"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> d' : C\n  [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\n  \\<lbrakk>ZFAxioms ?T;\n   Sig aS\\<^bsub>?T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B;\n   [?A,?e,?B]\\<^bsub>?T\\<^esub> = [?A,?d,?B]\\<^bsub>?T\\<^esub>\\<rbrakk>\n  \\<Longrightarrow> Vx : ?A \\<turnstile> ?e\\<equiv>?d : ?B\n                    \\<in> Axioms.Theory ?T\n\ngoal (1 subgoal):\n 1. Vx : B \\<turnstile> d'\\<equiv>e' : C \\<in> Axioms.Theory T", "by simp"], ["proof (state)\nthis:\n  Vx : B \\<turnstile> d'\\<equiv>e' : C \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "have \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> d \\<equiv> e : B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d\\<equiv>e : B", "using a axt Axioms.Equiv2WellDefined[of T]"], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> d\\<equiv>e : B \\<in> Axioms.Theory T\n  Axioms T\n  \\<lbrakk>Axioms T; ?\\<phi> \\<in> Axioms.Theory T\\<rbrakk>\n  \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> ?\\<phi>\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d\\<equiv>e : B", "by simp"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d\\<equiv>e : B\n\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "hence \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e : B)\""], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d\\<equiv>e : B\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "by auto"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "hence \"(Vx : A \\<turnstile> (sub e in d') \\<equiv> (sub e in e') : C) \\<in> Axioms.Theory T\""], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub e in d'\\<equiv>sub e in e' : C\n    \\<in> Axioms.Theory T", "using b Axioms.Subst[of T] axt"], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  Vx : B \\<turnstile> d'\\<equiv>e' : C \\<in> Axioms.Theory T\n  \\<lbrakk>Axioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e1.0 : ?B;\n   Vx : ?B \\<turnstile> ?e2.0\\<equiv>?e3.0 : ?C\n   \\<in> Axioms.Theory T\\<rbrakk>\n  \\<Longrightarrow> Vx : ?A \\<turnstile> sub ?e1.0 in ?e2.0\\<equiv>sub ?e1.0 in ?e3.0 : ?C\n                    \\<in> Axioms.Theory T\n  Axioms T\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub e in d'\\<equiv>sub e in e' : C\n    \\<in> Axioms.Theory T", "by simp"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> sub e in d'\\<equiv>sub e in e' : C\n  \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "hence \"(Vx : A \\<turnstile> (sub e in e') \\<equiv> (sub d in d') : C) \\<in> Axioms.Theory T\""], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> sub e in d'\\<equiv>sub e in e' : C\n  \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub e in e'\\<equiv>sub d in d' : C\n    \\<in> Axioms.Theory T", "using sa axt"], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> sub e in d'\\<equiv>sub e in e' : C\n  \\<in> Axioms.Theory T\n  Vx : A \\<turnstile> sub d in d'\\<equiv>sub e in d' : C\n  \\<in> Axioms.Theory T\n  Axioms T\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> sub e in e'\\<equiv>sub d in d' : C\n    \\<in> Axioms.Theory T", "by (blast intro: Axioms.Symm[of T] Axioms.Trans[of T])"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> sub e in e'\\<equiv>sub d in d' : C\n  \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. \\<And>e e'.\n       \\<lbrakk>[A,d,B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>;\n        [B,d',C]\\<^bsub>T\\<^esub> = [B,e',C]\\<^bsub>T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> [A,sub e in e',C]\\<^bsub>T\\<^esub> =\n                         [A,sub d in d',C]\\<^bsub>T\\<^esub>", "thus \"[A,sub e in e',C]\\<^bsub>T\\<^esub> = [A,sub d in d',C]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> sub e in e'\\<equiv>sub d in d' : C\n  \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. [A,sub e in e',C]\\<^bsub>T\\<^esub> = [A,sub d in d',C]\\<^bsub>T\\<^esub>", "using zaxt Equiv2Cl"], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> sub e in e'\\<equiv>sub d in d' : C\n  \\<in> Axioms.Theory T\n  ZFAxioms T\n  \\<lbrakk>Axioms ?T;\n   Vx : ?A \\<turnstile> ?e\\<equiv>?d : ?B \\<in> Axioms.Theory ?T\\<rbrakk>\n  \\<Longrightarrow> [?A,?e,?B]\\<^bsub>?T\\<^esub> =\n                    [?A,?d,?B]\\<^bsub>?T\\<^esub>\n\ngoal (1 subgoal):\n 1. [A,sub e in e',C]\\<^bsub>T\\<^esub> = [A,sub d in d',C]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  [A,sub e in e',C]\\<^bsub>T\\<^esub> = [A,sub d in d',C]\\<^bsub>T\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["", "definition \"CanonicalCat' T \\<equiv> \\<lparr>\n  Obj = BaseTypes (aS\\<^bsub>T\\<^esub>), \n  Mor = {[A,e,B]\\<^bsub>T\\<^esub> | A e B . Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e : B)}, \n  Dom = CLDomain T, \n  Cod = CLCodomain T, \n  Id  = (\\<lambda> A . [A,Vx,A]\\<^bsub>T\\<^esub>), \n  Comp = CanonicalComp T\n  \\<rparr>\""], ["", "definition \"CanonicalCat T \\<equiv> MakeCat (CanonicalCat' T)\""], ["", "lemma CanonicalCat'MapsTo: \n  assumes \"f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y\" and zx: \"ZFAxioms T\"\n  shows \"\\<exists> ef . f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and> Sig (aSignature T) \\<triangleright> (Vx : X \\<turnstile> ef : Y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>ef.\n       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>ef.\n       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y", "have fm: \"f \\<in> Mor (CanonicalCat' T)\" and fd: \"Dom (CanonicalCat' T) f = X\" and fc: \"Cod (CanonicalCat' T) f = Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub> &&&\n    dom\\<^bsub>CanonicalCat' T\\<^esub> f = X &&&\n    cod\\<^bsub>CanonicalCat' T\\<^esub> f = Y", "using assms"], ["proof (prove)\nusing this:\n  f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub> &&&\n    dom\\<^bsub>CanonicalCat' T\\<^esub> f = X &&&\n    cod\\<^bsub>CanonicalCat' T\\<^esub> f = Y", "by auto"], ["proof (state)\nthis:\n  f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n  dom\\<^bsub>CanonicalCat' T\\<^esub> f = X\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f = Y\n\ngoal (1 subgoal):\n 1. \\<exists>ef.\n       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y", "from fm"], ["proof (chain)\npicking this:\n  f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>", "obtain ef A B where ef: \"f = [A,ef,B]\\<^bsub>T\\<^esub>\" and efsig: \"Sig (aSignature T) \\<triangleright> (Vx : A \\<turnstile> ef : B)\""], ["proof (prove)\nusing this:\n  f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (1 subgoal):\n 1. (\\<And>A ef B.\n        \\<lbrakk>f = [A,ef,B]\\<^bsub>T\\<^esub>;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  f = [A,ef,B]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B\n\ngoal (1 subgoal):\n 1. \\<exists>ef.\n       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y", "have \"A = X\" and \"B = Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A = X &&& B = Y", "using fd fc ef zx CLDomain[of T] CLCodomain[of T]"], ["proof (prove)\nusing this:\n  dom\\<^bsub>CanonicalCat' T\\<^esub> f = X\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f = Y\n  f = [A,ef,B]\\<^bsub>T\\<^esub>\n  ZFAxioms T\n  ZFAxioms T \\<Longrightarrow> CLDomain T [?A,?e,?B]\\<^bsub>T\\<^esub> = ?A\n  ZFAxioms T \\<Longrightarrow> CLCodomain T [?A,?e,?B]\\<^bsub>T\\<^esub> = ?B\n\ngoal (1 subgoal):\n 1. A = X &&& B = Y", "by (simp add: CanonicalCat'_def)+"], ["proof (state)\nthis:\n  A = X\n  B = Y\n\ngoal (1 subgoal):\n 1. \\<exists>ef.\n       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y", "thus ?thesis"], ["proof (prove)\nusing this:\n  A = X\n  B = Y\n\ngoal (1 subgoal):\n 1. \\<exists>ef.\n       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y", "using ef efsig"], ["proof (prove)\nusing this:\n  A = X\n  B = Y\n  f = [A,ef,B]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B\n\ngoal (1 subgoal):\n 1. \\<exists>ef.\n       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y", "by auto"], ["proof (state)\nthis:\n  \\<exists>ef.\n     f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n     Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CanonicalCatCat': \"ZFAxioms T \\<Longrightarrow> Category_axioms (CanonicalCat' T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow> Category_axioms (CanonicalCat' T)", "proof(auto simp only: Category_axioms_def)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have obj: \"obj\\<^bsub>CanonicalCat' T\\<^esub> = BaseTypes (aSignature T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. obj\\<^bsub>CanonicalCat' T\\<^esub> =\n    Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  obj\\<^bsub>CanonicalCat' T\\<^esub> = Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "assume zx: \"ZFAxioms T\""], ["proof (state)\nthis:\n  ZFAxioms T\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "hence axt: \"Axioms T\""], ["proof (prove)\nusing this:\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. Axioms T", "by simp"], ["proof (state)\nthis:\n  Axioms T\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "{"], ["proof (state)\nthis:\n  Axioms T\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "fix f"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "assume a: \"f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\""], ["proof (state)\nthis:\n  f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "from a"], ["proof (chain)\npicking this:\n  f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>", "obtain A e B where f: \"f = [A,e,B]\\<^bsub>T\\<^esub>\" and fwd: \"Sig (aSignature T) \\<triangleright> (Vx : A \\<turnstile> e : B)\""], ["proof (prove)\nusing this:\n  f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (1 subgoal):\n 1. (\\<And>A e B.\n        \\<lbrakk>f = [A,e,B]\\<^bsub>T\\<^esub>;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  f = [A,e,B]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have domf: \"dom\\<^bsub>CanonicalCat' T\\<^esub> f = CLDomain T f\" and codf: \"cod\\<^bsub>CanonicalCat' T\\<^esub> f = CLCodomain T f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dom\\<^bsub>CanonicalCat' T\\<^esub> f = CLDomain T f &&&\n    cod\\<^bsub>CanonicalCat' T\\<^esub> f = CLCodomain T f", "by (simp add: CanonicalCat'_def)+"], ["proof (state)\nthis:\n  dom\\<^bsub>CanonicalCat' T\\<^esub> f = CLDomain T f\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f = CLCodomain T f\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have absig: \"A \\<in> Ty\\<^bsub>aSignature T\\<^esub> \\<and> B \\<in> Ty\\<^bsub>aSignature T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n    B \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>", "using fwd Signature.SigTy[of \"(aSignature T)\"] Axioms.AxSig axt"], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  \\<lbrakk>Signature aS\\<^bsub>T\\<^esub>;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\n  \\<Longrightarrow> ?A \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n                    ?B \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n  Axioms ?Ax \\<Longrightarrow> Signature aS\\<^bsub>?Ax\\<^esub>\n  Axioms T\n\ngoal (1 subgoal):\n 1. A \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n    B \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>", "by auto"], ["proof (state)\nthis:\n  A \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n  B \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have Awd: \"Sig (aSignature T) \\<triangleright> (Vx : A \\<turnstile> Vx : A)\" and Bwd: \"Sig (aSignature T) \\<triangleright> (Vx : B \\<turnstile> Vx : B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : A &&&\n    Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> Vx : B", "using absig"], ["proof (prove)\nusing this:\n  A \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n  B \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : A &&&\n    Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> Vx : B", "by auto"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : A\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> Vx : B\n\ngoal (7 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> dom\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 3. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 5. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 6. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 7. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "show \"dom\\<^bsub>CanonicalCat' T\\<^esub> f \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dom\\<^bsub>CanonicalCat' T\\<^esub> f\n    \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>", "using domf f obj CLDomain[of T A e B] absig zx"], ["proof (prove)\nusing this:\n  dom\\<^bsub>CanonicalCat' T\\<^esub> f = CLDomain T f\n  f = [A,e,B]\\<^bsub>T\\<^esub>\n  obj\\<^bsub>CanonicalCat' T\\<^esub> = Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n  ZFAxioms T \\<Longrightarrow> CLDomain T [A,e,B]\\<^bsub>T\\<^esub> = A\n  A \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n  B \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. dom\\<^bsub>CanonicalCat' T\\<^esub> f\n    \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  dom\\<^bsub>CanonicalCat' T\\<^esub> f\n  \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (6 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> cod\\<^bsub>CanonicalCat' T\\<^esub> f\n                         \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n 2. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 3. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 4. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 5. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 6. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "show \"cod\\<^bsub>CanonicalCat' T\\<^esub> f \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> f\n    \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>", "using codf f obj CLCodomain[of T A e B] absig zx"], ["proof (prove)\nusing this:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f = CLCodomain T f\n  f = [A,e,B]\\<^bsub>T\\<^esub>\n  obj\\<^bsub>CanonicalCat' T\\<^esub> = Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n  ZFAxioms T \\<Longrightarrow> CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> = B\n  A \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<and>\n  B \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> f\n    \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f\n  \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (5 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 3. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 4. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 5. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have idA: \"Id (CanonicalCat' T) A = [A,Vx,A]\\<^bsub>T\\<^esub>\" and idB: \"Id (CanonicalCat' T) B = [B,Vx,B]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. id\\<^bsub>CanonicalCat' T\\<^esub> A = [A,Vx,A]\\<^bsub>T\\<^esub> &&&\n    id\\<^bsub>CanonicalCat' T\\<^esub> B = [B,Vx,B]\\<^bsub>T\\<^esub>", "by (simp add: CanonicalCat'_def)+"], ["proof (state)\nthis:\n  id\\<^bsub>CanonicalCat' T\\<^esub> A = [A,Vx,A]\\<^bsub>T\\<^esub>\n  id\\<^bsub>CanonicalCat' T\\<^esub> B = [B,Vx,B]\\<^bsub>T\\<^esub>\n\ngoal (5 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 3. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 4. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 5. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have \"(Id (CanonicalCat' T) (dom\\<^bsub>CanonicalCat' T\\<^esub> f)) ;;\\<^bsub>CanonicalCat' T\\<^esub> f = [A, sub Vx in e, B]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    f =\n    [A,sub Vx in e,B]\\<^bsub>T\\<^esub>", "using f domf CLDomain[of T A e B] idA axt CanonicalCompWellDefined[of T] Awd fwd zx"], ["proof (prove)\nusing this:\n  f = [A,e,B]\\<^bsub>T\\<^esub>\n  dom\\<^bsub>CanonicalCat' T\\<^esub> f = CLDomain T f\n  ZFAxioms T \\<Longrightarrow> CLDomain T [A,e,B]\\<^bsub>T\\<^esub> = A\n  id\\<^bsub>CanonicalCat' T\\<^esub> A = [A,Vx,A]\\<^bsub>T\\<^esub>\n  Axioms T\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?d : ?B;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?B \\<turnstile> ?d' : ?C\\<rbrakk>\n  \\<Longrightarrow> CanonicalComp T [?A,?d,?B]\\<^bsub>T\\<^esub>\n                     [?B,?d',?C]\\<^bsub>T\\<^esub> =\n                    [?A,sub ?d in ?d',?C]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : A\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    f =\n    [A,sub Vx in e,B]\\<^bsub>T\\<^esub>", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  f =\n  [A,sub Vx in e,B]\\<^bsub>T\\<^esub>\n\ngoal (5 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         f =\n                         f\n 3. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 4. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 5. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "thus \"(Id (CanonicalCat' T) (dom\\<^bsub>CanonicalCat' T\\<^esub> f)) ;;\\<^bsub>CanonicalCat' T\\<^esub> f = f\""], ["proof (prove)\nusing this:\n  id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  f =\n  [A,sub Vx in e,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    f =\n    f", "using f SubstXinE[of e]"], ["proof (prove)\nusing this:\n  id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  f =\n  [A,sub Vx in e,B]\\<^bsub>T\\<^esub>\n  f = [A,e,B]\\<^bsub>T\\<^esub>\n  sub Vx in e = e\n\ngoal (1 subgoal):\n 1. id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    f =\n    f", "by simp"], ["proof (state)\nthis:\n  id\\<^bsub>CanonicalCat' T\\<^esub> (dom\\<^bsub>CanonicalCat' T\\<^esub> f) ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  f =\n  f\n\ngoal (4 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 3. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 4. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have \"f ;;\\<^bsub>CanonicalCat' T\\<^esub> (Id (CanonicalCat' T) (cod\\<^bsub>CanonicalCat' T\\<^esub> f)) = [A, sub e in Vx, B]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n    [A,sub e in Vx,B]\\<^bsub>T\\<^esub>", "using f codf CLCodomain[of T A e B] idB axt CanonicalCompWellDefined[of T] Bwd fwd zx"], ["proof (prove)\nusing this:\n  f = [A,e,B]\\<^bsub>T\\<^esub>\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f = CLCodomain T f\n  ZFAxioms T \\<Longrightarrow> CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> = B\n  id\\<^bsub>CanonicalCat' T\\<^esub> B = [B,Vx,B]\\<^bsub>T\\<^esub>\n  Axioms T\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?d : ?B;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?B \\<turnstile> ?d' : ?C\\<rbrakk>\n  \\<Longrightarrow> CanonicalComp T [?A,?d,?B]\\<^bsub>T\\<^esub>\n                     [?B,?d',?C]\\<^bsub>T\\<^esub> =\n                    [?A,sub ?d in ?d',?C]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> Vx : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n    [A,sub e in Vx,B]\\<^bsub>T\\<^esub>", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n  [A,sub e in Vx,B]\\<^bsub>T\\<^esub>\n\ngoal (4 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n                         f\n 3. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 4. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "thus \"f ;;\\<^bsub>CanonicalCat' T\\<^esub> (Id (CanonicalCat' T) (cod\\<^bsub>CanonicalCat' T\\<^esub> f)) = f\""], ["proof (prove)\nusing this:\n  f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n  [A,sub e in Vx,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n    f", "using f Subst_def"], ["proof (prove)\nusing this:\n  f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n  [A,sub e in Vx,B]\\<^bsub>T\\<^esub>\n  f = [A,e,B]\\<^bsub>T\\<^esub>\n  Subst \\<equiv>\n  \\<lambda>uu uua.\n     rec_Expression (\\<lambda>e. e) (\\<lambda>f d da e. f E@ da e) uua uu\n\ngoal (1 subgoal):\n 1. f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n    f", "by simp"], ["proof (state)\nthis:\n  f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> f) =\n  f\n\ngoal (3 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 3. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "}"], ["proof (state)\nthis:\n  ?f2 \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub> \\<Longrightarrow>\n  ?f2 ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> ?f2) =\n  ?f2\n\ngoal (3 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 3. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "{"], ["proof (state)\nthis:\n  ?f2 \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub> \\<Longrightarrow>\n  ?f2 ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  id\\<^bsub>CanonicalCat' T\\<^esub> (cod\\<^bsub>CanonicalCat' T\\<^esub> ?f2) =\n  ?f2\n\ngoal (3 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 3. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "fix X"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 3. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "assume a: \"X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\""], ["proof (state)\nthis:\n  X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (3 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 3. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have \"X \\<in> BaseTypes (aSignature T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>", "using a"], ["proof (prove)\nusing this:\n  X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (1 subgoal):\n 1. X \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  X \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n\ngoal (3 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 3. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "hence b: \"Sig (aSignature T) \\<triangleright> (Vx : X \\<turnstile> Vx : X)\""], ["proof (prove)\nusing this:\n  X \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> Vx : X", "by auto"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> Vx : X\n\ngoal (3 subgoals):\n 1. \\<And>X.\n       \\<lbrakk>ZFAxioms T;\n        X \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n 2. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 3. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "show \"Id (CanonicalCat' T) X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X", "apply(rule MapsToI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. id\\<^bsub>CanonicalCat' T\\<^esub> X\n    \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n 2. dom\\<^bsub>CanonicalCat' T\\<^esub> (id\\<^bsub>CanonicalCat' T\\<^esub> X) =\n    X\n 3. cod\\<^bsub>CanonicalCat' T\\<^esub> (id\\<^bsub>CanonicalCat' T\\<^esub> X) =\n    X", "apply(auto simp add: CanonicalCat'_def CLDomain CLCodomain zx)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>A e B.\n       [X,Vx,X]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub> \\<and>\n       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "apply(rule exI)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. [X,Vx,X]\\<^bsub>T\\<^esub> = [?A4,?e6,?B8]\\<^bsub>T\\<^esub> \\<and>\n    Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A4 \\<turnstile> ?e6 : ?B8", "apply(auto simp add: b)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  id\\<^bsub>CanonicalCat' T\\<^esub> X maps\\<^bsub>CanonicalCat' T\\<^esub> X to X\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "}"], ["proof (state)\nthis:\n  ?X2 \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub> \\<Longrightarrow>\n  id\\<^bsub>CanonicalCat' T\\<^esub> ?X2 maps\\<^bsub>CanonicalCat' T\\<^esub> ?X2 to ?X2\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "{"], ["proof (state)\nthis:\n  ?X2 \\<in> obj\\<^bsub>CanonicalCat' T\\<^esub> \\<Longrightarrow>\n  id\\<^bsub>CanonicalCat' T\\<^esub> ?X2 maps\\<^bsub>CanonicalCat' T\\<^esub> ?X2 to ?X2\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "fix f g h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "assume a: \"f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g\" and b: \"g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\""], ["proof (state)\nthis:\n  f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g\n  g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "from a b"], ["proof (chain)\npicking this:\n  f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g\n  g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h", "have fm: \"f \\<in> Mor (CanonicalCat' T)\" and gm: \"g \\<in> Mor (CanonicalCat' T)\" \n      and hm: \"h \\<in> Mor (CanonicalCat' T)\" and fg: \"Cod (CanonicalCat' T) f = Dom (CanonicalCat' T) g\" \n      and gh: \"Cod (CanonicalCat' T) g = Dom (CanonicalCat' T) h\""], ["proof (prove)\nusing this:\n  f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g\n  g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\n\ngoal (1 subgoal):\n 1. (f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub> &&&\n     g \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>) &&&\n    h \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub> &&&\n    cod\\<^bsub>CanonicalCat' T\\<^esub> f =\n    dom\\<^bsub>CanonicalCat' T\\<^esub> g &&&\n    cod\\<^bsub>CanonicalCat' T\\<^esub> g =\n    dom\\<^bsub>CanonicalCat' T\\<^esub> h", "by auto"], ["proof (state)\nthis:\n  f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n  g \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n  h \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f =\n  dom\\<^bsub>CanonicalCat' T\\<^esub> g\n  cod\\<^bsub>CanonicalCat' T\\<^esub> g =\n  dom\\<^bsub>CanonicalCat' T\\<^esub> h\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "from fm"], ["proof (chain)\npicking this:\n  f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>", "obtain A ef B where f: \"f = [A,ef,B]\\<^bsub>T\\<^esub>\" and fwd: \"Sig (aSignature T) \\<triangleright> (Vx : A \\<turnstile> ef : B)\""], ["proof (prove)\nusing this:\n  f \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (1 subgoal):\n 1. (\\<And>A ef B.\n        \\<lbrakk>f = [A,ef,B]\\<^bsub>T\\<^esub>;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  f = [A,ef,B]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "from gm"], ["proof (chain)\npicking this:\n  g \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>", "obtain B' eg C where g: \"g = [B',eg,C]\\<^bsub>T\\<^esub>\" and gwd: \"Sig (aSignature T) \\<triangleright> (Vx : B' \\<turnstile> eg : C)\""], ["proof (prove)\nusing this:\n  g \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (1 subgoal):\n 1. (\\<And>B' eg C.\n        \\<lbrakk>g = [B',eg,C]\\<^bsub>T\\<^esub>;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> eg : C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  g = [B',eg,C]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> eg : C\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "from hm"], ["proof (chain)\npicking this:\n  h \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>", "obtain C' eh D where h: \"h = [C',eh,D]\\<^bsub>T\\<^esub>\" and hwd: \"Sig (aSignature T) \\<triangleright> (Vx : C' \\<turnstile> eh : D)\""], ["proof (prove)\nusing this:\n  h \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (1 subgoal):\n 1. (\\<And>C' eh D.\n        \\<lbrakk>h = [C',eh,D]\\<^bsub>T\\<^esub>;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : C' \\<turnstile> eh : D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  h = [C',eh,D]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : C' \\<turnstile> eh : D\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "from fg"], ["proof (chain)\npicking this:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f =\n  dom\\<^bsub>CanonicalCat' T\\<^esub> g", "have Beq: \"B = B'\""], ["proof (prove)\nusing this:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f =\n  dom\\<^bsub>CanonicalCat' T\\<^esub> g\n\ngoal (1 subgoal):\n 1. B = B'", "using f g zx CLCodomain[of T A ef B] CLDomain[of T B' eg C]"], ["proof (prove)\nusing this:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> f =\n  dom\\<^bsub>CanonicalCat' T\\<^esub> g\n  f = [A,ef,B]\\<^bsub>T\\<^esub>\n  g = [B',eg,C]\\<^bsub>T\\<^esub>\n  ZFAxioms T\n  ZFAxioms T \\<Longrightarrow> CLCodomain T [A,ef,B]\\<^bsub>T\\<^esub> = B\n  ZFAxioms T \\<Longrightarrow> CLDomain T [B',eg,C]\\<^bsub>T\\<^esub> = B'\n\ngoal (1 subgoal):\n 1. B = B'", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  B = B'\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "from gh"], ["proof (chain)\npicking this:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> g =\n  dom\\<^bsub>CanonicalCat' T\\<^esub> h", "have Ceq: \"C = C'\""], ["proof (prove)\nusing this:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> g =\n  dom\\<^bsub>CanonicalCat' T\\<^esub> h\n\ngoal (1 subgoal):\n 1. C = C'", "using g h zx CLCodomain[of T B' eg C] CLDomain[of T C' eh D]"], ["proof (prove)\nusing this:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> g =\n  dom\\<^bsub>CanonicalCat' T\\<^esub> h\n  g = [B',eg,C]\\<^bsub>T\\<^esub>\n  h = [C',eh,D]\\<^bsub>T\\<^esub>\n  ZFAxioms T\n  ZFAxioms T \\<Longrightarrow> CLCodomain T [B',eg,C]\\<^bsub>T\\<^esub> = C\n  ZFAxioms T \\<Longrightarrow> CLDomain T [C',eh,D]\\<^bsub>T\\<^esub> = C'\n\ngoal (1 subgoal):\n 1. C = C'", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  C = C'\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have \"CanonicalComp T (CanonicalComp T f g) h = CanonicalComp T f (CanonicalComp T g h)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "have \"(CanonicalComp T f g) = [A,sub ef in eg,C]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CanonicalComp T f g = [A,sub ef in eg,C]\\<^bsub>T\\<^esub>", "using axt fwd gwd Beq zx CanonicalCompWellDefined[of T A ef B eg C] f g"], ["proof (prove)\nusing this:\n  Axioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> eg : C\n  B = B'\n  ZFAxioms T\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> eg : C\\<rbrakk>\n  \\<Longrightarrow> CanonicalComp T [A,ef,B]\\<^bsub>T\\<^esub>\n                     [B,eg,C]\\<^bsub>T\\<^esub> =\n                    [A,sub ef in eg,C]\\<^bsub>T\\<^esub>\n  f = [A,ef,B]\\<^bsub>T\\<^esub>\n  g = [B',eg,C]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. CanonicalComp T f g = [A,sub ef in eg,C]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  CanonicalComp T f g = [A,sub ef in eg,C]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "moreover"], ["proof (state)\nthis:\n  CanonicalComp T f g = [A,sub ef in eg,C]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "have \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> sub ef in eg : C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> sub ef in eg : C", "using fwd gwd SubstWellDefined Beq"], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> eg : C\n  \\<lbrakk>Sig ?S \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B;\n   Sig ?S \\<triangleright> Vx : ?B \\<turnstile> ?d : ?C\\<rbrakk>\n  \\<Longrightarrow> Sig ?S \\<triangleright> Vx : ?A \\<turnstile> sub ?e in ?d : ?C\n  B = B'\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> sub ef in eg : C", "by simp"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> sub ef in eg : C\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "ultimately"], ["proof (chain)\npicking this:\n  CanonicalComp T f g = [A,sub ef in eg,C]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> sub ef in eg : C", "have a: \"CanonicalComp T (CanonicalComp T f g) h = [A,(sub (sub ef in eg) in eh),D]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  CanonicalComp T f g = [A,sub ef in eg,C]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> sub ef in eg : C\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    [A,sub sub ef in eg in eh,D]\\<^bsub>T\\<^esub>", "using CanonicalCompWellDefined[of T A \"sub ef in eg\" C eh D] axt hwd h Beq Ceq zx"], ["proof (prove)\nusing this:\n  CanonicalComp T f g = [A,sub ef in eg,C]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> sub ef in eg : C\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> sub ef in eg : C;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : C \\<turnstile> eh : D\\<rbrakk>\n  \\<Longrightarrow> CanonicalComp T [A,sub ef in eg,C]\\<^bsub>T\\<^esub>\n                     [C,eh,D]\\<^bsub>T\\<^esub> =\n                    [A,sub sub ef in eg in eh,D]\\<^bsub>T\\<^esub>\n  Axioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : C' \\<turnstile> eh : D\n  h = [C',eh,D]\\<^bsub>T\\<^esub>\n  B = B'\n  C = C'\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    [A,sub sub ef in eg in eh,D]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  CanonicalComp T (CanonicalComp T f g) h =\n  [A,sub sub ef in eg in eh,D]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "have \"(CanonicalComp T g h) = [B,sub eg in eh,D]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CanonicalComp T g h = [B,sub eg in eh,D]\\<^bsub>T\\<^esub>", "using axt gwd hwd Ceq Beq CanonicalCompWellDefined[of T B eg C eh D] g h zx"], ["proof (prove)\nusing this:\n  Axioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> eg : C\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : C' \\<turnstile> eh : D\n  C = C'\n  B = B'\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> eg : C;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : C \\<turnstile> eh : D\\<rbrakk>\n  \\<Longrightarrow> CanonicalComp T [B,eg,C]\\<^bsub>T\\<^esub>\n                     [C,eh,D]\\<^bsub>T\\<^esub> =\n                    [B,sub eg in eh,D]\\<^bsub>T\\<^esub>\n  g = [B',eg,C]\\<^bsub>T\\<^esub>\n  h = [C',eh,D]\\<^bsub>T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. CanonicalComp T g h = [B,sub eg in eh,D]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  CanonicalComp T g h = [B,sub eg in eh,D]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "moreover"], ["proof (state)\nthis:\n  CanonicalComp T g h = [B,sub eg in eh,D]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "have \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> sub eg in eh : D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> sub eg in eh : D", "using gwd hwd SubstWellDefined Beq Ceq"], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> eg : C\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : C' \\<turnstile> eh : D\n  \\<lbrakk>Sig ?S \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B;\n   Sig ?S \\<triangleright> Vx : ?B \\<turnstile> ?d : ?C\\<rbrakk>\n  \\<Longrightarrow> Sig ?S \\<triangleright> Vx : ?A \\<turnstile> sub ?e in ?d : ?C\n  B = B'\n  C = C'\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> sub eg in eh : D", "by simp"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> sub eg in eh : D\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "ultimately"], ["proof (chain)\npicking this:\n  CanonicalComp T g h = [B,sub eg in eh,D]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> sub eg in eh : D", "have b: \"CanonicalComp T f (CanonicalComp T g h) = [A,(sub ef in (sub eg in eh)),D]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  CanonicalComp T g h = [B,sub eg in eh,D]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> sub eg in eh : D\n\ngoal (1 subgoal):\n 1. CanonicalComp T f (CanonicalComp T g h) =\n    [A,sub ef in sub eg in eh,D]\\<^bsub>T\\<^esub>", "using CanonicalCompWellDefined[of T A ef B \"sub eg in eh\" D] axt fwd f zx"], ["proof (prove)\nusing this:\n  CanonicalComp T g h = [B,sub eg in eh,D]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> sub eg in eh : D\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> sub eg in eh : D\\<rbrakk>\n  \\<Longrightarrow> CanonicalComp T [A,ef,B]\\<^bsub>T\\<^esub>\n                     [B,sub eg in eh,D]\\<^bsub>T\\<^esub> =\n                    [A,sub ef in sub eg in eh,D]\\<^bsub>T\\<^esub>\n  Axioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ef : B\n  f = [A,ef,B]\\<^bsub>T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. CanonicalComp T f (CanonicalComp T g h) =\n    [A,sub ef in sub eg in eh,D]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  CanonicalComp T f (CanonicalComp T g h) =\n  [A,sub ef in sub eg in eh,D]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "using a b"], ["proof (prove)\nusing this:\n  CanonicalComp T (CanonicalComp T f g) h =\n  [A,sub sub ef in eg in eh,D]\\<^bsub>T\\<^esub>\n  CanonicalComp T f (CanonicalComp T g h) =\n  [A,sub ef in sub eg in eh,D]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. CanonicalComp T (CanonicalComp T f g) h =\n    CanonicalComp T f (CanonicalComp T g h)", "by (simp add: SubstAssoc)"], ["proof (state)\nthis:\n  CanonicalComp T (CanonicalComp T f g) h =\n  CanonicalComp T f (CanonicalComp T g h)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  CanonicalComp T (CanonicalComp T f g) h =\n  CanonicalComp T f (CanonicalComp T g h)\n\ngoal (2 subgoals):\n 1. \\<And>f g h.\n       \\<lbrakk>ZFAxioms T; f \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> g;\n        g \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> h\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         h =\n                         f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n 2. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "thus \"(f ;;\\<^bsub>CanonicalCat' T\\<^esub> g) ;;\\<^bsub>CanonicalCat' T\\<^esub> h = f ;;\\<^bsub>CanonicalCat' T\\<^esub> (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\""], ["proof (prove)\nusing this:\n  CanonicalComp T (CanonicalComp T f g) h =\n  CanonicalComp T f (CanonicalComp T g h)\n\ngoal (1 subgoal):\n 1. f ;;\\<^bsub>CanonicalCat' T\\<^esub> g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    h =\n    f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)", "by(simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  f ;;\\<^bsub>CanonicalCat' T\\<^esub> g ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  h =\n  f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  (g ;;\\<^bsub>CanonicalCat' T\\<^esub> h)\n\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?f2 \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> ?g2;\n   ?g2 \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> ?h2\\<rbrakk>\n  \\<Longrightarrow> ?f2 ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                    ?g2 ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                    ?h2 =\n                    ?f2 ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                    (?g2 ;;\\<^bsub>CanonicalCat' T\\<^esub> ?h2)\n\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?f2 \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> ?g2;\n   ?g2 \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> ?h2\\<rbrakk>\n  \\<Longrightarrow> ?f2 ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                    ?g2 ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                    ?h2 =\n                    ?f2 ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                    (?g2 ;;\\<^bsub>CanonicalCat' T\\<^esub> ?h2)\n\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "fix f X Y g Z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "assume a: \"f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y\" and b: \"g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\""], ["proof (state)\nthis:\n  f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y\n  g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\n\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "from a CanonicalCat'MapsTo[of T f X Y]"], ["proof (chain)\npicking this:\n  f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y\n  \\<lbrakk>f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y; ZFAxioms T\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ef.\n                       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n                       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y", "obtain ef \n      where f: \"f = [X,ef,Y]\\<^bsub>T\\<^esub>\" and fwd: \"Sig (aSignature T) \\<triangleright> (Vx : X \\<turnstile> ef : Y)\""], ["proof (prove)\nusing this:\n  f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y\n  \\<lbrakk>f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y; ZFAxioms T\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ef.\n                       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n                       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y\n\ngoal (1 subgoal):\n 1. (\\<And>ef.\n        \\<lbrakk>f = [X,ef,Y]\\<^bsub>T\\<^esub>;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using zx"], ["proof (prove)\nusing this:\n  f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y\n  \\<lbrakk>f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y; ZFAxioms T\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ef.\n                       f = [X,ef,Y]\\<^bsub>T\\<^esub> \\<and>\n                       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. (\\<And>ef.\n        \\<lbrakk>f = [X,ef,Y]\\<^bsub>T\\<^esub>;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  f = [X,ef,Y]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y\n\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "from b CanonicalCat'MapsTo[of T g Y Z]"], ["proof (chain)\npicking this:\n  g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\n  \\<lbrakk>g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z; ZFAxioms T\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ef.\n                       g = [Y,ef,Z]\\<^bsub>T\\<^esub> \\<and>\n                       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Y \\<turnstile> ef : Z", "obtain eg\n      where g: \"g = [Y,eg,Z]\\<^bsub>T\\<^esub>\" and gwd: \"Sig (aSignature T) \\<triangleright> (Vx : Y \\<turnstile> eg : Z)\""], ["proof (prove)\nusing this:\n  g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\n  \\<lbrakk>g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z; ZFAxioms T\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ef.\n                       g = [Y,ef,Z]\\<^bsub>T\\<^esub> \\<and>\n                       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Y \\<turnstile> ef : Z\n\ngoal (1 subgoal):\n 1. (\\<And>eg.\n        \\<lbrakk>g = [Y,eg,Z]\\<^bsub>T\\<^esub>;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Y \\<turnstile> eg : Z\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using zx"], ["proof (prove)\nusing this:\n  g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\n  \\<lbrakk>g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z; ZFAxioms T\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ef.\n                       g = [Y,ef,Z]\\<^bsub>T\\<^esub> \\<and>\n                       Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Y \\<turnstile> ef : Z\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. (\\<And>eg.\n        \\<lbrakk>g = [Y,eg,Z]\\<^bsub>T\\<^esub>;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Y \\<turnstile> eg : Z\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  g = [Y,eg,Z]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Y \\<turnstile> eg : Z\n\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have fg: \"CanonicalComp T f g = [X,sub ef in eg,Z]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CanonicalComp T f g = [X,sub ef in eg,Z]\\<^bsub>T\\<^esub>", "using CanonicalCompWellDefined[of T X ef Y eg Z] f g fwd gwd zx"], ["proof (prove)\nusing this:\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Y \\<turnstile> eg : Z\\<rbrakk>\n  \\<Longrightarrow> CanonicalComp T [X,ef,Y]\\<^bsub>T\\<^esub>\n                     [Y,eg,Z]\\<^bsub>T\\<^esub> =\n                    [X,sub ef in eg,Z]\\<^bsub>T\\<^esub>\n  f = [X,ef,Y]\\<^bsub>T\\<^esub>\n  g = [Y,eg,Z]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Y \\<turnstile> eg : Z\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. CanonicalComp T f g = [X,sub ef in eg,Z]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  CanonicalComp T f g = [X,sub ef in eg,Z]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have fgwd: \"Sig (aSignature T) \\<triangleright> (Vx : X \\<turnstile> sub ef in eg : Z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> sub ef in eg : Z", "using fwd gwd SubstWellDefined[of \"aS\\<^bsub>T\\<^esub>\"]"], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> ef : Y\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Y \\<turnstile> eg : Z\n  \\<lbrakk>Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?B \\<turnstile> ?d : ?C\\<rbrakk>\n  \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> sub ?e in ?d : ?C\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> sub ef in eg : Z", "by simp"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> sub ef in eg : Z\n\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "have \"(CanonicalComp T f g) maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CanonicalComp T f g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "proof(rule MapsToI)"], ["proof (state)\ngoal (3 subgoals):\n 1. CanonicalComp T f g \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n 2. dom\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = X\n 3. cod\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = Z", "show \"Dom (CanonicalCat' T) (CanonicalComp T f g) = X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dom\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = X", "using fg CLDomain[of T] zx"], ["proof (prove)\nusing this:\n  CanonicalComp T f g = [X,sub ef in eg,Z]\\<^bsub>T\\<^esub>\n  ZFAxioms T \\<Longrightarrow> CLDomain T [?A,?e,?B]\\<^bsub>T\\<^esub> = ?A\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. dom\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = X", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  dom\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = X\n\ngoal (2 subgoals):\n 1. CanonicalComp T f g \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n 2. cod\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = Z", "show \"CanonicalComp T f g \\<in> Mor (CanonicalCat' T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CanonicalComp T f g \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>", "using fg fgwd"], ["proof (prove)\nusing this:\n  CanonicalComp T f g = [X,sub ef in eg,Z]\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : X \\<turnstile> sub ef in eg : Z\n\ngoal (1 subgoal):\n 1. CanonicalComp T f g \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>", "by (auto simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  CanonicalComp T f g \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = Z", "show \"Cod (CanonicalCat' T) (CanonicalComp T f g) = Z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = Z", "using fg CLCodomain[of T] zx"], ["proof (prove)\nusing this:\n  CanonicalComp T f g = [X,sub ef in eg,Z]\\<^bsub>T\\<^esub>\n  ZFAxioms T \\<Longrightarrow> CLCodomain T [?A,?e,?B]\\<^bsub>T\\<^esub> = ?B\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = Z", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> CanonicalComp T f g = Z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  CanonicalComp T f g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z\n\ngoal (1 subgoal):\n 1. \\<And>f X Y g Z.\n       \\<lbrakk>ZFAxioms T; f maps\\<^bsub>CanonicalCat' T\\<^esub> X to Y;\n        g maps\\<^bsub>CanonicalCat' T\\<^esub> Y to Z\\<rbrakk>\n       \\<Longrightarrow> f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                         g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "thus \"f ;;\\<^bsub>CanonicalCat' T\\<^esub> g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z\""], ["proof (prove)\nusing this:\n  CanonicalComp T f g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z\n\ngoal (1 subgoal):\n 1. f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  f ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  g maps\\<^bsub>CanonicalCat' T\\<^esub> X to Z\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?f2 maps\\<^bsub>CanonicalCat' T\\<^esub> ?X2 to ?Y2;\n   ?g2 maps\\<^bsub>CanonicalCat' T\\<^esub> ?Y2 to ?Z2\\<rbrakk>\n  \\<Longrightarrow> ?f2 ;;\\<^bsub>CanonicalCat' T\\<^esub>\n                    ?g2 maps\\<^bsub>CanonicalCat' T\\<^esub> ?X2 to ?Z2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CanonicalCatCat: \"ZFAxioms T \\<Longrightarrow> Category (CanonicalCat T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow> Category (CanonicalCat T)", "by (simp add: CanonicalCat_def CanonicalCatCat' MakeCat)"], ["", "definition CanonicalInterpretation where \n\"CanonicalInterpretation T \\<equiv> \\<lparr>\n  ISignature = aSignature T,\n  ICategory  = CanonicalCat T,\n  ITypes     = \\<lambda> A . A,\n  IFunctions = \\<lambda> f . [SigDom (aSignature T) f, f E@ Vx, SigCod (aSignature T) f]\\<^bsub>T\\<^esub>\n\\<rparr>\""], ["", "abbreviation \"CI T \\<equiv> CanonicalInterpretation T\""], ["", "lemma CIObj: \"Obj (CanonicalCat T) = BaseTypes (aSignature T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. obj\\<^bsub>CanonicalCat T\\<^esub> =\n    Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub>", "by (simp add: MakeCat_def CanonicalCat_def CanonicalCat'_def)"], ["", "lemma CIMor: \"ZFAxioms T \\<Longrightarrow> [A,e,B]\\<^bsub>T\\<^esub> \\<in> Mor (CanonicalCat T) = Sig (aSignature T) \\<triangleright> (Vx : A \\<turnstile> e : B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    ([A,e,B]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>) =\n    Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "proof(auto simp add: MakeCat_def CanonicalCat_def CanonicalCat'_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Aa ea Ba.\n       \\<lbrakk>ZFAxioms T;\n        [A,e,B]\\<^bsub>T\\<^esub> = [Aa,ea,Ba]\\<^bsub>T\\<^esub>;\n        Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Aa \\<turnstile> ea : Ba\\<rbrakk>\n       \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "fix A' e' B'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Aa ea Ba.\n       \\<lbrakk>ZFAxioms T;\n        [A,e,B]\\<^bsub>T\\<^esub> = [Aa,ea,Ba]\\<^bsub>T\\<^esub>;\n        Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Aa \\<turnstile> ea : Ba\\<rbrakk>\n       \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "assume zx: \"ZFAxioms T\" and b: \"[A,e,B]\\<^bsub>T\\<^esub> = [A',e',B']\\<^bsub>T\\<^esub>\" and c: \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A' \\<turnstile> e' : B'\""], ["proof (state)\nthis:\n  ZFAxioms T\n  [A,e,B]\\<^bsub>T\\<^esub> = [A',e',B']\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A' \\<turnstile> e' : B'\n\ngoal (1 subgoal):\n 1. \\<And>Aa ea Ba.\n       \\<lbrakk>ZFAxioms T;\n        [A,e,B]\\<^bsub>T\\<^esub> = [Aa,ea,Ba]\\<^bsub>T\\<^esub>;\n        Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Aa \\<turnstile> ea : Ba\\<rbrakk>\n       \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "have \"CLDomain T [A,e,B]\\<^bsub>T\\<^esub> = CLDomain T [A',e',B']\\<^bsub>T\\<^esub>\" \n    and \"CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> = CLCodomain T [A',e',B']\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CLDomain T [A,e,B]\\<^bsub>T\\<^esub> =\n    CLDomain T [A',e',B']\\<^bsub>T\\<^esub> &&&\n    CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> =\n    CLCodomain T [A',e',B']\\<^bsub>T\\<^esub>", "using b"], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> = [A',e',B']\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. CLDomain T [A,e,B]\\<^bsub>T\\<^esub> =\n    CLDomain T [A',e',B']\\<^bsub>T\\<^esub> &&&\n    CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> =\n    CLCodomain T [A',e',B']\\<^bsub>T\\<^esub>", "by simp+"], ["proof (state)\nthis:\n  CLDomain T [A,e,B]\\<^bsub>T\\<^esub> =\n  CLDomain T [A',e',B']\\<^bsub>T\\<^esub>\n  CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> =\n  CLCodomain T [A',e',B']\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>Aa ea Ba.\n       \\<lbrakk>ZFAxioms T;\n        [A,e,B]\\<^bsub>T\\<^esub> = [Aa,ea,Ba]\\<^bsub>T\\<^esub>;\n        Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Aa \\<turnstile> ea : Ba\\<rbrakk>\n       \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "hence \"A = A'\" and \"B = B'\""], ["proof (prove)\nusing this:\n  CLDomain T [A,e,B]\\<^bsub>T\\<^esub> =\n  CLDomain T [A',e',B']\\<^bsub>T\\<^esub>\n  CLCodomain T [A,e,B]\\<^bsub>T\\<^esub> =\n  CLCodomain T [A',e',B']\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. A = A' &&& B = B'", "by (simp add: CLDomain CLCodomain zx)+"], ["proof (state)\nthis:\n  A = A'\n  B = B'\n\ngoal (1 subgoal):\n 1. \\<And>Aa ea Ba.\n       \\<lbrakk>ZFAxioms T;\n        [A,e,B]\\<^bsub>T\\<^esub> = [Aa,ea,Ba]\\<^bsub>T\\<^esub>;\n        Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Aa \\<turnstile> ea : Ba\\<rbrakk>\n       \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "hence \"(Vx : A \\<turnstile> e' \\<equiv> e : B) \\<in> Axioms.Theory T\""], ["proof (prove)\nusing this:\n  A = A'\n  B = B'\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e'\\<equiv>e : B \\<in> Axioms.Theory T", "using zx b c Cl2Equiv[of T A e' B e]"], ["proof (prove)\nusing this:\n  A = A'\n  B = B'\n  ZFAxioms T\n  [A,e,B]\\<^bsub>T\\<^esub> = [A',e',B']\\<^bsub>T\\<^esub>\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A' \\<turnstile> e' : B'\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e' : B;\n   [A,e',B]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub>\\<rbrakk>\n  \\<Longrightarrow> Vx : A \\<turnstile> e'\\<equiv>e : B\n                    \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. Vx : A \\<turnstile> e'\\<equiv>e : B \\<in> Axioms.Theory T", "by simp"], ["proof (state)\nthis:\n  Vx : A \\<turnstile> e'\\<equiv>e : B \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. \\<And>Aa ea Ba.\n       \\<lbrakk>ZFAxioms T;\n        [A,e,B]\\<^bsub>T\\<^esub> = [Aa,ea,Ba]\\<^bsub>T\\<^esub>;\n        Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Aa \\<turnstile> ea : Ba\\<rbrakk>\n       \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "hence \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e' \\<equiv> e : B)\""], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> e'\\<equiv>e : B \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e'\\<equiv>e : B", "using Axioms.Equiv2WellDefined[of T] zx"], ["proof (prove)\nusing this:\n  Vx : A \\<turnstile> e'\\<equiv>e : B \\<in> Axioms.Theory T\n  \\<lbrakk>Axioms T; ?\\<phi> \\<in> Axioms.Theory T\\<rbrakk>\n  \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> ?\\<phi>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e'\\<equiv>e : B", "by simp"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e'\\<equiv>e : B\n\ngoal (1 subgoal):\n 1. \\<And>Aa ea Ba.\n       \\<lbrakk>ZFAxioms T;\n        [A,e,B]\\<^bsub>T\\<^esub> = [Aa,ea,Ba]\\<^bsub>T\\<^esub>;\n        Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : Aa \\<turnstile> ea : Ba\\<rbrakk>\n       \\<Longrightarrow> Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "thus \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\""], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e'\\<equiv>e : B\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "by auto"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CIDom: \"\\<lbrakk>ZFAxioms T ; [A,e,B]\\<^bsub>T\\<^esub> \\<in> Mor(CanonicalCat T)\\<rbrakk> \\<Longrightarrow>  Dom (CanonicalCat T) [A,e,B]\\<^bsub>T\\<^esub> = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>ZFAxioms T;\n     [A,e,B]\\<^bsub>T\\<^esub>\n     \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\\<rbrakk>\n    \\<Longrightarrow> dom\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n                      A", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>ZFAxioms T;\n     [A,e,B]\\<^bsub>T\\<^esub>\n     \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\\<rbrakk>\n    \\<Longrightarrow> dom\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n                      A", "assume \"[A,e,B]\\<^bsub>T\\<^esub> \\<in> Mor(CanonicalCat T)\" and \"ZFAxioms T\""], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>ZFAxioms T;\n     [A,e,B]\\<^bsub>T\\<^esub>\n     \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\\<rbrakk>\n    \\<Longrightarrow> dom\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n                      A", "thus \"Dom (CanonicalCat T) [A,e,B]\\<^bsub>T\\<^esub> = A\""], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. dom\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = A", "by (simp add: CLDomain MakeCatMor CanonicalCat_def MakeCat_def CanonicalCat'_def)"], ["proof (state)\nthis:\n  dom\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CICod: \"\\<lbrakk>ZFAxioms T ; [A,e,B]\\<^bsub>T\\<^esub> \\<in> Mor(CanonicalCat T)\\<rbrakk> \\<Longrightarrow> Cod (CanonicalCat T) [A,e,B]\\<^bsub>T\\<^esub> = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>ZFAxioms T;\n     [A,e,B]\\<^bsub>T\\<^esub>\n     \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\\<rbrakk>\n    \\<Longrightarrow> cod\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n                      B", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>ZFAxioms T;\n     [A,e,B]\\<^bsub>T\\<^esub>\n     \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\\<rbrakk>\n    \\<Longrightarrow> cod\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n                      B", "assume \"[A,e,B]\\<^bsub>T\\<^esub> \\<in> Mor(CanonicalCat T)\" and \"ZFAxioms T\""], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>ZFAxioms T;\n     [A,e,B]\\<^bsub>T\\<^esub>\n     \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\\<rbrakk>\n    \\<Longrightarrow> cod\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n                      B", "thus \"Cod (CanonicalCat T) [A,e,B]\\<^bsub>T\\<^esub> = B\""], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = B", "by (simp add: CLCodomain MakeCatMor CanonicalCat_def MakeCat_def CanonicalCat'_def)"], ["proof (state)\nthis:\n  cod\\<^bsub>CanonicalCat T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = B\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CIId: \"\\<lbrakk>A \\<in> BaseTypes (aSignature T)\\<rbrakk> \\<Longrightarrow> Id (CanonicalCat T) A = [A,Vx,A]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> Ty\\<^bsub>aS\\<^bsub>T\\<^esub>\\<^esub> \\<Longrightarrow>\n    id\\<^bsub>CanonicalCat T\\<^esub> A = [A,Vx,A]\\<^bsub>T\\<^esub>", "by(simp add: MakeCat_def CanonicalCat_def CanonicalCat'_def)"], ["", "lemma CIComp: \n  assumes \"ZFAxioms T\" and \"Sig (aSignature T) \\<triangleright> (Vx : A \\<turnstile> e : B)\" and \"Sig (aSignature T) \\<triangleright> (Vx : B \\<turnstile> d : C)\"\n  shows \"[A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = [A,sub e in d,C]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n    [B,d,C]\\<^bsub>T\\<^esub> =\n    [A,sub e in d,C]\\<^bsub>T\\<^esub>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n    [B,d,C]\\<^bsub>T\\<^esub> =\n    [A,sub e in d,C]\\<^bsub>T\\<^esub>", "have \"[A,e,B]\\<^bsub>T\\<^esub> \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub>\n    [B,d,C]\\<^bsub>T\\<^esub>", "proof(rule CompDefinedI)"], ["proof (state)\ngoal (3 subgoals):\n 1. [A,e,B]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n 2. [B,d,C]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n 3. cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n    dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>", "show \"[A,e,B]\\<^bsub>T\\<^esub> \\<in> Mor (CanonicalCat' T)\" and \"[B,d,C]\\<^bsub>T\\<^esub> \\<in> Mor (CanonicalCat' T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub> &&&\n    [B,d,C]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>", "using assms"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> d : C\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub> &&&\n    [B,d,C]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>", "by (auto simp add:  CanonicalCat'_def)"], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat' T\\<^esub>\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n    dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>", "have \"cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = B", "using assms"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> d : C\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = B", "by (simp add: CanonicalCat'_def CLCodomain)"], ["proof (state)\nthis:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = B\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n    dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>", "moreover"], ["proof (state)\nthis:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = B\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n    dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>", "have \"dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = B", "using assms"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> d : C\n\ngoal (1 subgoal):\n 1. dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = B", "by (simp add: CanonicalCat'_def CLDomain)"], ["proof (state)\nthis:\n  dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = B\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n    dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>", "ultimately"], ["proof (chain)\npicking this:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = B\n  dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = B", "show \"cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> = B\n  dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = B\n\ngoal (1 subgoal):\n 1. cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n    dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  cod\\<^bsub>CanonicalCat' T\\<^esub> [A,e,B]\\<^bsub>T\\<^esub> =\n  dom\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n    [B,d,C]\\<^bsub>T\\<^esub> =\n    [A,sub e in d,C]\\<^bsub>T\\<^esub>", "hence \"[A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat' T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> \\<approx>>\\<^bsub>CanonicalCat' T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n    [B,d,C]\\<^bsub>T\\<^esub> =\n    [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat' T\\<^esub>\n    [B,d,C]\\<^bsub>T\\<^esub>", "by (auto simp add: MakeCatComp CanonicalCat_def)"], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub> =\n  [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n    [B,d,C]\\<^bsub>T\\<^esub> =\n    [A,sub e in d,C]\\<^bsub>T\\<^esub>", "thus \"[A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub> [B,d,C]\\<^bsub>T\\<^esub> = [A, sub e in d, C]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub> =\n  [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n    [B,d,C]\\<^bsub>T\\<^esub> =\n    [A,sub e in d,C]\\<^bsub>T\\<^esub>", "using CanonicalCompWellDefined[of T] assms"], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub> =\n  [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat' T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub>\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?d : ?B;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?B \\<turnstile> ?d' : ?C\\<rbrakk>\n  \\<Longrightarrow> CanonicalComp T [?A,?d,?B]\\<^bsub>T\\<^esub>\n                     [?B,?d',?C]\\<^bsub>T\\<^esub> =\n                    [?A,sub ?d in ?d',?C]\\<^bsub>T\\<^esub>\n  ZFAxioms T\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : B \\<turnstile> d : C\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n    [B,d,C]\\<^bsub>T\\<^esub> =\n    [A,sub e in d,C]\\<^bsub>T\\<^esub>", "by (simp add: CanonicalCat'_def)"], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n  [B,d,C]\\<^bsub>T\\<^esub> =\n  [A,sub e in d,C]\\<^bsub>T\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma [simp]: \"ZFAxioms T \\<Longrightarrow> Category iC\\<^bsub>CI T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow> Category iC\\<^bsub>CI T\\<^esub>", "by(simp add: CanonicalInterpretation_def CanonicalCatCat[of T])"], ["", "lemma [simp]: \"ZFAxioms T \\<Longrightarrow> Signature iS\\<^bsub>CI T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow> Signature iS\\<^bsub>CI T\\<^esub>", "by(simp add: CanonicalInterpretation_def Axioms.AxSig)"], ["", "lemma CIInterpretation: \"ZFAxioms T \\<Longrightarrow> Interpretation (CI T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow> Interpretation (CI T)", "proof(auto simp only: Interpretation_def)"], ["proof (state)\ngoal (4 subgoals):\n 1. ZFAxioms T \\<Longrightarrow> Category iC\\<^bsub>CI T\\<^esub>\n 2. ZFAxioms T \\<Longrightarrow> Signature iS\\<^bsub>CI T\\<^esub>\n 3. \\<And>A.\n       \\<lbrakk>ZFAxioms T;\n        A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>\n                         \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n 4. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "assume xt: \"ZFAxioms T\""], ["proof (state)\nthis:\n  ZFAxioms T\n\ngoal (4 subgoals):\n 1. ZFAxioms T \\<Longrightarrow> Category iC\\<^bsub>CI T\\<^esub>\n 2. ZFAxioms T \\<Longrightarrow> Signature iS\\<^bsub>CI T\\<^esub>\n 3. \\<And>A.\n       \\<lbrakk>ZFAxioms T;\n        A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>\n                         \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n 4. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "show \"Category iC\\<^bsub>CI T\\<^esub>\" and \"Signature iS\\<^bsub>CI T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Category iC\\<^bsub>CI T\\<^esub> &&& Signature iS\\<^bsub>CI T\\<^esub>", "using xt"], ["proof (prove)\nusing this:\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. Category iC\\<^bsub>CI T\\<^esub> &&& Signature iS\\<^bsub>CI T\\<^esub>", "by simp+"], ["proof (state)\nthis:\n  Category iC\\<^bsub>CI T\\<^esub>\n  Signature iS\\<^bsub>CI T\\<^esub>\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>ZFAxioms T;\n        A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>\n                         \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n 2. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "{"], ["proof (state)\nthis:\n  Category iC\\<^bsub>CI T\\<^esub>\n  Signature iS\\<^bsub>CI T\\<^esub>\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>ZFAxioms T;\n        A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>\n                         \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n 2. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "fix A"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>ZFAxioms T;\n        A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>\n                         \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n 2. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "assume \"A \\<in> BaseTypes (iS\\<^bsub>CI T\\<^esub>)\""], ["proof (state)\nthis:\n  A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>ZFAxioms T;\n        A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>\n                         \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n 2. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "thus \"Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<in> Obj (iC\\<^bsub>CI T\\<^esub>)\""], ["proof (prove)\nusing this:\n  A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n\ngoal (1 subgoal):\n 1. Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>\n    \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>", "by(simp add: CanonicalInterpretation_def CIObj[of T])"], ["proof (state)\nthis:\n  Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>\n  \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "}"], ["proof (state)\nthis:\n  ?A2 \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub> \\<Longrightarrow>\n  Ty\\<lbrakk>?A2\\<rbrakk>\\<^bsub>CI T\\<^esub>\n  \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "{"], ["proof (state)\nthis:\n  ?A2 \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub> \\<Longrightarrow>\n  Ty\\<lbrakk>?A2\\<rbrakk>\\<^bsub>CI T\\<^esub>\n  \\<in> obj\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "fix f A B"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "assume a: \"f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\""], ["proof (state)\nthis:\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "hence \"[sDom\\<^bsub>ISignature (CI T)\\<^esub> f,f E@ Vx,sCod\\<^bsub>ISignature (CI T)\\<^esub> f]\\<^bsub>T\\<^esub> \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\""], ["proof (prove)\nusing this:\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. [sDom\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n      f,f E@ Vx,sCod\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n                 f]\\<^bsub>T\\<^esub>\n    \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>", "using xt"], ["proof (prove)\nusing this:\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. [sDom\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n      f,f E@ Vx,sCod\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n                 f]\\<^bsub>T\\<^esub>\n    \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>", "by(auto simp add: CanonicalInterpretation_def CIMor)"], ["proof (state)\nthis:\n  [sDom\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n    f,f E@ Vx,sCod\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub> f]\\<^bsub>T\\<^esub>\n  \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>f A B.\n       \\<lbrakk>ZFAxioms T;\n        f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\\<rbrakk>\n       \\<Longrightarrow> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "thus \"Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>ICategory (CI T) \\<^esub>Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>\""], ["proof (prove)\nusing this:\n  [sDom\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n    f,f E@ Vx,sCod\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub> f]\\<^bsub>T\\<^esub>\n  \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\n\ngoal (1 subgoal):\n 1. Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "using a xt"], ["proof (prove)\nusing this:\n  [sDom\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n    f,f E@ Vx,sCod\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub> f]\\<^bsub>T\\<^esub>\n  \\<in> mor\\<^bsub>CanonicalCat T\\<^esub>\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : A \\<rightarrow> B\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>", "by(auto simp add: CanonicalInterpretation_def MapsTo_def funsignature_abbrev_def CIDom CICod)"], ["proof (state)\nthis:\n  Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>B\\<rbrakk>\\<^bsub>CI T\\<^esub>\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  ?f2 \\<in> Sig iS\\<^bsub>CI T\\<^esub> : ?A2 \\<rightarrow> ?B2 \\<Longrightarrow>\n  Fn\\<lbrakk>?f2\\<rbrakk>\\<^bsub>CI T\\<^esub> maps\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>?A2\\<rbrakk>\\<^bsub>CI T\\<^esub> to Ty\\<lbrakk>?B2\\<rbrakk>\\<^bsub>CI T\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CIInterp2Mor: \"ZFAxioms T \\<Longrightarrow> (\\<And> B . Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e : B) \\<Longrightarrow>  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A, e, B]\\<^bsub>T\\<^esub>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow>\n    (\\<And>B.\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B \\<Longrightarrow>\n        L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n            [A,e,B]\\<^bsub>T\\<^esub>)", "proof(induct e)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "assume xt: \"ZFAxioms T\""], ["proof (state)\nthis:\n  ZFAxioms T\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "{"], ["proof (state)\nthis:\n  ZFAxioms T\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "fix B"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "assume a: \"Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\""], ["proof (state)\nthis:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "have aeqb: \"A = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A = B", "using a SigId[of \"iS\\<^bsub>CI T\\<^esub>\" A B] Interpretation.InterpExprWellDefined[of \"CI T\"]"], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B \\<Longrightarrow>\n  A = B\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> ?i\\<rbrakk>\n  \\<Longrightarrow> Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\n\ngoal (1 subgoal):\n 1. A = B", "by simp"], ["proof (state)\nthis:\n  A = B\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "moreover"], ["proof (state)\nthis:\n  A = B\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "have bt: \"A \\<in> BaseTypes iS\\<^bsub>CI T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>", "using a SigTyId aeqb"], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\n  Sig ?S \\<triangleright> Vx : ?A \\<turnstile> Vx : ?A \\<Longrightarrow>\n  ?A \\<in> Ty\\<^bsub>?S\\<^esub>\n  A = B\n\ngoal (1 subgoal):\n 1. A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>", "by simp"], ["proof (state)\nthis:\n  A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "ultimately"], ["proof (chain)\npicking this:\n  A = B\n  A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>", "have b: \"L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor (Id iC\\<^bsub>CI T\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>))\""], ["proof (prove)\nusing this:\n  A = B\n  A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n         (id\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       (id\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>)\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "have \"Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> = A", "by (simp add: CanonicalInterpretation_def)"], ["proof (state)\nthis:\n  Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> = A\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "hence \"(Id iC\\<^bsub>CI T\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>) = [A,Vx,A]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> = A\n\ngoal (1 subgoal):\n 1. id\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,Vx,A]\\<^bsub>T\\<^esub>", "using bt CIId"], ["proof (prove)\nusing this:\n  Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> = A\n  A \\<in> Ty\\<^bsub>iS\\<^bsub>CI T\\<^esub>\\<^esub>\n  ?A \\<in> Ty\\<^bsub>aS\\<^bsub>?T\\<^esub>\\<^esub> \\<Longrightarrow>\n  id\\<^bsub>CanonicalCat ?T\\<^esub> ?A = [?A,Vx,?A]\\<^bsub>?T\\<^esub>\n\ngoal (1 subgoal):\n 1. id\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,Vx,A]\\<^bsub>T\\<^esub>", "by(simp add: CanonicalInterpretation_def)"], ["proof (state)\nthis:\n  id\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n  [A,Vx,A]\\<^bsub>T\\<^esub>\n\ngoal (2 subgoals):\n 1. \\<And>B.\n       \\<lbrakk>ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                              [A,Vx,B]\\<^bsub>T\\<^esub>\n 2. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "thus \"L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A,Vx,B]\\<^bsub>T\\<^esub>)\""], ["proof (prove)\nusing this:\n  id\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n  [A,Vx,A]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n         [A,Vx,B]\\<^bsub>T\\<^esub>", "using aeqb b"], ["proof (prove)\nusing this:\n  id\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n  [A,Vx,A]\\<^bsub>T\\<^esub>\n  A = B\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       (id\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub> Ty\\<lbrakk>A\\<rbrakk>\\<^bsub>CI T\\<^esub>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n         [A,Vx,B]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       [A,Vx,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "}"], ["proof (state)\nthis:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : ?B2 \\<Longrightarrow>\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : ?B2\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n         [A,Vx,?B2]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "{"], ["proof (state)\nthis:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> Vx : ?B2 \\<Longrightarrow>\n  L\\<lbrakk>Vx : A \\<turnstile> Vx : ?B2\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n         [A,Vx,?B2]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "fix f e B"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "assume ih: \"\\<And>B'. \\<lbrakk>ZFAxioms T ; Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e : B')\\<rbrakk> \\<Longrightarrow> (L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A,e,B']\\<^bsub>T\\<^esub>))\"\n    and a: \"Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> f E@ e : B\""], ["proof (state)\nthis:\n  \\<lbrakk>ZFAxioms T;\n   Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : ?B'\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : ?B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                          [A,e,?B']\\<^bsub>T\\<^esub>\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> f E@ e : B\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "from a"], ["proof (chain)\npicking this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> f E@ e : B", "obtain B' where sig: \"Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e : B')\" and f: \"f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : B' \\<rightarrow> B\""], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> f E@ e : B\n\ngoal (1 subgoal):\n 1. (\\<And>B'.\n        \\<lbrakk>Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B';\n         f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : B' \\<rightarrow> B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B'\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "hence \"L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A,e,B']\\<^bsub>T\\<^esub>)\""], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B'\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n         [A,e,B']\\<^bsub>T\\<^esub>", "using ih xt"], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B'\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : B' \\<rightarrow> B\n  \\<lbrakk>ZFAxioms T;\n   Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : ?B'\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : ?B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                          [A,e,?B']\\<^bsub>T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n         [A,e,B']\\<^bsub>T\\<^esub>", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       [A,e,B']\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "hence b: \"L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor ([A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>ICategory (CI T)\\<^esub> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub>))\""], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       [A,e,B']\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n             ([A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n              Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub>)", "using sig f"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       [A,e,B']\\<^bsub>T\\<^esub>\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B'\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n             ([A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n              Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub>)", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n           ([A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n            Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub>)\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "have \"[A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>ICategory (CI T)\\<^esub> Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> = [A,f E@ e,B]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,f E@ e,B]\\<^bsub>T\\<^esub>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,f E@ e,B]\\<^bsub>T\\<^esub>", "have aa: \"Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> = [B', f E@ Vx, B]\\<^bsub>T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [B',f E@ Vx,B]\\<^bsub>T\\<^esub>", "using f"], ["proof (prove)\nusing this:\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [B',f E@ Vx,B]\\<^bsub>T\\<^esub>", "by (simp add: CanonicalInterpretation_def funsignature_abbrev_def)"], ["proof (state)\nthis:\n  Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n  [B',f E@ Vx,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,f E@ e,B]\\<^bsub>T\\<^esub>", "have \"Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B'\" and \"Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> f E@ Vx : B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B' &&&\n    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> f E@ Vx : B", "using sig f"], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B'\n  f \\<in> Sig iS\\<^bsub>CI T\\<^esub> : B' \\<rightarrow> B\n\ngoal (1 subgoal):\n 1. Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B' &&&\n    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> f E@ Vx : B", "by auto"], ["proof (state)\nthis:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B'\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> f E@ Vx : B\n\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,f E@ e,B]\\<^bsub>T\\<^esub>", "hence \"[A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>ICategory (CI T)\\<^esub> [B', f E@ Vx, B]\\<^bsub>T\\<^esub> = [A, sub e in (f E@ Vx), B]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B'\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> f E@ Vx : B\n\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    [B',f E@ Vx,B]\\<^bsub>T\\<^esub> =\n    [A,sub e in f E@ Vx,B]\\<^bsub>T\\<^esub>", "using CIComp[of T] xt"], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B'\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : B' \\<turnstile> f E@ Vx : B\n  \\<lbrakk>ZFAxioms T;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B;\n   Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : ?B \\<turnstile> ?d : ?C\\<rbrakk>\n  \\<Longrightarrow> [?A,?e,?B]\\<^bsub>T\\<^esub> ;;\\<^bsub>CanonicalCat T\\<^esub>\n                    [?B,?d,?C]\\<^bsub>T\\<^esub> =\n                    [?A,sub ?e in ?d,?C]\\<^bsub>T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    [B',f E@ Vx,B]\\<^bsub>T\\<^esub> =\n    [A,sub e in f E@ Vx,B]\\<^bsub>T\\<^esub>", "by (simp add: CanonicalInterpretation_def)"], ["proof (state)\nthis:\n  [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n  [B',f E@ Vx,B]\\<^bsub>T\\<^esub> =\n  [A,sub e in f E@ Vx,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,f E@ e,B]\\<^bsub>T\\<^esub>", "moreover"], ["proof (state)\nthis:\n  [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n  [B',f E@ Vx,B]\\<^bsub>T\\<^esub> =\n  [A,sub e in f E@ Vx,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,f E@ e,B]\\<^bsub>T\\<^esub>", "have \"sub e in (f E@ Vx) = f E@ e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sub e in f E@ Vx = f E@ e", "by (auto simp add: Subst_def)"], ["proof (state)\nthis:\n  sub e in f E@ Vx = f E@ e\n\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,f E@ e,B]\\<^bsub>T\\<^esub>", "ultimately"], ["proof (chain)\npicking this:\n  [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n  [B',f E@ Vx,B]\\<^bsub>T\\<^esub> =\n  [A,sub e in f E@ Vx,B]\\<^bsub>T\\<^esub>\n  sub e in f E@ Vx = f E@ e", "show ?thesis"], ["proof (prove)\nusing this:\n  [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n  [B',f E@ Vx,B]\\<^bsub>T\\<^esub> =\n  [A,sub e in f E@ Vx,B]\\<^bsub>T\\<^esub>\n  sub e in f E@ Vx = f E@ e\n\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,f E@ e,B]\\<^bsub>T\\<^esub>", "using aa"], ["proof (prove)\nusing this:\n  [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n  [B',f E@ Vx,B]\\<^bsub>T\\<^esub> =\n  [A,sub e in f E@ Vx,B]\\<^bsub>T\\<^esub>\n  sub e in f E@ Vx = f E@ e\n  Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n  [B',f E@ Vx,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n    Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n    [A,f E@ e,B]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n  Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n  [A,f E@ e,B]\\<^bsub>T\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n  Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n  [A,f E@ e,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x1 e B.\n       \\<lbrakk>\\<And>B.\n                   \\<lbrakk>ZFAxioms T;\n                    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\\<rbrakk>\n                   \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n   [A,e,B]\\<^bsub>T\\<^esub>;\n        ZFAxioms T;\n        Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> x1 E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                   [A,x1 E@ e,B]\\<^bsub>T\\<^esub>", "thus \"L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A,f E@ e,B]\\<^bsub>T\\<^esub>)\""], ["proof (prove)\nusing this:\n  [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n  Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n  [A,f E@ e,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n             [A,f E@ e,B]\\<^bsub>T\\<^esub>", "using b"], ["proof (prove)\nusing this:\n  [A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n  Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub> =\n  [A,f E@ e,B]\\<^bsub>T\\<^esub>\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n           ([A,e,B']\\<^bsub>T\\<^esub> ;;\\<^bsub>iC\\<^bsub>CI T\\<^esub>\\<^esub>\n            Fn\\<lbrakk>f\\<rbrakk>\\<^bsub>CI T\\<^esub>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n             [A,f E@ e,B]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> f E@ e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n           [A,f E@ e,B]\\<^bsub>T\\<^esub>\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>B'.\n              \\<lbrakk>ZFAxioms T;\n               Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ?ea2 : B'\\<rbrakk>\n              \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> ?ea2 : B'\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n  [A,?ea2,B']\\<^bsub>T\\<^esub>;\n   Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> ?f2 E@ ?ea2 : ?B2\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> ?f2 E@ ?ea2 : ?B2\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                                    [A,?f2 E@ ?ea2,?B2]\\<^bsub>T\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CIModel: \"ZFAxioms T \\<Longrightarrow> Model (CI T) T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFAxioms T \\<Longrightarrow> Model (CI T) T", "proof(auto simp add: Model_def Model_axioms_def )"], ["proof (state)\ngoal (3 subgoals):\n 1. ZFAxioms T \\<Longrightarrow> Interpretation (CI T)\n 2. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True\n 3. ZFAxioms T \\<Longrightarrow>\n    aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>", "assume xt: \"ZFAxioms T\""], ["proof (state)\nthis:\n  ZFAxioms T\n\ngoal (3 subgoals):\n 1. ZFAxioms T \\<Longrightarrow> Interpretation (CI T)\n 2. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True\n 3. ZFAxioms T \\<Longrightarrow>\n    aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>", "have axt: \"Axioms T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Axioms T", "using xt"], ["proof (prove)\nusing this:\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. Axioms T", "by simp"], ["proof (state)\nthis:\n  Axioms T\n\ngoal (3 subgoals):\n 1. ZFAxioms T \\<Longrightarrow> Interpretation (CI T)\n 2. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True\n 3. ZFAxioms T \\<Longrightarrow>\n    aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>", "show ii: \"Interpretation (CI T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Interpretation (CI T)", "using xt"], ["proof (prove)\nusing this:\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. Interpretation (CI T)", "by (simp add: CIInterpretation)"], ["proof (state)\nthis:\n  Interpretation (CI T)\n\ngoal (2 subgoals):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True\n 2. ZFAxioms T \\<Longrightarrow>\n    aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>", "show aeq: \"aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>", "by (simp add: CanonicalInterpretation_def)"], ["proof (state)\nthis:\n  aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "{"], ["proof (state)\nthis:\n  aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "fix \\<phi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "assume a: \"\\<phi> \\<in> aAxioms T\""], ["proof (state)\nthis:\n  \\<phi> \\<in> aAxioms T\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "from a Axioms.AxT"], ["proof (chain)\npicking this:\n  \\<phi> \\<in> aAxioms T\n  Axioms ?Ax \\<Longrightarrow>\n  aAxioms ?Ax\n  \\<subseteq> {Vx : A \\<turnstile> e1\\<equiv>e2 : B |A B e1 e2.\n               Sig aS\\<^bsub>?Ax\\<^esub> \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B}", "obtain A B e d where \\<phi>: \"\\<phi> = Vx : A \\<turnstile> e \\<equiv> d : B\" and sig: \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e \\<equiv> d : B\""], ["proof (prove)\nusing this:\n  \\<phi> \\<in> aAxioms T\n  Axioms ?Ax \\<Longrightarrow>\n  aAxioms ?Ax\n  \\<subseteq> {Vx : A \\<turnstile> e1\\<equiv>e2 : B |A B e1 e2.\n               Sig aS\\<^bsub>?Ax\\<^esub> \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B}\n\ngoal (1 subgoal):\n 1. (\\<And>A e d B.\n        \\<lbrakk>\\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e\\<equiv>d : B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using axt"], ["proof (prove)\nusing this:\n  \\<phi> \\<in> aAxioms T\n  Axioms ?Ax \\<Longrightarrow>\n  aAxioms ?Ax\n  \\<subseteq> {Vx : A \\<turnstile> e1\\<equiv>e2 : B |A B e1 e2.\n               Sig aS\\<^bsub>?Ax\\<^esub> \\<triangleright> Vx : A \\<turnstile> e1\\<equiv>e2 : B}\n  Axioms T\n\ngoal (1 subgoal):\n 1. (\\<And>A e d B.\n        \\<lbrakk>\\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B;\n         Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e\\<equiv>d : B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e\\<equiv>d : B\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "have \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "using sig"], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e\\<equiv>d : B\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B", "by auto"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "hence e: \"L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A, e, B]\\<^bsub>T\\<^esub>)\""], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n        [A,e,B]\\<^bsub>T\\<^esub>", "using aeq CIInterp2Mor xt"], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>\n  \\<lbrakk>ZFAxioms ?T;\n   Sig iS\\<^bsub>CI ?T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\\<^bsub>CI ?T\\<^esub> \\<rightarrow> IMor\n                            [?A,?e,?B]\\<^bsub>?T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n        [A,e,B]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      [A,e,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "have \"Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B", "using sig"], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e\\<equiv>d : B\n\ngoal (1 subgoal):\n 1. Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B", "by auto"], ["proof (state)\nthis:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "hence d: \"L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A, d, B]\\<^bsub>T\\<^esub>)\""], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n        [A,d,B]\\<^bsub>T\\<^esub>", "using aeq CIInterp2Mor xt"], ["proof (prove)\nusing this:\n  Sig aS\\<^bsub>T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\n  aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>\n  \\<lbrakk>ZFAxioms ?T;\n   Sig iS\\<^bsub>CI ?T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\\<^bsub>CI ?T\\<^esub> \\<rightarrow> IMor\n                            [?A,?e,?B]\\<^bsub>?T\\<^esub>\n  ZFAxioms T\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n        [A,d,B]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      [A,d,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "have \"\\<phi> \\<in> Axioms.Theory T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "using a axt"], ["proof (prove)\nusing this:\n  \\<phi> \\<in> aAxioms T\n  Axioms T\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "by (simp add: Axioms.Theory.Ax)"], ["proof (state)\nthis:\n  \\<phi> \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "hence \"[A, e, B]\\<^bsub>T\\<^esub> = [A, d, B]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  \\<phi> \\<in> Axioms.Theory T\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>", "using \\<phi> Equiv2Cl axt"], ["proof (prove)\nusing this:\n  \\<phi> \\<in> Axioms.Theory T\n  \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n  \\<lbrakk>Axioms ?T;\n   Vx : ?A \\<turnstile> ?e\\<equiv>?d : ?B \\<in> Axioms.Theory ?T\\<rbrakk>\n  \\<Longrightarrow> [?A,?e,?B]\\<^bsub>?T\\<^esub> =\n                    [?A,?d,?B]\\<^bsub>?T\\<^esub>\n  Axioms T\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<lbrakk>ZFAxioms T; \\<phi> \\<in> aAxioms T\\<rbrakk>\n       \\<Longrightarrow> L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n          True", "thus \"L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IBool True)\""], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True", "using e d \\<phi> ii InterpEq[of \"CI T\" A e B \"[A, e, B]\\<^bsub>T\\<^esub>\" d \"[A, d, B]\\<^bsub>T\\<^esub>\"]"], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      [A,e,B]\\<^bsub>T\\<^esub>\n  L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      [A,d,B]\\<^bsub>T\\<^esub>\n  \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n  Interpretation (CI T)\n  \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n               [A,e,B]\\<^bsub>T\\<^esub>;\n   L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       [A,d,B]\\<^bsub>T\\<^esub>\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n                                 ([A,e,B]\\<^bsub>T\\<^esub> =\n                                  [A,d,B]\\<^bsub>T\\<^esub>)\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  ?\\<phi>2 \\<in> aAxioms T \\<Longrightarrow>\n  L\\<lbrakk>?\\<phi>2\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CIComplete: assumes \"ZFAxioms T\" and \"L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IBool True)\" shows \"\\<phi> \\<in> Axioms.Theory T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "have ii: \"Interpretation (CI T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Interpretation (CI T)", "using assms"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True\n\ngoal (1 subgoal):\n 1. Interpretation (CI T)", "by (simp add: CIInterpretation)"], ["proof (state)\nthis:\n  Interpretation (CI T)\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "hence aeq: \"aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>\""], ["proof (prove)\nusing this:\n  Interpretation (CI T)\n\ngoal (1 subgoal):\n 1. aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>", "by (simp add: CanonicalInterpretation_def)"], ["proof (state)\nthis:\n  aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "from Interpretation.Bool[of \"CI T\" \\<phi> True]"], ["proof (chain)\npicking this:\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n                          True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>A B e d.\n                       \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B", "obtain A B e d where \\<phi>: \"\\<phi> = (Vx : A \\<turnstile> e \\<equiv> d : B)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n                          True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>A B e d.\n                       \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n\ngoal (1 subgoal):\n 1. (\\<And>A e d B.\n        \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using ii assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n                          True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>A B e d.\n                       \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n  Interpretation (CI T)\n  ZFAxioms T\n  L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True\n\ngoal (1 subgoal):\n 1. (\\<And>A e d B.\n        \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "from Interpretation.Equiv[of \"CI T\" A e d B]"], ["proof (chain)\npicking this:\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n                True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>g.\n                       L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                           g \\<and>\n                       L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                           g", "obtain g \n    where g1: \"L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor g)\" \n    and   g2: \"L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor g)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n                True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>g.\n                       L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                           g \\<and>\n                       L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                           g\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                     g;\n         L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n             g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using ii \\<phi> assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>Vx : A \\<turnstile> e\\<equiv>d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n                True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>g.\n                       L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                           g \\<and>\n                       L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                           g\n  Interpretation (CI T)\n  \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n  ZFAxioms T\n  L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n                     g;\n         L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n             g\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      g\n  L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      g\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "have ewd: \"Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> e : B)\" and dwd: \"Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> (Vx : A \\<turnstile> d : B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B &&&\n    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B", "using g1 g2 Interpretation.InterpExprWellDefined[of \"CI T\"] ii"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      g\n  L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      g\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> ?i\\<rbrakk>\n  \\<Longrightarrow> Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\n  Interpretation (CI T)\n\ngoal (1 subgoal):\n 1. Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B &&&\n    Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B", "by simp+"], ["proof (state)\nthis:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "have ie: \"L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A, e, B]\\<^bsub>T\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n        [A,e,B]\\<^bsub>T\\<^esub>", "using ewd CIInterp2Mor assms"], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  \\<lbrakk>ZFAxioms ?T;\n   Sig iS\\<^bsub>CI ?T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\\<^bsub>CI ?T\\<^esub> \\<rightarrow> IMor\n                            [?A,?e,?B]\\<^bsub>?T\\<^esub>\n  ZFAxioms T\n  L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n        [A,e,B]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      [A,e,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "have id: \"L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> (IMor [A, d, B]\\<^bsub>T\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n        [A,d,B]\\<^bsub>T\\<^esub>", "using dwd CIInterp2Mor assms"], ["proof (prove)\nusing this:\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> d : B\n  \\<lbrakk>ZFAxioms ?T;\n   Sig iS\\<^bsub>CI ?T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\n  \\<Longrightarrow> L\\<lbrakk>Vx : ?A \\<turnstile> ?e : ?B\\<rbrakk>\\<^bsub>CI ?T\\<^esub> \\<rightarrow> IMor\n                            [?A,?e,?B]\\<^bsub>?T\\<^esub>\n  ZFAxioms T\n  L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True\n\ngoal (1 subgoal):\n 1. L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n        [A,d,B]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      [A,d,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "have \"[A, e, B]\\<^bsub>T\\<^esub> = g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> = g", "using g1 ie ii Interpretation.Functional[of \"CI T\" \"Vx : A \\<turnstile> e : B\" \"IMor [A, e, B]\\<^bsub>T\\<^esub>\" \"IMor g\"]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      g\n  L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      [A,e,B]\\<^bsub>T\\<^esub>\n  Interpretation (CI T)\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       [A,e,B]\\<^bsub>T\\<^esub>;\n   L\\<lbrakk>Vx : A \\<turnstile> e : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       g\\<rbrakk>\n  \\<Longrightarrow> IMor [A,e,B]\\<^bsub>T\\<^esub> = IMor g\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> = g", "by simp"], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> = g\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "moreover"], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> = g\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "have \"[A, d, B]\\<^bsub>T\\<^esub> = g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [A,d,B]\\<^bsub>T\\<^esub> = g", "using g2 id ii Interpretation.Functional[of \"CI T\" \"Vx : A \\<turnstile> d : B\" \"IMor [A, d, B]\\<^bsub>T\\<^esub>\" \"IMor g\"]"], ["proof (prove)\nusing this:\n  L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      g\n  L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n      [A,d,B]\\<^bsub>T\\<^esub>\n  Interpretation (CI T)\n  \\<lbrakk>Interpretation (CI T);\n   L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       [A,d,B]\\<^bsub>T\\<^esub>;\n   L\\<lbrakk>Vx : A \\<turnstile> d : B\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IMor\n       g\\<rbrakk>\n  \\<Longrightarrow> IMor [A,d,B]\\<^bsub>T\\<^esub> = IMor g\n\ngoal (1 subgoal):\n 1. [A,d,B]\\<^bsub>T\\<^esub> = g", "by simp"], ["proof (state)\nthis:\n  [A,d,B]\\<^bsub>T\\<^esub> = g\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "ultimately"], ["proof (chain)\npicking this:\n  [A,e,B]\\<^bsub>T\\<^esub> = g\n  [A,d,B]\\<^bsub>T\\<^esub> = g", "have \"[A, e, B]\\<^bsub>T\\<^esub> = [A, d, B]\\<^bsub>T\\<^esub>\""], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> = g\n  [A,d,B]\\<^bsub>T\\<^esub> = g\n\ngoal (1 subgoal):\n 1. [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>", "by simp"], ["proof (state)\nthis:\n  [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "thus ?thesis"], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "using \\<phi> ewd Cl2Equiv aeq assms"], ["proof (prove)\nusing this:\n  [A,e,B]\\<^bsub>T\\<^esub> = [A,d,B]\\<^bsub>T\\<^esub>\n  \\<phi> = Vx : A \\<turnstile> e\\<equiv>d : B\n  Sig iS\\<^bsub>CI T\\<^esub> \\<triangleright> Vx : A \\<turnstile> e : B\n  \\<lbrakk>ZFAxioms ?T;\n   Sig aS\\<^bsub>?T\\<^esub> \\<triangleright> Vx : ?A \\<turnstile> ?e : ?B;\n   [?A,?e,?B]\\<^bsub>?T\\<^esub> = [?A,?d,?B]\\<^bsub>?T\\<^esub>\\<rbrakk>\n  \\<Longrightarrow> Vx : ?A \\<turnstile> ?e\\<equiv>?d : ?B\n                    \\<in> Axioms.Theory ?T\n  aS\\<^bsub>T\\<^esub> = iS\\<^bsub>CI T\\<^esub>\n  ZFAxioms T\n  L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool True\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "by simp"], ["proof (state)\nthis:\n  \\<phi> \\<in> Axioms.Theory T\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Complete: \n  assumes \"ZFAxioms T\" \n  and \"\\<And> (I :: (ZF,ZF,ZF,ZF) Interpretation) . Model I T \\<Longrightarrow> (L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>I\\<^esub> \\<rightarrow> (IBool True))\" \n  shows \"\\<phi> \\<in> Axioms.Theory T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "have \"Model (CI T) T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Model (CI T) T", "using assms CIModel"], ["proof (prove)\nusing this:\n  ZFAxioms T\n  Model ?I T \\<Longrightarrow>\n  L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>?I\\<^esub> \\<rightarrow> IBool True\n  ZFAxioms ?T \\<Longrightarrow> Model (CI ?T) ?T\n\ngoal (1 subgoal):\n 1. Model (CI T) T", "by simp"], ["proof (state)\nthis:\n  Model (CI T) T\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "thus ?thesis"], ["proof (prove)\nusing this:\n  Model (CI T) T\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "using CIComplete[of T \\<phi>] assms"], ["proof (prove)\nusing this:\n  Model (CI T) T\n  \\<lbrakk>ZFAxioms T;\n   L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>CI T\\<^esub> \\<rightarrow> IBool\n                          True\\<rbrakk>\n  \\<Longrightarrow> \\<phi> \\<in> Axioms.Theory T\n  ZFAxioms T\n  Model ?I T \\<Longrightarrow>\n  L\\<lbrakk>\\<phi>\\<rbrakk>\\<^bsub>?I\\<^esub> \\<rightarrow> IBool True\n\ngoal (1 subgoal):\n 1. \\<phi> \\<in> Axioms.Theory T", "by auto"], ["proof (state)\nthis:\n  \\<phi> \\<in> Axioms.Theory T\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}