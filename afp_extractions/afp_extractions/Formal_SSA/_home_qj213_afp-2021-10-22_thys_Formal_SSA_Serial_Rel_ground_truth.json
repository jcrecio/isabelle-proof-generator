{"file_name": "/home/qj213/afp-2021-10-22/thys/Formal_SSA/Serial_Rel.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Formal_SSA", "problem_names": ["lemmas serial_onI = serial_on_def[THEN iffD2, rule_format]", "lemmas serial_onE = serial_on_def[THEN iffD1, rule_format, THEN bexE]", "lemma iterated_serial_on_linear: \"iterated_serial_on A r x (n+m) = iterated_serial_on A r (iterated_serial_on A r x n) m\"", "lemma iterated_serial_on_in_A:\n  assumes \"serial_on A r\" \"a \\<in> A\"\n  shows \"iterated_serial_on A r a n \\<in> A\"", "lemma iterated_serial_on_in_power:\n  assumes \"serial_on A r\" \"a \\<in> A\"\n  shows \"(a,iterated_serial_on A r a n) \\<in> r ^^ n\"", "lemma trancl_powerI: \"a \\<in> R ^^ n \\<Longrightarrow> n > 0 \\<Longrightarrow> a \\<in> R\\<^sup>+\"", "theorem serial_on_finite_cycle:\n  assumes \"serial_on A r\" \"A \\<noteq> {}\" \"finite A\"\n  obtains a where \"a \\<in> A\" \"(a,a) \\<in> r\\<^sup>+\""], "translations": [["", "lemmas serial_onI = serial_on_def[THEN iffD2, rule_format]"], ["", "lemmas serial_onE = serial_on_def[THEN iffD1, rule_format, THEN bexE]"], ["", "fun iterated_serial_on :: \"'a set \\<Rightarrow> 'a rel \\<Rightarrow> 'a \\<Rightarrow> nat \\<Rightarrow> 'a\" where\n  \"iterated_serial_on A r x 0 = x\"\n| \"iterated_serial_on A r x (Suc n) = (SOME y. y \\<in> A \\<and> (iterated_serial_on A r x n,y) \\<in> r)\""], ["", "lemma iterated_serial_on_linear: \"iterated_serial_on A r x (n+m) = iterated_serial_on A r (iterated_serial_on A r x n) m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. iterated_serial_on A r x (n + m) =\n    iterated_serial_on A r (iterated_serial_on A r x n) m", "by (induction m) auto"], ["", "lemma iterated_serial_on_in_A:\n  assumes \"serial_on A r\" \"a \\<in> A\"\n  shows \"iterated_serial_on A r a n \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. iterated_serial_on A r a n \\<in> A", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. iterated_serial_on A r a 0 \\<in> A\n 2. \\<And>n.\n       iterated_serial_on A r a n \\<in> A \\<Longrightarrow>\n       iterated_serial_on A r a (Suc n) \\<in> A", "case (Suc n)"], ["proof (state)\nthis:\n  iterated_serial_on A r a n \\<in> A\n\ngoal (2 subgoals):\n 1. iterated_serial_on A r a 0 \\<in> A\n 2. \\<And>n.\n       iterated_serial_on A r a n \\<in> A \\<Longrightarrow>\n       iterated_serial_on A r a (Suc n) \\<in> A", "thus ?case"], ["proof (prove)\nusing this:\n  iterated_serial_on A r a n \\<in> A\n\ngoal (1 subgoal):\n 1. iterated_serial_on A r a (Suc n) \\<in> A", "using assms(1, 2)"], ["proof (prove)\nusing this:\n  iterated_serial_on A r a n \\<in> A\n  serial_on A r\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. iterated_serial_on A r a (Suc n) \\<in> A", "by (subst iterated_serial_on.simps(2)) (rule someI2_ex, auto elim: serial_onE)"], ["proof (state)\nthis:\n  iterated_serial_on A r a (Suc n) \\<in> A\n\ngoal (1 subgoal):\n 1. iterated_serial_on A r a 0 \\<in> A", "qed (simp add:assms(2))"], ["", "lemma iterated_serial_on_in_power:\n  assumes \"serial_on A r\" \"a \\<in> A\"\n  shows \"(a,iterated_serial_on A r a n) \\<in> r ^^ n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a, iterated_serial_on A r a n) \\<in> r ^^ n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. (a, iterated_serial_on A r a 0) \\<in> r ^^ 0\n 2. \\<And>n.\n       (a, iterated_serial_on A r a n) \\<in> r ^^ n \\<Longrightarrow>\n       (a, iterated_serial_on A r a (Suc n)) \\<in> r ^^ Suc n", "case (Suc n)"], ["proof (state)\nthis:\n  (a, iterated_serial_on A r a n) \\<in> r ^^ n\n\ngoal (2 subgoals):\n 1. (a, iterated_serial_on A r a 0) \\<in> r ^^ 0\n 2. \\<And>n.\n       (a, iterated_serial_on A r a n) \\<in> r ^^ n \\<Longrightarrow>\n       (a, iterated_serial_on A r a (Suc n)) \\<in> r ^^ Suc n", "moreover"], ["proof (state)\nthis:\n  (a, iterated_serial_on A r a n) \\<in> r ^^ n\n\ngoal (2 subgoals):\n 1. (a, iterated_serial_on A r a 0) \\<in> r ^^ 0\n 2. \\<And>n.\n       (a, iterated_serial_on A r a n) \\<in> r ^^ n \\<Longrightarrow>\n       (a, iterated_serial_on A r a (Suc n)) \\<in> r ^^ Suc n", "obtain b where \"(iterated_serial_on A r a n,b) \\<in> r\" \"b \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>b.\n        \\<lbrakk>(iterated_serial_on A r a n, b) \\<in> r; b \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using iterated_serial_on_in_A[OF assms, of n] assms(1)"], ["proof (prove)\nusing this:\n  iterated_serial_on A r a n \\<in> A\n  serial_on A r\n\ngoal (1 subgoal):\n 1. (\\<And>b.\n        \\<lbrakk>(iterated_serial_on A r a n, b) \\<in> r; b \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by - (rule serial_onE)"], ["proof (state)\nthis:\n  (iterated_serial_on A r a n, b) \\<in> r\n  b \\<in> A\n\ngoal (2 subgoals):\n 1. (a, iterated_serial_on A r a 0) \\<in> r ^^ 0\n 2. \\<And>n.\n       (a, iterated_serial_on A r a n) \\<in> r ^^ n \\<Longrightarrow>\n       (a, iterated_serial_on A r a (Suc n)) \\<in> r ^^ Suc n", "ultimately"], ["proof (chain)\npicking this:\n  (a, iterated_serial_on A r a n) \\<in> r ^^ n\n  (iterated_serial_on A r a n, b) \\<in> r\n  b \\<in> A", "show ?case"], ["proof (prove)\nusing this:\n  (a, iterated_serial_on A r a n) \\<in> r ^^ n\n  (iterated_serial_on A r a n, b) \\<in> r\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. (a, iterated_serial_on A r a (Suc n)) \\<in> r ^^ Suc n", "by (subst iterated_serial_on.simps(2)) (rule someI2_ex, auto)"], ["proof (state)\nthis:\n  (a, iterated_serial_on A r a (Suc n)) \\<in> r ^^ Suc n\n\ngoal (1 subgoal):\n 1. (a, iterated_serial_on A r a 0) \\<in> r ^^ 0", "qed simp"], ["", "lemma trancl_powerI: \"a \\<in> R ^^ n \\<Longrightarrow> n > 0 \\<Longrightarrow> a \\<in> R\\<^sup>+\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> R ^^ n; 0 < n\\<rbrakk>\n    \\<Longrightarrow> a \\<in> R\\<^sup>+", "by (auto simp:trancl_power)"], ["", "theorem serial_on_finite_cycle:\n  assumes \"serial_on A r\" \"A \\<noteq> {}\" \"finite A\"\n  obtains a where \"a \\<in> A\" \"(a,a) \\<in> r\\<^sup>+\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms(2)"], ["proof (chain)\npicking this:\n  A \\<noteq> {}", "obtain a where a: \"a \\<in> A\""], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>a. a \\<in> A \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?f = \"iterated_serial_on A r a\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from a"], ["proof (chain)\npicking this:\n  a \\<in> A", "have \"range ?f \\<subseteq> A\""], ["proof (prove)\nusing this:\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. range (iterated_serial_on A r a) \\<subseteq> A", "using assms(1)"], ["proof (prove)\nusing this:\n  a \\<in> A\n  serial_on A r\n\ngoal (1 subgoal):\n 1. range (iterated_serial_on A r a) \\<subseteq> A", "by (auto intro: iterated_serial_on_in_A)"], ["proof (state)\nthis:\n  range (iterated_serial_on A r a) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with assms(3)"], ["proof (chain)\npicking this:\n  finite A\n  range (iterated_serial_on A r a) \\<subseteq> A", "have \"\\<exists>m\\<in>UNIV.\\<not> finite {n \\<in> UNIV. ?f n = ?f m}\""], ["proof (prove)\nusing this:\n  finite A\n  range (iterated_serial_on A r a) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<exists>m\\<in>UNIV.\n       infinite\n        {n \\<in> UNIV.\n         iterated_serial_on A r a n = iterated_serial_on A r a m}", "by - (rule pigeonhole_infinite, auto simp: finite_subset)"], ["proof (state)\nthis:\n  \\<exists>m\\<in>UNIV.\n     infinite\n      {n \\<in> UNIV.\n       iterated_serial_on A r a n = iterated_serial_on A r a m}\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<exists>m\\<in>UNIV.\n     infinite\n      {n \\<in> UNIV.\n       iterated_serial_on A r a n = iterated_serial_on A r a m}", "obtain n m where \"?f m = ?f n\" and[simp]: \"n < m\""], ["proof (prove)\nusing this:\n  \\<exists>m\\<in>UNIV.\n     infinite\n      {n \\<in> UNIV.\n       iterated_serial_on A r a n = iterated_serial_on A r a m}\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>iterated_serial_on A r a m = iterated_serial_on A r a n;\n         n < m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis (mono_tags, lifting) finite_nat_set_iff_bounded mem_Collect_eq not_less_eq)"], ["proof (state)\nthis:\n  iterated_serial_on A r a m = iterated_serial_on A r a n\n  n < m\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"?f n = iterated_serial_on A r (?f n) (m-n)\""], ["proof (prove)\nusing this:\n  iterated_serial_on A r a m = iterated_serial_on A r a n\n  n < m\n\ngoal (1 subgoal):\n 1. iterated_serial_on A r a n =\n    iterated_serial_on A r (iterated_serial_on A r a n) (m - n)", "using iterated_serial_on_linear[of A r a n \"m-n\"]"], ["proof (prove)\nusing this:\n  iterated_serial_on A r a m = iterated_serial_on A r a n\n  n < m\n  iterated_serial_on A r a (n + (m - n)) =\n  iterated_serial_on A r (iterated_serial_on A r a n) (m - n)\n\ngoal (1 subgoal):\n 1. iterated_serial_on A r a n =\n    iterated_serial_on A r (iterated_serial_on A r a n) (m - n)", "by (auto simp:less_imp_le_nat)"], ["proof (state)\nthis:\n  iterated_serial_on A r a n =\n  iterated_serial_on A r (iterated_serial_on A r a n) (m - n)\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  iterated_serial_on A r a n =\n  iterated_serial_on A r (iterated_serial_on A r a n) (m - n)\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(?f n,iterated_serial_on A r (?f n) (m-n)) \\<in> r ^^ (m - n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (iterated_serial_on A r a n,\n     iterated_serial_on A r (iterated_serial_on A r a n) (m - n))\n    \\<in> r ^^ (m - n)", "by (rule iterated_serial_on_in_power[OF assms(1)], rule iterated_serial_on_in_A[OF assms(1) a])"], ["proof (state)\nthis:\n  (iterated_serial_on A r a n,\n   iterated_serial_on A r (iterated_serial_on A r a n) (m - n))\n  \\<in> r ^^ (m - n)\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; (a, a) \\<in> r\\<^sup>+\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  (iterated_serial_on A r a n, iterated_serial_on A r a n)\n  \\<in> r ^^ (m - n)", "show ?thesis"], ["proof (prove)\nusing this:\n  (iterated_serial_on A r a n, iterated_serial_on A r a n)\n  \\<in> r ^^ (m - n)\n\ngoal (1 subgoal):\n 1. thesis", "by - (rule that[of \"?f n\"], rule iterated_serial_on_in_A[OF assms(1) a], rule trancl_powerI, auto)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}