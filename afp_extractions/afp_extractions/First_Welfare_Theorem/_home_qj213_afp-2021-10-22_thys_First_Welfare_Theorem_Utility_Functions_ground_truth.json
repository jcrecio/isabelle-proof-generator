{"file_name": "/home/qj213/afp-2021-10-22/thys/First_Welfare_Theorem/Utility_Functions.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/First_Welfare_Theorem", "problem_names": ["lemma util_def_conf: \"x \\<in> carrier \\<Longrightarrow> y \\<in> carrier \\<Longrightarrow> u x \\<ge> u y \\<longleftrightarrow> x \\<succeq>[relation] y\"", "lemma relation_subset_crossp:\n  \"relation \\<subseteq> carrier \\<times> carrier\"", "lemma util_imp_total: \"total_on carrier relation\"", "lemma x_y_in_carrier: \"x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier \\<and> y \\<in> carrier\"", "lemma util_imp_trans: \"trans relation\"", "lemma util_imp_refl: \"refl_on carrier relation\"", "lemma affine_trans_is_u:\n  shows \"\\<forall>\\<alpha>>0. (\\<forall>\\<beta>. ordinal_utility  carrier relation (\\<lambda>x. u(x)*\\<alpha> + \\<beta>))\"", "lemma ordinality_of_utility_function :\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes monot: \"monotone (>) (>) f\"\n  shows \"(f \\<circ> u) x > (f \\<circ> u) y \\<longleftrightarrow> u x > u y\"", "lemma ordinal_utility_left:\n  assumes \"x \\<succeq>[relation] y\"\n  shows \"u x \\<ge> u y\"", "lemma add_right:\n  assumes \"\\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> f x \\<ge> f y\"\n  shows   \"ordinal_utility carrier relation (\\<lambda>x. u x + f x)\"", "lemma add_left:\n  assumes \"\\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> f x \\<ge> f y\"\n  shows \"ordinal_utility carrier relation (\\<lambda>x. f x + u x)\"", "lemma ordinal_utility_scale_transl:\n  assumes \"(c::real) > 0\"\n  shows \"ordinal_utility carrier relation (\\<lambda>x. c * (u x) + d)\"", "lemma strict_prefernce_iff_strict_utility:\n  assumes \"x \\<in> carrier\"\n  assumes \"y \\<in> carrier\"\n  shows \"x \\<succ>[relation] y \\<longleftrightarrow> u x > u y\"", "theorem fnt_carrier_exists_util_fun:\n  assumes \"finite carrier\"\n  assumes \"rational_preference carrier relation\"\n  shows \"\\<exists>u. ordinal_utility carrier relation u\"", "theorem ordinal_util_imp_rat_prefs:\n  assumes \"ordinal_utility carrier relation u\"\n  shows \"rational_preference carrier relation\"", "lemma ord_eucl_utility_imp_rpr: \"eucl_ordinal_utility s rel u \\<longrightarrow> real_vector_rpr s rel\"", "lemma lns_pref_lns_util [iff]:\n  \"local_nonsatiation carrier relation \\<longleftrightarrow>\n  (\\<forall>x\\<in>carrier. \\<forall>e > 0. \\<exists>y\\<in>carrier.\n  norm (y - x) \\<le> e \\<and> u y > u x)\" (is \"_ \\<longleftrightarrow> ?alt\")", "lemma finite_carrier_rpr_iff_u:\n  assumes \"finite carrier\"\n    and \"(relation::'a relation) \\<subseteq> carrier \\<times> carrier\"\n  shows \"rational_preference carrier relation \\<longleftrightarrow> (\\<exists>u. ordinal_utility carrier relation u)\""], "translations": [["", "lemma util_def_conf: \"x \\<in> carrier \\<Longrightarrow> y \\<in> carrier \\<Longrightarrow> u x \\<ge> u y \\<longleftrightarrow> x \\<succeq>[relation] y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n    \\<Longrightarrow> (u y \\<le> u x) = x \\<succeq>[relation] y", "using util_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<in> carrier; ?y \\<in> carrier\\<rbrakk>\n  \\<Longrightarrow> ?x \\<succeq>[relation] ?y = (u ?y \\<le> u ?x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n    \\<Longrightarrow> (u y \\<le> u x) = x \\<succeq>[relation] y", "by blast"], ["", "lemma relation_subset_crossp:\n  \"relation \\<subseteq> carrier \\<times> carrier\""], ["proof (prove)\ngoal (1 subgoal):\n 1. relation \\<subseteq> carrier \\<times> carrier", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> relation \\<Longrightarrow> x \\<in> carrier \\<times> carrier", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> relation \\<Longrightarrow> x \\<in> carrier \\<times> carrier", "assume \"x \\<in> relation\""], ["proof (state)\nthis:\n  x \\<in> relation\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> relation \\<Longrightarrow> x \\<in> carrier \\<times> carrier", "have \"\\<forall>(a,b) \\<in> relation. a \\<in> carrier \\<and> b \\<in> carrier\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>(a, b)\\<in>relation. a \\<in> carrier \\<and> b \\<in> carrier", "by (metis (no_types, lifting) case_prod_conv ordinal_utility_axioms ordinal_utility_def surj_pair)"], ["proof (state)\nthis:\n  \\<forall>(a, b)\\<in>relation. a \\<in> carrier \\<and> b \\<in> carrier\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> relation \\<Longrightarrow> x \\<in> carrier \\<times> carrier", "then"], ["proof (chain)\npicking this:\n  \\<forall>(a, b)\\<in>relation. a \\<in> carrier \\<and> b \\<in> carrier", "show \"x \\<in> carrier \\<times> carrier\""], ["proof (prove)\nusing this:\n  \\<forall>(a, b)\\<in>relation. a \\<in> carrier \\<and> b \\<in> carrier\n\ngoal (1 subgoal):\n 1. x \\<in> carrier \\<times> carrier", "using \\<open>x \\<in> relation\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>(a, b)\\<in>relation. a \\<in> carrier \\<and> b \\<in> carrier\n  x \\<in> relation\n\ngoal (1 subgoal):\n 1. x \\<in> carrier \\<times> carrier", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier \\<times> carrier\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open> Utility function implies totality of relation \\<close>"], ["", "lemma util_imp_total: \"total_on carrier relation\""], ["proof (prove)\ngoal (1 subgoal):\n 1. total_on carrier relation", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y \\<or>\n                         y \\<succeq>[relation] x", "fix x and y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y \\<or>\n                         y \\<succeq>[relation] x", "assume x_inc: \"x \\<in> carrier\" and y_inc : \"y \\<in> carrier\""], ["proof (state)\nthis:\n  x \\<in> carrier\n  y \\<in> carrier\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y \\<or>\n                         y \\<succeq>[relation] x", "have fst : \"u x \\<ge> u y \\<or> u y \\<ge> u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u y \\<le> u x \\<or> u x \\<le> u y", "using util_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<in> carrier; ?y \\<in> carrier\\<rbrakk>\n  \\<Longrightarrow> ?x \\<succeq>[relation] ?y = (u ?y \\<le> u ?x)\n\ngoal (1 subgoal):\n 1. u y \\<le> u x \\<or> u x \\<le> u y", "by auto"], ["proof (state)\nthis:\n  u y \\<le> u x \\<or> u x \\<le> u y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier; x \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y \\<or>\n                         y \\<succeq>[relation] x", "then"], ["proof (chain)\npicking this:\n  u y \\<le> u x \\<or> u x \\<le> u y", "show  \"x \\<succeq>[relation] y \\<or> y \\<succeq>[relation] x\""], ["proof (prove)\nusing this:\n  u y \\<le> u x \\<or> u x \\<le> u y\n\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y \\<or> y \\<succeq>[relation] x", "by (simp add: x_inc y_inc)"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y \\<or> y \\<succeq>[relation] x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma x_y_in_carrier: \"x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier \\<and> y \\<in> carrier\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y \\<Longrightarrow>\n    x \\<in> carrier \\<and> y \\<in> carrier", "by (meson ordinal_utility_axioms ordinal_utility_def)"], ["", "text \\<open> Utility function implies transitivity of relation. \\<close>"], ["", "lemma util_imp_trans: \"trans relation\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans relation", "proof (rule transI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "fix x and y and z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "assume x_y: \"x \\<succeq>[relation] y\""], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "assume y_z: \"y \\<succeq>[relation] z\""], ["proof (state)\nthis:\n  y \\<succeq>[relation] z\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "have x_ge_y: \"x \\<succeq>[relation] y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y", "using x_y"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y", "by auto"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "then"], ["proof (chain)\npicking this:\n  x \\<succeq>[relation] y", "have x_y: \"u x \\<ge> u y\""], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. u y \\<le> u x", "by (meson x_y_in_carrier ordinal_utility_axioms util_def x_y)"], ["proof (state)\nthis:\n  u y \\<le> u x\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "have \"u y \\<ge> u z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u z \\<le> u y", "by (meson y_z ordinal_utility_axioms ordinal_utility_def)"], ["proof (state)\nthis:\n  u z \\<le> u y\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "have \"x \\<in> carrier\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> carrier", "using x_y_in_carrier[of x y] x_ge_y"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y \\<Longrightarrow>\n  x \\<in> carrier \\<and> y \\<in> carrier\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. x \\<in> carrier", "by simp"], ["proof (state)\nthis:\n  x \\<in> carrier\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "then"], ["proof (chain)\npicking this:\n  x \\<in> carrier", "have \"u x \\<ge> u z\""], ["proof (prove)\nusing this:\n  x \\<in> carrier\n\ngoal (1 subgoal):\n 1. u z \\<le> u x", "using \\<open>u z \\<le> u y\\<close> order_trans x_y"], ["proof (prove)\nusing this:\n  x \\<in> carrier\n  u z \\<le> u y\n  \\<lbrakk>?x \\<le> ?y; ?y \\<le> ?z\\<rbrakk> \\<Longrightarrow> ?x \\<le> ?z\n  u y \\<le> u x\n\ngoal (1 subgoal):\n 1. u z \\<le> u x", "by blast"], ["proof (state)\nthis:\n  u z \\<le> u x\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "hence \"x \\<succeq>[relation] z\""], ["proof (prove)\nusing this:\n  u z \\<le> u x\n\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] z", "by (meson \\<open>x \\<in> carrier\\<close> ordinal_utility_axioms ordinal_utility_def y_z)"], ["proof (state)\nthis:\n  x \\<succeq>[relation] z\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<succeq>[relation] y; y \\<succeq>[relation] z\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] z", "then"], ["proof (chain)\npicking this:\n  x \\<succeq>[relation] z", "show \"x \\<succeq>[relation] z\""], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] z\n\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] z", "."], ["proof (state)\nthis:\n  x \\<succeq>[relation] z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma util_imp_refl: \"refl_on carrier relation\""], ["proof (prove)\ngoal (1 subgoal):\n 1. refl_on carrier relation", "by (simp add: refl_on_def relation_subset_crossp)"], ["", "lemma affine_trans_is_u:\n  shows \"\\<forall>\\<alpha>>0. (\\<forall>\\<beta>. ordinal_utility  carrier relation (\\<lambda>x. u(x)*\\<alpha> + \\<beta>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<alpha>>0.\n       \\<forall>\\<beta>.\n          ordinal_utility carrier relation\n           (\\<lambda>x. u x * \\<alpha> + \\<beta>)", "proof (rule allI, rule impI, rule allI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> \\<beta>.\n       0 < \\<alpha> \\<Longrightarrow>\n       ordinal_utility carrier relation\n        (\\<lambda>x. u x * \\<alpha> + \\<beta>)", "fix \\<alpha>::real and \\<beta>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> \\<beta>.\n       0 < \\<alpha> \\<Longrightarrow>\n       ordinal_utility carrier relation\n        (\\<lambda>x. u x * \\<alpha> + \\<beta>)", "assume *:\"\\<alpha> > 0\""], ["proof (state)\nthis:\n  0 < \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> \\<beta>.\n       0 < \\<alpha> \\<Longrightarrow>\n       ordinal_utility carrier relation\n        (\\<lambda>x. u x * \\<alpha> + \\<beta>)", "show \"ordinal_utility carrier relation (\\<lambda>x. u x * \\<alpha> + \\<beta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. u x * \\<alpha> + \\<beta>)", "proof (subst ordinal_utility_def, rule conjI, goal_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>x y.\n       x \\<in> carrier \\<longrightarrow>\n       y \\<in> carrier \\<longrightarrow>\n       x \\<succeq>[relation] y =\n       (u y * \\<alpha> + \\<beta> \\<le> u x * \\<alpha> + \\<beta>)\n 2. (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> x \\<in> carrier) \\<and>\n    (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> y \\<in> carrier)", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>x y.\n       x \\<in> carrier \\<longrightarrow>\n       y \\<in> carrier \\<longrightarrow>\n       x \\<succeq>[relation] y =\n       (u y * \\<alpha> + \\<beta> \\<le> u x * \\<alpha> + \\<beta>)\n 2. (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> x \\<in> carrier) \\<and>\n    (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> y \\<in> carrier)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y.\n       x \\<in> carrier \\<longrightarrow>\n       y \\<in> carrier \\<longrightarrow>\n       x \\<succeq>[relation] y =\n       (u y * \\<alpha> + \\<beta> \\<le> u x * \\<alpha> + \\<beta>)", "by (metis * add.commute add_le_cancel_left not_le mult_less_iff1 util_def_conf)"], ["proof (state)\nthis:\n  \\<forall>x y.\n     x \\<in> carrier \\<longrightarrow>\n     y \\<in> carrier \\<longrightarrow>\n     x \\<succeq>[relation] y =\n     (u y * \\<alpha> + \\<beta> \\<le> u x * \\<alpha> + \\<beta>)\n\ngoal (1 subgoal):\n 1. (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> x \\<in> carrier) \\<and>\n    (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> y \\<in> carrier)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> x \\<in> carrier) \\<and>\n    (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> y \\<in> carrier)", "case 2"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> x \\<in> carrier) \\<and>\n    (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> y \\<in> carrier)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> x \\<in> carrier) \\<and>\n    (\\<forall>x y.\n        x \\<succeq>[relation] y \\<longrightarrow> y \\<in> carrier)", "by (meson refl_on_domain util_imp_refl)"], ["proof (state)\nthis:\n  (\\<forall>x y.\n      x \\<succeq>[relation] y \\<longrightarrow> x \\<in> carrier) \\<and>\n  (\\<forall>x y. x \\<succeq>[relation] y \\<longrightarrow> y \\<in> carrier)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ordinal_utility carrier relation (\\<lambda>x. u x * \\<alpha> + \\<beta>)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open> This utility function definition is ordinal.\n        Hence they are only unique up to a monotone transformation. \\<close>"], ["", "lemma ordinality_of_utility_function :\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes monot: \"monotone (>) (>) f\"\n  shows \"(f \\<circ> u) x > (f \\<circ> u) y \\<longleftrightarrow> u x > u y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((f \\<circ> u) y < (f \\<circ> u) x) = (u y < u x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((f \\<circ> u) y < (f \\<circ> u) x) = (u y < u x)", "let ?func = \"(\\<lambda>x. f(u x))\""], ["proof (state)\ngoal (1 subgoal):\n 1. ((f \\<circ> u) y < (f \\<circ> u) x) = (u y < u x)", "have \"\\<forall>m n . u m \\<ge> u n \\<longleftrightarrow> ?func m \\<ge> ?func n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n. (u n \\<le> u m) = (f (u n) \\<le> f (u m))", "by (metis le_less monot monotone_def not_less)"], ["proof (state)\nthis:\n  \\<forall>m n. (u n \\<le> u m) = (f (u n) \\<le> f (u m))\n\ngoal (1 subgoal):\n 1. ((f \\<circ> u) y < (f \\<circ> u) x) = (u y < u x)", "hence \"u x > u y \\<longleftrightarrow> ?func x > ?func y\""], ["proof (prove)\nusing this:\n  \\<forall>m n. (u n \\<le> u m) = (f (u n) \\<le> f (u m))\n\ngoal (1 subgoal):\n 1. (u y < u x) = (f (u y) < f (u x))", "using not_le"], ["proof (prove)\nusing this:\n  \\<forall>m n. (u n \\<le> u m) = (f (u n) \\<le> f (u m))\n  (\\<not> ?x \\<le> ?y) = (?y < ?x)\n\ngoal (1 subgoal):\n 1. (u y < u x) = (f (u y) < f (u x))", "by blast"], ["proof (state)\nthis:\n  (u y < u x) = (f (u y) < f (u x))\n\ngoal (1 subgoal):\n 1. ((f \\<circ> u) y < (f \\<circ> u) x) = (u y < u x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (u y < u x) = (f (u y) < f (u x))\n\ngoal (1 subgoal):\n 1. ((f \\<circ> u) y < (f \\<circ> u) x) = (u y < u x)", "by auto"], ["proof (state)\nthis:\n  ((f \\<circ> u) y < (f \\<circ> u) x) = (u y < u x)\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary utility_prefs_corresp :\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes monotonicity : \"monotone (>) (>) f\"\n  shows \"\\<forall>x\\<in>carrier. \\<forall>y\\<in>carrier. (x,y) \\<in> relation \\<longleftrightarrow> (f \\<circ> u) x \\<ge> (f \\<circ> u) y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>carrier.\n       \\<forall>y\\<in>carrier.\n          x \\<succeq>[relation] y = ((f \\<circ> u) y \\<le> (f \\<circ> u) x)", "by (meson monotonicity not_less ordinality_of_utility_function util_def_conf)"], ["", "corollary monotone_comp_is_utility:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes monot: \"monotone (>) (>) f\"\n  shows \"ordinal_utility carrier relation (f \\<circ> u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (f \\<circ> u)", "proof (rule ordinal_utility.intro, goal_cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y =\n                         ((f \\<circ> u) y \\<le> (f \\<circ> u) x)\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 3. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "case (1 x y)"], ["proof (state)\nthis:\n  x \\<in> carrier\n  y \\<in> carrier\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y =\n                         ((f \\<circ> u) y \\<le> (f \\<circ> u) x)\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 3. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "then"], ["proof (chain)\npicking this:\n  x \\<in> carrier\n  y \\<in> carrier", "show ?case"], ["proof (prove)\nusing this:\n  x \\<in> carrier\n  y \\<in> carrier\n\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y = ((f \\<circ> u) y \\<le> (f \\<circ> u) x)", "using monot utility_prefs_corresp"], ["proof (prove)\nusing this:\n  x \\<in> carrier\n  y \\<in> carrier\n  monotone (\\<lambda>x y. y < x) (\\<lambda>x y. y < x) f\n  monotone (\\<lambda>x y. y < x) (\\<lambda>x y. y < x) ?f \\<Longrightarrow>\n  \\<forall>x\\<in>carrier.\n     \\<forall>y\\<in>carrier.\n        x \\<succeq>[relation] y = ((?f \\<circ> u) y \\<le> (?f \\<circ> u) x)\n\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y = ((f \\<circ> u) y \\<le> (f \\<circ> u) x)", "by blast"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y = ((f \\<circ> u) y \\<le> (f \\<circ> u) x)\n\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "case (2 x y)"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "then"], ["proof (chain)\npicking this:\n  x \\<succeq>[relation] y", "show ?case"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. x \\<in> carrier", "using not_outside"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n  ?x \\<succeq>[relation] ?y \\<Longrightarrow> ?x \\<in> carrier\n\ngoal (1 subgoal):\n 1. x \\<in> carrier", "by blast"], ["proof (state)\nthis:\n  x \\<in> carrier\n\ngoal (1 subgoal):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "case (3 x y)"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "then"], ["proof (chain)\npicking this:\n  x \\<succeq>[relation] y", "show ?case"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. y \\<in> carrier", "using x_y_in_carrier"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n  ?x \\<succeq>[relation] ?y \\<Longrightarrow>\n  ?x \\<in> carrier \\<and> ?y \\<in> carrier\n\ngoal (1 subgoal):\n 1. y \\<in> carrier", "by blast"], ["proof (state)\nthis:\n  y \\<in> carrier\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ordinal_utility_left:\n  assumes \"x \\<succeq>[relation] y\"\n  shows \"u x \\<ge> u y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u y \\<le> u x", "using assms x_y_in_carrier"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n  ?x \\<succeq>[relation] ?y \\<Longrightarrow>\n  ?x \\<in> carrier \\<and> ?y \\<in> carrier\n\ngoal (1 subgoal):\n 1. u y \\<le> u x", "by blast"], ["", "lemma add_right:\n  assumes \"\\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> f x \\<ge> f y\"\n  shows   \"ordinal_utility carrier relation (\\<lambda>x. u x + f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. u x + f x)", "proof (rule ordinal_utility.intro, goal_cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y =\n                         (u y + f y \\<le> u x + f x)\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 3. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "case (1 x y)"], ["proof (state)\nthis:\n  x \\<in> carrier\n  y \\<in> carrier\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y =\n                         (u y + f y \\<le> u x + f x)\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 3. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "assume xy: \"x \\<in> carrier\" \"y \\<in> carrier\""], ["proof (state)\nthis:\n  x \\<in> carrier\n  y \\<in> carrier\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y =\n                         (u y + f y \\<le> u x + f x)\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 3. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "then"], ["proof (chain)\npicking this:\n  x \\<in> carrier\n  y \\<in> carrier", "show ?case"], ["proof (prove)\nusing this:\n  x \\<in> carrier\n  y \\<in> carrier\n\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y = (u y + f y \\<le> u x + f x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n    \\<Longrightarrow> x \\<succeq>[relation] y = (u y + f y \\<le> u x + f x)", "have \"u x \\<le> u y \\<longrightarrow> (\\<exists>r. ((x, y) \\<notin> relation \\<and> \\<not> r \\<le> u x + f x) \\<and> r \\<le> u y + f y) \\<or> u y \\<le> u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u x \\<le> u y \\<longrightarrow>\n    (\\<exists>r.\n        ((x, y) \\<notin> relation \\<and> \\<not> r \\<le> u x + f x) \\<and>\n        r \\<le> u y + f y) \\<or>\n    u y \\<le> u x", "by (metis (no_types) add_le_cancel_left add_le_cancel_right assms util_def xy(1) xy(2))"], ["proof (state)\nthis:\n  u x \\<le> u y \\<longrightarrow>\n  (\\<exists>r.\n      ((x, y) \\<notin> relation \\<and> \\<not> r \\<le> u x + f x) \\<and>\n      r \\<le> u y + f y) \\<or>\n  u y \\<le> u x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n    \\<Longrightarrow> x \\<succeq>[relation] y = (u y + f y \\<le> u x + f x)", "moreover"], ["proof (state)\nthis:\n  u x \\<le> u y \\<longrightarrow>\n  (\\<exists>r.\n      ((x, y) \\<notin> relation \\<and> \\<not> r \\<le> u x + f x) \\<and>\n      r \\<le> u y + f y) \\<or>\n  u y \\<le> u x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n    \\<Longrightarrow> x \\<succeq>[relation] y = (u y + f y \\<le> u x + f x)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y = (u y + f y \\<le> u x + f x)", "by (meson add_mono assms calculation le_cases order_trans util_def xy(1) xy(2))"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y = (u y + f y \\<le> u x + f x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y = (u y + f y \\<le> u x + f x)\n\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "case (2 x y)"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "then"], ["proof (chain)\npicking this:\n  x \\<succeq>[relation] y", "show ?case"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. x \\<in> carrier", "using not_outside"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n  ?x \\<succeq>[relation] ?y \\<Longrightarrow> ?x \\<in> carrier\n\ngoal (1 subgoal):\n 1. x \\<in> carrier", "by blast"], ["proof (state)\nthis:\n  x \\<in> carrier\n\ngoal (1 subgoal):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "case (3 x y)"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "then"], ["proof (chain)\npicking this:\n  x \\<succeq>[relation] y", "show ?case"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. y \\<in> carrier", "using x_y_in_carrier"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n  ?x \\<succeq>[relation] ?y \\<Longrightarrow>\n  ?x \\<in> carrier \\<and> ?y \\<in> carrier\n\ngoal (1 subgoal):\n 1. y \\<in> carrier", "by blast"], ["proof (state)\nthis:\n  y \\<in> carrier\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma add_left:\n  assumes \"\\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> f x \\<ge> f y\"\n  shows \"ordinal_utility carrier relation (\\<lambda>x. f x + u x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. f x + u x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. f x + u x)", "have \"ordinal_utility carrier relation (\\<lambda>x. u x + f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. u x + f x)", "by (simp add: add_right assms)"], ["proof (state)\nthis:\n  ordinal_utility carrier relation (\\<lambda>x. u x + f x)\n\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. f x + u x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  ordinal_utility carrier relation (\\<lambda>x. u x + f x)\n\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. f x + u x)", "using Groups.ab_semigroup_add_class.add.commute"], ["proof (prove)\nusing this:\n  ordinal_utility carrier relation (\\<lambda>x. u x + f x)\n  ?a + ?b = ?b + ?a\n\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. f x + u x)", "by (simp add: add.commute)"], ["proof (state)\nthis:\n  ordinal_utility carrier relation (\\<lambda>x. f x + u x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ordinal_utility_scale_transl:\n  assumes \"(c::real) > 0\"\n  shows \"ordinal_utility carrier relation (\\<lambda>x. c * (u x) + d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. c * u x + d)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. c * u x + d)", "have \"monotone (>) (>) (\\<lambda>x. c * x + d)\" (is \"monotone (>) (>) ?fn\" )"], ["proof (prove)\ngoal (1 subgoal):\n 1. monotone (\\<lambda>x y. y < x) (\\<lambda>x y. y < x)\n     (\\<lambda>x. c * x + d)", "by (simp add: assms monotone_def)"], ["proof (state)\nthis:\n  monotone (\\<lambda>x y. y < x) (\\<lambda>x y. y < x)\n   (\\<lambda>x. c * x + d)\n\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. c * u x + d)", "with monotone_comp_is_utility"], ["proof (chain)\npicking this:\n  monotone (\\<lambda>x y. y < x) (\\<lambda>x y. y < x) ?f \\<Longrightarrow>\n  ordinal_utility carrier relation (?f \\<circ> u)\n  monotone (\\<lambda>x y. y < x) (\\<lambda>x y. y < x)\n   (\\<lambda>x. c * x + d)", "have \"ordinal_utility carrier relation (?fn \\<circ> u)\""], ["proof (prove)\nusing this:\n  monotone (\\<lambda>x y. y < x) (\\<lambda>x y. y < x) ?f \\<Longrightarrow>\n  ordinal_utility carrier relation (?f \\<circ> u)\n  monotone (\\<lambda>x y. y < x) (\\<lambda>x y. y < x)\n   (\\<lambda>x. c * x + d)\n\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation ((\\<lambda>x. c * x + d) \\<circ> u)", "by blast"], ["proof (state)\nthis:\n  ordinal_utility carrier relation ((\\<lambda>x. c * x + d) \\<circ> u)\n\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. c * u x + d)", "moreover"], ["proof (state)\nthis:\n  ordinal_utility carrier relation ((\\<lambda>x. c * x + d) \\<circ> u)\n\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. c * u x + d)", "have \"?fn \\<circ> u =  (\\<lambda>x. c * (u x) + d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. c * x + d) \\<circ> u = (\\<lambda>x. c * u x + d)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. c * x + d) \\<circ> u = (\\<lambda>x. c * u x + d)\n\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. c * u x + d)", "finally"], ["proof (chain)\npicking this:\n  ordinal_utility carrier relation (\\<lambda>a. c * u a + d)", "show ?thesis"], ["proof (prove)\nusing this:\n  ordinal_utility carrier relation (\\<lambda>a. c * u a + d)\n\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. c * u x + d)", "by auto"], ["proof (state)\nthis:\n  ordinal_utility carrier relation (\\<lambda>x. c * u x + d)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strict_prefernce_iff_strict_utility:\n  assumes \"x \\<in> carrier\"\n  assumes \"y \\<in> carrier\"\n  shows \"x \\<succ>[relation] y \\<longleftrightarrow> u x > u y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<succeq>[relation] y \\<and> (y, x) \\<notin> relation) = (u y < u x)", "by (meson assms(1) assms(2) less_eq_real_def not_less util_def)"], ["", "end"], ["", "text \\<open> A utility function implies a rational preference relation.\n      Hence a utility function contains exactly the same amount of information as a RPR \\<close>"], ["", "sublocale ordinal_utility \\<subseteq> rational_preference carrier relation"], ["proof (prove)\ngoal (1 subgoal):\n 1. rational_preference carrier relation", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier\n 3. preorder_on carrier relation\n 4. total_on carrier relation", "fix x and y"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier\n 3. preorder_on carrier relation\n 4. total_on carrier relation", "assume xy: \"x \\<succeq>[relation] y\""], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal (4 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier\n 3. preorder_on carrier relation\n 4. total_on carrier relation", "then"], ["proof (chain)\npicking this:\n  x \\<succeq>[relation] y", "show \"x \\<in> carrier\"\n    and \"y \\<in> carrier\""], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n\ngoal (1 subgoal):\n 1. x \\<in> carrier &&& y \\<in> carrier", "using not_outside"], ["proof (prove)\nusing this:\n  x \\<succeq>[relation] y\n  ?x \\<succeq>[relation] ?y \\<Longrightarrow> ?x \\<in> carrier\n\ngoal (1 subgoal):\n 1. x \\<in> carrier &&& y \\<in> carrier", "by (simp)\n      (meson xy refl_onD2 util_imp_refl)"], ["proof (state)\nthis:\n  x \\<in> carrier\n  y \\<in> carrier\n\ngoal (2 subgoals):\n 1. preorder_on carrier relation\n 2. total_on carrier relation", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. preorder_on carrier relation\n 2. total_on carrier relation", "show \"preorder_on carrier relation\""], ["proof (prove)\ngoal (1 subgoal):\n 1. preorder_on carrier relation", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. preorder_on carrier relation", "have \"trans relation\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans relation", "using util_imp_trans"], ["proof (prove)\nusing this:\n  trans relation\n\ngoal (1 subgoal):\n 1. trans relation", "by auto"], ["proof (state)\nthis:\n  trans relation\n\ngoal (1 subgoal):\n 1. preorder_on carrier relation", "then"], ["proof (chain)\npicking this:\n  trans relation", "have \"preorder_on carrier relation\""], ["proof (prove)\nusing this:\n  trans relation\n\ngoal (1 subgoal):\n 1. preorder_on carrier relation", "by (simp add: preorder_on_def util_imp_refl)"], ["proof (state)\nthis:\n  preorder_on carrier relation\n\ngoal (1 subgoal):\n 1. preorder_on carrier relation", "then"], ["proof (chain)\npicking this:\n  preorder_on carrier relation", "show ?thesis"], ["proof (prove)\nusing this:\n  preorder_on carrier relation\n\ngoal (1 subgoal):\n 1. preorder_on carrier relation", "."], ["proof (state)\nthis:\n  preorder_on carrier relation\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  preorder_on carrier relation\n\ngoal (1 subgoal):\n 1. total_on carrier relation", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. total_on carrier relation", "show \"total_on carrier relation\""], ["proof (prove)\ngoal (1 subgoal):\n 1. total_on carrier relation", "by (simp add: util_imp_total)"], ["proof (state)\nthis:\n  total_on carrier relation\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open> Given a finite carrier set. We can guarantee that given a rational preference\n       relation, there must also exist a utility function representing this relation.\n       Construction of witness roughly follows from.\\<close>"], ["", "theorem fnt_carrier_exists_util_fun:\n  assumes \"finite carrier\"\n  assumes \"rational_preference carrier relation\"\n  shows \"\\<exists>u. ordinal_utility carrier relation u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>u. ordinal_utility carrier relation u", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>u. ordinal_utility carrier relation u", "define f where\n    f: \"f = (\\<lambda>x. card (no_better_than x carrier relation))\""], ["proof (state)\nthis:\n  f = (\\<lambda>x. card (no_better_than x carrier relation))\n\ngoal (1 subgoal):\n 1. \\<exists>u. ordinal_utility carrier relation u", "have \"ordinal_utility carrier relation f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ordinal_utility carrier relation (\\<lambda>x. real (f x))", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y =\n                         (real (f y) \\<le> real (f x))\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 3. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "fix x y"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y =\n                         (real (f y) \\<le> real (f x))\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 3. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "assume x_c: \"x \\<in> carrier\""], ["proof (state)\nthis:\n  x \\<in> carrier\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y =\n                         (real (f y) \\<le> real (f x))\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 3. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "assume y_c: \"y \\<in> carrier\""], ["proof (state)\nthis:\n  y \\<in> carrier\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> carrier; y \\<in> carrier\\<rbrakk>\n       \\<Longrightarrow> x \\<succeq>[relation] y =\n                         (real (f y) \\<le> real (f x))\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 3. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "show \"x \\<succeq>[relation] y \\<longleftrightarrow> (real (f y) \\<le> real (f x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y = (real (f y) \\<le> real (f x))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<succeq>[relation] y \\<Longrightarrow> real (f y) \\<le> real (f x)\n 2. real (f y) \\<le> real (f x) \\<Longrightarrow> x \\<succeq>[relation] y", "assume asm: \"x \\<succeq>[relation] y\""], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal (2 subgoals):\n 1. x \\<succeq>[relation] y \\<Longrightarrow> real (f y) \\<le> real (f x)\n 2. real (f y) \\<le> real (f x) \\<Longrightarrow> x \\<succeq>[relation] y", "define yn where\n        yn: \"yn = no_better_than y carrier relation\""], ["proof (state)\nthis:\n  yn = no_better_than y carrier relation\n\ngoal (2 subgoals):\n 1. x \\<succeq>[relation] y \\<Longrightarrow> real (f y) \\<le> real (f x)\n 2. real (f y) \\<le> real (f x) \\<Longrightarrow> x \\<succeq>[relation] y", "define xn where\n        xn: \"xn = no_better_than x carrier relation\""], ["proof (state)\nthis:\n  xn = no_better_than x carrier relation\n\ngoal (2 subgoals):\n 1. x \\<succeq>[relation] y \\<Longrightarrow> real (f y) \\<le> real (f x)\n 2. real (f y) \\<le> real (f x) \\<Longrightarrow> x \\<succeq>[relation] y", "then"], ["proof (chain)\npicking this:\n  xn = no_better_than x carrier relation", "have \"yn \\<subseteq> xn\""], ["proof (prove)\nusing this:\n  xn = no_better_than x carrier relation\n\ngoal (1 subgoal):\n 1. yn \\<subseteq> xn", "by (simp add: asm yn assms(2) rational_preference.no_better_subset_pref)"], ["proof (state)\nthis:\n  yn \\<subseteq> xn\n\ngoal (2 subgoals):\n 1. x \\<succeq>[relation] y \\<Longrightarrow> real (f y) \\<le> real (f x)\n 2. real (f y) \\<le> real (f x) \\<Longrightarrow> x \\<succeq>[relation] y", "then"], ["proof (chain)\npicking this:\n  yn \\<subseteq> xn", "have \"card yn \\<le> card xn\""], ["proof (prove)\nusing this:\n  yn \\<subseteq> xn\n\ngoal (1 subgoal):\n 1. card yn \\<le> card xn", "by (simp add: x_c y_c asm assms(1) assms(2) rational_preference.card_leq_pref xn yn)"], ["proof (state)\nthis:\n  card yn \\<le> card xn\n\ngoal (2 subgoals):\n 1. x \\<succeq>[relation] y \\<Longrightarrow> real (f y) \\<le> real (f x)\n 2. real (f y) \\<le> real (f x) \\<Longrightarrow> x \\<succeq>[relation] y", "then"], ["proof (chain)\npicking this:\n  card yn \\<le> card xn", "show \"(real (f y) \\<le> real (f x))\""], ["proof (prove)\nusing this:\n  card yn \\<le> card xn\n\ngoal (1 subgoal):\n 1. real (f y) \\<le> real (f x)", "using  f xn yn"], ["proof (prove)\nusing this:\n  card yn \\<le> card xn\n  f = (\\<lambda>x. card (no_better_than x carrier relation))\n  xn = no_better_than x carrier relation\n  yn = no_better_than y carrier relation\n\ngoal (1 subgoal):\n 1. real (f y) \\<le> real (f x)", "by simp"], ["proof (state)\nthis:\n  real (f y) \\<le> real (f x)\n\ngoal (1 subgoal):\n 1. real (f y) \\<le> real (f x) \\<Longrightarrow> x \\<succeq>[relation] y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. real (f y) \\<le> real (f x) \\<Longrightarrow> x \\<succeq>[relation] y", "assume \"real (f y) \\<le> real (f x)\""], ["proof (state)\nthis:\n  real (f y) \\<le> real (f x)\n\ngoal (1 subgoal):\n 1. real (f y) \\<le> real (f x) \\<Longrightarrow> x \\<succeq>[relation] y", "then"], ["proof (chain)\npicking this:\n  real (f y) \\<le> real (f x)", "show \"x \\<succeq>[relation] y\""], ["proof (prove)\nusing this:\n  real (f y) \\<le> real (f x)\n\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y", "using assms(1) assms(2) f rational_preference.card_leq_pref x_c y_c"], ["proof (prove)\nusing this:\n  real (f y) \\<le> real (f x)\n  finite carrier\n  rational_preference carrier relation\n  f = (\\<lambda>x. card (no_better_than x carrier relation))\n  \\<lbrakk>rational_preference ?carrier ?relation; finite ?carrier;\n   ?x \\<in> ?carrier; ?y \\<in> ?carrier\\<rbrakk>\n  \\<Longrightarrow> (card (no_better_than ?x ?carrier ?relation)\n                     \\<le> card (no_better_than ?y ?carrier ?relation)) =\n                    ?y \\<succeq>[?relation] ?x\n  x \\<in> carrier\n  y \\<in> carrier\n\ngoal (1 subgoal):\n 1. x \\<succeq>[relation] y", "by fastforce"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<succeq>[relation] y = (real (f y) \\<le> real (f x))\n\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "fix x y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "assume asm: \"x \\<succeq>[relation] y\""], ["proof (state)\nthis:\n  x \\<succeq>[relation] y\n\ngoal (2 subgoals):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> x \\<in> carrier\n 2. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "show \"x \\<in> carrier\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> carrier", "by (meson asm assms(2) preference.not_outside rational_preference.axioms(1))"], ["proof (state)\nthis:\n  x \\<in> carrier\n\ngoal (1 subgoal):\n 1. \\<And>x y. x \\<succeq>[relation] y \\<Longrightarrow> y \\<in> carrier", "show \"y \\<in> carrier\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> carrier", "by (meson asm assms(2) preference_def rational_preference_def)"], ["proof (state)\nthis:\n  y \\<in> carrier\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ordinal_utility carrier relation (\\<lambda>x. real (f x))\n\ngoal (1 subgoal):\n 1. \\<exists>u. ordinal_utility carrier relation u", "then"], ["proof (chain)\npicking this:\n  ordinal_utility carrier relation (\\<lambda>x. real (f x))", "show ?thesis"], ["proof (prove)\nusing this:\n  ordinal_utility carrier relation (\\<lambda>x. real (f x))\n\ngoal (1 subgoal):\n 1. \\<exists>u. ordinal_utility carrier relation u", "by blast"], ["proof (state)\nthis:\n  \\<exists>u. ordinal_utility carrier relation u\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary obt_u_fnt_carrier:\n  assumes \"finite carrier\"\n  assumes \"rational_preference carrier relation\"\n  obtains u where \"ordinal_utility carrier relation u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u.\n        ordinal_utility carrier relation u \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms(1) assms(2) fnt_carrier_exists_util_fun"], ["proof (prove)\nusing this:\n  finite carrier\n  rational_preference carrier relation\n  \\<lbrakk>finite ?carrier; rational_preference ?carrier ?relation\\<rbrakk>\n  \\<Longrightarrow> \\<exists>u. ordinal_utility ?carrier ?relation u\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        ordinal_utility carrier relation u \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "theorem ordinal_util_imp_rat_prefs:\n  assumes \"ordinal_utility carrier relation u\"\n  shows \"rational_preference carrier relation\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rational_preference carrier relation", "by (metis (full_types) assms order_on_defs(1) ordinal_utility.util_imp_refl \n      ordinal_utility.util_imp_total ordinal_utility.util_imp_trans ordinal_utility_def \n      preference.intro rational_preference.intro rational_preference_axioms_def)"], ["", "subsection \\<open> Utility function on  Euclidean Space \\<close>"], ["", "locale eucl_ordinal_utility = ordinal_utility carrier relation u\n  for carrier :: \"('a::euclidean_space) set\"\n  and relation :: \"'a relation\"\n  and u :: \"'a \\<Rightarrow> real\""], ["", "sublocale eucl_ordinal_utility \\<subseteq> rational_preference carrier relation"], ["proof (prove)\ngoal (1 subgoal):\n 1. rational_preference carrier relation", "using rational_preference_axioms"], ["proof (prove)\nusing this:\n  rational_preference carrier relation\n\ngoal (1 subgoal):\n 1. rational_preference carrier relation", "by blast"], ["", "lemma ord_eucl_utility_imp_rpr: \"eucl_ordinal_utility s rel u \\<longrightarrow> real_vector_rpr s rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eucl_ordinal_utility s rel u \\<longrightarrow> real_vector_rpr s rel", "using eucl_ordinal_utility.axioms ordinal_util_imp_rat_prefs real_vector_rpr.intro"], ["proof (prove)\nusing this:\n  eucl_ordinal_utility ?carrier ?relation ?u \\<Longrightarrow>\n  ordinal_utility ?carrier ?relation ?u\n  ordinal_utility ?carrier ?relation ?u \\<Longrightarrow>\n  rational_preference ?carrier ?relation\n  rational_preference ?carrier ?relation \\<Longrightarrow>\n  real_vector_rpr ?carrier ?relation\n\ngoal (1 subgoal):\n 1. eucl_ordinal_utility s rel u \\<longrightarrow> real_vector_rpr s rel", "by blast"], ["", "context eucl_ordinal_utility\nbegin"], ["", "text \\<open> Local non-satiation on utility functions \\<close>"], ["", "lemma lns_pref_lns_util [iff]:\n  \"local_nonsatiation carrier relation \\<longleftrightarrow>\n  (\\<forall>x\\<in>carrier. \\<forall>e > 0. \\<exists>y\\<in>carrier.\n  norm (y - x) \\<le> e \\<and> u y > u x)\" (is \"_ \\<longleftrightarrow> ?alt\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. local_nonsatiation carrier relation =\n    (\\<forall>x\\<in>carrier.\n        \\<forall>e>0.\n           \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. local_nonsatiation carrier relation \\<Longrightarrow>\n    \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y\n 2. \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier.\n             norm (y - x) \\<le> e \\<and> u x < u y \\<Longrightarrow>\n    local_nonsatiation carrier relation", "assume lns: \"local_nonsatiation carrier relation\""], ["proof (state)\nthis:\n  local_nonsatiation carrier relation\n\ngoal (2 subgoals):\n 1. local_nonsatiation carrier relation \\<Longrightarrow>\n    \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y\n 2. \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier.\n             norm (y - x) \\<le> e \\<and> u x < u y \\<Longrightarrow>\n    local_nonsatiation carrier relation", "have \"\\<forall>a b. a \\<succ> b \\<longrightarrow> u a > u b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>a b.\n       a \\<succeq> b \\<and> (b, a) \\<notin> relation \\<longrightarrow>\n       u b < u a", "by (metis less_eq_real_def util_def x_y_in_carrier)"], ["proof (state)\nthis:\n  \\<forall>a b.\n     a \\<succeq> b \\<and> (b, a) \\<notin> relation \\<longrightarrow>\n     u b < u a\n\ngoal (2 subgoals):\n 1. local_nonsatiation carrier relation \\<Longrightarrow>\n    \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y\n 2. \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier.\n             norm (y - x) \\<le> e \\<and> u x < u y \\<Longrightarrow>\n    local_nonsatiation carrier relation", "then"], ["proof (chain)\npicking this:\n  \\<forall>a b.\n     a \\<succeq> b \\<and> (b, a) \\<notin> relation \\<longrightarrow>\n     u b < u a", "show \"?alt\""], ["proof (prove)\nusing this:\n  \\<forall>a b.\n     a \\<succeq> b \\<and> (b, a) \\<notin> relation \\<longrightarrow>\n     u b < u a\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y", "by (meson lns local_nonsatiation_def)"], ["proof (state)\nthis:\n  \\<forall>x\\<in>carrier.\n     \\<forall>e>0.\n        \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier.\n             norm (y - x) \\<le> e \\<and> u x < u y \\<Longrightarrow>\n    local_nonsatiation carrier relation", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier.\n             norm (y - x) \\<le> e \\<and> u x < u y \\<Longrightarrow>\n    local_nonsatiation carrier relation", "assume lns: \"?alt\""], ["proof (state)\nthis:\n  \\<forall>x\\<in>carrier.\n     \\<forall>e>0.\n        \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier.\n             norm (y - x) \\<le> e \\<and> u x < u y \\<Longrightarrow>\n    local_nonsatiation carrier relation", "show \"local_nonsatiation carrier relation\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local_nonsatiation carrier relation", "proof(rule lns_normI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x e.\n       \\<lbrakk>x \\<in> carrier; 0 < e\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>carrier.\n                            norm (y - x) \\<le> e \\<and>\n                            y \\<succeq> x \\<and> (x, y) \\<notin> relation", "fix x and e::real"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x e.\n       \\<lbrakk>x \\<in> carrier; 0 < e\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>carrier.\n                            norm (y - x) \\<le> e \\<and>\n                            y \\<succeq> x \\<and> (x, y) \\<notin> relation", "assume x_in: \"x \\<in> carrier\""], ["proof (state)\nthis:\n  x \\<in> carrier\n\ngoal (1 subgoal):\n 1. \\<And>x e.\n       \\<lbrakk>x \\<in> carrier; 0 < e\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>carrier.\n                            norm (y - x) \\<le> e \\<and>\n                            y \\<succeq> x \\<and> (x, y) \\<notin> relation", "assume e: \"e > 0\""], ["proof (state)\nthis:\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<And>x e.\n       \\<lbrakk>x \\<in> carrier; 0 < e\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>carrier.\n                            norm (y - x) \\<le> e \\<and>\n                            y \\<succeq> x \\<and> (x, y) \\<notin> relation", "have \"\\<forall>x \\<in> carrier. \\<forall>e>0. \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> y \\<succ> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>carrier.\n       \\<forall>e>0.\n          \\<exists>y\\<in>carrier.\n             norm (y - x) \\<le> e \\<and>\n             y \\<succeq> x \\<and> (x, y) \\<notin> relation", "by (meson less_eq_real_def linorder_not_less lns util_def)"], ["proof (state)\nthis:\n  \\<forall>x\\<in>carrier.\n     \\<forall>e>0.\n        \\<exists>y\\<in>carrier.\n           norm (y - x) \\<le> e \\<and>\n           y \\<succeq> x \\<and> (x, y) \\<notin> relation\n\ngoal (1 subgoal):\n 1. \\<And>x e.\n       \\<lbrakk>x \\<in> carrier; 0 < e\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>carrier.\n                            norm (y - x) \\<le> e \\<and>\n                            y \\<succeq> x \\<and> (x, y) \\<notin> relation", "have \"\\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u y > u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y", "using e x_in lns"], ["proof (prove)\nusing this:\n  0 < e\n  x \\<in> carrier\n  \\<forall>x\\<in>carrier.\n     \\<forall>e>0.\n        \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y", "by blast"], ["proof (state)\nthis:\n  \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y\n\ngoal (1 subgoal):\n 1. \\<And>x e.\n       \\<lbrakk>x \\<in> carrier; 0 < e\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>carrier.\n                            norm (y - x) \\<le> e \\<and>\n                            y \\<succeq> x \\<and> (x, y) \\<notin> relation", "then"], ["proof (chain)\npicking this:\n  \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y", "show \"\\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> y \\<succ> x\""], ["proof (prove)\nusing this:\n  \\<exists>y\\<in>carrier. norm (y - x) \\<le> e \\<and> u x < u y\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>carrier.\n       norm (y - x) \\<le> e \\<and>\n       y \\<succeq> x \\<and> (x, y) \\<notin> relation", "by (meson compl not_less util_def x_in)"], ["proof (state)\nthis:\n  \\<exists>y\\<in>carrier.\n     norm (y - x) \\<le> e \\<and>\n     y \\<succeq> x \\<and> (x, y) \\<notin> relation\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  local_nonsatiation carrier relation\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "lemma finite_carrier_rpr_iff_u:\n  assumes \"finite carrier\"\n    and \"(relation::'a relation) \\<subseteq> carrier \\<times> carrier\"\n  shows \"rational_preference carrier relation \\<longleftrightarrow> (\\<exists>u. ordinal_utility carrier relation u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rational_preference carrier relation =\n    (\\<exists>u. ordinal_utility carrier relation u)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. rational_preference carrier relation \\<Longrightarrow>\n    \\<exists>u. ordinal_utility carrier relation u\n 2. \\<exists>u. ordinal_utility carrier relation u \\<Longrightarrow>\n    rational_preference carrier relation", "assume \"rational_preference carrier relation\""], ["proof (state)\nthis:\n  rational_preference carrier relation\n\ngoal (2 subgoals):\n 1. rational_preference carrier relation \\<Longrightarrow>\n    \\<exists>u. ordinal_utility carrier relation u\n 2. \\<exists>u. ordinal_utility carrier relation u \\<Longrightarrow>\n    rational_preference carrier relation", "then"], ["proof (chain)\npicking this:\n  rational_preference carrier relation", "show \"\\<exists>u. ordinal_utility carrier relation u\""], ["proof (prove)\nusing this:\n  rational_preference carrier relation\n\ngoal (1 subgoal):\n 1. \\<exists>u. ordinal_utility carrier relation u", "by (simp add: assms(1) fnt_carrier_exists_util_fun)"], ["proof (state)\nthis:\n  \\<exists>u. ordinal_utility carrier relation u\n\ngoal (1 subgoal):\n 1. \\<exists>u. ordinal_utility carrier relation u \\<Longrightarrow>\n    rational_preference carrier relation", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>u. ordinal_utility carrier relation u \\<Longrightarrow>\n    rational_preference carrier relation", "assume \"\\<exists>u. ordinal_utility carrier relation u\""], ["proof (state)\nthis:\n  \\<exists>u. ordinal_utility carrier relation u\n\ngoal (1 subgoal):\n 1. \\<exists>u. ordinal_utility carrier relation u \\<Longrightarrow>\n    rational_preference carrier relation", "then"], ["proof (chain)\npicking this:\n  \\<exists>u. ordinal_utility carrier relation u", "show \"rational_preference carrier relation\""], ["proof (prove)\nusing this:\n  \\<exists>u. ordinal_utility carrier relation u\n\ngoal (1 subgoal):\n 1. rational_preference carrier relation", "by (metis (full_types) order_on_defs(1) ordinal_utility.util_imp_refl \n        ordinal_utility.util_imp_total ordinal_utility.util_imp_trans ordinal_utility_def \n        preference.intro rational_preference_axioms_def rational_preference_def)"], ["proof (state)\nthis:\n  rational_preference carrier relation\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}