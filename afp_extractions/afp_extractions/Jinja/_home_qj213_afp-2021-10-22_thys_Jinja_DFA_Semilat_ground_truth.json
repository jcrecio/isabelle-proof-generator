{"file_name": "/home/qj213/afp-2021-10-22/thys/Jinja/DFA/Semilat.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Jinja", "problem_names": ["lemma order_refl [simp, intro]: \"order r \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r x\"", "lemma order_antisym: \"\\<lbrakk> order r; x \\<sqsubseteq>\\<^sub>r y; y \\<sqsubseteq>\\<^sub>r x \\<rbrakk> \\<Longrightarrow> x = y\"", "lemma order_trans: \"\\<lbrakk> order r; x \\<sqsubseteq>\\<^sub>r y; y \\<sqsubseteq>\\<^sub>r z \\<rbrakk> \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r z\"", "lemma order_less_irrefl [intro, simp]: \"order r \\<Longrightarrow> \\<not> x \\<sqsubset>\\<^sub>r x\"", "lemma order_less_trans: \"\\<lbrakk> order r; x \\<sqsubset>\\<^sub>r y; y \\<sqsubset>\\<^sub>r z \\<rbrakk> \\<Longrightarrow> x \\<sqsubset>\\<^sub>r z\"", "lemma topD [simp, intro]: \"top r T \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r T\"", "lemma top_le_conv [simp]: \"\\<lbrakk> order r; top r T \\<rbrakk> \\<Longrightarrow> (T \\<sqsubseteq>\\<^sub>r x) = (x = T)\"", "lemma semilat_Def:\n\"semilat(A,r,f) \\<longleftrightarrow> order r \\<and> closed A f \\<and> \n                 (\\<forall>x\\<in>A. \\<forall>y\\<in>A. x \\<sqsubseteq>\\<^sub>r x \\<squnion>\\<^sub>f y) \\<and> \n                 (\\<forall>x\\<in>A. \\<forall>y\\<in>A. y \\<sqsubseteq>\\<^sub>r x \\<squnion>\\<^sub>f y) \\<and> \n                 (\\<forall>x\\<in>A. \\<forall>y\\<in>A. \\<forall>z\\<in>A. x \\<sqsubseteq>\\<^sub>r z \\<and> y \\<sqsubseteq>\\<^sub>r z \\<longrightarrow> x \\<squnion>\\<^sub>f y \\<sqsubseteq>\\<^sub>r z)\"", "lemma (in Semilat) orderI [simp, intro]: \"order r\"", "lemma (in Semilat) closedI [simp, intro]: \"closed A f\"", "lemma closedD: \"\\<lbrakk> closed A f; x\\<in>A; y\\<in>A \\<rbrakk> \\<Longrightarrow> x \\<squnion>\\<^sub>f y \\<in> A\"", "lemma closed_UNIV [simp]: \"closed UNIV f\"", "lemma (in Semilat) closed_f [simp, intro]: \"\\<lbrakk>x \\<in> A; y \\<in> A\\<rbrakk>  \\<Longrightarrow> x \\<squnion>\\<^sub>f y \\<in> A\"", "lemma (in Semilat) refl_r [intro, simp]: \"x \\<sqsubseteq>\\<^sub>r x\"", "lemma (in Semilat) antisym_r [intro?]: \"\\<lbrakk> x \\<sqsubseteq>\\<^sub>r y; y \\<sqsubseteq>\\<^sub>r x \\<rbrakk> \\<Longrightarrow> x = y\"", "lemma (in Semilat) trans_r [trans, intro?]: \"\\<lbrakk>x \\<sqsubseteq>\\<^sub>r y; y \\<sqsubseteq>\\<^sub>r z\\<rbrakk> \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r z\"", "lemma (in Semilat) ub1 [simp, intro?]: \"\\<lbrakk> x \\<in> A; y \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r x \\<squnion>\\<^sub>f y\"", "lemma (in Semilat) ub2 [simp, intro?]: \"\\<lbrakk> x \\<in> A; y \\<in> A \\<rbrakk> \\<Longrightarrow> y \\<sqsubseteq>\\<^sub>r x \\<squnion>\\<^sub>f y\"", "lemma (in Semilat) lub [simp, intro?]:\n  \"\\<lbrakk> x \\<sqsubseteq>\\<^sub>r z; y \\<sqsubseteq>\\<^sub>r z; x \\<in> A; y \\<in> A; z \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<squnion>\\<^sub>f y \\<sqsubseteq>\\<^sub>r z\"", "lemma (in Semilat) plus_le_conv [simp]:\n  \"\\<lbrakk> x \\<in> A; y \\<in> A; z \\<in> A \\<rbrakk> \\<Longrightarrow> (x \\<squnion>\\<^sub>f y \\<sqsubseteq>\\<^sub>r z) = (x \\<sqsubseteq>\\<^sub>r z \\<and> y \\<sqsubseteq>\\<^sub>r z)\"", "lemma (in Semilat) le_iff_plus_unchanged:\n  assumes \"x \\<in> A\" and \"y \\<in> A\"\n  shows \"x \\<sqsubseteq>\\<^sub>r y \\<longleftrightarrow> x \\<squnion>\\<^sub>f y = y\" (is \"?P \\<longleftrightarrow> ?Q\")", "lemma (in Semilat) le_iff_plus_unchanged2:\n  assumes \"x \\<in> A\" and \"y \\<in> A\"\n  shows \"x \\<sqsubseteq>\\<^sub>r y \\<longleftrightarrow> y \\<squnion>\\<^sub>f x = y\" (is \"?P \\<longleftrightarrow> ?Q\")", "lemma (in Semilat) plus_assoc [simp]:\n  assumes a: \"a \\<in> A\" and b: \"b \\<in> A\" and c: \"c \\<in> A\"\n  shows \"a \\<squnion>\\<^sub>f (b \\<squnion>\\<^sub>f c) = a \\<squnion>\\<^sub>f b \\<squnion>\\<^sub>f c\"", "lemma (in Semilat) plus_com_lemma:\n  \"\\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk> \\<Longrightarrow> a \\<squnion>\\<^sub>f b \\<sqsubseteq>\\<^sub>r b \\<squnion>\\<^sub>f a\"", "lemma (in Semilat) plus_commutative:\n  \"\\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk> \\<Longrightarrow> a \\<squnion>\\<^sub>f b = b \\<squnion>\\<^sub>f a\"", "lemma is_lubD:\n  \"is_lub r x y u \\<Longrightarrow> is_ub r x y u \\<and> (\\<forall>z. is_ub r x y z \\<longrightarrow> (u,z) \\<in> r)\"", "lemma is_ubI:\n  \"\\<lbrakk> (x,u) \\<in> r; (y,u) \\<in> r \\<rbrakk> \\<Longrightarrow> is_ub r x y u\"", "lemma is_ubD:\n  \"is_ub r x y u \\<Longrightarrow> (x,u) \\<in> r \\<and> (y,u) \\<in> r\"", "lemma is_lub_bigger1 [iff]:  \n  \"is_lub (r^* ) x y y = ((x,y)\\<in>r^* )\"", "lemma is_lub_bigger2 [iff]:\n  \"is_lub (r^* ) x y x = ((y,x)\\<in>r^* )\"", "lemma extend_lub:\n  \"\\<lbrakk> single_valued r; is_lub (r^* ) x y u; (x',x) \\<in> r \\<rbrakk> \n  \\<Longrightarrow> \\<exists>v. is_lub (r^* ) x' y v\"", "lemma single_valued_has_lubs [rule_format]:\n  \"\\<lbrakk> single_valued r; (x,u) \\<in> r^* \\<rbrakk> \\<Longrightarrow> (\\<forall>y. (y,u) \\<in> r^* \\<longrightarrow> \n  (\\<exists>z. is_lub (r^* ) x y z))\"", "lemma some_lub_conv:\n  \"\\<lbrakk> acyclic r; is_lub (r^* ) x y u \\<rbrakk> \\<Longrightarrow> some_lub (r^* ) x y = u\"", "lemma is_lub_some_lub:\n  \"\\<lbrakk> single_valued r; acyclic r; (x,u)\\<in>r^*; (y,u)\\<in>r^* \\<rbrakk> \n  \\<Longrightarrow> is_lub (r^* ) x y (some_lub (r^* ) x y)\"", "lemma exec_lub_refl: \"exec_lub r f T T = T\"", "lemma acyclic_single_valued_finite:\n \"\\<lbrakk>acyclic r; single_valued r; (x,y) \\<in> r\\<^sup>*\\<rbrakk>\n  \\<Longrightarrow> finite (r \\<inter> {a. (x, a) \\<in> r\\<^sup>*} \\<times> {b. (b, y) \\<in> r\\<^sup>*})\"", "lemma exec_lub_conv:\n  \"\\<lbrakk> acyclic r; \\<forall>x y. (x,y) \\<in> r \\<longrightarrow> f x = y; is_lub (r\\<^sup>*) x y u \\<rbrakk> \\<Longrightarrow>\n  exec_lub r f x y = u\"", "lemma is_lub_exec_lub:\n  \"\\<lbrakk> single_valued r; acyclic r; (x,u):r^*; (y,u):r^*; \\<forall>x y. (x,y) \\<in> r \\<longrightarrow> f x = y \\<rbrakk>\n  \\<Longrightarrow> is_lub (r^* ) x y (exec_lub r f x y)\""], "translations": [["", "lemma order_refl [simp, intro]: \"order r \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. order r \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> x", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. order r \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> x", "by (unfold order_def) (simp (no_asm_simp))"], ["", "(*>*)"], ["", "lemma order_antisym: \"\\<lbrakk> order r; x \\<sqsubseteq>\\<^sub>r y; y \\<sqsubseteq>\\<^sub>r x \\<rbrakk> \\<Longrightarrow> x = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>order r; x \\<sqsubseteq>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> x\\<rbrakk>\n    \\<Longrightarrow> x = y", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>order r; x \\<sqsubseteq>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> x\\<rbrakk>\n    \\<Longrightarrow> x = y", "by (unfold order_def) (simp (no_asm_simp))"], ["", "(*>*)"], ["", "lemma order_trans: \"\\<lbrakk> order r; x \\<sqsubseteq>\\<^sub>r y; y \\<sqsubseteq>\\<^sub>r z \\<rbrakk> \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>order r; x \\<sqsubseteq>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n    \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>order r; x \\<sqsubseteq>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n    \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "by (unfold order_def) blast"], ["", "(*>*)"], ["", "lemma order_less_irrefl [intro, simp]: \"order r \\<Longrightarrow> \\<not> x \\<sqsubset>\\<^sub>r x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. order r \\<Longrightarrow> \\<not> x \\<sqsubset>\\<^bsub>r\\<^esub> x", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. order r \\<Longrightarrow> \\<not> x \\<sqsubset>\\<^bsub>r\\<^esub> x", "by (unfold order_def lesssub_def) blast"], ["", "(*>*)"], ["", "lemma order_less_trans: \"\\<lbrakk> order r; x \\<sqsubset>\\<^sub>r y; y \\<sqsubset>\\<^sub>r z \\<rbrakk> \\<Longrightarrow> x \\<sqsubset>\\<^sub>r z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>order r; x \\<sqsubset>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubset>\\<^bsub>r\\<^esub> z\\<rbrakk>\n    \\<Longrightarrow> x \\<sqsubset>\\<^bsub>r\\<^esub> z", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>order r; x \\<sqsubset>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubset>\\<^bsub>r\\<^esub> z\\<rbrakk>\n    \\<Longrightarrow> x \\<sqsubset>\\<^bsub>r\\<^esub> z", "by (unfold order_def lesssub_def) blast"], ["", "(*>*)"], ["", "lemma topD [simp, intro]: \"top r T \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Semilat.top r T \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> T", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Semilat.top r T \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> T", "by (simp add: top_def)"], ["", "(*>*)"], ["", "lemma top_le_conv [simp]: \"\\<lbrakk> order r; top r T \\<rbrakk> \\<Longrightarrow> (T \\<sqsubseteq>\\<^sub>r x) = (x = T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>order r; Semilat.top r T\\<rbrakk>\n    \\<Longrightarrow> (T \\<sqsubseteq>\\<^bsub>r\\<^esub> x) = (x = T)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>order r; Semilat.top r T\\<rbrakk>\n    \\<Longrightarrow> (T \\<sqsubseteq>\\<^bsub>r\\<^esub> x) = (x = T)", "by (blast intro: order_antisym)"], ["", "(*>*)"], ["", "lemma semilat_Def:\n\"semilat(A,r,f) \\<longleftrightarrow> order r \\<and> closed A f \\<and> \n                 (\\<forall>x\\<in>A. \\<forall>y\\<in>A. x \\<sqsubseteq>\\<^sub>r x \\<squnion>\\<^sub>f y) \\<and> \n                 (\\<forall>x\\<in>A. \\<forall>y\\<in>A. y \\<sqsubseteq>\\<^sub>r x \\<squnion>\\<^sub>f y) \\<and> \n                 (\\<forall>x\\<in>A. \\<forall>y\\<in>A. \\<forall>z\\<in>A. x \\<sqsubseteq>\\<^sub>r z \\<and> y \\<sqsubseteq>\\<^sub>r z \\<longrightarrow> x \\<squnion>\\<^sub>f y \\<sqsubseteq>\\<^sub>r z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. semilat (A, r, f) =\n    (order r \\<and>\n     closed A f \\<and>\n     (\\<forall>x\\<in>A.\n         \\<forall>y\\<in>A.\n            x \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n       \\<squnion>\\<^bsub>f\\<^esub> y) \\<and>\n     (\\<forall>x\\<in>A.\n         \\<forall>y\\<in>A.\n            y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n       \\<squnion>\\<^bsub>f\\<^esub> y) \\<and>\n     (\\<forall>x\\<in>A.\n         \\<forall>y\\<in>A.\n            \\<forall>z\\<in>A.\n               x \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<and>\n               y \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<longrightarrow>\n               x \\<squnion>\\<^bsub>f\\<^esub> y \n               \\<sqsubseteq>\\<^bsub>r\\<^esub> z))", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. semilat (A, r, f) =\n    (order r \\<and>\n     closed A f \\<and>\n     (\\<forall>x\\<in>A.\n         \\<forall>y\\<in>A.\n            x \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n       \\<squnion>\\<^bsub>f\\<^esub> y) \\<and>\n     (\\<forall>x\\<in>A.\n         \\<forall>y\\<in>A.\n            y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n       \\<squnion>\\<^bsub>f\\<^esub> y) \\<and>\n     (\\<forall>x\\<in>A.\n         \\<forall>y\\<in>A.\n            \\<forall>z\\<in>A.\n               x \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<and>\n               y \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<longrightarrow>\n               x \\<squnion>\\<^bsub>f\\<^esub> y \n               \\<sqsubseteq>\\<^bsub>r\\<^esub> z))", "by (unfold semilat_def) clarsimp"], ["", "(*>*)"], ["", "lemma (in Semilat) orderI [simp, intro]: \"order r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. order r", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. order r", "using semilat"], ["proof (prove)\nusing this:\n  semilat (A, r, f)\n\ngoal (1 subgoal):\n 1. order r", "by (simp add: semilat_Def)"], ["", "(*>*)"], ["", "lemma (in Semilat) closedI [simp, intro]: \"closed A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed A f", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. closed A f", "using semilat"], ["proof (prove)\nusing this:\n  semilat (A, r, f)\n\ngoal (1 subgoal):\n 1. closed A f", "by (simp add: semilat_Def)"], ["", "(*>*)"], ["", "lemma closedD: \"\\<lbrakk> closed A f; x\\<in>A; y\\<in>A \\<rbrakk> \\<Longrightarrow> x \\<squnion>\\<^sub>f y \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>closed A f; x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>closed A f; x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", "by (unfold closed_def) blast"], ["", "(*>*)"], ["", "lemma closed_UNIV [simp]: \"closed UNIV f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed UNIV f", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. closed UNIV f", "by (simp add: closed_def)"], ["", "(*>*)"], ["", "lemma (in Semilat) closed_f [simp, intro]: \"\\<lbrakk>x \\<in> A; y \\<in> A\\<rbrakk>  \\<Longrightarrow> x \\<squnion>\\<^sub>f y \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", "by (simp add: closedD [OF closedI])"], ["", "(*>*)"], ["", "lemma (in Semilat) refl_r [intro, simp]: \"x \\<sqsubseteq>\\<^sub>r x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> x", "by simp"], ["", "lemma (in Semilat) antisym_r [intro?]: \"\\<lbrakk> x \\<sqsubseteq>\\<^sub>r y; y \\<sqsubseteq>\\<^sub>r x \\<rbrakk> \\<Longrightarrow> x = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<sqsubseteq>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> x\\<rbrakk>\n    \\<Longrightarrow> x = y", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<sqsubseteq>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> x\\<rbrakk>\n    \\<Longrightarrow> x = y", "by (rule order_antisym) auto"], ["", "(*>*)"], ["", "lemma (in Semilat) trans_r [trans, intro?]: \"\\<lbrakk>x \\<sqsubseteq>\\<^sub>r y; y \\<sqsubseteq>\\<^sub>r z\\<rbrakk> \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<sqsubseteq>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n    \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<sqsubseteq>\\<^bsub>r\\<^esub> y;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n    \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "by (auto intro: order_trans)"], ["", "(*>*)"], ["", "lemma (in Semilat) ub1 [simp, intro?]: \"\\<lbrakk> x \\<in> A; y \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>r x \\<squnion>\\<^sub>f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                 \\<squnion>\\<^bsub>f\\<^esub> y", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                 \\<squnion>\\<^bsub>f\\<^esub> y", "by (insert semilat) (unfold semilat_Def, simp)"], ["", "(*>*)"], ["", "lemma (in Semilat) ub2 [simp, intro?]: \"\\<lbrakk> x \\<in> A; y \\<in> A \\<rbrakk> \\<Longrightarrow> y \\<sqsubseteq>\\<^sub>r x \\<squnion>\\<^sub>f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                 \\<squnion>\\<^bsub>f\\<^esub> y", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                 \\<squnion>\\<^bsub>f\\<^esub> y", "by (insert semilat) (unfold semilat_Def, simp)"], ["", "(*>*)"], ["", "lemma (in Semilat) lub [simp, intro?]:\n  \"\\<lbrakk> x \\<sqsubseteq>\\<^sub>r z; y \\<sqsubseteq>\\<^sub>r z; x \\<in> A; y \\<in> A; z \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<squnion>\\<^sub>f y \\<sqsubseteq>\\<^sub>r z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> z; x \\<in> A; y \\<in> A;\n     z \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<squnion>\\<^bsub>f\\<^esub> y \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n     y \\<sqsubseteq>\\<^bsub>r\\<^esub> z; x \\<in> A; y \\<in> A;\n     z \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<squnion>\\<^bsub>f\\<^esub> y \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "by (insert semilat) (unfold semilat_Def, simp)"], ["", "(*>*)"], ["", "lemma (in Semilat) plus_le_conv [simp]:\n  \"\\<lbrakk> x \\<in> A; y \\<in> A; z \\<in> A \\<rbrakk> \\<Longrightarrow> (x \\<squnion>\\<^sub>f y \\<sqsubseteq>\\<^sub>r z) = (x \\<sqsubseteq>\\<^sub>r z \\<and> y \\<sqsubseteq>\\<^sub>r z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> A; y \\<in> A; z \\<in> A\\<rbrakk>\n    \\<Longrightarrow> (x \\<squnion>\\<^bsub>f\\<^esub> y \n                       \\<sqsubseteq>\\<^bsub>r\\<^esub> z) =\n                      (x \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<and>\n                       y \\<sqsubseteq>\\<^bsub>r\\<^esub> z)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> A; y \\<in> A; z \\<in> A\\<rbrakk>\n    \\<Longrightarrow> (x \\<squnion>\\<^bsub>f\\<^esub> y \n                       \\<sqsubseteq>\\<^bsub>r\\<^esub> z) =\n                      (x \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<and>\n                       y \\<sqsubseteq>\\<^bsub>r\\<^esub> z)", "by (blast intro: ub1 ub2 lub order_trans)"], ["", "(*>*)"], ["", "lemma (in Semilat) le_iff_plus_unchanged:\n  assumes \"x \\<in> A\" and \"y \\<in> A\"\n  shows \"x \\<sqsubseteq>\\<^sub>r y \\<longleftrightarrow> x \\<squnion>\\<^sub>f y = y\" (is \"?P \\<longleftrightarrow> ?Q\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<sqsubseteq>\\<^bsub>r\\<^esub> y) =\n    (x \\<squnion>\\<^bsub>f\\<^esub> y = y)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<sqsubseteq>\\<^bsub>r\\<^esub> y) =\n    (x \\<squnion>\\<^bsub>f\\<^esub> y = y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> y \\<Longrightarrow>\n    x \\<squnion>\\<^bsub>f\\<^esub> y = y\n 2. x \\<squnion>\\<^bsub>f\\<^esub> y = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "assume ?P"], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y\n\ngoal (2 subgoals):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> y \\<Longrightarrow>\n    x \\<squnion>\\<^bsub>f\\<^esub> y = y\n 2. x \\<squnion>\\<^bsub>f\\<^esub> y = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "with assms"], ["proof (chain)\npicking this:\n  x \\<in> A\n  y \\<in> A\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "show ?Q"], ["proof (prove)\nusing this:\n  x \\<in> A\n  y \\<in> A\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y\n\ngoal (1 subgoal):\n 1. x \\<squnion>\\<^bsub>f\\<^esub> y = y", "by (blast intro: antisym_r lub ub2)"], ["proof (state)\nthis:\n  x \\<squnion>\\<^bsub>f\\<^esub> y = y\n\ngoal (1 subgoal):\n 1. x \\<squnion>\\<^bsub>f\\<^esub> y = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<squnion>\\<^bsub>f\\<^esub> y = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "assume ?Q"], ["proof (state)\nthis:\n  x \\<squnion>\\<^bsub>f\\<^esub> y = y\n\ngoal (1 subgoal):\n 1. x \\<squnion>\\<^bsub>f\\<^esub> y = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "then"], ["proof (chain)\npicking this:\n  x \\<squnion>\\<^bsub>f\\<^esub> y = y", "have \"y = x \\<squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  x \\<squnion>\\<^bsub>f\\<^esub> y = y\n\ngoal (1 subgoal):\n 1. y = x \\<squnion>\\<^bsub>f\\<^esub> y", "by simp"], ["proof (state)\nthis:\n  y = x \\<squnion>\\<^bsub>f\\<^esub> y\n\ngoal (1 subgoal):\n 1. x \\<squnion>\\<^bsub>f\\<^esub> y = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "moreover"], ["proof (state)\nthis:\n  y = x \\<squnion>\\<^bsub>f\\<^esub> y\n\ngoal (1 subgoal):\n 1. x \\<squnion>\\<^bsub>f\\<^esub> y = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "from assms"], ["proof (chain)\npicking this:\n  x \\<in> A\n  y \\<in> A", "have \"x \\<sqsubseteq>\\<^bsub>r\\<^esub> x \\<squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> x \\<squnion>\\<^bsub>f\\<^esub> y", "by simp"], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> x \\<squnion>\\<^bsub>f\\<^esub> y\n\ngoal (1 subgoal):\n 1. x \\<squnion>\\<^bsub>f\\<^esub> y = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "ultimately"], ["proof (chain)\npicking this:\n  y = x \\<squnion>\\<^bsub>f\\<^esub> y\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> x \\<squnion>\\<^bsub>f\\<^esub> y", "show ?P"], ["proof (prove)\nusing this:\n  y = x \\<squnion>\\<^bsub>f\\<^esub> y\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> x \\<squnion>\\<^bsub>f\\<^esub> y\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "by simp"], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in Semilat) le_iff_plus_unchanged2:\n  assumes \"x \\<in> A\" and \"y \\<in> A\"\n  shows \"x \\<sqsubseteq>\\<^sub>r y \\<longleftrightarrow> y \\<squnion>\\<^sub>f x = y\" (is \"?P \\<longleftrightarrow> ?Q\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<sqsubseteq>\\<^bsub>r\\<^esub> y) =\n    (y \\<squnion>\\<^bsub>f\\<^esub> x = y)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<sqsubseteq>\\<^bsub>r\\<^esub> y) =\n    (y \\<squnion>\\<^bsub>f\\<^esub> x = y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> y \\<Longrightarrow>\n    y \\<squnion>\\<^bsub>f\\<^esub> x = y\n 2. y \\<squnion>\\<^bsub>f\\<^esub> x = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "assume ?P"], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y\n\ngoal (2 subgoals):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> y \\<Longrightarrow>\n    y \\<squnion>\\<^bsub>f\\<^esub> x = y\n 2. y \\<squnion>\\<^bsub>f\\<^esub> x = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "with assms"], ["proof (chain)\npicking this:\n  x \\<in> A\n  y \\<in> A\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "show ?Q"], ["proof (prove)\nusing this:\n  x \\<in> A\n  y \\<in> A\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y\n\ngoal (1 subgoal):\n 1. y \\<squnion>\\<^bsub>f\\<^esub> x = y", "by (blast intro: antisym_r lub ub1)"], ["proof (state)\nthis:\n  y \\<squnion>\\<^bsub>f\\<^esub> x = y\n\ngoal (1 subgoal):\n 1. y \\<squnion>\\<^bsub>f\\<^esub> x = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y \\<squnion>\\<^bsub>f\\<^esub> x = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "assume ?Q"], ["proof (state)\nthis:\n  y \\<squnion>\\<^bsub>f\\<^esub> x = y\n\ngoal (1 subgoal):\n 1. y \\<squnion>\\<^bsub>f\\<^esub> x = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "then"], ["proof (chain)\npicking this:\n  y \\<squnion>\\<^bsub>f\\<^esub> x = y", "have \"y = y \\<squnion>\\<^bsub>f\\<^esub> x\""], ["proof (prove)\nusing this:\n  y \\<squnion>\\<^bsub>f\\<^esub> x = y\n\ngoal (1 subgoal):\n 1. y = y \\<squnion>\\<^bsub>f\\<^esub> x", "by simp"], ["proof (state)\nthis:\n  y = y \\<squnion>\\<^bsub>f\\<^esub> x\n\ngoal (1 subgoal):\n 1. y \\<squnion>\\<^bsub>f\\<^esub> x = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "moreover"], ["proof (state)\nthis:\n  y = y \\<squnion>\\<^bsub>f\\<^esub> x\n\ngoal (1 subgoal):\n 1. y \\<squnion>\\<^bsub>f\\<^esub> x = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "from assms"], ["proof (chain)\npicking this:\n  x \\<in> A\n  y \\<in> A", "have \"x \\<sqsubseteq>\\<^bsub>r\\<^esub> y \\<squnion>\\<^bsub>f\\<^esub> x\""], ["proof (prove)\nusing this:\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> y \\<squnion>\\<^bsub>f\\<^esub> x", "by simp"], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y \\<squnion>\\<^bsub>f\\<^esub> x\n\ngoal (1 subgoal):\n 1. y \\<squnion>\\<^bsub>f\\<^esub> x = y \\<Longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "ultimately"], ["proof (chain)\npicking this:\n  y = y \\<squnion>\\<^bsub>f\\<^esub> x\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y \\<squnion>\\<^bsub>f\\<^esub> x", "show ?P"], ["proof (prove)\nusing this:\n  y = y \\<squnion>\\<^bsub>f\\<^esub> x\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y \\<squnion>\\<^bsub>f\\<^esub> x\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> y", "by simp"], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> y\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in Semilat) plus_assoc [simp]:\n  assumes a: \"a \\<in> A\" and b: \"b \\<in> A\" and c: \"c \\<in> A\"\n  shows \"a \\<squnion>\\<^sub>f (b \\<squnion>\\<^sub>f c) = a \\<squnion>\\<^sub>f b \\<squnion>\\<^sub>f c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) =\n    a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) =\n    a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) =\n    a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", "from a b"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<in> A", "have ab: \"a \\<squnion>\\<^sub>f b \\<in> A\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) =\n    a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", "from this c"], ["proof (chain)\npicking this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A", "have abc: \"(a \\<squnion>\\<^sub>f b) \\<squnion>\\<^sub>f c \\<in> A\""], ["proof (prove)\nusing this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) =\n    a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", "from b c"], ["proof (chain)\npicking this:\n  b \\<in> A\n  c \\<in> A", "have bc: \"b \\<squnion>\\<^sub>f c \\<in> A\""], ["proof (prove)\nusing this:\n  b \\<in> A\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A", ".."], ["proof (state)\nthis:\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) =\n    a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", "from a this"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A", "have abc': \"a \\<squnion>\\<^sub>f (b \\<squnion>\\<^sub>f c) \\<in> A\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \\<in> A", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) =\n    a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) =\n    a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n 2. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "show \"a \\<squnion>\\<^sub>f (b \\<squnion>\\<^sub>f c) \\<sqsubseteq>\\<^sub>r (a \\<squnion>\\<^sub>f b) \\<squnion>\\<^sub>f c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "from a b"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<in> A", "have \"a \\<sqsubseteq>\\<^sub>r a \\<squnion>\\<^sub>f b\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b", ".."], ["proof (state)\nthis:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "also"], ["proof (state)\nthis:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "from ab c"], ["proof (chain)\npicking this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A", "have \"\\<dots> \\<sqsubseteq>\\<^sub>r \\<dots> \\<squnion>\\<^sub>f c\""], ["proof (prove)\nusing this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                 \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "finally"], ["proof (chain)\npicking this:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "have \"a<\": \"a \\<sqsubseteq>\\<^sub>r (a \\<squnion>\\<^sub>f b) \\<squnion>\\<^sub>f c\""], ["proof (prove)\nusing this:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                     \\<squnion>\\<^bsub>f\\<^esub> c", "."], ["proof (state)\nthis:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "from a b"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<in> A", "have \"b \\<sqsubseteq>\\<^sub>r a \\<squnion>\\<^sub>f b\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b", ".."], ["proof (state)\nthis:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "also"], ["proof (state)\nthis:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "from ab c"], ["proof (chain)\npicking this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A", "have \"\\<dots> \\<sqsubseteq>\\<^sub>r \\<dots> \\<squnion>\\<^sub>f c\""], ["proof (prove)\nusing this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                 \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "finally"], ["proof (chain)\npicking this:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "have \"b<\": \"b \\<sqsubseteq>\\<^sub>r (a \\<squnion>\\<^sub>f b) \\<squnion>\\<^sub>f c\""], ["proof (prove)\nusing this:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                     \\<squnion>\\<^bsub>f\\<^esub> c", "."], ["proof (state)\nthis:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "from ab c"], ["proof (chain)\npicking this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A", "have \"c<\": \"c \\<sqsubseteq>\\<^sub>r (a \\<squnion>\\<^sub>f b) \\<squnion>\\<^sub>f c\""], ["proof (prove)\nusing this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                     \\<squnion>\\<^bsub>f\\<^esub> c", ".."], ["proof (state)\nthis:\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "from \"b<\" \"c<\" b c abc"], ["proof (chain)\npicking this:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n  b \\<in> A\n  c \\<in> A\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A", "have \"b \\<squnion>\\<^sub>f c \\<sqsubseteq>\\<^sub>r (a \\<squnion>\\<^sub>f b) \\<squnion>\\<^sub>f c\""], ["proof (prove)\nusing this:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n  b \\<in> A\n  c \\<in> A\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n\ngoal (1 subgoal):\n 1. b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", ".."], ["proof (state)\nthis:\n  b \\<squnion>\\<^bsub>f\\<^esub> c \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                 \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", "from \"a<\" this a bc abc"], ["proof (chain)\npicking this:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n  b \\<squnion>\\<^bsub>f\\<^esub> c \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                 \\<squnion>\\<^bsub>f\\<^esub> c\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A", "show ?thesis"], ["proof (prove)\nusing this:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c\n  b \\<squnion>\\<^bsub>f\\<^esub> c \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                 \\<squnion>\\<^bsub>f\\<^esub> c\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                   \\<squnion>\\<^bsub>f\\<^esub> c", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                 \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> b \n                                 \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "show \"(a \\<squnion>\\<^sub>f b) \\<squnion>\\<^sub>f c \\<sqsubseteq>\\<^sub>r a \\<squnion>\\<^sub>f (b \\<squnion>\\<^sub>f c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "from b c"], ["proof (chain)\npicking this:\n  b \\<in> A\n  c \\<in> A", "have \"b \\<sqsubseteq>\\<^sub>r b \\<squnion>\\<^sub>f c\""], ["proof (prove)\nusing this:\n  b \\<in> A\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", ".."], ["proof (state)\nthis:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "also"], ["proof (state)\nthis:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "from a bc"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A", "have \"\\<dots> \\<sqsubseteq>\\<^sub>r a \\<squnion>\\<^sub>f \\<dots>\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n\ngoal (1 subgoal):\n 1. b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", ".."], ["proof (state)\nthis:\n  b \\<squnion>\\<^bsub>f\\<^esub> c \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                          \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "finally"], ["proof (chain)\npicking this:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "have \"b<\": \"b \\<sqsubseteq>\\<^sub>r a \\<squnion>\\<^sub>f (b \\<squnion>\\<^sub>f c)\""], ["proof (prove)\nusing this:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                              \\<squnion>\\<^bsub>f\\<^esub> c)", "."], ["proof (state)\nthis:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "from b c"], ["proof (chain)\npicking this:\n  b \\<in> A\n  c \\<in> A", "have \"c \\<sqsubseteq>\\<^sub>r b \\<squnion>\\<^sub>f c\""], ["proof (prove)\nusing this:\n  b \\<in> A\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. c \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c", ".."], ["proof (state)\nthis:\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "also"], ["proof (state)\nthis:\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "from a bc"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A", "have \"\\<dots> \\<sqsubseteq>\\<^sub>r a \\<squnion>\\<^sub>f \\<dots>\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n\ngoal (1 subgoal):\n 1. b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", ".."], ["proof (state)\nthis:\n  b \\<squnion>\\<^bsub>f\\<^esub> c \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                          \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "finally"], ["proof (chain)\npicking this:\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "have \"c<\": \"c \\<sqsubseteq>\\<^sub>r a \\<squnion>\\<^sub>f (b \\<squnion>\\<^sub>f c)\""], ["proof (prove)\nusing this:\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal (1 subgoal):\n 1. c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                              \\<squnion>\\<^bsub>f\\<^esub> c)", "."], ["proof (state)\nthis:\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "from a bc"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A", "have \"a<\": \"a \\<sqsubseteq>\\<^sub>r a \\<squnion>\\<^sub>f (b \\<squnion>\\<^sub>f c)\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> c \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                              \\<squnion>\\<^bsub>f\\<^esub> c)", ".."], ["proof (state)\nthis:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "from \"a<\" \"b<\" a b abc'"], ["proof (chain)\npicking this:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n  a \\<in> A\n  b \\<in> A\n  a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \\<in> A", "have \"a \\<squnion>\\<^sub>f b \\<sqsubseteq>\\<^sub>r a \\<squnion>\\<^sub>f (b \\<squnion>\\<^sub>f c)\""], ["proof (prove)\nusing this:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n  a \\<in> A\n  b \\<in> A\n  a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                          \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", "from this \"c<\" ab c abc'"], ["proof (chain)\npicking this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                          \\<squnion>\\<^bsub>f\\<^esub> c)\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A\n  a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \\<in> A", "show ?thesis"], ["proof (prove)\nusing this:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                          \\<squnion>\\<^bsub>f\\<^esub> c)\n  c \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<in> A\n  c \\<in> A\n  a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                            \\<squnion>\\<^bsub>f\\<^esub> c)", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                          \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> (b \n                          \\<squnion>\\<^bsub>f\\<^esub> c)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> (b \\<squnion>\\<^bsub>f\\<^esub> c) =\n  a \\<squnion>\\<^bsub>f\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> c\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in Semilat) plus_com_lemma:\n  \"\\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk> \\<Longrightarrow> a \\<squnion>\\<^sub>f b \\<sqsubseteq>\\<^sub>r b \\<squnion>\\<^sub>f a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "assume a: \"a \\<in> A\" and b: \"b \\<in> A\""], ["proof (state)\nthis:\n  a \\<in> A\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "from b a"], ["proof (chain)\npicking this:\n  b \\<in> A\n  a \\<in> A", "have \"a \\<sqsubseteq>\\<^sub>r b \\<squnion>\\<^sub>f a\""], ["proof (prove)\nusing this:\n  b \\<in> A\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a", ".."], ["proof (state)\nthis:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "moreover"], ["proof (state)\nthis:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "from b a"], ["proof (chain)\npicking this:\n  b \\<in> A\n  a \\<in> A", "have \"b \\<sqsubseteq>\\<^sub>r b \\<squnion>\\<^sub>f a\""], ["proof (prove)\nusing this:\n  b \\<in> A\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a", ".."], ["proof (state)\nthis:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "moreover"], ["proof (state)\nthis:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "note a b"], ["proof (state)\nthis:\n  a \\<in> A\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "moreover"], ["proof (state)\nthis:\n  a \\<in> A\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "from b a"], ["proof (chain)\npicking this:\n  b \\<in> A\n  a \\<in> A", "have \"b \\<squnion>\\<^sub>f a \\<in> A\""], ["proof (prove)\nusing this:\n  b \\<in> A\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. b \\<squnion>\\<^bsub>f\\<^esub> a \\<in> A", ".."], ["proof (state)\nthis:\n  b \\<squnion>\\<^bsub>f\\<^esub> a \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b \n                      \\<sqsubseteq>\\<^bsub>r\\<^esub> b \n               \\<squnion>\\<^bsub>f\\<^esub> a", "ultimately"], ["proof (chain)\npicking this:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a\n  a \\<in> A\n  b \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> a \\<in> A", "show ?thesis"], ["proof (prove)\nusing this:\n  a \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a\n  a \\<in> A\n  b \\<in> A\n  b \\<squnion>\\<^bsub>f\\<^esub> a \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> b \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> b \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> b \\<squnion>\\<^bsub>f\\<^esub> a\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in Semilat) plus_commutative:\n  \"\\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk> \\<Longrightarrow> a \\<squnion>\\<^sub>f b = b \\<squnion>\\<^sub>f a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b =\n                      b \\<squnion>\\<^bsub>f\\<^esub> a", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> A; b \\<in> A\\<rbrakk>\n    \\<Longrightarrow> a \\<squnion>\\<^bsub>f\\<^esub> b =\n                      b \\<squnion>\\<^bsub>f\\<^esub> a", "by(blast intro: order_antisym plus_com_lemma)"], ["", "(*>*)"], ["", "lemma is_lubD:\n  \"is_lub r x y u \\<Longrightarrow> is_ub r x y u \\<and> (\\<forall>z. is_ub r x y z \\<longrightarrow> (u,z) \\<in> r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_lub r x y u \\<Longrightarrow>\n    is_ub r x y u \\<and>\n    (\\<forall>z. is_ub r x y z \\<longrightarrow> (u, z) \\<in> r)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_lub r x y u \\<Longrightarrow>\n    is_ub r x y u \\<and>\n    (\\<forall>z. is_ub r x y z \\<longrightarrow> (u, z) \\<in> r)", "by (simp add: is_lub_def)"], ["", "(*>*)"], ["", "lemma is_ubI:\n  \"\\<lbrakk> (x,u) \\<in> r; (y,u) \\<in> r \\<rbrakk> \\<Longrightarrow> is_ub r x y u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(x, u) \\<in> r; (y, u) \\<in> r\\<rbrakk>\n    \\<Longrightarrow> is_ub r x y u", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(x, u) \\<in> r; (y, u) \\<in> r\\<rbrakk>\n    \\<Longrightarrow> is_ub r x y u", "by (simp add: is_ub_def)"], ["", "(*>*)"], ["", "lemma is_ubD:\n  \"is_ub r x y u \\<Longrightarrow> (x,u) \\<in> r \\<and> (y,u) \\<in> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_ub r x y u \\<Longrightarrow> (x, u) \\<in> r \\<and> (y, u) \\<in> r", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_ub r x y u \\<Longrightarrow> (x, u) \\<in> r \\<and> (y, u) \\<in> r", "by (simp add: is_ub_def)"], ["", "(*>*)"], ["", "lemma is_lub_bigger1 [iff]:  \n  \"is_lub (r^* ) x y y = ((x,y)\\<in>r^* )\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_lub (r\\<^sup>*) x y y = ((x, y) \\<in> r\\<^sup>*)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_lub (r\\<^sup>*) x y y = ((x, y) \\<in> r\\<^sup>*)", "apply (unfold is_lub_def is_ub_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (((x, y) \\<in> r\\<^sup>* \\<and> (y, y) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (y, z) \\<in> r\\<^sup>*)) =\n    ((x, y) \\<in> r\\<^sup>*)", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma is_lub_bigger2 [iff]:\n  \"is_lub (r^* ) x y x = ((y,x)\\<in>r^* )\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_lub (r\\<^sup>*) x y x = ((y, x) \\<in> r\\<^sup>*)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_lub (r\\<^sup>*) x y x = ((y, x) \\<in> r\\<^sup>*)", "apply (unfold is_lub_def is_ub_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (((x, x) \\<in> r\\<^sup>* \\<and> (y, x) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (x, z) \\<in> r\\<^sup>*)) =\n    ((y, x) \\<in> r\\<^sup>*)", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma extend_lub:\n  \"\\<lbrakk> single_valued r; is_lub (r^* ) x y u; (x',x) \\<in> r \\<rbrakk> \n  \\<Longrightarrow> \\<exists>v. is_lub (r^* ) x' y v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r; is_lub (r\\<^sup>*) x y u;\n     (x', x) \\<in> r\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v. is_lub (r\\<^sup>*) x' y v", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r; is_lub (r\\<^sup>*) x y u;\n     (x', x) \\<in> r\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v. is_lub (r\\<^sup>*) x' y v", "apply (unfold is_lub_def is_ub_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v.\n                         ((x', v) \\<in> r\\<^sup>* \\<and>\n                          (y, v) \\<in> r\\<^sup>*) \\<and>\n                         (\\<forall>z.\n                             (x', z) \\<in> r\\<^sup>* \\<and>\n                             (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                             (v, z) \\<in> r\\<^sup>*)", "apply (case_tac \"(y,x) \\<in> r^*\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<in> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v.\n                         ((x', v) \\<in> r\\<^sup>* \\<and>\n                          (y, v) \\<in> r\\<^sup>*) \\<and>\n                         (\\<forall>z.\n                             (x', z) \\<in> r\\<^sup>* \\<and>\n                             (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                             (v, z) \\<in> r\\<^sup>*)\n 2. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v.\n                         ((x', v) \\<in> r\\<^sup>* \\<and>\n                          (y, v) \\<in> r\\<^sup>*) \\<and>\n                         (\\<forall>z.\n                             (x', z) \\<in> r\\<^sup>* \\<and>\n                             (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                             (v, z) \\<in> r\\<^sup>*)", "apply (case_tac \"(y,x') \\<in> r^*\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<in> r\\<^sup>*;\n     (y, x') \\<in> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v.\n                         ((x', v) \\<in> r\\<^sup>* \\<and>\n                          (y, v) \\<in> r\\<^sup>*) \\<and>\n                         (\\<forall>z.\n                             (x', z) \\<in> r\\<^sup>* \\<and>\n                             (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                             (v, z) \\<in> r\\<^sup>*)\n 2. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<in> r\\<^sup>*;\n     (y, x') \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v.\n                         ((x', v) \\<in> r\\<^sup>* \\<and>\n                          (y, v) \\<in> r\\<^sup>*) \\<and>\n                         (\\<forall>z.\n                             (x', z) \\<in> r\\<^sup>* \\<and>\n                             (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                             (v, z) \\<in> r\\<^sup>*)\n 3. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v.\n                         ((x', v) \\<in> r\\<^sup>* \\<and>\n                          (y, v) \\<in> r\\<^sup>*) \\<and>\n                         (\\<forall>z.\n                             (x', z) \\<in> r\\<^sup>* \\<and>\n                             (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                             (v, z) \\<in> r\\<^sup>*)", "apply blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<in> r\\<^sup>*;\n     (y, x') \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v.\n                         ((x', v) \\<in> r\\<^sup>* \\<and>\n                          (y, v) \\<in> r\\<^sup>*) \\<and>\n                         (\\<forall>z.\n                             (x', z) \\<in> r\\<^sup>* \\<and>\n                             (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                             (v, z) \\<in> r\\<^sup>*)\n 2. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v.\n                         ((x', v) \\<in> r\\<^sup>* \\<and>\n                          (y, v) \\<in> r\\<^sup>*) \\<and>\n                         (\\<forall>z.\n                             (x', z) \\<in> r\\<^sup>* \\<and>\n                             (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                             (v, z) \\<in> r\\<^sup>*)", "apply (blast elim: converse_rtranclE dest: single_valuedD)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v.\n                         ((x', v) \\<in> r\\<^sup>* \\<and>\n                          (y, v) \\<in> r\\<^sup>*) \\<and>\n                         (\\<forall>z.\n                             (x', z) \\<in> r\\<^sup>* \\<and>\n                             (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                             (v, z) \\<in> r\\<^sup>*)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> ((x', ?v117) \\<in> r\\<^sup>* \\<and>\n                       (y, ?v117) \\<in> r\\<^sup>*) \\<and>\n                      (\\<forall>z.\n                          (x', z) \\<in> r\\<^sup>* \\<and>\n                          (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                          (?v117, z) \\<in> r\\<^sup>*)", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> (x', ?v117) \\<in> r\\<^sup>* \\<and>\n                      (y, ?v117) \\<in> r\\<^sup>*\n 2. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<forall>z.\n                         (x', z) \\<in> r\\<^sup>* \\<and>\n                         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                         (?v117, z) \\<in> r\\<^sup>*", "apply (blast intro: converse_rtrancl_into_rtrancl dest: single_valuedD)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r;\n     ((x, u) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*) \\<and>\n     (\\<forall>z.\n         (x, z) \\<in> r\\<^sup>* \\<and>\n         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*);\n     (x', x) \\<in> r; (y, x) \\<notin> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<forall>z.\n                         (x', z) \\<in> r\\<^sup>* \\<and>\n                         (y, z) \\<in> r\\<^sup>* \\<longrightarrow>\n                         (u, z) \\<in> r\\<^sup>*", "apply (blast intro: rtrancl_into_rtrancl converse_rtrancl_into_rtrancl \n             elim: converse_rtranclE dest: single_valuedD)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma single_valued_has_lubs [rule_format]:\n  \"\\<lbrakk> single_valued r; (x,u) \\<in> r^* \\<rbrakk> \\<Longrightarrow> (\\<forall>y. (y,u) \\<in> r^* \\<longrightarrow> \n  (\\<exists>z. is_lub (r^* ) x y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r; (x, u) \\<in> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<forall>y.\n                         (y, u) \\<in> r\\<^sup>* \\<longrightarrow>\n                         (\\<exists>z. is_lub (r\\<^sup>*) x y z)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r; (x, u) \\<in> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> \\<forall>y.\n                         (y, u) \\<in> r\\<^sup>* \\<longrightarrow>\n                         (\\<exists>z. is_lub (r\\<^sup>*) x y z)", "apply (erule converse_rtrancl_induct)"], ["proof (prove)\ngoal (2 subgoals):\n 1. single_valued r \\<Longrightarrow>\n    \\<forall>y.\n       (y, u) \\<in> r\\<^sup>* \\<longrightarrow>\n       (\\<exists>z. is_lub (r\\<^sup>*) u y z)\n 2. \\<And>y z.\n       \\<lbrakk>single_valued r; (y, z) \\<in> r; (z, u) \\<in> r\\<^sup>*;\n        \\<forall>y.\n           (y, u) \\<in> r\\<^sup>* \\<longrightarrow>\n           (\\<exists>za. is_lub (r\\<^sup>*) z y za)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ya.\n                            (ya, u) \\<in> r\\<^sup>* \\<longrightarrow>\n                            (\\<exists>z. is_lub (r\\<^sup>*) y ya z)", "apply clarify"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>y.\n       \\<lbrakk>single_valued r; (y, u) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z. is_lub (r\\<^sup>*) u y z\n 2. \\<And>y z.\n       \\<lbrakk>single_valued r; (y, z) \\<in> r; (z, u) \\<in> r\\<^sup>*;\n        \\<forall>y.\n           (y, u) \\<in> r\\<^sup>* \\<longrightarrow>\n           (\\<exists>za. is_lub (r\\<^sup>*) z y za)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ya.\n                            (ya, u) \\<in> r\\<^sup>* \\<longrightarrow>\n                            (\\<exists>z. is_lub (r\\<^sup>*) y ya z)", "apply (erule converse_rtrancl_induct)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>y.\n       single_valued r \\<Longrightarrow>\n       \\<exists>z. is_lub (r\\<^sup>*) u u z\n 2. \\<And>y ya z.\n       \\<lbrakk>single_valued r; (ya, z) \\<in> r; (z, u) \\<in> r\\<^sup>*;\n        \\<exists>za. is_lub (r\\<^sup>*) u z za\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z. is_lub (r\\<^sup>*) u ya z\n 3. \\<And>y z.\n       \\<lbrakk>single_valued r; (y, z) \\<in> r; (z, u) \\<in> r\\<^sup>*;\n        \\<forall>y.\n           (y, u) \\<in> r\\<^sup>* \\<longrightarrow>\n           (\\<exists>za. is_lub (r\\<^sup>*) z y za)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ya.\n                            (ya, u) \\<in> r\\<^sup>* \\<longrightarrow>\n                            (\\<exists>z. is_lub (r\\<^sup>*) y ya z)", "apply blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>y ya z.\n       \\<lbrakk>single_valued r; (ya, z) \\<in> r; (z, u) \\<in> r\\<^sup>*;\n        \\<exists>za. is_lub (r\\<^sup>*) u z za\\<rbrakk>\n       \\<Longrightarrow> \\<exists>z. is_lub (r\\<^sup>*) u ya z\n 2. \\<And>y z.\n       \\<lbrakk>single_valued r; (y, z) \\<in> r; (z, u) \\<in> r\\<^sup>*;\n        \\<forall>y.\n           (y, u) \\<in> r\\<^sup>* \\<longrightarrow>\n           (\\<exists>za. is_lub (r\\<^sup>*) z y za)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ya.\n                            (ya, u) \\<in> r\\<^sup>* \\<longrightarrow>\n                            (\\<exists>z. is_lub (r\\<^sup>*) y ya z)", "apply (blast intro: converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>single_valued r; (y, z) \\<in> r; (z, u) \\<in> r\\<^sup>*;\n        \\<forall>y.\n           (y, u) \\<in> r\\<^sup>* \\<longrightarrow>\n           (\\<exists>za. is_lub (r\\<^sup>*) z y za)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>ya.\n                            (ya, u) \\<in> r\\<^sup>* \\<longrightarrow>\n                            (\\<exists>z. is_lub (r\\<^sup>*) y ya z)", "apply (blast intro: extend_lub)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma some_lub_conv:\n  \"\\<lbrakk> acyclic r; is_lub (r^* ) x y u \\<rbrakk> \\<Longrightarrow> some_lub (r^* ) x y = u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>acyclic r; is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> some_lub (r\\<^sup>*) x y = u", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>acyclic r; is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> some_lub (r\\<^sup>*) x y = u", "apply (simp only: some_lub_def is_lub_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>acyclic r;\n     is_ub (r\\<^sup>*) x y u \\<and>\n     (\\<forall>z.\n         is_ub (r\\<^sup>*) x y z \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*)\\<rbrakk>\n    \\<Longrightarrow> (SOME z.\n                          is_ub (r\\<^sup>*) x y z \\<and>\n                          (\\<forall>za.\n                              is_ub (r\\<^sup>*) x y za \\<longrightarrow>\n                              (z, za) \\<in> r\\<^sup>*)) =\n                      u", "apply (rule someI2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>acyclic r;\n     is_ub (r\\<^sup>*) x y u \\<and>\n     (\\<forall>z.\n         is_ub (r\\<^sup>*) x y z \\<longrightarrow>\n         (u, z) \\<in> r\\<^sup>*)\\<rbrakk>\n    \\<Longrightarrow> is_ub (r\\<^sup>*) x y ?a \\<and>\n                      (\\<forall>z.\n                          is_ub (r\\<^sup>*) x y z \\<longrightarrow>\n                          (?a, z) \\<in> r\\<^sup>*)\n 2. \\<And>xa.\n       \\<lbrakk>acyclic r;\n        is_ub (r\\<^sup>*) x y u \\<and>\n        (\\<forall>z.\n            is_ub (r\\<^sup>*) x y z \\<longrightarrow>\n            (u, z) \\<in> r\\<^sup>*);\n        is_ub (r\\<^sup>*) x y xa \\<and>\n        (\\<forall>z.\n            is_ub (r\\<^sup>*) x y z \\<longrightarrow>\n            (xa, z) \\<in> r\\<^sup>*)\\<rbrakk>\n       \\<Longrightarrow> xa = u", "apply (simp only: is_lub_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>acyclic r;\n        is_ub (r\\<^sup>*) x y u \\<and>\n        (\\<forall>z.\n            is_ub (r\\<^sup>*) x y z \\<longrightarrow>\n            (u, z) \\<in> r\\<^sup>*);\n        is_ub (r\\<^sup>*) x y xa \\<and>\n        (\\<forall>z.\n            is_ub (r\\<^sup>*) x y z \\<longrightarrow>\n            (xa, z) \\<in> r\\<^sup>*)\\<rbrakk>\n       \\<Longrightarrow> xa = u", "apply (blast intro: antisymD dest!: acyclic_impl_antisym_rtrancl)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma is_lub_some_lub:\n  \"\\<lbrakk> single_valued r; acyclic r; (x,u)\\<in>r^*; (y,u)\\<in>r^* \\<rbrakk> \n  \\<Longrightarrow> is_lub (r^* ) x y (some_lub (r^* ) x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r; acyclic r; (x, u) \\<in> r\\<^sup>*;\n     (y, u) \\<in> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> is_lub (r\\<^sup>*) x y (some_lub (r\\<^sup>*) x y)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r; acyclic r; (x, u) \\<in> r\\<^sup>*;\n     (y, u) \\<in> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> is_lub (r\\<^sup>*) x y (some_lub (r\\<^sup>*) x y)", "by (fastforce dest: single_valued_has_lubs simp add: some_lub_conv)"], ["", "(*>*)"], ["", "subsection\\<open>An executable lub-finder\\<close>"], ["", "definition exec_lub :: \"('a * 'a) set \\<Rightarrow> ('a \\<Rightarrow> 'a) \\<Rightarrow> 'a binop\"\nwhere\n  \"exec_lub r f x y = while (\\<lambda>z. (x,z) \\<notin> r\\<^sup>*) f y\""], ["", "lemma exec_lub_refl: \"exec_lub r f T T = T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exec_lub r f T T = T", "by (simp add: exec_lub_def while_unfold)"], ["", "lemma acyclic_single_valued_finite:\n \"\\<lbrakk>acyclic r; single_valued r; (x,y) \\<in> r\\<^sup>*\\<rbrakk>\n  \\<Longrightarrow> finite (r \\<inter> {a. (x, a) \\<in> r\\<^sup>*} \\<times> {b. (b, y) \\<in> r\\<^sup>*})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>acyclic r; single_valued r; (x, y) \\<in> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> finite\n                       (r \\<inter>\n                        {a. (x, a) \\<in> r\\<^sup>*} \\<times>\n                        {b. (b, y) \\<in> r\\<^sup>*})", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>acyclic r; single_valued r; (x, y) \\<in> r\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> finite\n                       (r \\<inter>\n                        {a. (x, a) \\<in> r\\<^sup>*} \\<times>\n                        {b. (b, y) \\<in> r\\<^sup>*})", "apply(erule converse_rtrancl_induct)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>acyclic r; single_valued r\\<rbrakk>\n    \\<Longrightarrow> finite\n                       (r \\<inter>\n                        {a. (y, a) \\<in> r\\<^sup>*} \\<times>\n                        {b. (b, y) \\<in> r\\<^sup>*})\n 2. \\<And>ya z.\n       \\<lbrakk>acyclic r; single_valued r; (ya, z) \\<in> r;\n        (z, y) \\<in> r\\<^sup>*;\n        finite\n         (r \\<inter>\n          {a. (z, a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*})\\<rbrakk>\n       \\<Longrightarrow> finite\n                          (r \\<inter>\n                           {a. (ya, a) \\<in> r\\<^sup>*} \\<times>\n                           {b. (b, y) \\<in> r\\<^sup>*})", "apply(rule_tac B = \"{}\" in finite_subset)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>acyclic r; single_valued r\\<rbrakk>\n    \\<Longrightarrow> r \\<inter>\n                      {a. (y, a) \\<in> r\\<^sup>*} \\<times>\n                      {b. (b, y) \\<in> r\\<^sup>*}\n                      \\<subseteq> {}\n 2. \\<lbrakk>acyclic r; single_valued r\\<rbrakk> \\<Longrightarrow> finite {}\n 3. \\<And>ya z.\n       \\<lbrakk>acyclic r; single_valued r; (ya, z) \\<in> r;\n        (z, y) \\<in> r\\<^sup>*;\n        finite\n         (r \\<inter>\n          {a. (z, a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*})\\<rbrakk>\n       \\<Longrightarrow> finite\n                          (r \\<inter>\n                           {a. (ya, a) \\<in> r\\<^sup>*} \\<times>\n                           {b. (b, y) \\<in> r\\<^sup>*})", "apply(simp only:acyclic_def)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<forall>x. (x, x) \\<notin> r\\<^sup>+; single_valued r\\<rbrakk>\n    \\<Longrightarrow> r \\<inter>\n                      {a. (y, a) \\<in> r\\<^sup>*} \\<times>\n                      {b. (b, y) \\<in> r\\<^sup>*}\n                      \\<subseteq> {}\n 2. \\<lbrakk>acyclic r; single_valued r\\<rbrakk> \\<Longrightarrow> finite {}\n 3. \\<And>ya z.\n       \\<lbrakk>acyclic r; single_valued r; (ya, z) \\<in> r;\n        (z, y) \\<in> r\\<^sup>*;\n        finite\n         (r \\<inter>\n          {a. (z, a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*})\\<rbrakk>\n       \\<Longrightarrow> finite\n                          (r \\<inter>\n                           {a. (ya, a) \\<in> r\\<^sup>*} \\<times>\n                           {b. (b, y) \\<in> r\\<^sup>*})", "apply(blast intro:rtrancl_into_trancl2 rtrancl_trancl_trancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>acyclic r; single_valued r\\<rbrakk> \\<Longrightarrow> finite {}\n 2. \\<And>ya z.\n       \\<lbrakk>acyclic r; single_valued r; (ya, z) \\<in> r;\n        (z, y) \\<in> r\\<^sup>*;\n        finite\n         (r \\<inter>\n          {a. (z, a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*})\\<rbrakk>\n       \\<Longrightarrow> finite\n                          (r \\<inter>\n                           {a. (ya, a) \\<in> r\\<^sup>*} \\<times>\n                           {b. (b, y) \\<in> r\\<^sup>*})", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ya z.\n       \\<lbrakk>acyclic r; single_valued r; (ya, z) \\<in> r;\n        (z, y) \\<in> r\\<^sup>*;\n        finite\n         (r \\<inter>\n          {a. (z, a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*})\\<rbrakk>\n       \\<Longrightarrow> finite\n                          (r \\<inter>\n                           {a. (ya, a) \\<in> r\\<^sup>*} \\<times>\n                           {b. (b, y) \\<in> r\\<^sup>*})", "apply(rename_tac x x')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x x'.\n       \\<lbrakk>acyclic r; single_valued r; (x, x') \\<in> r;\n        (x', y) \\<in> r\\<^sup>*;\n        finite\n         (r \\<inter>\n          {a. (x', a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*})\\<rbrakk>\n       \\<Longrightarrow> finite\n                          (r \\<inter>\n                           {a. (x, a) \\<in> r\\<^sup>*} \\<times>\n                           {b. (b, y) \\<in> r\\<^sup>*})", "apply(subgoal_tac \"r \\<inter> {a. (x,a) \\<in> r\\<^sup>*} \\<times> {b. (b,y) \\<in> r\\<^sup>*} =\n                   insert (x,x') (r \\<inter> {a. (x', a) \\<in> r\\<^sup>*} \\<times> {b. (b, y) \\<in> r\\<^sup>*})\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x x'.\n       \\<lbrakk>acyclic r; single_valued r; (x, x') \\<in> r;\n        (x', y) \\<in> r\\<^sup>*;\n        finite\n         (r \\<inter>\n          {a. (x', a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*});\n        r \\<inter>\n        {a. (x, a) \\<in> r\\<^sup>*} \\<times> {b. (b, y) \\<in> r\\<^sup>*} =\n        insert (x, x')\n         (r \\<inter>\n          {a. (x', a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*})\\<rbrakk>\n       \\<Longrightarrow> finite\n                          (r \\<inter>\n                           {a. (x, a) \\<in> r\\<^sup>*} \\<times>\n                           {b. (b, y) \\<in> r\\<^sup>*})\n 2. \\<And>x x'.\n       \\<lbrakk>acyclic r; single_valued r; (x, x') \\<in> r;\n        (x', y) \\<in> r\\<^sup>*;\n        finite\n         (r \\<inter>\n          {a. (x', a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*})\\<rbrakk>\n       \\<Longrightarrow> r \\<inter>\n                         {a. (x, a) \\<in> r\\<^sup>*} \\<times>\n                         {b. (b, y) \\<in> r\\<^sup>*} =\n                         insert (x, x')\n                          (r \\<inter>\n                           {a. (x', a) \\<in> r\\<^sup>*} \\<times>\n                           {b. (b, y) \\<in> r\\<^sup>*})", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x x'.\n       \\<lbrakk>acyclic r; single_valued r; (x, x') \\<in> r;\n        (x', y) \\<in> r\\<^sup>*;\n        finite\n         (r \\<inter>\n          {a. (x', a) \\<in> r\\<^sup>*} \\<times>\n          {b. (b, y) \\<in> r\\<^sup>*})\\<rbrakk>\n       \\<Longrightarrow> r \\<inter>\n                         {a. (x, a) \\<in> r\\<^sup>*} \\<times>\n                         {b. (b, y) \\<in> r\\<^sup>*} =\n                         insert (x, x')\n                          (r \\<inter>\n                           {a. (x', a) \\<in> r\\<^sup>*} \\<times>\n                           {b. (b, y) \\<in> r\\<^sup>*})", "apply(blast intro:converse_rtrancl_into_rtrancl\n            elim:converse_rtranclE dest:single_valuedD)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma exec_lub_conv:\n  \"\\<lbrakk> acyclic r; \\<forall>x y. (x,y) \\<in> r \\<longrightarrow> f x = y; is_lub (r\\<^sup>*) x y u \\<rbrakk> \\<Longrightarrow>\n  exec_lub r f x y = u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> exec_lub r f x y = u", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> exec_lub r f x y = u", "apply(unfold exec_lub_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> while (\\<lambda>z. (x, z) \\<notin> r\\<^sup>*) f y = u", "apply(rule_tac P = \"\\<lambda>z. (y,z) \\<in> r\\<^sup>* \\<and> (z,u) \\<in> r\\<^sup>*\" and\n               r = \"(r \\<inter> {(a,b). (y,a) \\<in> r\\<^sup>* \\<and> (b,u) \\<in> r\\<^sup>*})^-1\" in while_rule)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> (y, y) \\<in> r\\<^sup>* \\<and> (y, u) \\<in> r\\<^sup>*\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (y, f s) \\<in> r\\<^sup>* \\<and>\n                         (f s, u) \\<in> r\\<^sup>*\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 4. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 5. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(blast dest: is_lubD is_ubD)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (y, f s) \\<in> r\\<^sup>* \\<and>\n                         (f s, u) \\<in> r\\<^sup>*\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 3. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 4. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(erule conjE)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u; (x, s) \\<notin> r\\<^sup>*;\n        (y, s) \\<in> r\\<^sup>*; (s, u) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (y, f s) \\<in> r\\<^sup>* \\<and>\n                         (f s, u) \\<in> r\\<^sup>*\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 3. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 4. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(erule_tac z = u in converse_rtranclE)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u; (x, s) \\<notin> r\\<^sup>*;\n        (y, s) \\<in> r\\<^sup>*; s = u\\<rbrakk>\n       \\<Longrightarrow> (y, f s) \\<in> r\\<^sup>* \\<and>\n                         (f s, u) \\<in> r\\<^sup>*\n 2. \\<And>s ya.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u; (x, s) \\<notin> r\\<^sup>*;\n        (y, s) \\<in> r\\<^sup>*; (s, ya) \\<in> r;\n        (ya, u) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (y, f s) \\<in> r\\<^sup>* \\<and>\n                         (f s, u) \\<in> r\\<^sup>*\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 4. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 5. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(blast dest: is_lubD is_ubD)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s ya.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u; (x, s) \\<notin> r\\<^sup>*;\n        (y, s) \\<in> r\\<^sup>*; (s, ya) \\<in> r;\n        (ya, u) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (y, f s) \\<in> r\\<^sup>* \\<and>\n                         (f s, u) \\<in> r\\<^sup>*\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 3. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 4. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(blast dest:rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 2. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(rename_tac s)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 2. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(subgoal_tac \"is_ub (r\\<^sup>*) x y s\")"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s\\<rbrakk>\n       \\<Longrightarrow> s = u\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> is_ub (r\\<^sup>*) x y s\n 3. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 4. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "prefer 2"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> is_ub (r\\<^sup>*) x y s\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s\\<rbrakk>\n       \\<Longrightarrow> s = u\n 3. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 4. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(simp add:is_ub_def)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s\\<rbrakk>\n       \\<Longrightarrow> s = u\n 2. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(subgoal_tac \"(u, s) \\<in> r\\<^sup>*\")"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s;\n        (u, s) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s\\<rbrakk>\n       \\<Longrightarrow> (u, s) \\<in> r\\<^sup>*\n 3. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 4. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "prefer 2"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s\\<rbrakk>\n       \\<Longrightarrow> (u, s) \\<in> r\\<^sup>*\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s;\n        (u, s) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 3. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 4. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(blast dest:is_lubD)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s;\n        (u, s) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 2. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(erule converse_rtranclE)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s;\n        u = s\\<rbrakk>\n       \\<Longrightarrow> s = u\n 2. \\<And>s ya.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s;\n        (u, ya) \\<in> r; (ya, s) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 3. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 4. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply blast"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s ya.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s;\n        (u, ya) \\<in> r; (ya, s) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 2. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(simp only:acyclic_def)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s ya.\n       \\<lbrakk>\\<forall>x. (x, x) \\<notin> r\\<^sup>+;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        \\<not> (x, s) \\<notin> r\\<^sup>*; is_ub (r\\<^sup>*) x y s;\n        (u, ya) \\<in> r; (ya, s) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> s = u\n 2. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(blast intro:rtrancl_into_trancl2 rtrancl_trancl_trancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> wf ((r \\<inter>\n                           {(a, b).\n                            (y, a) \\<in> r\\<^sup>* \\<and>\n                            (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(rule finite_acyclic_wf)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> finite\n                       ((r \\<inter>\n                         {(a, b).\n                          (y, a) \\<in> r\\<^sup>* \\<and>\n                          (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 2. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> acyclic\n                       ((r \\<inter>\n                         {(a, b).\n                          (y, a) \\<in> r\\<^sup>* \\<and>\n                          (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> finite\n                       (r \\<inter>\n                        {a. (y, a) \\<in> r\\<^sup>*} \\<times>\n                        {b. (b, u) \\<in> r\\<^sup>*})\n 2. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> acyclic\n                       ((r \\<inter>\n                         {(a, b).\n                          (y, a) \\<in> r\\<^sup>* \\<and>\n                          (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(erule acyclic_single_valued_finite)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>\\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> single_valued r\n 2. \\<lbrakk>\\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> (y, u) \\<in> r\\<^sup>*\n 3. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> acyclic\n                       ((r \\<inter>\n                         {(a, b).\n                          (y, a) \\<in> r\\<^sup>* \\<and>\n                          (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 4. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(blast intro:single_valuedI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> (y, u) \\<in> r\\<^sup>*\n 2. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> acyclic\n                       ((r \\<inter>\n                         {(a, b).\n                          (y, a) \\<in> r\\<^sup>* \\<and>\n                          (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 3. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(simp add:is_lub_def is_ub_def)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> acyclic\n                       ((r \\<inter>\n                         {(a, b).\n                          (y, a) \\<in> r\\<^sup>* \\<and>\n                          (b, u) \\<in> r\\<^sup>*})\\<inverse>)\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>acyclic r;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> acyclic\n                       (r \\<inter>\n                        {a. (y, a) \\<in> r\\<^sup>*} \\<times>\n                        {b. (b, u) \\<in> r\\<^sup>*})\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply(erule acyclic_subset)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n     is_lub (r\\<^sup>*) x y u\\<rbrakk>\n    \\<Longrightarrow> r \\<inter>\n                      {a. (y, a) \\<in> r\\<^sup>*} \\<times>\n                      {b. (b, u) \\<in> r\\<^sup>*}\n                      \\<subseteq> r\n 2. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (f s, s)\n                         \\<in> (r \\<inter>\n                                {(a, b).\n                                 (y, a) \\<in> r\\<^sup>* \\<and>\n                                 (b, u) \\<in> r\\<^sup>*})\\<inverse>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u;\n        (y, s) \\<in> r\\<^sup>* \\<and> (s, u) \\<in> r\\<^sup>*;\n        (x, s) \\<notin> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (s, f s) \\<in> r \\<and> (f s, u) \\<in> r\\<^sup>*", "apply(erule conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u; (x, s) \\<notin> r\\<^sup>*;\n        (y, s) \\<in> r\\<^sup>*; (s, u) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (s, f s) \\<in> r \\<and> (f s, u) \\<in> r\\<^sup>*", "apply(erule_tac z = u in converse_rtranclE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u; (x, s) \\<notin> r\\<^sup>*;\n        (y, s) \\<in> r\\<^sup>*; s = u\\<rbrakk>\n       \\<Longrightarrow> (s, f s) \\<in> r \\<and> (f s, u) \\<in> r\\<^sup>*\n 2. \\<And>s ya.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u; (x, s) \\<notin> r\\<^sup>*;\n        (y, s) \\<in> r\\<^sup>*; (s, ya) \\<in> r;\n        (ya, u) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (s, f s) \\<in> r \\<and> (f s, u) \\<in> r\\<^sup>*", "apply(blast dest: is_lubD is_ubD)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s ya.\n       \\<lbrakk>acyclic r;\n        \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y;\n        is_lub (r\\<^sup>*) x y u; (x, s) \\<notin> r\\<^sup>*;\n        (y, s) \\<in> r\\<^sup>*; (s, ya) \\<in> r;\n        (ya, u) \\<in> r\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> (s, f s) \\<in> r \\<and> (f s, u) \\<in> r\\<^sup>*", "apply(blast dest:rtrancl_into_rtrancl)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma is_lub_exec_lub:\n  \"\\<lbrakk> single_valued r; acyclic r; (x,u):r^*; (y,u):r^*; \\<forall>x y. (x,y) \\<in> r \\<longrightarrow> f x = y \\<rbrakk>\n  \\<Longrightarrow> is_lub (r^* ) x y (exec_lub r f x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r; acyclic r; (x, u) \\<in> r\\<^sup>*;\n     (y, u) \\<in> r\\<^sup>*;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y\\<rbrakk>\n    \\<Longrightarrow> is_lub (r\\<^sup>*) x y (exec_lub r f x y)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>single_valued r; acyclic r; (x, u) \\<in> r\\<^sup>*;\n     (y, u) \\<in> r\\<^sup>*;\n     \\<forall>x y. (x, y) \\<in> r \\<longrightarrow> f x = y\\<rbrakk>\n    \\<Longrightarrow> is_lub (r\\<^sup>*) x y (exec_lub r f x y)", "by (fastforce dest: single_valued_has_lubs simp add: exec_lub_conv)"], ["", "(*>*)"], ["", "end"]]}