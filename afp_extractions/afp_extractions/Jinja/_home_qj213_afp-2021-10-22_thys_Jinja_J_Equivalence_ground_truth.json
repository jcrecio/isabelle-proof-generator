{"file_name": "/home/qj213/afp-2021-10-22/thys/Jinja/J/Equivalence.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Jinja", "problem_names": ["lemma CastReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>Cast C e',s'\\<rangle>\"", "lemma CastRedsNull:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>null,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>null,s'\\<rangle>\"", "lemma CastRedsAddr:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>addr a,s'\\<rangle>; hp s' a = Some(D,fs); P \\<turnstile> D \\<preceq>\\<^sup>* C \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>addr a,s'\\<rangle>\"", "lemma CastRedsFail:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>addr a,s'\\<rangle>; hp s' a = Some(D,fs); \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>THROW ClassCast,s'\\<rangle>\"", "lemma CastRedsThrow:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\"", "lemma LAssReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle> V:=e,s\\<rangle> \\<rightarrow>* \\<langle> V:=e',s'\\<rangle>\"", "lemma LAssRedsVal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>Val v,(h',l')\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle> V:=e,s\\<rangle> \\<rightarrow>* \\<langle>unit,(h',l'(V\\<mapsto>v))\\<rangle>\"", "lemma LAssRedsThrow:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle> V:=e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\"", "lemma BinOp1Reds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle> e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s'\\<rangle>\"", "lemma BinOp2Reds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>(Val v) \\<guillemotleft>bop\\<guillemotright> e, s\\<rangle> \\<rightarrow>* \\<langle>(Val v) \\<guillemotleft>bop\\<guillemotright> e', s'\\<rangle>\"", "lemma BinOpRedsVal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>; binop(bop,v\\<^sub>1,v\\<^sub>2) = Some v \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>2\\<rangle>\"", "lemma BinOpRedsThrow1:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>throw e', s'\\<rangle>\"", "lemma BinOpRedsThrow2:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle>\"", "lemma FAccReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D}, s\\<rangle> \\<rightarrow>* \\<langle>e'\\<bullet>F{D}, s'\\<rangle>\"", "lemma FAccRedsVal:\n  \"\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>addr a,s'\\<rangle>; hp s' a = Some(C,fs); fs(F,D) = Some v \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>* \\<langle>Val v,s'\\<rangle>\"", "lemma FAccRedsNull:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>null,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>* \\<langle>THROW NullPointer,s'\\<rangle>\"", "lemma FAccRedsThrow:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\"", "lemma FAssReds1:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D}:=e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>e'\\<bullet>F{D}:=e\\<^sub>2, s'\\<rangle>\"", "lemma FAssReds2:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D}:=e, s\\<rangle> \\<rightarrow>* \\<langle>Val v\\<bullet>F{D}:=e', s'\\<rangle>\"", "lemma FAssRedsVal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>addr a,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>Val v,(h\\<^sub>2,l\\<^sub>2)\\<rangle>; Some(C,fs) = h\\<^sub>2 a \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>unit, (h\\<^sub>2(a\\<mapsto>(C,fs((F,D)\\<mapsto>v))),l\\<^sub>2)\\<rangle>\"", "lemma FAssRedsNull:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>null,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>2\\<rangle> \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>THROW NullPointer, s\\<^sub>2\\<rangle>\"", "lemma FAssRedsThrow1:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D}:=e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>throw e', s'\\<rangle>\"", "lemma FAssRedsThrow2:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle>\"", "lemma  SeqReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e;;e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>e';;e\\<^sub>2, s'\\<rangle>\"", "lemma SeqRedsThrow:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e;;e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>throw e', s'\\<rangle>\"", "lemma SeqReds2:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1;;e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\"", "lemma CondReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,s\\<rangle> \\<rightarrow>* \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,s'\\<rangle>\"", "lemma CondRedsThrow:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\"", "lemma CondReds2T:\n  \"\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>true,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>1, s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>e',s\\<^sub>2\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e',s\\<^sub>2\\<rangle>\"", "lemma CondReds2F:\n  \"\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>false,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2, s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>e',s\\<^sub>2\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e',s\\<^sub>2\\<rangle>\"", "lemma WhileFReds:\n  \"P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>* \\<langle>false,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<rightarrow>* \\<langle>unit,s'\\<rangle>\"", "lemma WhileRedsThrow:\n  \"P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>* \\<langle>throw e,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<rightarrow>* \\<langle>throw e,s'\\<rangle>\"", "lemma WhileTReds:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>true,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>; P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>* \\<langle>e,s\\<^sub>3\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e,s\\<^sub>3\\<rangle>\"", "lemma WhileTRedsThrow:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>true,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle>\"", "lemma ThrowReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>* \\<langle>throw e',s'\\<rangle>\"", "lemma ThrowRedsNull:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>null,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>* \\<langle>THROW NullPointer,s'\\<rangle>\"", "lemma ThrowRedsThrow:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\"", "lemma InitBlockReds_aux:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n  \\<forall>h l h' l' v. s = (h,l(V\\<mapsto>v)) \\<longrightarrow> s' = (h',l') \\<longrightarrow>\n  P \\<turnstile> \\<langle>{V:T := Val v; e},(h,l)\\<rangle> \\<rightarrow>* \\<langle>{V:T := Val(the(l' V)); e'},(h',l'(V:=(l V)))\\<rangle>\"", "lemma InitBlockReds:\n \"P \\<turnstile> \\<langle>e, (h,l(V\\<mapsto>v))\\<rangle> \\<rightarrow>* \\<langle>e', (h',l')\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>{V:T := Val v; e}, (h,l)\\<rangle> \\<rightarrow>* \\<langle>{V:T := Val(the(l' V)); e'}, (h',l'(V:=(l V)))\\<rangle>\"", "lemma InitBlockRedsFinal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,(h,l(V\\<mapsto>v))\\<rangle> \\<rightarrow>* \\<langle>e',(h',l')\\<rangle>; final e' \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>{V:T := Val v; e},(h,l)\\<rangle> \\<rightarrow>* \\<langle>e',(h', l'(V := l V))\\<rangle>\"", "lemma BlockRedsFinal:\nassumes reds: \"P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2,(h\\<^sub>2,l\\<^sub>2)\\<rangle>\" and fin: \"final e\\<^sub>2\"\nshows \"\\<And>h\\<^sub>0 l\\<^sub>0. s\\<^sub>0 = (h\\<^sub>0,l\\<^sub>0(V:=None)) \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},(h\\<^sub>0,l\\<^sub>0)\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2,(h\\<^sub>2,l\\<^sub>2(V:=l\\<^sub>0 V))\\<rangle>\"", "lemma TryReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,s\\<rangle> \\<rightarrow>* \\<langle>try e' catch(C V) e\\<^sub>2,s'\\<rangle>\"", "lemma TryRedsVal:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>Val v,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,s\\<rangle> \\<rightarrow>* \\<langle>Val v,s'\\<rangle>\"", "lemma TryCatchRedsFinal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Throw a,(h\\<^sub>1,l\\<^sub>1)\\<rangle>;  h\\<^sub>1 a = Some(D,fs); P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2, (h\\<^sub>1, l\\<^sub>1(V \\<mapsto> Addr a))\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2', (h\\<^sub>2,l\\<^sub>2)\\<rangle>; final e\\<^sub>2' \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1 catch(C V) e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2', (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\"", "lemma TryRedsFail:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<rightarrow>* \\<langle>Throw a,(h,l)\\<rangle>; h a = Some(D,fs); \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1 catch(C V) e\\<^sub>2,s\\<rangle> \\<rightarrow>* \\<langle>Throw a,(h,l)\\<rangle>\"", "lemma ListReds1:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e#es,s\\<rangle> [\\<rightarrow>]* \\<langle>e' # es,s'\\<rangle>\"", "lemma ListReds2:\n  \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,s\\<rangle> [\\<rightarrow>]* \\<langle>Val v # es',s'\\<rangle>\"", "lemma ListRedsVal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]* \\<langle>es',s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e#es,s\\<^sub>0\\<rangle> [\\<rightarrow>]* \\<langle>Val v # es',s\\<^sub>2\\<rangle>\"", "lemma assumes wf: \"wwf_J_prog P\"\nshows Red_fv: \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<rightarrow> \\<langle>e',(h',l')\\<rangle> \\<Longrightarrow> fv e' \\<subseteq> fv e\"\n  and  \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<rightarrow>] \\<langle>es',(h',l')\\<rangle> \\<Longrightarrow> fvs es' \\<subseteq> fvs es\"", "lemma Red_dom_lcl:\n  \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<rightarrow> \\<langle>e',(h',l')\\<rangle> \\<Longrightarrow> dom l' \\<subseteq> dom l \\<union> fv e\" and\n  \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<rightarrow>] \\<langle>es',(h',l')\\<rangle> \\<Longrightarrow> dom l' \\<subseteq> dom l \\<union> fvs es\"", "lemma Reds_dom_lcl:\n  \"\\<lbrakk> wwf_J_prog P; P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<rightarrow>* \\<langle>e',(h',l')\\<rangle> \\<rbrakk> \\<Longrightarrow> dom l' \\<subseteq> dom l \\<union> fv e\"", "lemma override_on_upd_lemma:\n  \"(override_on f (g(a\\<mapsto>b)) A)(a := g a) = override_on f g (insert a A)\"", "lemma blocksReds:\n  \"\\<And>l. \\<lbrakk> length Vs = length Ts; length vs = length Ts; distinct Vs;\n         P \\<turnstile> \\<langle>e, (h,l(Vs [\\<mapsto>] vs))\\<rangle> \\<rightarrow>* \\<langle>e', (h',l')\\<rangle> \\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>blocks(Vs,Ts,vs,e), (h,l)\\<rangle> \\<rightarrow>* \\<langle>blocks(Vs,Ts,map (the \\<circ> l') Vs,e'), (h',override_on l' l (set Vs))\\<rangle>\"", "lemma blocksFinal:\n \"\\<And>l. \\<lbrakk> length Vs = length Ts; length vs = length Ts; final e \\<rbrakk> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>blocks(Vs,Ts,vs,e), (h,l)\\<rangle> \\<rightarrow>* \\<langle>e, (h,l)\\<rangle>\"", "lemma blocksRedsFinal:\nassumes wf: \"length Vs = length Ts\" \"length vs = length Ts\" \"distinct Vs\"\n    and reds: \"P \\<turnstile> \\<langle>e, (h,l(Vs [\\<mapsto>] vs))\\<rangle> \\<rightarrow>* \\<langle>e', (h',l')\\<rangle>\"\n    and fin: \"final e'\" and l'': \"l'' = override_on l' l (set Vs)\"\nshows \"P \\<turnstile> \\<langle>blocks(Vs,Ts,vs,e), (h,l)\\<rangle> \\<rightarrow>* \\<langle>e', (h',l'')\\<rangle>\"", "lemma CallRedsObj:\n \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<rangle> \\<rightarrow>* \\<langle>e'\\<bullet>M(es),s'\\<rangle>\"", "lemma CallRedsParams:\n \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>(Val v)\\<bullet>M(es),s\\<rangle> \\<rightarrow>* \\<langle>(Val v)\\<bullet>M(es'),s'\\<rangle>\"", "lemma CallRedsFinal:\nassumes wwf: \"wwf_J_prog P\"\nand \"P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>addr a,s\\<^sub>1\\<rangle>\"\n      \"P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]* \\<langle>map Val vs,(h\\<^sub>2,l\\<^sub>2)\\<rangle>\"\n      \"h\\<^sub>2 a = Some(C,fs)\" \"P \\<turnstile> C sees M:Ts\\<rightarrow>T = (pns,body) in D\"\n      \"size vs = size pns\"\nand l\\<^sub>2': \"l\\<^sub>2' = [this \\<mapsto> Addr a, pns[\\<mapsto>]vs]\"\nand body: \"P \\<turnstile> \\<langle>body,(h\\<^sub>2,l\\<^sub>2')\\<rangle> \\<rightarrow>* \\<langle>ef,(h\\<^sub>3,l\\<^sub>3)\\<rangle>\"\nand \"final ef\"\nshows \"P \\<turnstile> \\<langle>e\\<bullet>M(es), s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>ef,(h\\<^sub>3,l\\<^sub>2)\\<rangle>\"", "lemma CallRedsThrowParams:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>1\\<rangle>;  P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]* \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),s0\\<rangle> \\<rightarrow>* \\<langle>throw a,s\\<^sub>2\\<rangle>\"", "lemma CallRedsThrowObj:\n  \"P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>* \\<langle>throw a,s\\<^sub>1\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),s0\\<rangle> \\<rightarrow>* \\<langle>throw a,s\\<^sub>1\\<rangle>\"", "lemma CallRedsNull:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>null,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]* \\<langle>map Val vs,s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\"", "lemma assumes wwf: \"wwf_J_prog P\"\nshows big_by_small: \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle>\"\nand bigs_by_smalls: \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es',s'\\<rangle>\"", "lemma unfold_while: \n  \"P \\<turnstile> \\<langle>while(b) c,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>  =  P \\<turnstile> \\<langle>if(b) (c;;while(b) c) else (unit),s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\"", "lemma blocksEval:\n  \"\\<And>Ts vs l l'. \\<lbrakk>size ps = size Ts; size ps = size vs; P \\<turnstile> \\<langle>blocks(ps,Ts,vs,e),(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle> \\<rbrakk>\n    \\<Longrightarrow> \\<exists> l''. P \\<turnstile> \\<langle>e,(h,l(ps[\\<mapsto>]vs))\\<rangle> \\<Rightarrow> \\<langle>e',(h',l'')\\<rangle>\"", "lemma\nassumes wf: \"wwf_J_prog P\"\nshows eval_restrict_lcl:\n  \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle> \\<Longrightarrow> (\\<And>W. fv e \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>e,(h,l|`W)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l'|`W)\\<rangle>)\"\nand \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',l')\\<rangle> \\<Longrightarrow> (\\<And>W. fvs es \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>es,(h,l|`W)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',l'|`W)\\<rangle>)\"", "lemma eval_notfree_unchanged:\n  \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle> \\<Longrightarrow> (\\<And>V. V \\<notin> fv e \\<Longrightarrow> l' V = l V)\"\nand \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',l')\\<rangle> \\<Longrightarrow> (\\<And>V. V \\<notin> fvs es \\<Longrightarrow> l' V = l V)\"", "lemma eval_closed_lcl_unchanged:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle>; fv e = {} \\<rbrakk> \\<Longrightarrow> l' = l\"", "lemma list_eval_Throw: \nassumes eval_e: \"P \\<turnstile> \\<langle>throw x,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\"\nshows \"P \\<turnstile> \\<langle>map Val vs @ throw x # es',s\\<rangle> [\\<Rightarrow>] \\<langle>map Val vs @ e' # es',s'\\<rangle>\"", "lemma\nassumes wf: \"wwf_J_prog P\"\nshows extend_1_eval:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow> \\<langle>e'',s''\\<rangle> \\<Longrightarrow>  (\\<And>s' e'. P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>)\"\nand extend_1_evals:\n  \"P \\<turnstile> \\<langle>es,t\\<rangle> [\\<rightarrow>] \\<langle>es'',t''\\<rangle> \\<Longrightarrow> (\\<And>t' es'. P \\<turnstile> \\<langle>es'',t''\\<rangle> [\\<Rightarrow>] \\<langle>es',t'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>es,t\\<rangle> [\\<Rightarrow>] \\<langle>es',t'\\<rangle>)\"", "lemma extend_eval:\nassumes wf: \"wwf_J_prog P\"\nand reds: \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e'',s''\\<rangle>\" and eval_rest:  \"P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\"\nshows \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\"", "lemma extend_evals:\nassumes wf: \"wwf_J_prog P\"\nand reds: \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es'',s''\\<rangle>\" and eval_rest:  \"P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle>\"\nshows \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle>\"", "theorem\nassumes wf: \"wwf_J_prog P\"\nshows small_by_big: \"\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle>; final e'\\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\"\nand \"\\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es',s'\\<rangle>; finals es'\\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle>\""], "translations": [["", "lemma CastReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>Cast C e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Cast C e',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Cast C e',s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Cast C e,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>*\n                       \\<langle>Cast C a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>Cast C aa,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>*\n                       \\<langle>Cast C a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>Cast C aa,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C a,\n   b\\<rangle> \\<rightarrow>\n  \\<langle>Cast C aa,ba\\<rangle>", "apply(erule CastRed)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CastRedsNull:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>null,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>null,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    ((Cast C e, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    (?b, null, s') \\<in> red P", "apply(erule CastReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Cast C null,s'\\<rangle> \\<rightarrow>\n                   \\<langle>null,s'\\<rangle>", "apply(rule RedCastNull)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CastRedsAddr:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>addr a,s'\\<rangle>; hp s' a = Some(D,fs); P \\<turnstile> D \\<preceq>\\<^sup>* C \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>addr a,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\ns\\<rangle> \\<rightarrow>*\n                                     \\<langle>addr a,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\ns\\<rangle> \\<rightarrow>*\n                                     \\<langle>addr a,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n    \\<Longrightarrow> ((Cast C e, s), ?b) \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n    \\<Longrightarrow> (?b, addr a, s') \\<in> red P", "apply(erule CastReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\ns'\\<rangle> \\<rightarrow>\n                                     \\<langle>addr a,s'\\<rangle>", "apply(erule (1) RedCast)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CastRedsFail:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>addr a,s'\\<rangle>; hp s' a = Some(D,fs); \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>THROW ClassCast,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\ns\\<rangle> \\<rightarrow>*\n                                     \\<langle>THROW ClassCast,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\ns\\<rangle> \\<rightarrow>*\n                                     \\<langle>THROW ClassCast,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> ((Cast C e, s), ?b) \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> (?b, THROW ClassCast, s') \\<in> red P", "apply(erule CastReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\ns'\\<rangle> \\<rightarrow>\n                                     \\<langle>THROW ClassCast,s'\\<rangle>", "apply(erule (1) RedCastFail)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CastRedsThrow:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    ((Cast C e, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    (?b, throw a, s') \\<in> red P", "apply(erule CastReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Cast C (throw a),s'\\<rangle> \\<rightarrow>\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule red_reds.CastThrow)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection \"LAss\""], ["", "lemma LAssReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle> V:=e,s\\<rangle> \\<rightarrow>* \\<langle> V:=e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>V:=e',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>V:=e',s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>V:=e,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<rightarrow>*\n                       \\<langle>V:=a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>V:=aa,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<rightarrow>*\n                       \\<langle>V:=a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>V:=aa,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=a,\n   b\\<rangle> \\<rightarrow>\n  \\<langle>V:=aa,ba\\<rangle>", "apply(erule LAssRed)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma LAssRedsVal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>Val v,(h',l')\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle> V:=e,s\\<rangle> \\<rightarrow>* \\<langle>unit,(h',l'(V\\<mapsto>v))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,(h', l')\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>unit,(h', l'(V \\<mapsto> v))\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,(h', l')\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>unit,(h', l'(V \\<mapsto> v))\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,(h', l')\\<rangle> \\<Longrightarrow>\n    ((V:=e, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,(h', l')\\<rangle> \\<Longrightarrow>\n    (?b, unit, h', l'(V \\<mapsto> v)) \\<in> red P", "apply(erule LAssReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,(h', l')\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>V:=Val v,(h', l')\\<rangle> \\<rightarrow>\n                   \\<langle>unit,(h', l'(V \\<mapsto> v))\\<rangle>", "apply(rule RedLAss)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma LAssRedsThrow:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle> V:=e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    ((V:=e, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    (?b, throw a, s') \\<in> red P", "apply(erule LAssReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>V:=throw a,s'\\<rangle> \\<rightarrow>\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule red_reds.LAssThrow)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection \"BinOp\""], ["", "lemma BinOp1Reds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle> e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   b\\<rangle> \\<rightarrow>\n  \\<langle>aa \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,ba\\<rangle>", "apply(erule BinOpRed1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma BinOp2Reds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>(Val v) \\<guillemotleft>bop\\<guillemotright> e, s\\<rangle> \\<rightarrow>* \\<langle>(Val v) \\<guillemotleft>bop\\<guillemotright> e', s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> e,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> e',\n                    s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> e,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> e',\n                    s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> e,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> e,\n                    s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> e,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> a,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> aa,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> e,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> a,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> aa,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v \\<guillemotleft>bop\\<guillemotright> a,\n   b\\<rangle> \\<rightarrow>\n  \\<langle>Val v \\<guillemotleft>bop\\<guillemotright> aa,ba\\<rangle>", "apply(erule BinOpRed2)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma BinOpRedsVal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>; binop(bop,v\\<^sub>1,v\\<^sub>2) = Some v \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n     binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>Val v,s\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n     binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>Val v,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n     binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> ((e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s\\<^sub>0),\n                       ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n     binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> (?y, Val v, s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(erule BinOp1Reds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n     binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n         v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>Val v,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n     binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> ((Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s\\<^sub>1),\n                       ?b4)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n     binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> (?b4, Val v, s\\<^sub>2) \\<in> red P", "apply(erule BinOp2Reds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n     binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n         v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\ns\\<^sub>2\\<rangle> \\<rightarrow>\n                                     \\<langle>Val v,s\\<^sub>2\\<rangle>", "apply(rule RedBinOp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n     binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> binop (bop, v\\<^sub>1, v\\<^sub>2) =\n                      \\<lfloor>v\\<rfloor>", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma BinOpRedsThrow1:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>throw e', s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    ((e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s), ?b)\n    \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    (?b, throw e', s') \\<in> red P", "apply(erule BinOp1Reds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw\n                             e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s'\\<rangle> \\<rightarrow>\n                   \\<langle>throw e',s'\\<rangle>", "apply(rule red_reds.BinOpThrow1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma BinOpRedsThrow2:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s\\<^sub>0),\n                       ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y, throw e, s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(erule BinOp1Reds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n         v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s\\<^sub>1),\n                       ?b4)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b4, throw e, s\\<^sub>2) \\<in> red P", "apply(erule BinOp2Reds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n         v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw e,\ns\\<^sub>2\\<rangle> \\<rightarrow>\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule red_reds.BinOpThrow2)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection \"FAcc\""], ["", "lemma FAccReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D}, s\\<rangle> \\<rightarrow>* \\<langle>e'\\<bullet>F{D}, s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>*\n                   \\<langle>e'\\<bullet>F{D},s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>*\n                   \\<langle>e'\\<bullet>F{D},s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<bullet>F{D},s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>*\n                       \\<langle>a\\<bullet>F{D},b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa\\<bullet>F{D},ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>*\n                       \\<langle>a\\<bullet>F{D},b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa\\<bullet>F{D},ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a\\<bullet>F{D},\n   b\\<rangle> \\<rightarrow>\n  \\<langle>aa\\<bullet>F{D},ba\\<rangle>", "apply(erule FAccRed)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma FAccRedsVal:\n  \"\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>addr a,s'\\<rangle>; hp s' a = Some(C,fs); fs(F,D) = Some v \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>* \\<langle>Val v,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(C, fs)\\<rfloor>;\n     fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\ns\\<rangle> \\<rightarrow>*\n                                     \\<langle>Val v,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(C, fs)\\<rfloor>;\n     fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\ns\\<rangle> \\<rightarrow>*\n                                     \\<langle>Val v,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(C, fs)\\<rfloor>;\n     fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> ((e\\<bullet>F{D}, s), ?b) \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(C, fs)\\<rfloor>;\n     fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> (?b, Val v, s') \\<in> red P", "apply(erule FAccReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s'\\<rangle>;\n     hp s' a = \\<lfloor>(C, fs)\\<rfloor>;\n     fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\ns'\\<rangle> \\<rightarrow>\n                                     \\<langle>Val v,s'\\<rangle>", "apply(erule (1) RedFAcc)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma FAccRedsNull:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>null,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>* \\<langle>THROW NullPointer,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW NullPointer,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW NullPointer,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    ((e\\<bullet>F{D}, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    (?b, THROW NullPointer, s') \\<in> red P", "apply(erule FAccReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>null\\<bullet>F{D},s'\\<rangle> \\<rightarrow>\n                   \\<langle>THROW NullPointer,s'\\<rangle>", "apply(rule RedFAccNull)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma FAccRedsThrow:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    ((e\\<bullet>F{D}, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    (?b, throw a, s') \\<in> red P", "apply(erule FAccReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw a\\<bullet>F{D},s'\\<rangle> \\<rightarrow>\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule red_reds.FAccThrow)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection \"FAss\""], ["", "lemma FAssReds1:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D}:=e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>e'\\<bullet>F{D}:=e\\<^sub>2, s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<bullet>F{D} := e\\<^sub>2,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>a\\<bullet>F{D} := e\\<^sub>2,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa\\<bullet>F{D} := e\\<^sub>2,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>a\\<bullet>F{D} := e\\<^sub>2,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa\\<bullet>F{D} := e\\<^sub>2,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a\\<bullet>F{D} := e\\<^sub>2,\n   b\\<rangle> \\<rightarrow>\n  \\<langle>aa\\<bullet>F{D} := e\\<^sub>2,ba\\<rangle>", "apply(erule FAssRed1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma FAssReds2:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D}:=e, s\\<rangle> \\<rightarrow>* \\<langle>Val v\\<bullet>F{D}:=e', s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v\\<bullet>F{D} := e',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v\\<bullet>F{D} := e',s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v\\<bullet>F{D} := e,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<bullet>F{D} := a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<bullet>F{D} := aa,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<bullet>F{D} := a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<bullet>F{D} := aa,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := a,\n   b\\<rangle> \\<rightarrow>\n  \\<langle>Val v\\<bullet>F{D} := aa,ba\\<rangle>", "apply(erule FAssRed2)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma FAssRedsVal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>addr a,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>Val v,(h\\<^sub>2,l\\<^sub>2)\\<rangle>; Some(C,fs) = h\\<^sub>2 a \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>unit, (h\\<^sub>2(a\\<mapsto>(C,fs((F,D)\\<mapsto>v))),l\\<^sub>2)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     \\<lfloor>(C, fs)\\<rfloor> = h\\<^sub>2 a\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>unit,\n(h\\<^sub>2(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))), l\\<^sub>2)\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     \\<lfloor>(C, fs)\\<rfloor> = h\\<^sub>2 a\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>unit,\n(h\\<^sub>2(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))), l\\<^sub>2)\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     \\<lfloor>(C, fs)\\<rfloor> = h\\<^sub>2 a\\<rbrakk>\n    \\<Longrightarrow> ((e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2, s\\<^sub>0), ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     \\<lfloor>(C, fs)\\<rfloor> = h\\<^sub>2 a\\<rbrakk>\n    \\<Longrightarrow> (?y, unit, h\\<^sub>2(a \\<mapsto>\n                       (C, fs((F, D) \\<mapsto> v))), l\\<^sub>2)\n                      \\<in> (red P)\\<^sup>*", "apply(erule FAssReds1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     \\<lfloor>(C, fs)\\<rfloor> = h\\<^sub>2 a\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n         a\\<bullet>F{D} := e\\<^sub>2,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>unit,\n(h\\<^sub>2(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))), l\\<^sub>2)\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     \\<lfloor>(C, fs)\\<rfloor> = h\\<^sub>2 a\\<rbrakk>\n    \\<Longrightarrow> ((addr a\\<bullet>F{D} := e\\<^sub>2, s\\<^sub>1), ?b4)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     \\<lfloor>(C, fs)\\<rfloor> = h\\<^sub>2 a\\<rbrakk>\n    \\<Longrightarrow> (?b4, unit, h\\<^sub>2(a \\<mapsto>\n                       (C, fs((F, D) \\<mapsto> v))), l\\<^sub>2)\n                      \\<in> red P", "apply(erule FAssReds2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     \\<lfloor>(C, fs)\\<rfloor> = h\\<^sub>2 a\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D} := Val v,\n(h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<rightarrow>\n                                     \\<langle>unit,\n(h\\<^sub>2(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))), l\\<^sub>2)\\<rangle>", "apply(rule RedFAss)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>addr a,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     \\<lfloor>(C, fs)\\<rfloor> = h\\<^sub>2 a\\<rbrakk>\n    \\<Longrightarrow> h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma FAssRedsNull:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>null,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>2\\<rangle> \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>THROW NullPointer, s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>THROW NullPointer,\ns\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>THROW NullPointer,\ns\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2, s\\<^sub>0), ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y, THROW NullPointer, s\\<^sub>2)\n                      \\<in> (red P)\\<^sup>*", "apply(erule FAssReds1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>null\\<bullet>F{D} := e\\<^sub>2,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>THROW NullPointer,\ns\\<^sub>2\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((null\\<bullet>F{D} := e\\<^sub>2, s\\<^sub>1), ?b4)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b4, THROW NullPointer, s\\<^sub>2) \\<in> red P", "apply(erule FAssReds2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\ns\\<^sub>2\\<rangle> \\<rightarrow>\n                                     \\<langle>THROW NullPointer,\ns\\<^sub>2\\<rangle>", "apply(rule RedFAssNull)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma FAssRedsThrow1:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D}:=e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>throw e', s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    ((e\\<bullet>F{D} := e\\<^sub>2, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    (?b, throw e', s') \\<in> red P", "apply(erule FAssReds1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw e'\\<bullet>F{D} := e\\<^sub>2,\n                    s'\\<rangle> \\<rightarrow>\n                   \\<langle>throw e',s'\\<rangle>", "apply(rule red_reds.FAssThrow1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma FAssRedsThrow2:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D}:=e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2, s\\<^sub>0), ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y, throw e, s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(erule FAssReds1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n         v\\<bullet>F{D} := e\\<^sub>2,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((Val v\\<bullet>F{D} := e\\<^sub>2, s\\<^sub>1), ?b4)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b4, throw e, s\\<^sub>2) \\<in> red P", "apply(erule FAssReds2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\ns\\<^sub>2\\<rangle> \\<rightarrow>\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule red_reds.FAssThrow2)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection\";;\""], ["", "lemma  SeqReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e;;e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>e';;e\\<^sub>2, s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e;; e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e';; e\\<^sub>2,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e;; e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e';; e\\<^sub>2,s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e;; e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e;; e\\<^sub>2,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e;; e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n                       \\<langle>a;; e\\<^sub>2,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa;; e\\<^sub>2,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e;; e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n                       \\<langle>a;; e\\<^sub>2,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa;; e\\<^sub>2,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a;; e\\<^sub>2,\n   b\\<rangle> \\<rightarrow>\n  \\<langle>aa;; e\\<^sub>2,ba\\<rangle>", "apply(erule SeqRed)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma SeqRedsThrow:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e;;e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>throw e', s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e;; e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e;; e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    ((e;; e\\<^sub>2, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    (?b, throw e', s') \\<in> red P", "apply(erule SeqReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw e';; e\\<^sub>2,s'\\<rangle> \\<rightarrow>\n                   \\<langle>throw e',s'\\<rangle>", "apply(rule red_reds.SeqThrow)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma SeqReds2:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1;;e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1;; e\\<^sub>2,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((e\\<^sub>1;; e\\<^sub>2, s\\<^sub>0), ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y, e\\<^sub>2', s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(erule SeqReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<^sub>1;; e\\<^sub>2,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((Val v\\<^sub>1;; e\\<^sub>2, s\\<^sub>1), ?b4)\n                      \\<in> red P\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b4, e\\<^sub>2', s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(rule RedSeq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>2,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',s\\<^sub>2\\<rangle>", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection\"If\""], ["", "lemma CondReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,s\\<rangle> \\<rightarrow>* \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>if (a) e\\<^sub>1 else e\\<^sub>2,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n  \\<langle>if (aa) e\\<^sub>1 else e\\<^sub>2,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>if (a) e\\<^sub>1 else e\\<^sub>2,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n  \\<langle>if (aa) e\\<^sub>1 else e\\<^sub>2,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (a) e\\<^sub>1\n   else e\\<^sub>2,b\\<rangle> \\<rightarrow>\n  \\<langle>if (aa) e\\<^sub>1 else e\\<^sub>2,ba\\<rangle>", "apply(erule CondRed)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CondRedsThrow:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2, s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    ((if (e) e\\<^sub>1 else e\\<^sub>2, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    (?b, throw a, s') \\<in> red P", "apply(erule CondReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (throw a) e\\<^sub>1 else e\\<^sub>2,\n                    s'\\<rangle> \\<rightarrow>\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule red_reds.CondThrow)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CondReds2T:\n  \"\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>true,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>1, s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>e',s\\<^sub>2\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e',s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\nelse e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',s\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\nelse e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',s\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((if (e) e\\<^sub>1 else e\\<^sub>2, s\\<^sub>0), ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y, e', s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(erule CondReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (true) e\\<^sub>1\nelse e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',s\\<^sub>2\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((if (true) e\\<^sub>1 else e\\<^sub>2, s\\<^sub>1), ?b4)\n                      \\<in> red P\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b4, e', s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(rule RedCondT)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',s\\<^sub>2\\<rangle>", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CondReds2F:\n  \"\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>false,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>e\\<^sub>2, s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>e',s\\<^sub>2\\<rangle> \\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1 else e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e',s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>false,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\nelse e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',s\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>false,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\nelse e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',s\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>false,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((if (e) e\\<^sub>1 else e\\<^sub>2, s\\<^sub>0), ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>false,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y, e', s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(erule CondReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>false,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (false) e\\<^sub>1\nelse e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',s\\<^sub>2\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>false,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((if (false) e\\<^sub>1 else e\\<^sub>2, s\\<^sub>1),\n                       ?b4)\n                      \\<in> red P\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>false,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b4, e', s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(rule RedCondF)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>false,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>2,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',s\\<^sub>2\\<rangle>", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection \"While\""], ["", "lemma WhileFReds:\n  \"P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>* \\<langle>false,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<rightarrow>* \\<langle>unit,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>false,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<rightarrow>*\n                   \\<langle>unit,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>false,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<rightarrow>*\n                   \\<langle>unit,s'\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>false,s'\\<rangle> \\<Longrightarrow>\n    ((while (b) c, s), ?b) \\<in> red P\n 2. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>false,s'\\<rangle> \\<Longrightarrow>\n    (?b, unit, s') \\<in> (red P)\\<^sup>*", "apply(rule RedWhile)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>false,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>unit,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>false,s'\\<rangle> \\<Longrightarrow>\n    ((if (b) (c;; while (b) c) else unit, s), ?b4) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>false,s'\\<rangle> \\<Longrightarrow>\n    (?b4, unit, s') \\<in> red P", "apply(erule CondReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>false,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (false) (c;; while (b) c) else unit,\n                    s'\\<rangle> \\<rightarrow>\n                   \\<langle>unit,s'\\<rangle>", "apply(rule RedCondF)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma WhileRedsThrow:\n  \"P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>* \\<langle>throw e,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<rightarrow>* \\<langle>throw e,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle> \\<Longrightarrow>\n    ((while (b) c, s), ?b) \\<in> red P\n 2. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle> \\<Longrightarrow>\n    (?b, throw e, s') \\<in> (red P)\\<^sup>*", "apply(rule RedWhile)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle> \\<Longrightarrow>\n    ((if (b) (c;; while (b) c) else unit, s), ?b4) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle> \\<Longrightarrow>\n    (?b4, throw e, s') \\<in> red P", "apply(erule CondReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>b,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (throw e) (c;; while (b) c) else unit,\n                    s'\\<rangle> \\<rightarrow>\n                   \\<langle>throw e,s'\\<rangle>", "apply(rule red_reds.CondThrow)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma WhileTReds:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>true,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>; P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>* \\<langle>e,s\\<^sub>3\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e,s\\<^sub>3\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e,s\\<^sub>3\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e,s\\<^sub>3\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((while (b) c, s\\<^sub>0), ?b) \\<in> red P\n 2. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b, e, s\\<^sub>3) \\<in> (red P)\\<^sup>*", "apply(rule RedWhile)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (b) (c;; while (b) c)\nelse unit,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e,s\\<^sub>3\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((if (b) (c;; while (b) c) else unit, s\\<^sub>0), ?y4)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y4, e, s\\<^sub>3) \\<in> (red P)\\<^sup>*", "apply(erule CondReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (true) (c;; while (b) c)\nelse unit,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>e,s\\<^sub>3\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((if (true) (c;; while (b) c) else unit, s\\<^sub>1),\n                       ?b8)\n                      \\<in> red P\n 2. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b8, e, s\\<^sub>3) \\<in> (red P)\\<^sup>*", "apply(rule RedCondT)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>c;; while (b) c,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>e,s\\<^sub>3\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((c;; while (b) c, s\\<^sub>1), ?y12)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y12, e, s\\<^sub>3) \\<in> (red P)\\<^sup>*", "apply(erule SeqReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<^sub>1;; while (b) c,\ns\\<^sub>2\\<rangle> \\<rightarrow>*\n                                     \\<langle>e,s\\<^sub>3\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((Val v\\<^sub>1;; while (b) c, s\\<^sub>2), ?b16)\n                      \\<in> red P\n 2. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b16, e, s\\<^sub>3) \\<in> (red P)\\<^sup>*", "apply(rule RedSeq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n     P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<rightarrow>*\n                    \\<langle>e,s\\<^sub>3\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\ns\\<^sub>2\\<rangle> \\<rightarrow>*\n                                     \\<langle>e,s\\<^sub>3\\<rangle>", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma WhileTRedsThrow:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>true,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>throw e,s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((while (b) c, s\\<^sub>0), ?b) \\<in> red P\n 2. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b, throw e, s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(rule RedWhile)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (b) (c;; while (b) c)\nelse unit,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((if (b) (c;; while (b) c) else unit, s\\<^sub>0), ?y4)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y4, throw e, s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(erule CondReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>if (true) (c;; while (b) c)\nelse unit,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((if (true) (c;; while (b) c) else unit, s\\<^sub>1),\n                       ?b8)\n                      \\<in> red P\n 2. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b8, throw e, s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(rule RedCondT)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>c;; while (b) c,\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((c;; while (b) c, s\\<^sub>1), ?b12)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b12, throw e, s\\<^sub>2) \\<in> red P", "apply(erule SeqReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>true,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>throw e;; while (b) c,\ns\\<^sub>2\\<rangle> \\<rightarrow>\n                                     \\<langle>throw e,s\\<^sub>2\\<rangle>", "apply(rule red_reds.SeqThrow)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection\"Throw\""], ["", "lemma ThrowReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>* \\<langle>throw e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e',s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>*\n                       \\<langle>throw a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>throw aa,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>*\n                       \\<langle>throw a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>throw aa,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw a,\n   b\\<rangle> \\<rightarrow>\n  \\<langle>throw aa,ba\\<rangle>", "apply(erule ThrowRed)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma ThrowRedsNull:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>null,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>* \\<langle>THROW NullPointer,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW NullPointer,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW NullPointer,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    ((throw e, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    (?b, THROW NullPointer, s') \\<in> red P", "apply(erule ThrowReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw null,s'\\<rangle> \\<rightarrow>\n                   \\<langle>THROW NullPointer,s'\\<rangle>", "apply(rule RedThrowNull)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma ThrowRedsThrow:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>* \\<langle>throw a,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    ((throw e, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    (?b, throw a, s') \\<in> red P", "apply(erule ThrowReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw (throw a),s'\\<rangle> \\<rightarrow>\n                   \\<langle>throw a,s'\\<rangle>", "apply(rule red_reds.ThrowThrow)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection \"InitBlock\""], ["", "lemma InitBlockReds_aux:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n  \\<forall>h l h' l' v. s = (h,l(V\\<mapsto>v)) \\<longrightarrow> s' = (h',l') \\<longrightarrow>\n  P \\<turnstile> \\<langle>{V:T := Val v; e},(h,l)\\<rangle> \\<rightarrow>* \\<langle>{V:T := Val(the(l' V)); e'},(h',l'(V:=(l V)))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    \\<forall>h l h' l' v.\n       s = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n       s' = (h', l') \\<longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n                       (h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                       (h', l'(V := l V))\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    \\<forall>h l h' l' v.\n       s = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n       s' = (h', l') \\<longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n                       (h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                       (h', l'(V := l V))\\<rangle>", "apply(erule converse_rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>h l h' l' v.\n       s' = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n       s' = (h', l') \\<longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                       (h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                       (h', l'(V := l V))\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s'\\<rangle>;\n        \\<forall>h l h' l' v.\n           ba = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           s' = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; aa},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<forall>h l h' l' v.\n                            b = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n                            s' = (h', l') \\<longrightarrow>\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;; a},\n      (h, l)\\<rangle> \\<rightarrow>*\n     \\<langle>{V:T; V:=Val (the (l' V));; e'},(h', l'(V := l V))\\<rangle>", "apply(fastforce simp: fun_upd_same simp del:fun_upd_apply)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s'\\<rangle>;\n        \\<forall>h l h' l' v.\n           ba = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           s' = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; aa},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<forall>h l h' l' v.\n                            b = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n                            s' = (h', l') \\<longrightarrow>\n                            P \\<turnstile> \\<langle>{V:T; V:=Val v;; a},\n      (h, l)\\<rangle> \\<rightarrow>*\n     \\<langle>{V:T; V:=Val (the (l' V));; e'},(h', l'(V := l V))\\<rangle>", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a aa b aaa ab ba h l h' l' v.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>aaa,(ab, ba)\\<rangle>;\n        P \\<turnstile> \\<langle>aaa,(ab, ba)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>;\n        \\<forall>h l h'a l'a v.\n           (ab, ba) = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           (h', l') = (h'a, l'a) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; aaa},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l'a V));; e'},\n                           (h'a, l'a(V := l V))\\<rangle>;\n        s' = (h', l')\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; a},\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l' V));; e'},(h', l'(V := l V))\\<rangle>", "apply(rename_tac e0 X Y e1 h1 l1 h0 l0 h2 l2 v0)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e0 X Y e1 h1 l1 h0 l0 h2 l2 v0.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>h l h' l' v.\n           (h1, l1) = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           (h2, l2) = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>;\n        s' = (h2, l2)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v0;; e0},\n   (h0, l0)\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(subgoal_tac \"V \\<in> dom l1\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>e0 X Y e1 h1 l1 h0 l0 h2 l2 v0.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>h l h' l' v.\n           (h1, l1) = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           (h2, l2) = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>;\n        s' = (h2, l2); V \\<in> dom l1\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v0;; e0},\n   (h0, l0)\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>\n 2. \\<And>e0 X Y e1 h1 l1 h0 l0 h2 l2 v0.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>h l h' l' v.\n           (h1, l1) = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           (h2, l2) = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>;\n        s' = (h2, l2)\\<rbrakk>\n       \\<Longrightarrow> V \\<in> dom l1", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>e0 X Y e1 h1 l1 h0 l0 h2 l2 v0.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>h l h' l' v.\n           (h1, l1) = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           (h2, l2) = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>;\n        s' = (h2, l2)\\<rbrakk>\n       \\<Longrightarrow> V \\<in> dom l1\n 2. \\<And>e0 X Y e1 h1 l1 h0 l0 h2 l2 v0.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>h l h' l' v.\n           (h1, l1) = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           (h2, l2) = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>;\n        s' = (h2, l2); V \\<in> dom l1\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v0;; e0},\n   (h0, l0)\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(drule red_lcl_incr)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>e0 X Y e1 h1 l1 h0 l0 h2 l2 v0.\n       \\<lbrakk>P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                               \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>h l h' l' v.\n           (h1, l1) = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           (h2, l2) = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>;\n        s' = (h2, l2); dom (l0(V \\<mapsto> v0)) \\<subseteq> dom l1\\<rbrakk>\n       \\<Longrightarrow> V \\<in> dom l1\n 2. \\<And>e0 X Y e1 h1 l1 h0 l0 h2 l2 v0.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>h l h' l' v.\n           (h1, l1) = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           (h2, l2) = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>;\n        s' = (h2, l2); V \\<in> dom l1\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v0;; e0},\n   (h0, l0)\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e0 X Y e1 h1 l1 h0 l0 h2 l2 v0.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>h l h' l' v.\n           (h1, l1) = (h, l(V \\<mapsto> v)) \\<longrightarrow>\n           (h2, l2) = (h', l') \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                           (h', l'(V := l V))\\<rangle>;\n        s' = (h2, l2); V \\<in> dom l1\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v0;; e0},\n   (h0, l0)\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 y.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v0;; e0},\n   (h0, l0)\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(rename_tac v1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v0;; e0},\n   (h0, l0)\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (({V:T; V:=Val v0;; e0}, h0, l0),\n                          ?b47 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1)\n                         \\<in> red P\n 2. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (?b47 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1,\n                          {V:T; V:=Val (the (l2 V));; e'}, h2, l2\n                          (V := l0 V))\n                         \\<in> (red P)\\<^sup>*", "apply(rule InitBlockRed)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e0,\n   (h0, l0(V \\<mapsto> v0))\\<rangle> \\<rightarrow>\n  \\<langle>?e'50 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1,\n   (?h'50 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1,\n    ?l'50 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1)\\<rangle>\n 2. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> ?l'50 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1 V =\n                         \\<lfloor>?v'50 e0 e1 h1 l1 h0 l0 h2 l2 v0\n                                   v1\\<rfloor>\n 3. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val\n                     (?v'50 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1);;\n   ?e'50 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1},\n   (?h'50 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1,\n    (?l'50 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1)\n    (V := l0 V))\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> l1 V =\n                         \\<lfloor>?v'50 e0 e1 h1 l1 h0 l0 h2 l2 v0\n                                   v1\\<rfloor>\n 2. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val\n                     (?v'50 e0 e1 h1 l1 h0 l0 h2 l2 v0 v1);;\n   e1},(h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        \\<forall>l v.\n           l1 = l(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l)\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2(V := l V))\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n   (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(erule_tac x = \"l1(V := l0 V)\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>;\n        \\<forall>v.\n           l1 = l1(V := l0 V)(V \\<mapsto> v) \\<longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; V:=Val v;; e1},\n                           (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n                          \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                           (h2, l2\n                            (V := (l1(V := l0 V)) V))\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n   (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(erule_tac x = v1 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>;\n        l1 = l1(V := l0 V)(V \\<mapsto> v1) \\<longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n                        (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n                       \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                        (h2, l2(V := (l1(V := l0 V)) V))\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n   (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> l1 = l1(V := l0 V)(V \\<mapsto> v1)\n 2. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n                        (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n                       \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                        (h2, l2(V := (l1(V := l0 V)) V))\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n   (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(rule ext)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1 x.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> l1 x = (l1(V := l0 V)(V \\<mapsto> v1)) x\n 2. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n                        (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n                       \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                        (h2, l2(V := (l1(V := l0 V)) V))\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n   (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(simp add:fun_upd_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e0 e1 h1 l1 h0 l0 h2 l2 v0 v1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e0,\n                                (h0, l0(V \\<mapsto>\n                                 v0))\\<rangle> \\<rightarrow>\n                               \\<langle>e1,(h1, l1)\\<rangle>;\n        P \\<turnstile> \\<langle>e1,(h1, l1)\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h2, l2)\\<rangle>;\n        s' = (h2, l2); l1 V = \\<lfloor>v1\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n                        (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n                       \\<langle>{V:T; V:=Val (the (l2 V));; e'},\n                        (h2, l2(V := (l1(V := l0 V)) V))\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v1;; e1},\n   (h1, l1(V := l0 V))\\<rangle> \\<rightarrow>*\n  \\<langle>{V:T; V:=Val (the (l2 V));; e'},(h2, l2(V := l0 V))\\<rangle>", "apply(simp add:fun_upd_def)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma InitBlockReds:\n \"P \\<turnstile> \\<langle>e, (h,l(V\\<mapsto>v))\\<rangle> \\<rightarrow>* \\<langle>e', (h',l')\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>{V:T := Val v; e}, (h,l)\\<rangle> \\<rightarrow>* \\<langle>{V:T := Val(the(l' V)); e'}, (h',l'(V:=(l V)))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,(h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                    (h', l'(V := l V))\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,(h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>{V:T; V:=Val (the (l' V));; e'},\n                    (h', l'(V := l V))\\<rangle>", "by(blast dest:InitBlockReds_aux)"], ["", "(*>*)"], ["", "lemma InitBlockRedsFinal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,(h,l(V\\<mapsto>v))\\<rangle> \\<rightarrow>* \\<langle>e',(h',l')\\<rangle>; final e' \\<rbrakk> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>{V:T := Val v; e},(h,l)\\<rangle> \\<rightarrow>* \\<langle>e',(h', l'(V := l V))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,\n                             (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>*\n                            \\<langle>e',(h', l')\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n(h, l)\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',(h', l'(V := l V))\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,\n                             (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>*\n                            \\<langle>e',(h', l')\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n(h, l)\\<rangle> \\<rightarrow>*\n                                     \\<langle>e',(h', l'(V := l V))\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,\n                             (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>*\n                            \\<langle>e',(h', l')\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> (({V:T; V:=Val v;; e}, h, l), ?b)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,\n                             (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>*\n                            \\<langle>e',(h', l')\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> (?b, e', h', l'(V := l V)) \\<in> red P", "apply(erule InitBlockReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,\n                             (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>*\n                            \\<langle>e',(h', l')\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val (the (l' V));;\ne'},(h', l'(V := l V))\\<rangle> \\<rightarrow>\n                                     \\<langle>e',(h', l'(V := l V))\\<rangle>", "apply(fast elim!:finalE intro:RedInitBlock InitBlockThrow)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection \"Block\""], ["", "lemma BlockRedsFinal:\nassumes reds: \"P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2,(h\\<^sub>2,l\\<^sub>2)\\<rangle>\" and fin: \"final e\\<^sub>2\"\nshows \"\\<And>h\\<^sub>0 l\\<^sub>0. s\\<^sub>0 = (h\\<^sub>0,l\\<^sub>0(V:=None)) \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},(h\\<^sub>0,l\\<^sub>0)\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2,(h\\<^sub>2,l\\<^sub>2(V:=l\\<^sub>0 V))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>h\\<^sub>0 l\\<^sub>0.\n       s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>h\\<^sub>0 l\\<^sub>0.\n       s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "using reds"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>h\\<^sub>0 l\\<^sub>0.\n       s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "proof (induct rule:converse_rtrancl_induct2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>h\\<^sub>0 l\\<^sub>0.\n       (h\\<^sub>2, l\\<^sub>2) =\n       (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>2},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>a b aa ba h\\<^sub>0 l\\<^sub>0.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>h\\<^sub>0 l\\<^sub>0.\n           ba = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; aa},\n                           (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                          \\<langle>e\\<^sub>2,\n                           (h\\<^sub>2, l\\<^sub>2\n                            (V := l\\<^sub>0 V))\\<rangle>;\n        b = (h\\<^sub>0, l\\<^sub>0(V := None))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; a},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "case refl"], ["proof (state)\nthis:\n  (h\\<^sub>2, l\\<^sub>2) = (h\\<^sub>0, l\\<^sub>0(V := None))\n\ngoal (2 subgoals):\n 1. \\<And>h\\<^sub>0 l\\<^sub>0.\n       (h\\<^sub>2, l\\<^sub>2) =\n       (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>2},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>a b aa ba h\\<^sub>0 l\\<^sub>0.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>h\\<^sub>0 l\\<^sub>0.\n           ba = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; aa},\n                           (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                          \\<langle>e\\<^sub>2,\n                           (h\\<^sub>2, l\\<^sub>2\n                            (V := l\\<^sub>0 V))\\<rangle>;\n        b = (h\\<^sub>0, l\\<^sub>0(V := None))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; a},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  (h\\<^sub>2, l\\<^sub>2) = (h\\<^sub>0, l\\<^sub>0(V := None))\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>2},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "by(fastforce intro:finalE[OF fin] RedBlock BlockThrow\n                simp del:fun_upd_apply)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>2},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a b aa ba h\\<^sub>0 l\\<^sub>0.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>h\\<^sub>0 l\\<^sub>0.\n           ba = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; aa},\n                           (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                          \\<langle>e\\<^sub>2,\n                           (h\\<^sub>2, l\\<^sub>2\n                            (V := l\\<^sub>0 V))\\<rangle>;\n        b = (h\\<^sub>0, l\\<^sub>0(V := None))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; a},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba h\\<^sub>0 l\\<^sub>0.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>h\\<^sub>0 l\\<^sub>0.\n           ba = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; aa},\n                           (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                          \\<langle>e\\<^sub>2,\n                           (h\\<^sub>2, l\\<^sub>2\n                            (V := l\\<^sub>0 V))\\<rangle>;\n        b = (h\\<^sub>0, l\\<^sub>0(V := None))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; a},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "case (step e\\<^sub>0 s\\<^sub>0 e\\<^sub>1 s\\<^sub>1)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>\n                 \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  s\\<^sub>1 = (?h\\<^sub>0, ?l\\<^sub>0(V := None)) \\<Longrightarrow>\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},\n                  (?h\\<^sub>0, ?l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := ?l\\<^sub>0 V))\\<rangle>\n  s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None))\n\ngoal (1 subgoal):\n 1. \\<And>a b aa ba h\\<^sub>0 l\\<^sub>0.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>h\\<^sub>0 l\\<^sub>0.\n           ba = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; aa},\n                           (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                          \\<langle>e\\<^sub>2,\n                           (h\\<^sub>2, l\\<^sub>2\n                            (V := l\\<^sub>0 V))\\<rangle>;\n        b = (h\\<^sub>0, l\\<^sub>0(V := None))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; a},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "have red: \"P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle>\"\n   and reds: \"P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2,(h\\<^sub>2,l\\<^sub>2)\\<rangle>\"\n   and IH: \"\\<And>h l. s\\<^sub>1 = (h,l(V := None))\n                \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},(h,l)\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2(V := l V))\\<rangle>\"\n   and s\\<^sub>0: \"s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>\n                    \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> &&&\n     P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>) &&&\n    (\\<And>h l.\n        s\\<^sub>1 = (h, l(V := None)) \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},\n                        (h, l)\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,\n                        (h\\<^sub>2, l\\<^sub>2(V := l V))\\<rangle>) &&&\n    s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None))", "by fact+"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>\n                 \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  s\\<^sub>1 = (?h, ?l(V := None)) \\<Longrightarrow>\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},(?h, ?l)\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := ?l V))\\<rangle>\n  s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None))\n\ngoal (1 subgoal):\n 1. \\<And>a b aa ba h\\<^sub>0 l\\<^sub>0.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>h\\<^sub>0 l\\<^sub>0.\n           ba = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; aa},\n                           (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                          \\<langle>e\\<^sub>2,\n                           (h\\<^sub>2, l\\<^sub>2\n                            (V := l\\<^sub>0 V))\\<rangle>;\n        b = (h\\<^sub>0, l\\<^sub>0(V := None))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; a},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "obtain h\\<^sub>1 l\\<^sub>1 where s\\<^sub>1: \"s\\<^sub>1 = (h\\<^sub>1,l\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>h\\<^sub>1 l\\<^sub>1.\n        s\\<^sub>1 = (h\\<^sub>1, l\\<^sub>1) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  s\\<^sub>1 = (h\\<^sub>1, l\\<^sub>1)\n\ngoal (1 subgoal):\n 1. \\<And>a b aa ba h\\<^sub>0 l\\<^sub>0.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>h\\<^sub>0 l\\<^sub>0.\n           ba = (h\\<^sub>0, l\\<^sub>0(V := None)) \\<Longrightarrow>\n           P \\<turnstile> \\<langle>{V:T; aa},\n                           (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                          \\<langle>e\\<^sub>2,\n                           (h\\<^sub>2, l\\<^sub>2\n                            (V := l\\<^sub>0 V))\\<rangle>;\n        b = (h\\<^sub>0, l\\<^sub>0(V := None))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; a},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "assume \"assigned V e\\<^sub>0\""], ["proof (state)\nthis:\n  assigned V e\\<^sub>0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "then"], ["proof (chain)\npicking this:\n  assigned V e\\<^sub>0", "obtain v e where e\\<^sub>0: \"e\\<^sub>0 = V := Val v;; e\""], ["proof (prove)\nusing this:\n  assigned V e\\<^sub>0\n\ngoal (1 subgoal):\n 1. (\\<And>v e.\n        e\\<^sub>0 = V:=Val v;; e \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (unfold assigned_def)blast"], ["proof (state)\nthis:\n  e\\<^sub>0 = V:=Val v;; e\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "from red e\\<^sub>0 s\\<^sub>0"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>\n                 \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle>\n  e\\<^sub>0 = V:=Val v;; e\n  s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None))", "have e\\<^sub>1: \"e\\<^sub>1 = unit;;e\" and s\\<^sub>1: \"s\\<^sub>1 = (h\\<^sub>0, l\\<^sub>0(V \\<mapsto> v))\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>\n                 \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle>\n  e\\<^sub>0 = V:=Val v;; e\n  s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None))\n\ngoal (1 subgoal):\n 1. e\\<^sub>1 = unit;; e &&&\n    s\\<^sub>1 = (h\\<^sub>0, l\\<^sub>0(V \\<mapsto> v))", "by auto"], ["proof (state)\nthis:\n  e\\<^sub>1 = unit;; e\n  s\\<^sub>1 = (h\\<^sub>0, l\\<^sub>0(V \\<mapsto> v))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "from e\\<^sub>1 fin"], ["proof (chain)\npicking this:\n  e\\<^sub>1 = unit;; e\n  final e\\<^sub>2", "have \"e\\<^sub>1 \\<noteq> e\\<^sub>2\""], ["proof (prove)\nusing this:\n  e\\<^sub>1 = unit;; e\n  final e\\<^sub>2\n\ngoal (1 subgoal):\n 1. e\\<^sub>1 \\<noteq> e\\<^sub>2", "by (auto simp:final_def)"], ["proof (state)\nthis:\n  e\\<^sub>1 \\<noteq> e\\<^sub>2\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "then"], ["proof (chain)\npicking this:\n  e\\<^sub>1 \\<noteq> e\\<^sub>2", "obtain e' s' where red1: \"P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow> \\<langle>e',s'\\<rangle>\"\n      and reds': \"P \\<turnstile> \\<langle>e',s'\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2,(h\\<^sub>2,l\\<^sub>2)\\<rangle>\""], ["proof (prove)\nusing this:\n  e\\<^sub>1 \\<noteq> e\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>e' s'.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>1\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         P \\<turnstile> \\<langle>e',s'\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>2,\n                         (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using converse_rtranclE2[OF reds]"], ["proof (prove)\nusing this:\n  e\\<^sub>1 \\<noteq> e\\<^sub>2\n  \\<lbrakk>(e\\<^sub>1, s\\<^sub>1) =\n           (e\\<^sub>2, h\\<^sub>2, l\\<^sub>2) \\<Longrightarrow>\n           ?P;\n   \\<And>a b.\n      \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                               s\\<^sub>1\\<rangle> \\<rightarrow>\n                              \\<langle>a,b\\<rangle>;\n       P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. (\\<And>e' s'.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>1\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         P \\<turnstile> \\<langle>e',s'\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>2,\n                         (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>\n                 \\<langle>e',s'\\<rangle>\n  P \\<turnstile> \\<langle>e',s'\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "from red1 e\\<^sub>1"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>\n                 \\<langle>e',s'\\<rangle>\n  e\\<^sub>1 = unit;; e", "have es': \"e' = e\" \"s' = s\\<^sub>1\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>\n                 \\<langle>e',s'\\<rangle>\n  e\\<^sub>1 = unit;; e\n\ngoal (1 subgoal):\n 1. e' = e &&& s' = s\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  e' = e\n  s' = s\\<^sub>1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<not> ?P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "using e\\<^sub>0 s\\<^sub>1 es' reds'"], ["proof (prove)\nusing this:\n  e\\<^sub>0 = V:=Val v;; e\n  s\\<^sub>1 = (h\\<^sub>0, l\\<^sub>0(V \\<mapsto> v))\n  e' = e\n  s' = s\\<^sub>1\n  P \\<turnstile> \\<langle>e',s'\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "by(fastforce intro!: InitBlockRedsFinal[OF _ fin] simp del:fun_upd_apply)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<not> assigned V e\\<^sub>0 \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> assigned V e\\<^sub>0 \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "assume unass: \"\\<not> assigned V e\\<^sub>0\""], ["proof (state)\nthis:\n  \\<not> assigned V e\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<not> assigned V e\\<^sub>0 \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "proof (cases \"l\\<^sub>1 V\")"], ["proof (state)\ngoal (2 subgoals):\n 1. l\\<^sub>1 V = None \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "assume None: \"l\\<^sub>1 V = None\""], ["proof (state)\nthis:\n  l\\<^sub>1 V = None\n\ngoal (2 subgoals):\n 1. l\\<^sub>1 V = None \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "hence \"P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},(h\\<^sub>0,l\\<^sub>0)\\<rangle> \\<rightarrow> \\<langle>{V:T; e\\<^sub>1},(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\""], ["proof (prove)\nusing this:\n  l\\<^sub>1 V = None\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                   \\<langle>{V:T; e\\<^sub>1},\n                    (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>", "using s\\<^sub>0 s\\<^sub>1 red"], ["proof (prove)\nusing this:\n  l\\<^sub>1 V = None\n  s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None))\n  s\\<^sub>1 = (h\\<^sub>1, l\\<^sub>1)\n  P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>\n                 \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                   \\<langle>{V:T; e\\<^sub>1},\n                    (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>", "by(simp add: BlockRedNone[OF _ _ unass])"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                 \\<langle>{V:T; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (2 subgoals):\n 1. l\\<^sub>1 V = None \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "moreover"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                 \\<langle>{V:T; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (2 subgoals):\n 1. l\\<^sub>1 V = None \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "have \"P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},\n                    (h\\<^sub>1, l\\<^sub>1\n                     (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "using IH[of _ \"l\\<^sub>1(V := l\\<^sub>0 V)\"] s\\<^sub>1 None"], ["proof (prove)\nusing this:\n  s\\<^sub>1 = (?h, l\\<^sub>1(V := l\\<^sub>0 V, V := None)) \\<Longrightarrow>\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},\n                  (?h, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2\n                   (V := (l\\<^sub>1(V := l\\<^sub>0 V)) V))\\<rangle>\n  s\\<^sub>1 = (h\\<^sub>1, l\\<^sub>1)\n  l\\<^sub>1 V = None\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},\n                    (h\\<^sub>1, l\\<^sub>1\n                     (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "by(simp add:fun_upd_idem)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1\n                   (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (2 subgoals):\n 1. l\\<^sub>1 V = None \\<Longrightarrow>\n    P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                 \\<langle>{V:T; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1\n                   (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "show ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                 \\<langle>{V:T; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1\n                   (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "by(rule converse_rtrancl_into_rtrancl)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "assume Some: \"l\\<^sub>1 V = Some v\""], ["proof (state)\nthis:\n  l\\<^sub>1 V = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "hence \"P \\<turnstile> \\<langle>{V:T;e\\<^sub>0},(h\\<^sub>0,l\\<^sub>0)\\<rangle> \\<rightarrow> \\<langle>{V:T := Val v; e\\<^sub>1},(h\\<^sub>1,l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\""], ["proof (prove)\nusing this:\n  l\\<^sub>1 V = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                   \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                    (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>", "using s\\<^sub>0 s\\<^sub>1 red"], ["proof (prove)\nusing this:\n  l\\<^sub>1 V = \\<lfloor>v\\<rfloor>\n  s\\<^sub>0 = (h\\<^sub>0, l\\<^sub>0(V := None))\n  s\\<^sub>1 = (h\\<^sub>1, l\\<^sub>1)\n  P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>\n                 \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                   \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                    (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>", "by(simp add: BlockRedSome[OF _ _ unass])"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                 \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "moreover"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                 \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "have \"P \\<turnstile> \\<langle>{V:T := Val v; e\\<^sub>1},(h\\<^sub>1,l\\<^sub>1(V:= l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                \\<langle>e\\<^sub>2,(h\\<^sub>2,l\\<^sub>2(V:=l\\<^sub>0 V))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                    (h\\<^sub>1, l\\<^sub>1\n                     (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "using InitBlockRedsFinal[OF _ fin,of _ _ \"l\\<^sub>1(V:=l\\<^sub>0 V)\" V]\n              Some reds s\\<^sub>1"], ["proof (prove)\nusing this:\n  ?P \\<turnstile> \\<langle>?e,\n                   (?h, l\\<^sub>1(V := l\\<^sub>0 V)(V \\<mapsto>\n                    ?v))\\<rangle> \\<rightarrow>*\n                  \\<langle>e\\<^sub>2,(?h', ?l')\\<rangle> \\<Longrightarrow>\n  ?P \\<turnstile> \\<langle>{V:?T; V:=Val ?v;; ?e},\n                   (?h, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                  \\<langle>e\\<^sub>2,\n                   (?h', ?l'(V := (l\\<^sub>1(V := l\\<^sub>0 V)) V))\\<rangle>\n  l\\<^sub>1 V = \\<lfloor>v\\<rfloor>\n  P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  s\\<^sub>1 = (h\\<^sub>1, l\\<^sub>1)\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                    (h\\<^sub>1, l\\<^sub>1\n                     (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "by(simp add:fun_upd_idem)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1\n                   (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       l\\<^sub>1 V = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                       (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                      \\<langle>e\\<^sub>2,\n                       (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                 \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1\n                   (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "show ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                 \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; e\\<^sub>1},\n                  (h\\<^sub>1, l\\<^sub>1\n                   (V := l\\<^sub>0 V))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2,\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>", "by(rule converse_rtrancl_into_rtrancl)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2,\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>0 V))\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "subsubsection \"try-catch\""], ["", "lemma TryReds:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,s\\<rangle> \\<rightarrow>* \\<langle>try e' catch(C V) e\\<^sub>2,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>try e' catch(C V) e\\<^sub>2,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>try e' catch(C V) e\\<^sub>2,s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>try e catch(C V) e\\<^sub>2,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>try a catch(C V) e\\<^sub>2,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>try aa catch(C V) e\\<^sub>2,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>try a catch(C V) e\\<^sub>2,\n                        b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>try aa catch(C V) e\\<^sub>2,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try a catch(C V) e\\<^sub>2,\n   b\\<rangle> \\<rightarrow>\n  \\<langle>try aa catch(C V) e\\<^sub>2,ba\\<rangle>", "apply(erule TryRed)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma TryRedsVal:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>Val v,s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,s\\<rangle> \\<rightarrow>* \\<langle>Val v,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n                    s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,s'\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,s'\\<rangle> \\<Longrightarrow>\n    ((try e catch(C V) e\\<^sub>2, s), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,s'\\<rangle> \\<Longrightarrow>\n    (?b, Val v, s') \\<in> red P", "apply(erule TryReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v,s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                    s'\\<rangle> \\<rightarrow>\n                   \\<langle>Val v,s'\\<rangle>", "apply(rule RedTry)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma TryCatchRedsFinal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Throw a,(h\\<^sub>1,l\\<^sub>1)\\<rangle>;  h\\<^sub>1 a = Some(D,fs); P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2, (h\\<^sub>1, l\\<^sub>1(V \\<mapsto> Addr a))\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2', (h\\<^sub>2,l\\<^sub>2)\\<rangle>; final e\\<^sub>2' \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1 catch(C V) e\\<^sub>2, s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e\\<^sub>2', (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\ncatch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',\n(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\ncatch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',\n(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> ((try e\\<^sub>1 catch(C V) e\\<^sub>2, s\\<^sub>0), ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> (?y, e\\<^sub>2', h\\<^sub>2, l\\<^sub>2\n                       (V := l\\<^sub>1 V))\n                      \\<in> (red P)\\<^sup>*", "apply(erule TryReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\ncatch(C V) e\\<^sub>2,(h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',\n(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>", "apply(rule converse_rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> ((try Throw a catch(C V) e\\<^sub>2, h\\<^sub>1,\n                        l\\<^sub>1),\n                       ?b4)\n                      \\<in> red P\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> (?b4, e\\<^sub>2', h\\<^sub>2, l\\<^sub>2\n                       (V := l\\<^sub>1 V))\n                      \\<in> (red P)\\<^sup>*", "apply(rule RedTryCatch)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> hp (h\\<^sub>1, l\\<^sub>1) a =\n                      \\<lfloor>(?D7, ?fs7)\\<rfloor>\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> ?D7 \\<preceq>\\<^sup>* C\n 3. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>{V:Class C; V:=addr a;;\ne\\<^sub>2},(h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',\n(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>", "apply fastforce"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> D \\<preceq>\\<^sup>* C\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>{V:Class C; V:=addr a;;\ne\\<^sub>2},(h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',\n(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>{V:Class C; V:=addr a;;\ne\\<^sub>2},(h\\<^sub>1, l\\<^sub>1)\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',\n(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>", "apply(rule InitBlockRedsFinal)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>2,\n(h\\<^sub>1, l\\<^sub>1(V \\<mapsto> Addr a))\\<rangle> \\<rightarrow>*\n                                     \\<langle>e\\<^sub>2',\n(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> final e\\<^sub>2'", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                             s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,\n                             (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n     h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n     P \\<turnstile> D \\<preceq>\\<^sup>* C;\n     P \\<turnstile> \\<langle>e\\<^sub>2,\n                     (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                      Addr a))\\<rangle> \\<rightarrow>*\n                    \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n     final e\\<^sub>2'\\<rbrakk>\n    \\<Longrightarrow> final e\\<^sub>2'", "apply(simp)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma TryRedsFail:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<rightarrow>* \\<langle>Throw a,(h,l)\\<rangle>; h a = Some(D,fs); \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1 catch(C V) e\\<^sub>2,s\\<rangle> \\<rightarrow>* \\<langle>Throw a,(h,l)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,(h, l)\\<rangle>;\n     h a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\ncatch(C V) e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n                                     \\<langle>Throw a,(h, l)\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,(h, l)\\<rangle>;\n     h a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\ncatch(C V) e\\<^sub>2,s\\<rangle> \\<rightarrow>*\n                                     \\<langle>Throw a,(h, l)\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,(h, l)\\<rangle>;\n     h a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> ((try e\\<^sub>1 catch(C V) e\\<^sub>2, s), ?b)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,(h, l)\\<rangle>;\n     h a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> (?b, Throw a, h, l) \\<in> red P", "apply(erule TryReds)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<rightarrow>*\n                            \\<langle>Throw a,(h, l)\\<rangle>;\n     h a = \\<lfloor>(D, fs)\\<rfloor>;\n     (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\ncatch(C V) e\\<^sub>2,(h, l)\\<rangle> \\<rightarrow>\n                                     \\<langle>Throw a,(h, l)\\<rangle>", "apply(fastforce intro!: RedTryFail)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection \"List\""], ["", "lemma ListReds1:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e#es,s\\<rangle> [\\<rightarrow>]* \\<langle>e' # es,s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>e' # es,s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>e' # es,s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>e # es,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<rightarrow>]*\n                       \\<langle>a # es,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<rightarrow>]*\n  \\<langle>aa # es,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<rightarrow>]*\n                       \\<langle>a # es,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<rightarrow>]*\n  \\<langle>aa # es,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a # es,\n   b\\<rangle> [\\<rightarrow>]\n  \\<langle>aa # es,ba\\<rangle>", "apply(erule ListRed1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma ListReds2:\n  \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,s\\<rangle> [\\<rightarrow>]* \\<langle>Val v # es',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Val v # es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>Val v # es',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Val v # es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>Val v # es',s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>Val v # es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>Val v # es,s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es,s\\<rangle> [\\<rightarrow>]*\n                       \\<langle>Val v # a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # aa,ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es,s\\<rangle> [\\<rightarrow>]*\n                       \\<langle>Val v # a,b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # aa,ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # a,\n   b\\<rangle> [\\<rightarrow>]\n  \\<langle>Val v # aa,ba\\<rangle>", "apply(erule ListRed2)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma ListRedsVal:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]* \\<langle>es',s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e#es,s\\<^sub>0\\<rangle> [\\<rightarrow>]* \\<langle>Val v # es',s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\ns\\<^sub>0\\<rangle> [\\<rightarrow>]*\n                                     \\<langle>Val v # es',s\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\ns\\<^sub>0\\<rangle> [\\<rightarrow>]*\n                                     \\<langle>Val v # es',s\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((e # es, s\\<^sub>0), ?y) \\<in> (reds P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y, Val v # es', s\\<^sub>2) \\<in> (reds P)\\<^sup>*", "apply(erule ListReds1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\ns\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                                     \\<langle>Val v # es',s\\<^sub>2\\<rangle>", "apply(erule ListReds2)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection\"Call\""], ["", "text\\<open>First a few lemmas on what happens to free variables during redction.\\<close>"], ["", "lemma assumes wf: \"wwf_J_prog P\"\nshows Red_fv: \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<rightarrow> \\<langle>e',(h',l')\\<rangle> \\<Longrightarrow> fv e' \\<subseteq> fv e\"\n  and  \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<rightarrow>] \\<langle>es',(h',l')\\<rangle> \\<Longrightarrow> fvs es' \\<subseteq> fvs es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<rightarrow>\n                    \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n     fv e' \\<subseteq> fv e) &&&\n    (P \\<turnstile> \\<langle>es,(h, l)\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',(h', l')\\<rangle> \\<Longrightarrow>\n     fvs es' \\<subseteq> fvs es)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<rightarrow>\n                    \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n     fv e' \\<subseteq> fv e) &&&\n    (P \\<turnstile> \\<langle>es,(h, l)\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',(h', l')\\<rangle> \\<Longrightarrow>\n     fvs es' \\<subseteq> fvs es)", "proof (induct rule:red_reds_inducts)"], ["proof (state)\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> fv (addr a) \\<subseteq> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       fv (THROW OutOfMemory) \\<subseteq> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (Cast C e') \\<subseteq> fv (Cast C e)\n 4. \\<And>C a b. fv null \\<subseteq> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> fv (addr aa) \\<subseteq> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> fv (THROW ClassCast)\n                         \\<subseteq> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n                         \\<subseteq> fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e')\n                         \\<subseteq> fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       fv (Val v)\n       \\<subseteq> fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        fv (Val v) \\<subseteq> fv (Var V)\nA total of 56 subgoals...", "case (RedCall h l a C fs M Ts T pns body D vs)"], ["proof (state)\nthis:\n  hp (h, l) a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  length Ts = length pns\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> fv (addr a) \\<subseteq> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       fv (THROW OutOfMemory) \\<subseteq> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (Cast C e') \\<subseteq> fv (Cast C e)\n 4. \\<And>C a b. fv null \\<subseteq> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> fv (addr aa) \\<subseteq> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> fv (THROW ClassCast)\n                         \\<subseteq> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n                         \\<subseteq> fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e')\n                         \\<subseteq> fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       fv (Val v)\n       \\<subseteq> fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        fv (Val v) \\<subseteq> fv (Var V)\nA total of 56 subgoals...", "hence \"fv body \\<subseteq> {this} \\<union> set pns\""], ["proof (prove)\nusing this:\n  hp (h, l) a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  length Ts = length pns\n\ngoal (1 subgoal):\n 1. fv body \\<subseteq> {this} \\<union> set pns", "using assms"], ["proof (prove)\nusing this:\n  hp (h, l) a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  length Ts = length pns\n  wwf_J_prog P\n\ngoal (1 subgoal):\n 1. fv body \\<subseteq> {this} \\<union> set pns", "by(fastforce dest!:sees_wf_mdecl simp:wf_mdecl_def)"], ["proof (state)\nthis:\n  fv body \\<subseteq> {this} \\<union> set pns\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> fv (addr a) \\<subseteq> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       fv (THROW OutOfMemory) \\<subseteq> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (Cast C e') \\<subseteq> fv (Cast C e)\n 4. \\<And>C a b. fv null \\<subseteq> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> fv (addr aa) \\<subseteq> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> fv (THROW ClassCast)\n                         \\<subseteq> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n                         \\<subseteq> fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e')\n                         \\<subseteq> fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       fv (Val v)\n       \\<subseteq> fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        fv (Val v) \\<subseteq> fv (Var V)\nA total of 56 subgoals...", "with RedCall.hyps"], ["proof (chain)\npicking this:\n  hp (h, l) a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  length Ts = length pns\n  fv body \\<subseteq> {this} \\<union> set pns", "show ?case"], ["proof (prove)\nusing this:\n  hp (h, l) a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  length Ts = length pns\n  fv body \\<subseteq> {this} \\<union> set pns\n\ngoal (1 subgoal):\n 1. fv (blocks (this # pns, Class D # Ts, Addr a # vs, body))\n    \\<subseteq> fv (addr a\\<bullet>M(map Val vs))", "by fastforce"], ["proof (state)\nthis:\n  fv (blocks (this # pns, Class D # Ts, Addr a # vs, body))\n  \\<subseteq> fv (addr a\\<bullet>M(map Val vs))\n\ngoal (55 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> fv (addr a) \\<subseteq> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       fv (THROW OutOfMemory) \\<subseteq> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (Cast C e') \\<subseteq> fv (Cast C e)\n 4. \\<And>C a b. fv null \\<subseteq> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> fv (addr aa) \\<subseteq> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> fv (THROW ClassCast)\n                         \\<subseteq> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n                         \\<subseteq> fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        fv e' \\<subseteq> fv e\\<rbrakk>\n       \\<Longrightarrow> fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e')\n                         \\<subseteq> fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       fv (Val v)\n       \\<subseteq> fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        fv (Val v) \\<subseteq> fv (Var V)\nA total of 55 subgoals...", "qed auto"], ["", "(*>*)"], ["", "lemma Red_dom_lcl:\n  \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<rightarrow> \\<langle>e',(h',l')\\<rangle> \\<Longrightarrow> dom l' \\<subseteq> dom l \\<union> fv e\" and\n  \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<rightarrow>] \\<langle>es',(h',l')\\<rangle> \\<Longrightarrow> dom l' \\<subseteq> dom l \\<union> fvs es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<rightarrow>\n                    \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n     dom l' \\<subseteq> dom l \\<union> fv e) &&&\n    (P \\<turnstile> \\<langle>es,(h, l)\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',(h', l')\\<rangle> \\<Longrightarrow>\n     dom l' \\<subseteq> dom l \\<union> fvs es)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<rightarrow>\n                    \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n     dom l' \\<subseteq> dom l \\<union> fv e) &&&\n    (P \\<turnstile> \\<langle>es,(h, l)\\<rangle> [\\<rightarrow>]\n                    \\<langle>es',(h', l')\\<rangle> \\<Longrightarrow>\n     dom l' \\<subseteq> dom l \\<union> fvs es)", "proof (induct rule:red_reds_inducts)"], ["proof (state)\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 56 subgoals...", "case RedLAss"], ["proof (state)\nthis:\n  \n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 56 subgoals...", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. dom (l_(V_ \\<mapsto> v_)) \\<subseteq> dom l_ \\<union> fv (V_:=Val v_)", "by(force split:if_splits)"], ["proof (state)\nthis:\n  dom (l_(V_ \\<mapsto> v_)) \\<subseteq> dom l_ \\<union> fv (V_:=Val v_)\n\ngoal (55 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 55 subgoals...", "next"], ["proof (state)\ngoal (55 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 55 subgoals...", "case CallParams"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>es_,(a___, b___)\\<rangle> [\\<rightarrow>]\n                 \\<langle>es'_,(a_, b_)\\<rangle>\n  dom b_ \\<subseteq> dom b___ \\<union> fvs es_\n\ngoal (55 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 55 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>es_,(a___, b___)\\<rangle> [\\<rightarrow>]\n                 \\<langle>es'_,(a_, b_)\\<rangle>\n  dom b_ \\<subseteq> dom b___ \\<union> fvs es_\n\ngoal (1 subgoal):\n 1. dom b_ \\<subseteq> dom b___ \\<union> fv (Val v_\\<bullet>M_(es_))", "by(force split:if_splits)"], ["proof (state)\nthis:\n  dom b_ \\<subseteq> dom b___ \\<union> fv (Val v_\\<bullet>M_(es_))\n\ngoal (54 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 54 subgoals...", "next"], ["proof (state)\ngoal (54 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 54 subgoals...", "case BlockRedNone"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  dom l'_ \\<subseteq> dom (l_(V_ := None)) \\<union> fv e_\n  l'_ V_ = None\n  \\<not> assigned V_ e_\n\ngoal (54 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 54 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  dom l'_ \\<subseteq> dom (l_(V_ := None)) \\<union> fv e_\n  l'_ V_ = None\n  \\<not> assigned V_ e_\n\ngoal (1 subgoal):\n 1. dom (l'_(V_ := l_ V_)) \\<subseteq> dom l_ \\<union> fv {V_:T_; e_}", "by clarsimp (fastforce split:if_splits)"], ["proof (state)\nthis:\n  dom (l'_(V_ := l_ V_)) \\<subseteq> dom l_ \\<union> fv {V_:T_; e_}\n\ngoal (53 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 53 subgoals...", "next"], ["proof (state)\ngoal (53 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 53 subgoals...", "case BlockRedSome"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  dom l'_ \\<subseteq> dom (l_(V_ := None)) \\<union> fv e_\n  l'_ V_ = \\<lfloor>v_\\<rfloor>\n  \\<not> assigned V_ e_\n\ngoal (53 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 53 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  dom l'_ \\<subseteq> dom (l_(V_ := None)) \\<union> fv e_\n  l'_ V_ = \\<lfloor>v_\\<rfloor>\n  \\<not> assigned V_ e_\n\ngoal (1 subgoal):\n 1. dom (l'_(V_ := l_ V_)) \\<subseteq> dom l_ \\<union> fv {V_:T_; e_}", "by clarsimp (fastforce split:if_splits)"], ["proof (state)\nthis:\n  dom (l'_(V_ := l_ V_)) \\<subseteq> dom l_ \\<union> fv {V_:T_; e_}\n\ngoal (52 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 52 subgoals...", "next"], ["proof (state)\ngoal (52 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 52 subgoals...", "case InitBlockRed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,\n                  (h_, l_(V_ \\<mapsto> v_))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  dom l'_ \\<subseteq> dom (l_(V_ \\<mapsto> v_)) \\<union> fv e_\n  l'_ V_ = \\<lfloor>v'_\\<rfloor>\n\ngoal (52 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 52 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,\n                  (h_, l_(V_ \\<mapsto> v_))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  dom l'_ \\<subseteq> dom (l_(V_ \\<mapsto> v_)) \\<union> fv e_\n  l'_ V_ = \\<lfloor>v'_\\<rfloor>\n\ngoal (1 subgoal):\n 1. dom (l'_(V_ := l_ V_))\n    \\<subseteq> dom l_ \\<union> fv {V_:T_; V_:=Val v_;; e_}", "by clarsimp (fastforce split:if_splits)"], ["proof (state)\nthis:\n  dom (l'_(V_ := l_ V_))\n  \\<subseteq> dom l_ \\<union> fv {V_:T_; V_:=Val v_;; e_}\n\ngoal (51 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv (new C)\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       dom l \\<subseteq> dom l \\<union> fv (new C)\n 3. \\<And>e a b e' aa ba C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba \\<subseteq> dom b \\<union> fv (Cast C e)\n 4. \\<And>C a b. dom b \\<subseteq> dom b \\<union> fv (Cast C null)\n 5. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 6. \\<And>a b aa D fs C.\n       \\<lbrakk>hp (a, b) aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> dom b\n                         \\<subseteq> dom b \\<union> fv (Cast C (addr aa))\n 7. \\<And>e a b e' aa ba bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n 8. \\<And>e a b e' aa ba v\\<^sub>1 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<rightarrow>\n                               \\<langle>e',(aa, ba)\\<rangle>;\n        dom ba \\<subseteq> dom b \\<union> fv e\\<rbrakk>\n       \\<Longrightarrow> dom ba\n                         \\<subseteq> dom b \\<union>\n                                     fv\n(Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e)\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v a b.\n       binop (bop, v\\<^sub>1, v\\<^sub>2) =\n       \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       dom b\n       \\<subseteq> dom b \\<union>\n                   fv (Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v\\<^sub>2)\n 10. \\<And>a b V v.\n        lcl (a, b) V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        dom b \\<subseteq> dom b \\<union> fv (Var V)\nA total of 51 subgoals...", "qed auto"], ["", "(*>*)"], ["", "lemma Reds_dom_lcl:\n  \"\\<lbrakk> wwf_J_prog P; P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<rightarrow>* \\<langle>e',(h',l')\\<rangle> \\<rbrakk> \\<Longrightarrow> dom l' \\<subseteq> dom l \\<union> fv e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>wwf_J_prog P;\n     P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<rightarrow>*\n                    \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> dom l' \\<subseteq> dom l \\<union> fv e", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>wwf_J_prog P;\n     P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<rightarrow>*\n                    \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> dom l' \\<subseteq> dom l \\<union> fv e", "apply(erule converse_rtrancl_induct_red)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>e h l.\n       wwf_J_prog P \\<Longrightarrow> dom l \\<subseteq> dom l \\<union> fv e\n 2. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 e' h'\n       l'.\n       \\<lbrakk>wwf_J_prog P;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                       \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        dom l' \\<subseteq> dom l\\<^sub>1 \\<union> fv e\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> dom l'\n                         \\<subseteq> dom l\\<^sub>0 \\<union> fv e\\<^sub>0", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 e' h'\n       l'.\n       \\<lbrakk>wwf_J_prog P;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>\n                       \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        dom l' \\<subseteq> dom l\\<^sub>1 \\<union> fv e\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> dom l'\n                         \\<subseteq> dom l\\<^sub>0 \\<union> fv e\\<^sub>0", "apply(blast dest: Red_fv Red_dom_lcl)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "text\\<open>Now a few lemmas on the behaviour of blocks during reduction.\\<close>"], ["", "(* If you want to avoid the premise \"distinct\" further down \\<dots>\nconsts upd_vals :: \"locals \\<Rightarrow> vname list \\<Rightarrow> val list \\<Rightarrow> val list\"\nprimrec\n\"upd_vals l [] vs = []\"\n\"upd_vals l (V#Vs) vs = (if V \\<in> set Vs then hd vs else the(l V)) #\n                        upd_vals l Vs (tl vs)\"\n\nlemma [simp]: \"\\<And>vs. length(upd_vals l Vs vs) = length Vs\"\nby(induct Vs, auto)\n*)"], ["", "lemma override_on_upd_lemma:\n  \"(override_on f (g(a\\<mapsto>b)) A)(a := g a) = override_on f g (insert a A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (override_on f (g(a \\<mapsto> b)) A)(a := g a) =\n    override_on f g (insert a A)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (override_on f (g(a \\<mapsto> b)) A)(a := g a) =\n    override_on f g (insert a A)", "apply(rule ext)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       ((override_on f (g(a \\<mapsto> b)) A)(a := g a)) x =\n       override_on f g (insert a A) x", "apply(simp add:override_on_def)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "declare fun_upd_apply[simp del] map_upds_twist[simp del]"], ["", "(*>*)"], ["", "lemma blocksReds:\n  \"\\<And>l. \\<lbrakk> length Vs = length Ts; length vs = length Ts; distinct Vs;\n         P \\<turnstile> \\<langle>e, (h,l(Vs [\\<mapsto>] vs))\\<rangle> \\<rightarrow>* \\<langle>e', (h',l')\\<rangle> \\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>blocks(Vs,Ts,vs,e), (h,l)\\<rangle> \\<rightarrow>* \\<langle>blocks(Vs,Ts,map (the \\<circ> l') Vs,e'), (h',override_on l' l (set Vs))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>length Vs = length Ts; length vs = length Ts; distinct Vs;\n        P \\<turnstile> \\<langle>e,\n                        (h, l(Vs [\\<mapsto>] vs))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n   (h', override_on l' l (set Vs))\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>length Vs = length Ts; length vs = length Ts; distinct Vs;\n        P \\<turnstile> \\<langle>e,\n                        (h, l(Vs [\\<mapsto>] vs))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n   (h', override_on l' l (set Vs))\\<rangle>", "proof(induct Vs Ts vs e rule:blocks_induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>V Vs T Ts v vs e l.\n       \\<lbrakk>\\<And>l.\n                   \\<lbrakk>length Vs = length Ts; length vs = length Ts;\n                    distinct Vs;\n                    P \\<turnstile> \\<langle>e,\n                                    (h, l(Vs [\\<mapsto>]\n                                     vs))\\<rangle> \\<rightarrow>*\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n                        (Vs, Ts, vs, e),\n               (h, l)\\<rangle> \\<rightarrow>*\n              \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n               (h', override_on l' l (set Vs))\\<rangle>;\n        length (V # Vs) = length (T # Ts);\n        length (v # vs) = length (T # Ts); distinct (V # Vs);\n        P \\<turnstile> \\<langle>e,\n                        (h, l(V # Vs [\\<mapsto>]\n                         v # vs))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (V # Vs, T # Ts, v # vs, e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (V # Vs, T # Ts, map (the \\<circ> l') (V # Vs), e'),\n   (h', override_on l' l (set (V # Vs)))\\<rangle>\n 2. \\<And>e l.\n       \\<lbrakk>length [] = length []; length [] = length []; distinct [];\n        P \\<turnstile> \\<langle>e,\n                        (h, l([] [\\<mapsto>] []))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], [], [], e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks ([], [], map (the \\<circ> l') [], e'),\n   (h', override_on l' l (set []))\\<rangle>\n 3. \\<And>vc vd a b l.\n       \\<lbrakk>length [] = length (vc # vd); length a = length (vc # vd);\n        distinct [];\n        P \\<turnstile> \\<langle>b,\n                        (h, l([] [\\<mapsto>] a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], vc # vd, a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks ([], vc # vd, map (the \\<circ> l') [], e'),\n   (h', override_on l' l (set []))\\<rangle>\n 4. \\<And>v ve vf vd l.\n       \\<lbrakk>length [] = length v; length (ve # vf) = length v;\n        distinct [];\n        P \\<turnstile> \\<langle>vd,\n                        (h, l([] [\\<mapsto>]\n                         ve # vf))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            ([], v, ve # vf, vd),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks ([], v, map (the \\<circ> l') [], e'),\n   (h', override_on l' l (set []))\\<rangle>\n 5. \\<And>va vb a b l.\n       \\<lbrakk>length (va # vb) = length []; length a = length [];\n        distinct (va # vb);\n        P \\<turnstile> \\<langle>b,\n                        (h, l(va # vb [\\<mapsto>]\n                         a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (va # vb, [], a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (va # vb, [], map (the \\<circ> l') (va # vb), e'),\n   (h', override_on l' l (set (va # vb)))\\<rangle>\n 6. \\<And>v vd ve vb l.\n       \\<lbrakk>length v = length []; length (vd # ve) = length [];\n        distinct v;\n        P \\<turnstile> \\<langle>vb,\n                        (h, l(v [\\<mapsto>]\n                         vd # ve))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, [], vd # ve, vb),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (v, [], map (the \\<circ> l') v, e'),\n   (h', override_on l' l (set v))\\<rangle>\n 7. \\<And>va vc vb ve l.\n       \\<lbrakk>length (va # vc) = length vb; length [] = length vb;\n        distinct (va # vc);\n        P \\<turnstile> \\<langle>ve,\n                        (h, l(va # vc [\\<mapsto>]\n                         []))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (va # vc, vb, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (va # vc, vb, map (the \\<circ> l') (va # vc), e'),\n   (h', override_on l' l (set (va # vc)))\\<rangle>\n 8. \\<And>v va vc ve l.\n       \\<lbrakk>length v = length (va # vc); length [] = length (va # vc);\n        distinct v;\n        P \\<turnstile> \\<langle>ve,\n                        (h, l(v [\\<mapsto>] []))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, va # vc, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (v, va # vc, map (the \\<circ> l') v, e'),\n   (h', override_on l' l (set v))\\<rangle>", "case (1 V Vs T Ts v vs e)"], ["proof (state)\nthis:\n  \\<lbrakk>length Vs = length Ts; length vs = length Ts; distinct Vs;\n   P \\<turnstile> \\<langle>e,\n                   (h, ?l(Vs [\\<mapsto>] vs))\\<rangle> \\<rightarrow>*\n                  \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                                    (h, ?l)\\<rangle> \\<rightarrow>*\n                                   \\<langle>blocks\n       (Vs, Ts, map (the \\<circ> l') Vs, e'),\n                                    (h',\n                                     override_on l' ?l (set Vs))\\<rangle>\n  length (V # Vs) = length (T # Ts)\n  length (v # vs) = length (T # Ts)\n  distinct (V # Vs)\n  P \\<turnstile> \\<langle>e,\n                  (h, l(V # Vs [\\<mapsto>] v # vs))\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h', l')\\<rangle>\n\ngoal (8 subgoals):\n 1. \\<And>V Vs T Ts v vs e l.\n       \\<lbrakk>\\<And>l.\n                   \\<lbrakk>length Vs = length Ts; length vs = length Ts;\n                    distinct Vs;\n                    P \\<turnstile> \\<langle>e,\n                                    (h, l(Vs [\\<mapsto>]\n                                     vs))\\<rangle> \\<rightarrow>*\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n                        (Vs, Ts, vs, e),\n               (h, l)\\<rangle> \\<rightarrow>*\n              \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n               (h', override_on l' l (set Vs))\\<rangle>;\n        length (V # Vs) = length (T # Ts);\n        length (v # vs) = length (T # Ts); distinct (V # Vs);\n        P \\<turnstile> \\<langle>e,\n                        (h, l(V # Vs [\\<mapsto>]\n                         v # vs))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (V # Vs, T # Ts, v # vs, e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (V # Vs, T # Ts, map (the \\<circ> l') (V # Vs), e'),\n   (h', override_on l' l (set (V # Vs)))\\<rangle>\n 2. \\<And>e l.\n       \\<lbrakk>length [] = length []; length [] = length []; distinct [];\n        P \\<turnstile> \\<langle>e,\n                        (h, l([] [\\<mapsto>] []))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], [], [], e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks ([], [], map (the \\<circ> l') [], e'),\n   (h', override_on l' l (set []))\\<rangle>\n 3. \\<And>vc vd a b l.\n       \\<lbrakk>length [] = length (vc # vd); length a = length (vc # vd);\n        distinct [];\n        P \\<turnstile> \\<langle>b,\n                        (h, l([] [\\<mapsto>] a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], vc # vd, a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks ([], vc # vd, map (the \\<circ> l') [], e'),\n   (h', override_on l' l (set []))\\<rangle>\n 4. \\<And>v ve vf vd l.\n       \\<lbrakk>length [] = length v; length (ve # vf) = length v;\n        distinct [];\n        P \\<turnstile> \\<langle>vd,\n                        (h, l([] [\\<mapsto>]\n                         ve # vf))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            ([], v, ve # vf, vd),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks ([], v, map (the \\<circ> l') [], e'),\n   (h', override_on l' l (set []))\\<rangle>\n 5. \\<And>va vb a b l.\n       \\<lbrakk>length (va # vb) = length []; length a = length [];\n        distinct (va # vb);\n        P \\<turnstile> \\<langle>b,\n                        (h, l(va # vb [\\<mapsto>]\n                         a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (va # vb, [], a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (va # vb, [], map (the \\<circ> l') (va # vb), e'),\n   (h', override_on l' l (set (va # vb)))\\<rangle>\n 6. \\<And>v vd ve vb l.\n       \\<lbrakk>length v = length []; length (vd # ve) = length [];\n        distinct v;\n        P \\<turnstile> \\<langle>vb,\n                        (h, l(v [\\<mapsto>]\n                         vd # ve))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, [], vd # ve, vb),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (v, [], map (the \\<circ> l') v, e'),\n   (h', override_on l' l (set v))\\<rangle>\n 7. \\<And>va vc vb ve l.\n       \\<lbrakk>length (va # vc) = length vb; length [] = length vb;\n        distinct (va # vc);\n        P \\<turnstile> \\<langle>ve,\n                        (h, l(va # vc [\\<mapsto>]\n                         []))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (va # vc, vb, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (va # vc, vb, map (the \\<circ> l') (va # vc), e'),\n   (h', override_on l' l (set (va # vc)))\\<rangle>\n 8. \\<And>v va vc ve l.\n       \\<lbrakk>length v = length (va # vc); length [] = length (va # vc);\n        distinct v;\n        P \\<turnstile> \\<langle>ve,\n                        (h, l(v [\\<mapsto>] []))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, va # vc, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (v, va # vc, map (the \\<circ> l') v, e'),\n   (h', override_on l' l (set v))\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (V # Vs, T # Ts, v # vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>blocks\n                             (V # Vs, T # Ts, map (the \\<circ> l') (V # Vs),\n                              e'),\n                    (h', override_on l' l (set (V # Vs)))\\<rangle>", "using InitBlockReds[OF \"1.hyps\"[of \"l(V\\<mapsto>v)\"]] \"1.prems\""], ["proof (prove)\nusing this:\n  \\<lbrakk>length Vs = length Ts; length vs = length Ts; distinct Vs;\n   P \\<turnstile> \\<langle>e,\n                   (h, l(V \\<mapsto> v, Vs [\\<mapsto>]\n                    vs))\\<rangle> \\<rightarrow>*\n                  \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>{V:?T; V:=Val v;;\n                                    blocks (Vs, Ts, vs, e)},\n                                    (h, l)\\<rangle> \\<rightarrow>*\n                                   \\<langle>{V:?T; V:=Val\n                 (the (override_on l' (l(V \\<mapsto> v)) (set Vs) V));;\n                                    blocks\n                                     (Vs, Ts, map (the \\<circ> l') Vs, e')},\n                                    (h',\n                                     (override_on l' (l(V \\<mapsto> v))\n (set Vs))\n                                     (V := l V))\\<rangle>\n  length (V # Vs) = length (T # Ts)\n  length (v # vs) = length (T # Ts)\n  distinct (V # Vs)\n  P \\<turnstile> \\<langle>e,\n                  (h, l(V # Vs [\\<mapsto>] v # vs))\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h', l')\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (V # Vs, T # Ts, v # vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>blocks\n                             (V # Vs, T # Ts, map (the \\<circ> l') (V # Vs),\n                              e'),\n                    (h', override_on l' l (set (V # Vs)))\\<rangle>", "by(auto simp:override_on_upd_lemma)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks (V # Vs, T # Ts, v # vs, e),\n                  (h, l)\\<rangle> \\<rightarrow>*\n                 \\<langle>blocks\n                           (V # Vs, T # Ts, map (the \\<circ> l') (V # Vs),\n                            e'),\n                  (h', override_on l' l (set (V # Vs)))\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>e l.\n       \\<lbrakk>length [] = length []; length [] = length []; distinct [];\n        P \\<turnstile> \\<langle>e,\n                        (h, l([] [\\<mapsto>] []))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], [], [], e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks ([], [], map (the \\<circ> l') [], e'),\n   (h', override_on l' l (set []))\\<rangle>\n 2. \\<And>vc vd a b l.\n       \\<lbrakk>length [] = length (vc # vd); length a = length (vc # vd);\n        distinct [];\n        P \\<turnstile> \\<langle>b,\n                        (h, l([] [\\<mapsto>] a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], vc # vd, a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks ([], vc # vd, map (the \\<circ> l') [], e'),\n   (h', override_on l' l (set []))\\<rangle>\n 3. \\<And>v ve vf vd l.\n       \\<lbrakk>length [] = length v; length (ve # vf) = length v;\n        distinct [];\n        P \\<turnstile> \\<langle>vd,\n                        (h, l([] [\\<mapsto>]\n                         ve # vf))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            ([], v, ve # vf, vd),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks ([], v, map (the \\<circ> l') [], e'),\n   (h', override_on l' l (set []))\\<rangle>\n 4. \\<And>va vb a b l.\n       \\<lbrakk>length (va # vb) = length []; length a = length [];\n        distinct (va # vb);\n        P \\<turnstile> \\<langle>b,\n                        (h, l(va # vb [\\<mapsto>]\n                         a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (va # vb, [], a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (va # vb, [], map (the \\<circ> l') (va # vb), e'),\n   (h', override_on l' l (set (va # vb)))\\<rangle>\n 5. \\<And>v vd ve vb l.\n       \\<lbrakk>length v = length []; length (vd # ve) = length [];\n        distinct v;\n        P \\<turnstile> \\<langle>vb,\n                        (h, l(v [\\<mapsto>]\n                         vd # ve))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, [], vd # ve, vb),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (v, [], map (the \\<circ> l') v, e'),\n   (h', override_on l' l (set v))\\<rangle>\n 6. \\<And>va vc vb ve l.\n       \\<lbrakk>length (va # vc) = length vb; length [] = length vb;\n        distinct (va # vc);\n        P \\<turnstile> \\<langle>ve,\n                        (h, l(va # vc [\\<mapsto>]\n                         []))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (va # vc, vb, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (va # vc, vb, map (the \\<circ> l') (va # vc), e'),\n   (h', override_on l' l (set (va # vc)))\\<rangle>\n 7. \\<And>v va vc ve l.\n       \\<lbrakk>length v = length (va # vc); length [] = length (va # vc);\n        distinct v;\n        P \\<turnstile> \\<langle>ve,\n                        (h, l(v [\\<mapsto>] []))\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, va # vc, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>blocks (v, va # vc, map (the \\<circ> l') v, e'),\n   (h', override_on l' l (set v))\\<rangle>", "qed auto"], ["", "(*>*)"], ["", "lemma blocksFinal:\n \"\\<And>l. \\<lbrakk> length Vs = length Ts; length vs = length Ts; final e \\<rbrakk> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>blocks(Vs,Ts,vs,e), (h,l)\\<rangle> \\<rightarrow>* \\<langle>e, (h,l)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>length Vs = length Ts; length vs = length Ts;\n        final e\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>e,(h, l)\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>l.\n       \\<lbrakk>length Vs = length Ts; length vs = length Ts;\n        final e\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>e,(h, l)\\<rangle>", "proof(induct Vs Ts vs e rule:blocks_induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>V Vs T Ts v vs e l.\n       \\<lbrakk>\\<And>l.\n                   \\<lbrakk>length Vs = length Ts; length vs = length Ts;\n                    final e\\<rbrakk>\n                   \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n                        (Vs, Ts, vs, e),\n               (h, l)\\<rangle> \\<rightarrow>*\n              \\<langle>e,(h, l)\\<rangle>;\n        length (V # Vs) = length (T # Ts);\n        length (v # vs) = length (T # Ts); final e\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (V # Vs, T # Ts, v # vs, e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>e,(h, l)\\<rangle>\n 2. \\<And>e l.\n       \\<lbrakk>length [] = length []; length [] = length [];\n        final e\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], [], [], e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>e,(h, l)\\<rangle>\n 3. \\<And>vc vd a b l.\n       \\<lbrakk>length [] = length (vc # vd); length a = length (vc # vd);\n        final b\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], vc # vd, a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>b,(h, l)\\<rangle>\n 4. \\<And>v ve vf vd l.\n       \\<lbrakk>length [] = length v; length (ve # vf) = length v;\n        final vd\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            ([], v, ve # vf, vd),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>vd,(h, l)\\<rangle>\n 5. \\<And>va vb a b l.\n       \\<lbrakk>length (va # vb) = length []; length a = length [];\n        final b\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (va # vb, [], a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>b,(h, l)\\<rangle>\n 6. \\<And>v vd ve vb l.\n       \\<lbrakk>length v = length []; length (vd # ve) = length [];\n        final vb\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, [], vd # ve, vb),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>vb,(h, l)\\<rangle>\n 7. \\<And>va vc vb ve l.\n       \\<lbrakk>length (va # vc) = length vb; length [] = length vb;\n        final ve\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (va # vc, vb, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>ve,(h, l)\\<rangle>\n 8. \\<And>v va vc ve l.\n       \\<lbrakk>length v = length (va # vc); length [] = length (va # vc);\n        final ve\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, va # vc, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>ve,(h, l)\\<rangle>", "case 1"], ["proof (state)\nthis:\n  \\<lbrakk>length Vs_ = length Ts_; length vs_ = length Ts_;\n   final e_\\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (Vs_, Ts_, vs_, e_),\n                                    (h, ?l)\\<rangle> \\<rightarrow>*\n                                   \\<langle>e_,(h, ?l)\\<rangle>\n  length (V_ # Vs_) = length (T_ # Ts_)\n  length (v_ # vs_) = length (T_ # Ts_)\n  final e_\n\ngoal (8 subgoals):\n 1. \\<And>V Vs T Ts v vs e l.\n       \\<lbrakk>\\<And>l.\n                   \\<lbrakk>length Vs = length Ts; length vs = length Ts;\n                    final e\\<rbrakk>\n                   \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n                        (Vs, Ts, vs, e),\n               (h, l)\\<rangle> \\<rightarrow>*\n              \\<langle>e,(h, l)\\<rangle>;\n        length (V # Vs) = length (T # Ts);\n        length (v # vs) = length (T # Ts); final e\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (V # Vs, T # Ts, v # vs, e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>e,(h, l)\\<rangle>\n 2. \\<And>e l.\n       \\<lbrakk>length [] = length []; length [] = length [];\n        final e\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], [], [], e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>e,(h, l)\\<rangle>\n 3. \\<And>vc vd a b l.\n       \\<lbrakk>length [] = length (vc # vd); length a = length (vc # vd);\n        final b\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], vc # vd, a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>b,(h, l)\\<rangle>\n 4. \\<And>v ve vf vd l.\n       \\<lbrakk>length [] = length v; length (ve # vf) = length v;\n        final vd\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            ([], v, ve # vf, vd),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>vd,(h, l)\\<rangle>\n 5. \\<And>va vb a b l.\n       \\<lbrakk>length (va # vb) = length []; length a = length [];\n        final b\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (va # vb, [], a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>b,(h, l)\\<rangle>\n 6. \\<And>v vd ve vb l.\n       \\<lbrakk>length v = length []; length (vd # ve) = length [];\n        final vb\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, [], vd # ve, vb),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>vb,(h, l)\\<rangle>\n 7. \\<And>va vc vb ve l.\n       \\<lbrakk>length (va # vc) = length vb; length [] = length vb;\n        final ve\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (va # vc, vb, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>ve,(h, l)\\<rangle>\n 8. \\<And>v va vc ve l.\n       \\<lbrakk>length v = length (va # vc); length [] = length (va # vc);\n        final ve\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, va # vc, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>ve,(h, l)\\<rangle>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (V_ # Vs_, T_ # Ts_, v_ # vs_, e_),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e_,(h, l)\\<rangle>", "using \"1.prems\" InitBlockReds[OF \"1.hyps\"]"], ["proof (prove)\nusing this:\n  length (V_ # Vs_) = length (T_ # Ts_)\n  length (v_ # vs_) = length (T_ # Ts_)\n  final e_\n  \\<lbrakk>length Vs_ = length Ts_; length vs_ = length Ts_;\n   final e_\\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>{?V:?T; ?V:=Val ?v;;\n                                    blocks (Vs_, Ts_, vs_, e_)},\n                                    (h, ?l)\\<rangle> \\<rightarrow>*\n                                   \\<langle>{?V:?T; ?V:=Val\n                   (the ((?l(?V \\<mapsto> ?v)) ?V));;\n                                    e_},\n                                    (h, (?l(?V \\<mapsto> ?v))\n                                     (?V := ?l ?V))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (V_ # Vs_, T_ # Ts_, v_ # vs_, e_),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e_,(h, l)\\<rangle>", "by(fastforce elim!:finalE elim: rtrancl_into_rtrancl[OF _ RedInitBlock]\n                                   rtrancl_into_rtrancl[OF _ InitBlockThrow])"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks (V_ # Vs_, T_ # Ts_, v_ # vs_, e_),\n                  (h, l)\\<rangle> \\<rightarrow>*\n                 \\<langle>e_,(h, l)\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>e l.\n       \\<lbrakk>length [] = length []; length [] = length [];\n        final e\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], [], [], e),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>e,(h, l)\\<rangle>\n 2. \\<And>vc vd a b l.\n       \\<lbrakk>length [] = length (vc # vd); length a = length (vc # vd);\n        final b\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks ([], vc # vd, a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>b,(h, l)\\<rangle>\n 3. \\<And>v ve vf vd l.\n       \\<lbrakk>length [] = length v; length (ve # vf) = length v;\n        final vd\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            ([], v, ve # vf, vd),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>vd,(h, l)\\<rangle>\n 4. \\<And>va vb a b l.\n       \\<lbrakk>length (va # vb) = length []; length a = length [];\n        final b\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks (va # vb, [], a, b),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>b,(h, l)\\<rangle>\n 5. \\<And>v vd ve vb l.\n       \\<lbrakk>length v = length []; length (vd # ve) = length [];\n        final vb\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, [], vd # ve, vb),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>vb,(h, l)\\<rangle>\n 6. \\<And>va vc vb ve l.\n       \\<lbrakk>length (va # vc) = length vb; length [] = length vb;\n        final ve\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (va # vc, vb, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>ve,(h, l)\\<rangle>\n 7. \\<And>v va vc ve l.\n       \\<lbrakk>length v = length (va # vc); length [] = length (va # vc);\n        final ve\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>blocks\n            (v, va # vc, [], ve),\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>ve,(h, l)\\<rangle>", "qed auto"], ["", "(*>*)"], ["", "lemma blocksRedsFinal:\nassumes wf: \"length Vs = length Ts\" \"length vs = length Ts\" \"distinct Vs\"\n    and reds: \"P \\<turnstile> \\<langle>e, (h,l(Vs [\\<mapsto>] vs))\\<rangle> \\<rightarrow>* \\<langle>e', (h',l')\\<rangle>\"\n    and fin: \"final e'\" and l'': \"l'' = override_on l' l (set Vs)\"\nshows \"P \\<turnstile> \\<langle>blocks(Vs,Ts,vs,e), (h,l)\\<rangle> \\<rightarrow>* \\<langle>e', (h',l'')\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "let ?bv = \"blocks(Vs,Ts,map (the o l') Vs,e')\""], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "have \"P \\<turnstile> \\<langle>blocks(Vs,Ts,vs,e), (h,l)\\<rangle> \\<rightarrow>* \\<langle>?bv, (h',l'')\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n                    (h', l'')\\<rangle>", "using l''"], ["proof (prove)\nusing this:\n  l'' = override_on l' l (set Vs)\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n                    (h', l'')\\<rangle>", "by simp (rule blocksReds[OF wf reds])"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                  (h, l)\\<rangle> \\<rightarrow>*\n                 \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n                  (h', l'')\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "also"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                  (h, l)\\<rangle> \\<rightarrow>*\n                 \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n                  (h', l'')\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "have \"P \\<turnstile> \\<langle>?bv, (h',l'')\\<rangle> \\<rightarrow>* \\<langle>e', (h',l'')\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n                    (h', l'')\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "using wf"], ["proof (prove)\nusing this:\n  length Vs = length Ts\n  length vs = length Ts\n  distinct Vs\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n                    (h', l'')\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "by(fastforce intro:blocksFinal fin)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks (Vs, Ts, map (the \\<circ> l') Vs, e'),\n                  (h', l'')\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h', l'')\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "finally"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                  (h, l)\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h', l'')\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                  (h, l)\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h', l'')\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                    (h, l)\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h', l'')\\<rangle>", "."], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks (Vs, Ts, vs, e),\n                  (h, l)\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h', l'')\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "text\\<open>An now the actual method call reduction lemmas.\\<close>"], ["", "lemma CallRedsObj:\n \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<rangle> \\<rightarrow>* \\<langle>e'\\<bullet>M(es),s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<rangle> \\<rightarrow>*\n                   \\<langle>e'\\<bullet>M(es),s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<rangle> \\<rightarrow>*\n                   \\<langle>e'\\<bullet>M(es),s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<bullet>M(es),s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<rangle> \\<rightarrow>*\n                       \\<langle>a\\<bullet>M(es),b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa\\<bullet>M(es),ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<rangle> \\<rightarrow>*\n                       \\<langle>a\\<bullet>M(es),b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>aa\\<bullet>M(es),ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a\\<bullet>M(es),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>aa\\<bullet>M(es),ba\\<rangle>", "apply(erule CallObj)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CallRedsParams:\n \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>(Val v)\\<bullet>M(es),s\\<rangle> \\<rightarrow>* \\<langle>(Val v)\\<bullet>M(es'),s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v\\<bullet>M(es'),s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                   \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v\\<bullet>M(es'),s'\\<rangle>", "apply(erule rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v\\<bullet>M(es),s\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<bullet>M(a),b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<bullet>M(aa),ba\\<rangle>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                       \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n                        s\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<bullet>M(a),b\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<bullet>M(aa),ba\\<rangle>", "apply(erule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                               \\<langle>a,b\\<rangle>;\n        P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                       \\<langle>aa,ba\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(a),\n   b\\<rangle> \\<rightarrow>\n  \\<langle>Val v\\<bullet>M(aa),ba\\<rangle>", "apply(erule CallParams)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CallRedsFinal:\nassumes wwf: \"wwf_J_prog P\"\nand \"P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>addr a,s\\<^sub>1\\<rangle>\"\n      \"P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]* \\<langle>map Val vs,(h\\<^sub>2,l\\<^sub>2)\\<rangle>\"\n      \"h\\<^sub>2 a = Some(C,fs)\" \"P \\<turnstile> C sees M:Ts\\<rightarrow>T = (pns,body) in D\"\n      \"size vs = size pns\"\nand l\\<^sub>2': \"l\\<^sub>2' = [this \\<mapsto> Addr a, pns[\\<mapsto>]vs]\"\nand body: \"P \\<turnstile> \\<langle>body,(h\\<^sub>2,l\\<^sub>2')\\<rangle> \\<rightarrow>* \\<langle>ef,(h\\<^sub>3,l\\<^sub>3)\\<rangle>\"\nand \"final ef\"\nshows \"P \\<turnstile> \\<langle>e\\<bullet>M(es), s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>ef,(h\\<^sub>3,l\\<^sub>2)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "have wf: \"size Ts = size pns \\<and> distinct pns \\<and> this \\<notin> set pns\"\n    and wt: \"fv body \\<subseteq> {this} \\<union> set pns\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length Ts = length pns \\<and>\n    distinct pns \\<and> this \\<notin> set pns &&&\n    fv body \\<subseteq> {this} \\<union> set pns", "using assms"], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                 \\<langle>ef,(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n  final ef\n\ngoal (1 subgoal):\n 1. length Ts = length pns \\<and>\n    distinct pns \\<and> this \\<notin> set pns &&&\n    fv body \\<subseteq> {this} \\<union> set pns", "by(fastforce dest!:sees_wf_mdecl simp:wf_mdecl_def)+"], ["proof (state)\nthis:\n  length Ts = length pns \\<and> distinct pns \\<and> this \\<notin> set pns\n  fv body \\<subseteq> {this} \\<union> set pns\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "from body[THEN Red_lcl_add, of l\\<^sub>2]"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2,\n                   l\\<^sub>2 ++ l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                 \\<langle>ef,(h\\<^sub>3, l\\<^sub>2 ++ l\\<^sub>3)\\<rangle>", "have body': \"P \\<turnstile> \\<langle>body,(h\\<^sub>2,l\\<^sub>2(this\\<mapsto> Addr a, pns[\\<mapsto>]vs))\\<rangle> \\<rightarrow>* \\<langle>ef,(h\\<^sub>3,l\\<^sub>2++l\\<^sub>3)\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2,\n                   l\\<^sub>2 ++ l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                 \\<langle>ef,(h\\<^sub>3, l\\<^sub>2 ++ l\\<^sub>3)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>body,\n                    (h\\<^sub>2, l\\<^sub>2(this \\<mapsto> Addr a, pns \n                     [\\<mapsto>] vs))\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2 ++ l\\<^sub>3)\\<rangle>", "by (simp add:l\\<^sub>2')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2(this \\<mapsto> Addr a, pns \n                   [\\<mapsto>] vs))\\<rangle> \\<rightarrow>*\n                 \\<langle>ef,(h\\<^sub>3, l\\<^sub>2 ++ l\\<^sub>3)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "have \"dom l\\<^sub>3 \\<subseteq> {this} \\<union> set pns\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dom l\\<^sub>3 \\<subseteq> {this} \\<union> set pns", "using Reds_dom_lcl[OF wwf body] wt l\\<^sub>2' set_take_subset"], ["proof (prove)\nusing this:\n  dom l\\<^sub>3 \\<subseteq> dom l\\<^sub>2' \\<union> fv body\n  fv body \\<subseteq> {this} \\<union> set pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  set (take ?n ?xs) \\<subseteq> set ?xs\n\ngoal (1 subgoal):\n 1. dom l\\<^sub>3 \\<subseteq> {this} \\<union> set pns", "by force"], ["proof (state)\nthis:\n  dom l\\<^sub>3 \\<subseteq> {this} \\<union> set pns\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "hence eql\\<^sub>2: \"override_on (l\\<^sub>2++l\\<^sub>3) l\\<^sub>2 ({this} \\<union> set pns) = l\\<^sub>2\""], ["proof (prove)\nusing this:\n  dom l\\<^sub>3 \\<subseteq> {this} \\<union> set pns\n\ngoal (1 subgoal):\n 1. override_on (l\\<^sub>2 ++ l\\<^sub>3) l\\<^sub>2\n     ({this} \\<union> set pns) =\n    l\\<^sub>2", "by(fastforce simp add:map_add_def override_on_def fun_eq_iff)"], ["proof (state)\nthis:\n  override_on (l\\<^sub>2 ++ l\\<^sub>3) l\\<^sub>2 ({this} \\<union> set pns) =\n  l\\<^sub>2\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "have \"P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>(addr a)\\<bullet>M(es),s\\<^sub>1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>addr a\\<bullet>M(es),s\\<^sub>1\\<rangle>", "by(rule CallRedsObj)(rule assms(2))"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a\\<bullet>M(es),s\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "also"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a\\<bullet>M(es),s\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "have \"P \\<turnstile> \\<langle>(addr a)\\<bullet>M(es),s\\<^sub>1\\<rangle> \\<rightarrow>*\n                 \\<langle>(addr a)\\<bullet>M(map Val vs),(h\\<^sub>2,l\\<^sub>2)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>addr a\\<bullet>M(es),\n                    s\\<^sub>1\\<rangle> \\<rightarrow>*\n                   \\<langle>addr a\\<bullet>M(map Val vs),\n                    (h\\<^sub>2, l\\<^sub>2)\\<rangle>", "by(rule CallRedsParams)(rule assms(3))"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a\\<bullet>M(es),\n                  s\\<^sub>1\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a\\<bullet>M(map Val vs),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "also"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a\\<bullet>M(es),\n                  s\\<^sub>1\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a\\<bullet>M(map Val vs),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "have \"P \\<turnstile> \\<langle>(addr a)\\<bullet>M(map Val vs), (h\\<^sub>2,l\\<^sub>2)\\<rangle> \\<rightarrow>\n                 \\<langle>blocks(this#pns, Class D#Ts, Addr a#vs, body), (h\\<^sub>2,l\\<^sub>2)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>addr a\\<bullet>M(map Val vs),\n                    (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<rightarrow>\n                   \\<langle>blocks\n                             (this # pns, Class D # Ts, Addr a # vs, body),\n                    (h\\<^sub>2, l\\<^sub>2)\\<rangle>", "by(rule RedCall)(auto simp: assms wf, rule assms(5))"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a\\<bullet>M(map Val vs),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<rightarrow>\n                 \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "also (rtrancl_into_rtrancl)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a\\<bullet>M(map Val vs),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<rightarrow>\n                 \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "have \"P \\<turnstile> \\<langle>blocks(this#pns, Class D#Ts, Addr a#vs, body), (h\\<^sub>2,l\\<^sub>2)\\<rangle>\n                 \\<rightarrow>* \\<langle>ef,(h\\<^sub>3,override_on (l\\<^sub>2++l\\<^sub>3) l\\<^sub>2 ({this} \\<union> set pns))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks\n                             (this # pns, Class D # Ts, Addr a # vs, body),\n                    (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,\n                    (h\\<^sub>3,\n                     override_on (l\\<^sub>2 ++ l\\<^sub>3) l\\<^sub>2\n                      ({this} \\<union> set pns))\\<rangle>", "by(rule blocksRedsFinal, insert assms wf body', simp_all)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<rightarrow>*\n                 \\<langle>ef,\n                  (h\\<^sub>3,\n                   override_on (l\\<^sub>2 ++ l\\<^sub>3) l\\<^sub>2\n                    ({this} \\<union> set pns))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "finally"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>ef,\n                  (h\\<^sub>3,\n                   override_on (l\\<^sub>2 ++ l\\<^sub>3) l\\<^sub>2\n                    ({this} \\<union> set pns))\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>ef,\n                  (h\\<^sub>3,\n                   override_on (l\\<^sub>2 ++ l\\<^sub>3) l\\<^sub>2\n                    ({this} \\<union> set pns))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "using eql\\<^sub>2"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>ef,\n                  (h\\<^sub>3,\n                   override_on (l\\<^sub>2 ++ l\\<^sub>3) l\\<^sub>2\n                    ({this} \\<union> set pns))\\<rangle>\n  override_on (l\\<^sub>2 ++ l\\<^sub>3) l\\<^sub>2 ({this} \\<union> set pns) =\n  l\\<^sub>2\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(es),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>ef,(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma CallRedsThrowParams:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>* \\<langle>Val v,s\\<^sub>1\\<rangle>;  P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]* \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),s0\\<rangle> \\<rightarrow>* \\<langle>throw a,s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,\n                     s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\ns0\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw a,s\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,\n                     s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\ns0\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw a,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,\n                     s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((e\\<bullet>M(es), s0), ?y) \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,\n                     s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y, throw a, s\\<^sub>2) \\<in> (red P)\\<^sup>*", "apply(erule CallRedsObj)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,\n                     s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>throw a,s\\<^sub>2\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,\n                     s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((Val v\\<bullet>M(es), s\\<^sub>1), ?b4)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,\n                     s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b4, throw a, s\\<^sub>2) \\<in> red P", "apply(erule CallRedsParams)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,\n                     s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n         v\\<bullet>M(map Val vs\\<^sub>1 @ throw a # es\\<^sub>2),\ns\\<^sub>2\\<rangle> \\<rightarrow>\n                                     \\<langle>throw a,s\\<^sub>2\\<rangle>", "apply(rule CallThrowParams)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                            \\<langle>Val v,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs\\<^sub>1 @ throw a # es\\<^sub>2,\n                     s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> map Val vs\\<^sub>1 @ throw a # es\\<^sub>2 =\n                      map Val ?vs8 @ throw a # ?es'8", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CallRedsThrowObj:\n  \"P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>* \\<langle>throw a,s\\<^sub>1\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),s0\\<rangle> \\<rightarrow>* \\<langle>throw a,s\\<^sub>1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s\\<^sub>1\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>M(es),s0\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s\\<^sub>1\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s\\<^sub>1\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e\\<bullet>M(es),s0\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s\\<^sub>1\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s\\<^sub>1\\<rangle> \\<Longrightarrow>\n    ((e\\<bullet>M(es), s0), ?b) \\<in> (red P)\\<^sup>*\n 2. P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s\\<^sub>1\\<rangle> \\<Longrightarrow>\n    (?b, throw a, s\\<^sub>1) \\<in> red P", "apply(erule CallRedsObj)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s0\\<rangle> \\<rightarrow>*\n                   \\<langle>throw a,s\\<^sub>1\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>throw a\\<bullet>M(es),\n                    s\\<^sub>1\\<rangle> \\<rightarrow>\n                   \\<langle>throw a,s\\<^sub>1\\<rangle>", "apply(rule CallThrowObj)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma CallRedsNull:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>null,s\\<^sub>1\\<rangle>; P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]* \\<langle>map Val vs,s\\<^sub>2\\<rangle> \\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>THROW NullPointer,\ns\\<^sub>2\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\ns\\<^sub>0\\<rangle> \\<rightarrow>*\n                                     \\<langle>THROW NullPointer,\ns\\<^sub>2\\<rangle>", "apply(rule rtrancl_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((e\\<bullet>M(es), s\\<^sub>0), ?y)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?y, THROW NullPointer, s\\<^sub>2)\n                      \\<in> (red P)\\<^sup>*", "apply(erule CallRedsObj)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>null\\<bullet>M(es),\ns\\<^sub>1\\<rangle> \\<rightarrow>*\n                                     \\<langle>THROW NullPointer,\ns\\<^sub>2\\<rangle>", "apply(rule rtrancl_into_rtrancl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> ((null\\<bullet>M(es), s\\<^sub>1), ?b4)\n                      \\<in> (red P)\\<^sup>*\n 2. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> (?b4, THROW NullPointer, s\\<^sub>2) \\<in> red P", "apply(erule CallRedsParams)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                            \\<langle>null,s\\<^sub>1\\<rangle>;\n     P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                    \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\ns\\<^sub>2\\<rangle> \\<rightarrow>\n                                     \\<langle>THROW NullPointer,\ns\\<^sub>2\\<rangle>", "apply(rule RedCallNull)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "subsubsection \"The main Theorem\""], ["", "lemma assumes wwf: \"wwf_J_prog P\"\nshows big_by_small: \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle>\"\nand bigs_by_smalls: \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n     P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s'\\<rangle>) &&&\n    (P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                    \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n     P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                    \\<langle>es',s'\\<rangle>)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n     P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s'\\<rangle>) &&&\n    (P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                    \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n     P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                    \\<langle>es',s'\\<rangle>)", "proof (induct rule: eval_evals.inducts)"], ["proof (state)\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h', l)\\<rangle>\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       P \\<turnstile> \\<langle>new C,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>THROW OutOfMemory,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2\n        bop.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e,s\\<^sub>2\\<rangle>\nA total of 43 subgoals...", "case New"], ["proof (state)\nthis:\n  new_Addr h_ = \\<lfloor>a_\\<rfloor>\n  P \\<turnstile> C_ has_fields FDTs_\n  h'_ = h_(a_ \\<mapsto> (C_, init_fields FDTs_))\n\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h', l)\\<rangle>\n 2. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       P \\<turnstile> \\<langle>new C,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>THROW OutOfMemory,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2\n        bop.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e,s\\<^sub>2\\<rangle>\nA total of 43 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  new_Addr h_ = \\<lfloor>a_\\<rfloor>\n  P \\<turnstile> C_ has_fields FDTs_\n  h'_ = h_(a_ \\<mapsto> (C_, init_fields FDTs_))\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>new C_,(h_, l_)\\<rangle> \\<rightarrow>*\n                   \\<langle>addr a_,(h'_, l_)\\<rangle>", "by (auto simp:RedNew)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>new C_,(h_, l_)\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,(h'_, l_)\\<rangle>\n\ngoal (42 subgoals):\n 1. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       P \\<turnstile> \\<langle>new C,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>THROW OutOfMemory,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 10. \\<And>l V v h.\n        l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>\nA total of 42 subgoals...", "next"], ["proof (state)\ngoal (42 subgoals):\n 1. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       P \\<turnstile> \\<langle>new C,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>THROW OutOfMemory,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 10. \\<And>l V v h.\n        l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>\nA total of 42 subgoals...", "case NewFail"], ["proof (state)\nthis:\n  new_Addr h_ = None\n\ngoal (42 subgoals):\n 1. \\<And>h C l.\n       new_Addr h = None \\<Longrightarrow>\n       P \\<turnstile> \\<langle>new C,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>THROW OutOfMemory,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 10. \\<And>l V v h.\n        l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>\nA total of 42 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  new_Addr h_ = None\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>new C_,(h_, l_)\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW OutOfMemory,(h_, l_)\\<rangle>", "by (auto simp:RedNewFail)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>new C_,(h_, l_)\\<rangle> \\<rightarrow>*\n                 \\<langle>THROW OutOfMemory,(h_, l_)\\<rangle>\n\ngoal (41 subgoals):\n 1. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 9. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 10. \\<And>e s\\<^sub>0 v h l l' V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(h, l)\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,(h, l)\\<rangle>;\n         l' = l(V \\<mapsto> v)\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>unit,(h, l')\\<rangle>\nA total of 41 subgoals...", "next"], ["proof (state)\ngoal (41 subgoals):\n 1. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 9. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 10. \\<And>e s\\<^sub>0 v h l l' V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(h, l)\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,(h, l)\\<rangle>;\n         l' = l(V \\<mapsto> v)\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>unit,(h, l')\\<rangle>\nA total of 41 subgoals...", "case Cast"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n\ngoal (41 subgoals):\n 1. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>addr a,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 9. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 10. \\<And>e s\\<^sub>0 v h l l' V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(h, l)\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,(h, l)\\<rangle>;\n         l' = l(V \\<mapsto> v)\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>unit,(h, l')\\<rangle>\nA total of 41 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>addr a_,(h_, l_)\\<rangle>", "by(fastforce intro:CastRedsAddr)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n\ngoal (40 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 8. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 9. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 40 subgoals...", "next"], ["proof (state)\ngoal (40 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 8. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 9. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 40 subgoals...", "case CastNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n\ngoal (40 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>null,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 8. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 9. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 40 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>null,s\\<^sub>1_\\<rangle>", "by(simp add:CastRedsNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n\ngoal (39 subgoals):\n 1. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 7. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 8. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 a h l C fs F D v.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,(h, l)\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,(h, l)\\<rangle>;\n         h a = \\<lfloor>(C, fs)\\<rfloor>;\n         fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Val v,(h, l)\\<rangle>\nA total of 39 subgoals...", "next"], ["proof (state)\ngoal (39 subgoals):\n 1. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 7. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 8. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 a h l C fs F D v.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,(h, l)\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,(h, l)\\<rangle>;\n         h a = \\<lfloor>(C, fs)\\<rfloor>;\n         fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Val v,(h, l)\\<rangle>\nA total of 39 subgoals...", "case CastFail"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  (D_, C_) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (39 subgoals):\n 1. \\<And>e s\\<^sub>0 a h l D fs C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW ClassCast,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 7. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 8. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 a h l C fs F D v.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,(h, l)\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,(h, l)\\<rangle>;\n         h a = \\<lfloor>(C, fs)\\<rfloor>;\n         fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Val v,(h, l)\\<rangle>\nA total of 39 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  (D_, C_) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW ClassCast,(h_, l_)\\<rangle>", "by(fastforce intro!:CastRedsFail)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>THROW ClassCast,(h_, l_)\\<rangle>\n\ngoal (38 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 6. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 7. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\nA total of 38 subgoals...", "next"], ["proof (state)\ngoal (38 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 6. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 7. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\nA total of 38 subgoals...", "case CastThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (38 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 C.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 6. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 7. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\nA total of 38 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp:CastRedsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (37 subgoals):\n 1. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 5. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 6. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 37 subgoals...", "next"], ["proof (state)\ngoal (37 subgoals):\n 1. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 5. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 6. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 37 subgoals...", "case Val"], ["proof (state)\nthis:\n  \n\ngoal (37 subgoals):\n 1. \\<And>v s.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,s\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 5. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 6. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 37 subgoals...", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v_,s_\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v_,s_\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v_,s_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s_\\<rangle>\n\ngoal (36 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 4. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 5. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n        fs fs' F D h\\<^sub>2'.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\nA total of 36 subgoals...", "next"], ["proof (state)\ngoal (36 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 4. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 5. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n        fs fs' F D h\\<^sub>2'.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\nA total of 36 subgoals...", "case BinOp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>2_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>2_,s\\<^sub>2_\\<rangle>\n  binop (bop_, v\\<^sub>1_, v\\<^sub>2_) = \\<lfloor>v_\\<rfloor>\n\ngoal (36 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 v\\<^sub>2\n       s\\<^sub>2 bop v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>2,s\\<^sub>2\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,s\\<^sub>2\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 4. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 5. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n        fs fs' F D h\\<^sub>2'.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\nA total of 36 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>2_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>2_,s\\<^sub>2_\\<rangle>\n  binop (bop_, v\\<^sub>1_, v\\<^sub>2_) = \\<lfloor>v_\\<rfloor>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v_,s\\<^sub>2_\\<rangle>", "by(auto simp:BinOpRedsVal)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>2_\\<rangle>\n\ngoal (35 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 3. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\nA total of 35 subgoals...", "next"], ["proof (state)\ngoal (35 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 3. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\nA total of 35 subgoals...", "case BinOpThrow1"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n\ngoal (35 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 e s\\<^sub>1 bop e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 3. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\nA total of 35 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp: BinOpRedsThrow1)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n\ngoal (34 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 2. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 34 subgoals...", "next"], ["proof (state)\ngoal (34 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 2. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 34 subgoals...", "case BinOpThrow2"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e_,s\\<^sub>2_\\<rangle>\n\ngoal (34 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 e\\<^sub>2 e s\\<^sub>2 bop.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>2\\<rangle>\n 2. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 34 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e_,s\\<^sub>2_\\<rangle>", "by(auto dest!:eval_final simp: BinOpRedsThrow2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e_,s\\<^sub>2_\\<rangle>\n\ngoal (33 subgoals):\n 1. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>2\\<rangle>\nA total of 33 subgoals...", "next"], ["proof (state)\ngoal (33 subgoals):\n 1. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>2\\<rangle>\nA total of 33 subgoals...", "case Var"], ["proof (state)\nthis:\n  l_ V_ = \\<lfloor>v_\\<rfloor>\n\ngoal (33 subgoals):\n 1. \\<And>l V v h.\n       l V = \\<lfloor>v\\<rfloor> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Var V,(h, l)\\<rangle> \\<rightarrow>*\n                      \\<langle>Val v,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>2\\<rangle>\nA total of 33 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  l_ V_ = \\<lfloor>v_\\<rfloor>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Var V_,(h_, l_)\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v_,(h_, l_)\\<rangle>", "by (auto simp:RedVar)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Var V_,(h_, l_)\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n\ngoal (32 subgoals):\n 1. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 32 subgoals...", "next"], ["proof (state)\ngoal (32 subgoals):\n 1. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 32 subgoals...", "case LAss"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n  l'_ = l_(V_ \\<mapsto> v_)\n\ngoal (32 subgoals):\n 1. \\<And>e s\\<^sub>0 v h l l' V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h, l)\\<rangle>;\n        l' = l(V \\<mapsto> v)\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h, l')\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 32 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n  l'_ = l_(V_ \\<mapsto> v_)\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>V_:=e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>unit,(h_, l'_)\\<rangle>", "by(auto simp: LAssRedsVal)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>V_:=e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>unit,(h_, l'_)\\<rangle>\n\ngoal (31 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs @ throw ex # es',\n                         s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>map Val vs @ throw ex # es',\n                         s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw ex,s\\<^sub>2\\<rangle>\nA total of 31 subgoals...", "next"], ["proof (state)\ngoal (31 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs @ throw ex # es',\n                         s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>map Val vs @ throw ex # es',\n                         s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw ex,s\\<^sub>2\\<rangle>\nA total of 31 subgoals...", "case LAssThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (31 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs @ throw ex # es',\n                         s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>map Val vs @ throw ex # es',\n                         s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw ex,s\\<^sub>2\\<rangle>\nA total of 31 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>V_:=e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp: LAssRedsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>V_:=e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (30 subgoals):\n 1. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\nA total of 30 subgoals...", "next"], ["proof (state)\ngoal (30 subgoals):\n 1. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\nA total of 30 subgoals...", "case FAcc"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  h_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs_ (F_, D_) = \\<lfloor>v_\\<rfloor>\n\ngoal (30 subgoals):\n 1. \\<And>e s\\<^sub>0 a h l C fs F D v.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,(h, l)\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,(h, l)\\<rangle>;\n        h a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v,(h, l)\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\nA total of 30 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  h_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs_ (F_, D_) = \\<lfloor>v_\\<rfloor>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v_,(h_, l_)\\<rangle>", "by(auto intro:FAccRedsVal)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n\ngoal (29 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n        body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n         length vs = length pns;\n         l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\nA total of 29 subgoals...", "next"], ["proof (state)\ngoal (29 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n        body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n         length vs = length pns;\n         l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\nA total of 29 subgoals...", "case FAccNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n\ngoal (29 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n        body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n         length vs = length pns;\n         l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\nA total of 29 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW NullPointer,s\\<^sub>1_\\<rangle>", "by(simp add:FAccRedsNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>THROW NullPointer,s\\<^sub>1_\\<rangle>\n\ngoal (28 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 10. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 (h\\<^sub>0, l\\<^sub>0\n                                  (V := None))\\<rangle> \\<Rightarrow>\n                                \\<langle>e\\<^sub>1,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>0,\n                         (h\\<^sub>0, l\\<^sub>0\n                          (V := None))\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>1,\n                         (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\nA total of 28 subgoals...", "next"], ["proof (state)\ngoal (28 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 10. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 (h\\<^sub>0, l\\<^sub>0\n                                  (V := None))\\<rangle> \\<Rightarrow>\n                                \\<langle>e\\<^sub>1,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>0,\n                         (h\\<^sub>0, l\\<^sub>0\n                          (V := None))\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>1,\n                         (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\nA total of 28 subgoals...", "case FAccThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (28 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 10. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 (h\\<^sub>0, l\\<^sub>0\n                                  (V := None))\\<rangle> \\<Rightarrow>\n                                \\<langle>e\\<^sub>1,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>0,\n                         (h\\<^sub>0, l\\<^sub>0\n                          (V := None))\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>1,\n                         (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n    (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\nA total of 28 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp:FAccRedsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (27 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 9. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 10. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\nA total of 27 subgoals...", "next"], ["proof (state)\ngoal (27 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 9. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 10. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\nA total of 27 subgoals...", "case FAss"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  h\\<^sub>2_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs'_ = fs_((F_, D_) \\<mapsto> v_)\n  h\\<^sub>2'_ = h\\<^sub>2_(a_ \\<mapsto> (C_, fs'_))\n\ngoal (27 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 a s\\<^sub>1 e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C\n       fs fs' F D h\\<^sub>2'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(a \\<mapsto> (C, fs'))\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2)\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 9. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 10. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\nA total of 27 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  h\\<^sub>2_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs'_ = fs_((F_, D_) \\<mapsto> v_)\n  h\\<^sub>2'_ = h\\<^sub>2_(a_ \\<mapsto> (C_, fs'_))\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>unit,(h\\<^sub>2'_, l\\<^sub>2_)\\<rangle>", "by(auto simp:FAssRedsVal)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>unit,(h\\<^sub>2'_, l\\<^sub>2_)\\<rangle>\n\ngoal (26 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 8. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 9. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 10. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e,s\\<^sub>1\\<rangle>\nA total of 26 subgoals...", "next"], ["proof (state)\ngoal (26 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 8. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 9. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 10. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e,s\\<^sub>1\\<rangle>\nA total of 26 subgoals...", "case FAssNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>2_\\<rangle>\n\ngoal (26 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 v s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 8. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 9. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 10. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e,s\\<^sub>1\\<rangle>\nA total of 26 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW NullPointer,s\\<^sub>2_\\<rangle>", "by(auto simp:FAssRedsNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>THROW NullPointer,s\\<^sub>2_\\<rangle>\n\ngoal (25 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 7. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 8. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 9. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e',s\\<^sub>2\\<rangle>\nA total of 25 subgoals...", "next"], ["proof (state)\ngoal (25 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 7. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 8. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 9. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e',s\\<^sub>2\\<rangle>\nA total of 25 subgoals...", "case FAssThrow1"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (25 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 e' s\\<^sub>1 F D e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 7. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 8. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 9. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e',s\\<^sub>2\\<rangle>\nA total of 25 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp:FAssRedsThrow1)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (24 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 6. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 7. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 8. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>false,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>false,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e',s\\<^sub>2\\<rangle>\nA total of 24 subgoals...", "next"], ["proof (state)\ngoal (24 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 6. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 7. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 8. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>false,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>false,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e',s\\<^sub>2\\<rangle>\nA total of 24 subgoals...", "case FAssThrow2"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n\ngoal (24 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 F D.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 6. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 7. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 8. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>false,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>false,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e',s\\<^sub>2\\<rangle>\nA total of 24 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>2_\\<rangle>", "by(auto dest!:eval_final simp:FAssRedsThrow2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n\ngoal (23 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 5. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 6. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 7. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 23 subgoals...", "next"], ["proof (state)\ngoal (23 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 5. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 6. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 7. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 23 subgoals...", "case CallObjThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (23 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 M ps.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 5. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 6. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 7. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 23 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>M_(ps_),\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp:CallRedsThrowObj)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>M_(ps_),\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (22 subgoals):\n 1. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 4. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 5. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 6. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>false,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>unit,s\\<^sub>1\\<rangle>\nA total of 22 subgoals...", "next"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 4. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 5. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 6. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>false,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>unit,s\\<^sub>1\\<rangle>\nA total of 22 subgoals...", "case CallNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>ps_,s\\<^sub>1_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>ps_,s\\<^sub>1_\\<rangle> [\\<rightarrow>]*\n                 \\<langle>map Val vs_,s\\<^sub>2_\\<rangle>\n\ngoal (22 subgoals):\n 1. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 ps vs s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 4. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 5. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 6. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>false,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>unit,s\\<^sub>1\\<rangle>\nA total of 22 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>ps_,s\\<^sub>1_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>ps_,s\\<^sub>1_\\<rangle> [\\<rightarrow>]*\n                 \\<langle>map Val vs_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>M_(ps_),\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW NullPointer,s\\<^sub>2_\\<rangle>", "by(simp add:CallRedsNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>M_(ps_),\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>THROW NullPointer,s\\<^sub>2_\\<rangle>\n\ngoal (21 subgoals):\n 1. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 3. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 4. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 5. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>while (e) c,\n                         s\\<^sub>2\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n         P \\<turnstile> \\<langle>while (e) c,\n                         s\\<^sub>2\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 3. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 4. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 5. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>while (e) c,\n                         s\\<^sub>2\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n         P \\<turnstile> \\<langle>while (e) c,\n                         s\\<^sub>2\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\nA total of 21 subgoals...", "case CallParamsThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>es_,s\\<^sub>1_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_ @ throw ex_ # es'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>es_,s\\<^sub>1_\\<rangle> [\\<rightarrow>]*\n                 \\<langle>map Val vs_ @ throw ex_ # es'_,s\\<^sub>2_\\<rangle>\n\ngoal (21 subgoals):\n 1. \\<And>e s\\<^sub>0 v s\\<^sub>1 es vs ex es' s\\<^sub>2 M.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs @ throw ex # es',\n                        s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw ex,s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 3. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 4. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 5. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>while (e) c,\n                         s\\<^sub>2\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n         P \\<turnstile> \\<langle>while (e) c,\n                         s\\<^sub>2\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\nA total of 21 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>es_,s\\<^sub>1_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_ @ throw ex_ # es'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>es_,s\\<^sub>1_\\<rangle> [\\<rightarrow>]*\n                 \\<langle>map Val vs_ @ throw ex_ # es'_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>M_(es_),\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw ex_,s\\<^sub>2_\\<rangle>", "by(auto dest!:evals_final simp:CallRedsThrowParams)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>M_(es_),\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw ex_,s\\<^sub>2_\\<rangle>\n\ngoal (20 subgoals):\n 1. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 2. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 3. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 20 subgoals...", "next"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 2. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 3. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 20 subgoals...", "case (Call e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n\ngoal (20 subgoals):\n 1. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 2. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 3. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 20 subgoals...", "have IHe: \"P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>addr a,s\\<^sub>1\\<rangle>\"\n    and IHes: \"P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]* \\<langle>map Val vs,(h\\<^sub>2,l\\<^sub>2)\\<rangle>\"\n    and h\\<^sub>2a: \"h\\<^sub>2 a = Some(C,fs)\"\n    and \"method\": \"P \\<turnstile> C sees M:Ts\\<rightarrow>T = (pns,body) in D\"\n    and same_length: \"length vs = length pns\"\n    and l\\<^sub>2': \"l\\<^sub>2' = [this \\<mapsto> Addr a, pns[\\<mapsto>]vs]\"\n    and eval_body: \"P \\<turnstile> \\<langle>body,(h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow> \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\"\n    and IHbody: \"P \\<turnstile> \\<langle>body,(h\\<^sub>2,l\\<^sub>2')\\<rangle> \\<rightarrow>* \\<langle>e',(h\\<^sub>3,l\\<^sub>3)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                     \\<langle>addr a,s\\<^sub>1\\<rangle> &&&\n      P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                     \\<langle>map Val vs,\n                      (h\\<^sub>2, l\\<^sub>2)\\<rangle>) &&&\n     h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor> &&&\n     P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D) &&&\n    (length vs = length pns &&&\n     l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]) &&&\n    P \\<turnstile> \\<langle>body,\n                    (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                   \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle> &&&\n    P \\<turnstile> \\<langle>body,\n                    (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>", "by fact+"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n\ngoal (20 subgoals):\n 1. \\<And>e s\\<^sub>0 a s\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns\n       body D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n 2. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 3. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 4. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 20 subgoals...", "show \"P \\<turnstile> \\<langle>e\\<bullet>M(ps),s\\<^sub>0\\<rangle> \\<rightarrow>* \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "using \"method\" same_length l\\<^sub>2' h\\<^sub>2a IHbody eval_final[OF eval_body]"], ["proof (prove)\nusing this:\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n  final e'\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n                    s\\<^sub>0\\<rangle> \\<rightarrow>*\n                   \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "by(fastforce intro:CallRedsFinal[OF wwf IHe IHes])"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<bullet>M(ps),s\\<^sub>0\\<rangle> \\<rightarrow>*\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n\ngoal (19 subgoals):\n 1. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 3. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>2\\<rangle>\nA total of 19 subgoals...", "next"], ["proof (state)\ngoal (19 subgoals):\n 1. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 3. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>2\\<rangle>\nA total of 19 subgoals...", "case Block"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (h\\<^sub>0_, l\\<^sub>0_\n                   (V_ := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (h\\<^sub>0_, l\\<^sub>0_\n                   (V_ := None))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>1_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n\ngoal (19 subgoals):\n 1. \\<And>e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (h\\<^sub>0, l\\<^sub>0\n                                 (V := None))\\<rangle> \\<Rightarrow>\n                               \\<langle>e\\<^sub>1,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,\n                        (h\\<^sub>0, l\\<^sub>0\n                         (V := None))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>1,\n                        (h\\<^sub>1, l\\<^sub>1)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n   (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V))\\<rangle>\n 2. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 3. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>true,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>2\\<rangle>\nA total of 19 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (h\\<^sub>0_, l\\<^sub>0_\n                   (V_ := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (h\\<^sub>0_, l\\<^sub>0_\n                   (V_ := None))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>1_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V_:T_; e\\<^sub>0_},\n                    (h\\<^sub>0_, l\\<^sub>0_)\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>1_,\n                    (h\\<^sub>1_, l\\<^sub>1_(V_ := l\\<^sub>0_ V_))\\<rangle>", "by(auto simp: BlockRedsFinal dest:eval_final)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V_:T_; e\\<^sub>0_},\n                  (h\\<^sub>0_, l\\<^sub>0_)\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>1_,\n                  (h\\<^sub>1_, l\\<^sub>1_(V_ := l\\<^sub>0_ V_))\\<rangle>\n\ngoal (18 subgoals):\n 1. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 2. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Throw a,s\\<^sub>1\\<rangle>\nA total of 18 subgoals...", "next"], ["proof (state)\ngoal (18 subgoals):\n 1. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 2. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Throw a,s\\<^sub>1\\<rangle>\nA total of 18 subgoals...", "case Seq"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2_,s\\<^sub>2_\\<rangle>\n\ngoal (18 subgoals):\n 1. \\<And>e\\<^sub>0 s\\<^sub>0 v s\\<^sub>1 e\\<^sub>1 e\\<^sub>2 s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2,s\\<^sub>2\\<rangle>\n 2. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>addr a,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Throw a,s\\<^sub>1\\<rangle>\nA total of 18 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>0_;; e\\<^sub>1_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2_,s\\<^sub>2_\\<rangle>", "by(auto simp:SeqReds2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_;; e\\<^sub>1_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2_,s\\<^sub>2_\\<rangle>\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\nA total of 17 subgoals...", "next"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\nA total of 17 subgoals...", "case SeqThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>0 s\\<^sub>0 e s\\<^sub>1 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>0,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 s\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>null,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\nA total of 17 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>0_;; e\\<^sub>1_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp: SeqRedsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_;; e\\<^sub>1_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e_,s\\<^sub>1_\\<rangle>\n\ngoal (16 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 16 subgoals...", "next"], ["proof (state)\ngoal (16 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 16 subgoals...", "case CondT"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n\ngoal (16 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>1 e' s\\<^sub>2 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>throw e',s\\<^sub>1\\<rangle>\nA total of 16 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>e'_,s\\<^sub>2_\\<rangle>", "by(auto simp:CondReds2T)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n\ngoal (15 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\nA total of 15 subgoals...", "next"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\nA total of 15 subgoals...", "case CondF"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>false,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>false,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n\ngoal (15 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 e\\<^sub>2 e' s\\<^sub>2 e\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\nA total of 15 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>false,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>false,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>e'_,s\\<^sub>2_\\<rangle>", "by(auto simp:CondReds2F)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>e'_,s\\<^sub>2_\\<rangle>\n\ngoal (14 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n        e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw a,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                          Addr a))\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                          Addr a))\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>2',\n                         (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n        e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw a,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                          Addr a))\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                          Addr a))\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>2',\n                         (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\nA total of 14 subgoals...", "case CondThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (14 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 e\\<^sub>1 e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n        e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw a,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                          Addr a))\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                          Addr a))\\<rangle> \\<rightarrow>*\n                        \\<langle>e\\<^sub>2',\n                         (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\nA total of 14 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp:CondRedsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw a,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n         (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw a,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n         (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\nA total of 13 subgoals...", "case WhileF"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>false,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>false,s\\<^sub>1_\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>false,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>unit,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 10. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw a,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n         (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n   \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>false,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>false,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>unit,s\\<^sub>1_\\<rangle>", "by(auto simp:WhileFReds)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>unit,s\\<^sub>1_\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 10. \\<And>s.\n        P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                       \\<langle>[],s\\<rangle>\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 10. \\<And>s.\n        P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                       \\<langle>[],s\\<rangle>\nA total of 12 subgoals...", "case WhileT"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>c_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>c_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>2_\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>3_,s\\<^sub>3_\\<rangle>\n  P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>2_\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>3_,s\\<^sub>3_\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 c v\\<^sub>1 s\\<^sub>2 e\\<^sub>3 s\\<^sub>3.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,\n                        s\\<^sub>2\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>3,s\\<^sub>3\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 9. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 10. \\<And>s.\n        P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                       \\<langle>[],s\\<rangle>\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>c_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>c_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>2_\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>3_,s\\<^sub>3_\\<rangle>\n  P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>2_\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>3_,s\\<^sub>3_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>3_,s\\<^sub>3_\\<rangle>", "by(auto simp: WhileTReds)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>3_,s\\<^sub>3_\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 9. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 10. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n   \\<langle>Val v # es',s\\<^sub>2\\<rangle>\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 9. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 10. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n   \\<langle>Val v # es',s\\<^sub>2\\<rangle>\nA total of 11 subgoals...", "case WhileCondThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 c.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 8. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 9. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 10. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>Val v,s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',s\\<^sub>2\\<rangle>;\n         P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                        \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n   \\<langle>Val v # es',s\\<^sub>2\\<rangle>\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp: WhileRedsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (10 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 8. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 9. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n   \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 8. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 9. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n   \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case WhileBodyThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>c_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>c_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n\ngoal (10 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1 c e' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 7. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 8. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 9. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 10. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',s\\<^sub>1\\<rangle>;\n         P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                        \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n   \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>true,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>c_,s\\<^sub>1_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>c_,s\\<^sub>1_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>2_\\<rangle>", "by(auto dest!:eval_final simp: WhileTRedsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (e_) c_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>2_\\<rangle>\n\ngoal (9 subgoals):\n 1. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 7. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 8. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 7. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 8. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case Throw"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,s\\<^sub>1_\\<rangle>\n\ngoal (9 subgoals):\n 1. \\<And>e s\\<^sub>0 a s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>addr a,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>addr a,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 6. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 7. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 8. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 9. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>addr a_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>Throw a_,s\\<^sub>1_\\<rangle>", "by(auto simp:ThrowReds)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Throw a_,s\\<^sub>1_\\<rangle>\n\ngoal (8 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 6. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 7. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 6. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 7. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case ThrowNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n\ngoal (8 subgoals):\n 1. \\<And>e s\\<^sub>0 s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>null,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>null,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>THROW NullPointer,s\\<^sub>1\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 5. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 6. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 7. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 8. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>null,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>THROW NullPointer,s\\<^sub>1_\\<rangle>", "by(auto simp:ThrowRedsNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>THROW NullPointer,s\\<^sub>1_\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 5. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 6. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 5. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 6. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case ThrowThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>throw e',s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 4. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 5. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 6. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 7. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>throw e'_,s\\<^sub>1_\\<rangle>", "by(auto dest!:eval_final simp:ThrowRedsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 4. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 5. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 4. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 5. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case Try"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 v\\<^sub>1 s\\<^sub>1 C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Val v\\<^sub>1,s\\<^sub>1\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 3. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 4. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 5. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 6. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>", "by(simp add:TryRedsVal)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v\\<^sub>1_,s\\<^sub>1_\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 3. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 4. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 3. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 4. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case TryCatch"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  h\\<^sub>1_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (h\\<^sub>1_, l\\<^sub>1_(V_ \\<mapsto>\n                   Addr a_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2'_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (h\\<^sub>1_, l\\<^sub>1_(V_ \\<mapsto>\n                   Addr a_))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2'_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n       e\\<^sub>2' h\\<^sub>2 l\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr a))\\<rangle> \\<rightarrow>*\n                       \\<langle>e\\<^sub>2',\n                        (h\\<^sub>2, l\\<^sub>2)\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V))\\<rangle>\n 2. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 3. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 4. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 5. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  h\\<^sub>1_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (h\\<^sub>1_, l\\<^sub>1_(V_ \\<mapsto>\n                   Addr a_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2'_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (h\\<^sub>1_, l\\<^sub>1_(V_ \\<mapsto>\n                   Addr a_))\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2'_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>e\\<^sub>2'_,\n                    (h\\<^sub>2_, l\\<^sub>2_(V_ := l\\<^sub>1_ V_))\\<rangle>", "by(fast intro!: TryCatchRedsFinal dest!:eval_final)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>e\\<^sub>2'_,\n                  (h\\<^sub>2_, l\\<^sub>2_(V_ := l\\<^sub>1_ V_))\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 2. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 3. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 2. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 3. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case TryThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  h\\<^sub>1_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  (D_, C_) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (4 subgoals):\n 1. \\<And>e\\<^sub>1 s\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw a,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,s\\<^sub>0\\<rangle> \\<rightarrow>*\n  \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n 2. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 3. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 4. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  h\\<^sub>1_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  (D_, C_) \\<notin> (subcls1 P)\\<^sup>*\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                    s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                   \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>", "by(fastforce intro!:TryRedsFail)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                  s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 2. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 2. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. \\<And>s.\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<rightarrow>]*\n                      \\<langle>[],s\\<rangle>\n 2. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 3. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>[],s_\\<rangle> [\\<rightarrow>]*\n                   \\<langle>[],s_\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>[],s_\\<rangle> [\\<rightarrow>]*\n                 \\<langle>[],s_\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case Cons"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>es_,s\\<^sub>1_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>es_,s\\<^sub>1_\\<rangle> [\\<rightarrow>]*\n                 \\<langle>es'_,s\\<^sub>2_\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>e s\\<^sub>0 v s\\<^sub>1 es es' s\\<^sub>2.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>Val v,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s\\<^sub>2\\<rangle>;\n        P \\<turnstile> \\<langle>es,s\\<^sub>1\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es',s\\<^sub>2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>Val v # es',s\\<^sub>2\\<rangle>\n 2. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>Val v_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>es_,s\\<^sub>1_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es'_,s\\<^sub>2_\\<rangle>\n  P \\<turnstile> \\<langle>es_,s\\<^sub>1_\\<rangle> [\\<rightarrow>]*\n                 \\<langle>es'_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_ # es_,s\\<^sub>0_\\<rangle> [\\<rightarrow>]*\n                   \\<langle>Val v_ # es'_,s\\<^sub>2_\\<rangle>", "by(fastforce intro!:Cons_eq_appendI[OF refl refl] ListRedsVal)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_ # es_,s\\<^sub>0_\\<rangle> [\\<rightarrow>]*\n                 \\<langle>Val v_ # es'_,s\\<^sub>2_\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "case ConsThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>e s\\<^sub>0 e' s\\<^sub>1 es.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>e,s\\<^sub>0\\<rangle> \\<rightarrow>*\n                       \\<langle>throw e',s\\<^sub>1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<^sub>0\\<rangle> [\\<rightarrow>]*\n  \\<langle>throw e' # es,s\\<^sub>1\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n  P \\<turnstile> \\<langle>e_,s\\<^sub>0_\\<rangle> \\<rightarrow>*\n                 \\<langle>throw e'_,s\\<^sub>1_\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_ # es_,s\\<^sub>0_\\<rangle> [\\<rightarrow>]*\n                   \\<langle>throw e'_ # es_,s\\<^sub>1_\\<rangle>", "by(fastforce elim: ListReds1)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_ # es_,s\\<^sub>0_\\<rangle> [\\<rightarrow>]*\n                 \\<langle>throw e'_ # es_,s\\<^sub>1_\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "subsection\\<open>Big steps simulates small step\\<close>"], ["", "text\\<open>This direction was carried out by Norbert Schirmer and Daniel\nWasserrab.\\<close>"], ["", "text \\<open>The big step equivalent of \\<open>RedWhile\\<close>:\\<close>"], ["", "lemma unfold_while: \n  \"P \\<turnstile> \\<langle>while(b) c,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>  =  P \\<turnstile> \\<langle>if(b) (c;;while(b) c) else (unit),s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> =\n    P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> =\n    P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>\n 2. P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "assume \"P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>\n 2. P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "thus \"P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by cases (fastforce intro: eval_evals.intros)+"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "assume \"P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "thus \"P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "proof (cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e'a.\n       \\<lbrakk>e' = throw e'a;\n        P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "fix a"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e'a.\n       \\<lbrakk>e' = throw e'a;\n        P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "assume e': \"e' = throw a\""], ["proof (state)\nthis:\n  e' = throw a\n\ngoal (3 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e'a.\n       \\<lbrakk>e' = throw e'a;\n        P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "assume \"P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow> \\<langle>throw a,s'\\<rangle>\""], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>throw a,s'\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e'a.\n       \\<lbrakk>e' = throw e'a;\n        P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "hence \"P \\<turnstile> \\<langle>while(b) c,s\\<rangle> \\<Rightarrow> \\<langle>throw a,s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>throw a,s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>throw a,s'\\<rangle>", "by (rule WhileCondThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>throw a,s'\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e'a.\n       \\<lbrakk>e' = throw e'a;\n        P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "with e'"], ["proof (chain)\npicking this:\n  e' = throw a\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>throw a,s'\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  e' = throw a\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>throw a,s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "fix s\\<^sub>1"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "assume eval_false: \"P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow> \\<langle>false,s\\<^sub>1\\<rangle>\"\n    and eval_unit: \"P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>false,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "with eval_unit"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>false,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "have \"s' = s\\<^sub>1\" \"e' = unit\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>false,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. s' = s\\<^sub>1 &&& e' = unit", "by (auto elim: eval_cases)"], ["proof (state)\nthis:\n  s' = s\\<^sub>1\n  e' = unit\n\ngoal (2 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  s' = s\\<^sub>1\n  e' = unit\n\ngoal (2 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "from eval_false"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>false,s\\<^sub>1\\<rangle>", "have \"P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow> \\<langle>unit,s\\<^sub>1\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>false,s\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>unit,s\\<^sub>1\\<rangle>", "by - (rule WhileF, simp)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>unit,s\\<^sub>1\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>false,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>unit,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  s' = s\\<^sub>1\n  e' = unit\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>unit,s\\<^sub>1\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  s' = s\\<^sub>1\n  e' = unit\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>unit,s\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "fix s\\<^sub>1"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "assume eval_true: \"P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow> \\<langle>true,s\\<^sub>1\\<rangle>\"\n    and eval_rest: \"P \\<turnstile> \\<langle>c;; while (b) c,s\\<^sub>1\\<rangle>\\<Rightarrow>\\<langle>e',s'\\<rangle>\""], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>c;; while (b) c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1.\n       \\<lbrakk>P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                               \\<langle>true,s\\<^sub>1\\<rangle>;\n        P \\<turnstile> \\<langle>c;; while (b) c,\n                        s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "from eval_rest"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>c;; while (b) c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>c;; while (b) c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v s\\<^sub>1'.\n       \\<lbrakk>P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1'\\<rangle>;\n        P \\<turnstile> \\<langle>while (b) c,\n                        s\\<^sub>1'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e.\n       \\<lbrakk>e' = throw e;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "fix s\\<^sub>2 v\\<^sub>1"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v s\\<^sub>1'.\n       \\<lbrakk>P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1'\\<rangle>;\n        P \\<turnstile> \\<langle>while (b) c,\n                        s\\<^sub>1'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e.\n       \\<lbrakk>e' = throw e;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "assume \"P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow> \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>\" \"P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>\n  P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>v s\\<^sub>1'.\n       \\<lbrakk>P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,s\\<^sub>1'\\<rangle>;\n        P \\<turnstile> \\<langle>while (b) c,\n                        s\\<^sub>1'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e.\n       \\<lbrakk>e' = throw e;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "with eval_true"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>\n  P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "show \"P \\<turnstile> \\<langle>while(b) c,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1,s\\<^sub>2\\<rangle>\n  P \\<turnstile> \\<langle>while (b) c,s\\<^sub>2\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (rule WhileT)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>e' = throw e;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>e' = throw e;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>e' = throw e;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "assume \"P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow> \\<langle>throw a,s'\\<rangle>\" \"e' = throw a\""], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>throw a,s'\\<rangle>\n  e' = throw a\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>e' = throw e;\n        P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (b) c,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "with eval_true"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>throw a,s'\\<rangle>\n  e' = throw a", "show \"P \\<turnstile> \\<langle>while(b) c,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>b,s\\<rangle> \\<Rightarrow>\n                 \\<langle>true,s\\<^sub>1\\<rangle>\n  P \\<turnstile> \\<langle>c,s\\<^sub>1\\<rangle> \\<Rightarrow>\n                 \\<langle>throw a,s'\\<rangle>\n  e' = throw a\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (iprover intro: WhileBodyThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma blocksEval:\n  \"\\<And>Ts vs l l'. \\<lbrakk>size ps = size Ts; size ps = size vs; P \\<turnstile> \\<langle>blocks(ps,Ts,vs,e),(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle> \\<rbrakk>\n    \\<Longrightarrow> \\<exists> l''. P \\<turnstile> \\<langle>e,(h,l(ps[\\<mapsto>]vs))\\<rangle> \\<Rightarrow> \\<langle>e',(h',l'')\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>Ts vs l l'.\n       \\<lbrakk>length ps = length Ts; length ps = length vs;\n        P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>Ts vs l l'.\n       \\<lbrakk>length ps = length Ts; length ps = length vs;\n        P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "proof (induct ps)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Ts vs l l'.\n       \\<lbrakk>length [] = length Ts; length [] = length vs;\n        P \\<turnstile> \\<langle>blocks ([], Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l([] [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>\n 2. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "case Nil"], ["proof (state)\nthis:\n  length [] = length Ts\n  length [] = length vs\n  P \\<turnstile> \\<langle>blocks ([], Ts, vs, e),\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>Ts vs l l'.\n       \\<lbrakk>length [] = length Ts; length [] = length vs;\n        P \\<turnstile> \\<langle>blocks ([], Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l([] [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>\n 2. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "then"], ["proof (chain)\npicking this:\n  length [] = length Ts\n  length [] = length vs\n  P \\<turnstile> \\<langle>blocks ([], Ts, vs, e),\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>", "show ?case"], ["proof (prove)\nusing this:\n  length [] = length Ts\n  length [] = length vs\n  P \\<turnstile> \\<langle>blocks ([], Ts, vs, e),\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>l''.\n       P \\<turnstile> \\<langle>e,\n                       (h, l([] [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',(h', l'')\\<rangle>", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>l''.\n     P \\<turnstile> \\<langle>e,\n                     (h, l([] [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                    \\<langle>e',(h', l'')\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "case (Cons p ps')"], ["proof (state)\nthis:\n  \\<lbrakk>length ps' = length ?Ts; length ps' = length ?vs;\n   P \\<turnstile> \\<langle>blocks (ps', ?Ts, ?vs, e),\n                   (h, ?l)\\<rangle> \\<Rightarrow>\n                  \\<langle>e',(h', ?l')\\<rangle>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>l''.\n                       P \\<turnstile> \\<langle>e,\n (h, ?l(ps' [\\<mapsto>] ?vs))\\<rangle> \\<Rightarrow>\n\\<langle>e',(h', l'')\\<rangle>\n  length (p # ps') = length Ts\n  length (p # ps') = length vs\n  P \\<turnstile> \\<langle>blocks (p # ps', Ts, vs, e),\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "have length_eqs: \"length (p # ps') = length Ts\" \n                   \"length (p # ps') = length vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length (p # ps') = length Ts &&& length (p # ps') = length vs", "by fact+"], ["proof (state)\nthis:\n  length (p # ps') = length Ts\n  length (p # ps') = length vs\n\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "then"], ["proof (chain)\npicking this:\n  length (p # ps') = length Ts\n  length (p # ps') = length vs", "obtain T Ts' where Ts: \"Ts = T#Ts'\""], ["proof (prove)\nusing this:\n  length (p # ps') = length Ts\n  length (p # ps') = length vs\n\ngoal (1 subgoal):\n 1. (\\<And>T Ts'. Ts = T # Ts' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases \"Ts\") simp"], ["proof (state)\nthis:\n  Ts = T # Ts'\n\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "obtain v vs' where vs: \"vs = v#vs'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v vs'. vs = v # vs' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using length_eqs"], ["proof (prove)\nusing this:\n  length (p # ps') = length Ts\n  length (p # ps') = length vs\n\ngoal (1 subgoal):\n 1. (\\<And>v vs'. vs = v # vs' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases \"vs\") simp"], ["proof (state)\nthis:\n  vs = v # vs'\n\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "have \"P \\<turnstile> \\<langle>blocks (p # ps', Ts, vs, e),(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h', l')\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks (p # ps', Ts, vs, e),\n                    (h, l)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',(h', l')\\<rangle>", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks (p # ps', Ts, vs, e),\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "with Ts vs"], ["proof (chain)\npicking this:\n  Ts = T # Ts'\n  vs = v # vs'\n  P \\<turnstile> \\<langle>blocks (p # ps', Ts, vs, e),\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>", "have \"P \\<turnstile> \\<langle>{p:T := Val v; blocks (ps', Ts', vs', e)},(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h', l')\\<rangle>\""], ["proof (prove)\nusing this:\n  Ts = T # Ts'\n  vs = v # vs'\n  P \\<turnstile> \\<langle>blocks (p # ps', Ts, vs, e),\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{p:T; p:=Val v;; blocks (ps', Ts', vs', e)},\n                    (h, l)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',(h', l')\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{p:T; p:=Val v;; blocks (ps', Ts', vs', e)},\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "then"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>{p:T; p:=Val v;; blocks (ps', Ts', vs', e)},\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>", "obtain l''' where\n    eval_ps': \"P \\<turnstile> \\<langle>blocks (ps', Ts', vs', e),(h, l(p\\<mapsto>v))\\<rangle> \\<Rightarrow> \\<langle>e',(h', l''')\\<rangle>\"\n    and l''': \"l'=l'''(p:=l p)\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{p:T; p:=Val v;; blocks (ps', Ts', vs', e)},\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l')\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>l'''.\n        \\<lbrakk>P \\<turnstile> \\<langle>blocks (ps', Ts', vs', e),\n                                 (h, l(p \\<mapsto>\n                                  v))\\<rangle> \\<Rightarrow>\n                                \\<langle>e',(h', l''')\\<rangle>;\n         l' = l'''(p := l p)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto elim!: eval_cases)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks (ps', Ts', vs', e),\n                  (h, l(p \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l''')\\<rangle>\n  l' = l'''(p := l p)\n\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "then"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>blocks (ps', Ts', vs', e),\n                  (h, l(p \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l''')\\<rangle>\n  l' = l'''(p := l p)", "obtain l'' where \n    hyp: \"P \\<turnstile> \\<langle>e,(h, l(p\\<mapsto>v)(ps'[\\<mapsto>]vs'))\\<rangle> \\<Rightarrow> \\<langle>e',(h', l'')\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>blocks (ps', Ts', vs', e),\n                  (h, l(p \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l''')\\<rangle>\n  l' = l'''(p := l p)\n\ngoal (1 subgoal):\n 1. (\\<And>l''.\n        P \\<turnstile> \\<langle>e,\n                        (h, l(p \\<mapsto> v, ps' [\\<mapsto>]\n                         vs'))\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l'')\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using length_eqs Ts vs Cons.hyps [OF _ _ eval_ps']"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>blocks (ps', Ts', vs', e),\n                  (h, l(p \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l''')\\<rangle>\n  l' = l'''(p := l p)\n  length (p # ps') = length Ts\n  length (p # ps') = length vs\n  Ts = T # Ts'\n  vs = v # vs'\n  \\<lbrakk>length ps' = length Ts'; length ps' = length vs'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>l''.\n                       P \\<turnstile> \\<langle>e,\n (h, l(p \\<mapsto> v, ps' [\\<mapsto>] vs'))\\<rangle> \\<Rightarrow>\n\\<langle>e',(h', l'')\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>l''.\n        P \\<turnstile> \\<langle>e,\n                        (h, l(p \\<mapsto> v, ps' [\\<mapsto>]\n                         vs'))\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l'')\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,\n                  (h, l(p \\<mapsto> v, ps' [\\<mapsto>]\n                   vs'))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a ps Ts vs l l'.\n       \\<lbrakk>\\<And>Ts vs l l'.\n                   \\<lbrakk>length ps = length Ts; length ps = length vs;\n                    P \\<turnstile> \\<langle>blocks (ps, Ts, vs, e),\n                                    (h, l)\\<rangle> \\<Rightarrow>\n                                   \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>l''.\n  P \\<turnstile> \\<langle>e,(h, l(ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>;\n        length (a # ps) = length Ts; length (a # ps) = length vs;\n        P \\<turnstile> \\<langle>blocks (a # ps, Ts, vs, e),\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h', l')\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>l''.\n                            P \\<turnstile> \\<langle>e,\n      (h, l(a # ps [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n     \\<langle>e',(h', l'')\\<rangle>", "from hyp"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>e,\n                  (h, l(p \\<mapsto> v, ps' [\\<mapsto>]\n                   vs'))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>", "show \"\\<exists>l''. P \\<turnstile> \\<langle>e,(h, l(p # ps'[\\<mapsto>]vs))\\<rangle> \\<Rightarrow> \\<langle>e',(h', l'')\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,\n                  (h, l(p \\<mapsto> v, ps' [\\<mapsto>]\n                   vs'))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>l''.\n       P \\<turnstile> \\<langle>e,\n                       (h, l(p # ps' [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',(h', l'')\\<rangle>", "using Ts vs"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,\n                  (h, l(p \\<mapsto> v, ps' [\\<mapsto>]\n                   vs'))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h', l'')\\<rangle>\n  Ts = T # Ts'\n  vs = v # vs'\n\ngoal (1 subgoal):\n 1. \\<exists>l''.\n       P \\<turnstile> \\<langle>e,\n                       (h, l(p # ps' [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',(h', l'')\\<rangle>", "by auto"], ["proof (state)\nthis:\n  \\<exists>l''.\n     P \\<turnstile> \\<langle>e,\n                     (h, l(p # ps' [\\<mapsto>] vs))\\<rangle> \\<Rightarrow>\n                    \\<langle>e',(h', l'')\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)\n(* FIXME exercise: show precise relationship between l' and l'':\nlemma blocksEval:\n  \"\\<And> Ts vs l l'. \\<lbrakk>length ps = length Ts; length ps = length vs; \n        P\\<turnstile> \\<langle>blocks(ps,Ts,vs,e),(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle> \\<rbrakk>\n    \\<Longrightarrow> \\<exists> l''. P \\<turnstile> \\<langle>e,(h,l(ps[\\<mapsto>]vs))\\<rangle> \\<Rightarrow> \\<langle>e',(h',l'')\\<rangle> \\<and> l'=l''(l|set ps)\"\nproof (induct ps)\n  case Nil then show ?case by simp\nnext\n  case (Cons p ps')\n  have length_eqs: \"length (p # ps') = length Ts\" \n                   \"length (p # ps') = length vs\" .\n  then obtain T Ts' where Ts: \"Ts=T#Ts'\" by (cases \"Ts\") simp\n  obtain v vs' where vs: \"vs=v#vs'\" using length_eqs by (cases \"vs\") simp\n  have \"P \\<turnstile> \\<langle>blocks (p # ps', Ts, vs, e),(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h', l')\\<rangle>\".\n  with Ts vs \n  have \"P \\<turnstile> \\<langle>{p:T := Val v; blocks (ps', Ts', vs', e)},(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h', l')\\<rangle>\"\n    by simp\n  then obtain l''' where\n    eval_ps': \"P \\<turnstile> \\<langle>blocks (ps', Ts', vs', e),(h, l(p\\<mapsto>v))\\<rangle> \\<Rightarrow> \\<langle>e',(h', l''')\\<rangle>\"\n    and l''': \"l'=l'''(p:=l p)\"\n    by (cases) (auto elim: eval_cases)\n \n  then obtain l'' where \n    hyp: \"P \\<turnstile> \\<langle>e,(h, l(p\\<mapsto>v)(ps'[\\<mapsto>]vs'))\\<rangle> \\<Rightarrow> \\<langle>e',(h', l'')\\<rangle>\" and\n    l'': \"l''' = l''(l(p\\<mapsto>v)|set ps')\"\n    using length_eqs Ts vs Cons.hyps [OF _ _ eval_ps'] by auto\n  have \"l' = l''(l|set (p # ps'))\"\n  proof -\n    have \"(l''(l(p\\<mapsto>v)|set ps'))(p := l p) = l''(l|insert p (set ps'))\"\n      by (induct ps') (auto intro: ext simp add: fun_upd_def override_on_def)\n    with l''' l'' show ?thesis  by simp\n  qed\n  with hyp\n  show \"\\<exists>l''. P \\<turnstile> \\<langle>e,(h, l(p # ps'[\\<mapsto>]vs))\\<rangle> \\<Rightarrow> \\<langle>e',(h', l'')\\<rangle> \\<and>\n        l' = l''(l|set (p # ps'))\"\n    using Ts vs by auto\nqed\n*)"], ["", "lemma\nassumes wf: \"wwf_J_prog P\"\nshows eval_restrict_lcl:\n  \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle> \\<Longrightarrow> (\\<And>W. fv e \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>e,(h,l|`W)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l'|`W)\\<rangle>)\"\nand \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',l')\\<rangle> \\<Longrightarrow> (\\<And>W. fvs es \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>es,(h,l|`W)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',l'|`W)\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                    \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>W.\n         fv e \\<subseteq> W \\<Longrightarrow>\n         P \\<turnstile> \\<langle>e,(h, l |` W)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h', l' |` W)\\<rangle>)) &&&\n    (P \\<turnstile> \\<langle>es,(h, l)\\<rangle> [\\<Rightarrow>]\n                    \\<langle>es',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>W.\n         fvs es \\<subseteq> W \\<Longrightarrow>\n         P \\<turnstile> \\<langle>es,(h, l |` W)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',(h', l' |` W)\\<rangle>))", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                    \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>W.\n         fv e \\<subseteq> W \\<Longrightarrow>\n         P \\<turnstile> \\<langle>e,(h, l |` W)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h', l' |` W)\\<rangle>)) &&&\n    (P \\<turnstile> \\<langle>es,(h, l)\\<rangle> [\\<Rightarrow>]\n                    \\<langle>es',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>W.\n         fvs es \\<subseteq> W \\<Longrightarrow>\n         P \\<turnstile> \\<langle>es,(h, l |` W)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',(h', l' |` W)\\<rangle>))", "proof(induct rule:eval_evals_inducts)"], ["proof (state)\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 43 subgoals...", "case (Block e\\<^sub>0 h\\<^sub>0 l\\<^sub>0 V e\\<^sub>1 h\\<^sub>1 l\\<^sub>1 T)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0,\n                  (h\\<^sub>0, l\\<^sub>0(V := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  fv e\\<^sub>0 \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>0,\n                  (h\\<^sub>0,\n                   l\\<^sub>0(V := None) |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1 |` ?W)\\<rangle>\n  fv {V:T; e\\<^sub>0} \\<subseteq> W\n\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 43 subgoals...", "have IH: \"\\<And>W. fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0,(h\\<^sub>0,l\\<^sub>0(V:=None)|`W)\\<rangle> \\<Rightarrow> \\<langle>e\\<^sub>1,(h\\<^sub>1,l\\<^sub>1|`W)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>W.\n       fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e\\<^sub>0,\n                       (h\\<^sub>0,\n                        l\\<^sub>0(V := None) |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>e\\<^sub>1,\n                       (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>", "by fact"], ["proof (state)\nthis:\n  fv e\\<^sub>0 \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>0,\n                  (h\\<^sub>0,\n                   l\\<^sub>0(V := None) |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1 |` ?W)\\<rangle>\n\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 43 subgoals...", "have \"fv({V:T; e\\<^sub>0}) \\<subseteq> W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv {V:T; e\\<^sub>0} \\<subseteq> W", "by fact+"], ["proof (state)\nthis:\n  fv {V:T; e\\<^sub>0} \\<subseteq> W\n\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 43 subgoals...", "hence \"fv e\\<^sub>0 - {V} \\<subseteq> W\""], ["proof (prove)\nusing this:\n  fv {V:T; e\\<^sub>0} \\<subseteq> W\n\ngoal (1 subgoal):\n 1. fv e\\<^sub>0 - {V} \\<subseteq> W", "by simp_all"], ["proof (state)\nthis:\n  fv e\\<^sub>0 - {V} \\<subseteq> W\n\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 43 subgoals...", "hence \"fv e\\<^sub>0 \\<subseteq> insert V W\""], ["proof (prove)\nusing this:\n  fv e\\<^sub>0 - {V} \\<subseteq> W\n\ngoal (1 subgoal):\n 1. fv e\\<^sub>0 \\<subseteq> insert V W", "by fast"], ["proof (state)\nthis:\n  fv e\\<^sub>0 \\<subseteq> insert V W\n\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 43 subgoals...", "from IH[OF this]"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>e\\<^sub>0,\n                  (h\\<^sub>0,\n                   l\\<^sub>0(V := None) |`\n                   insert V W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1 |` insert V W)\\<rangle>", "have \"P \\<turnstile> \\<langle>e\\<^sub>0,(h\\<^sub>0, (l\\<^sub>0|`W)(V := None))\\<rangle> \\<Rightarrow> \\<langle>e\\<^sub>1,(h\\<^sub>1, l\\<^sub>1|`insert V W)\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0,\n                  (h\\<^sub>0,\n                   l\\<^sub>0(V := None) |`\n                   insert V W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1 |` insert V W)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>0,\n                    (h\\<^sub>0, (l\\<^sub>0 |` W)\n                     (V := None))\\<rangle> \\<Rightarrow>\n                   \\<langle>e\\<^sub>1,\n                    (h\\<^sub>1, l\\<^sub>1 |` insert V W)\\<rangle>", "by fastforce"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0,\n                  (h\\<^sub>0, (l\\<^sub>0 |` W)\n                   (V := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1 |` insert V W)\\<rangle>\n\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 43 subgoals...", "from eval_evals.Block[OF this]"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>{V:?T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, (l\\<^sub>1 |` insert V W)\n                   (V := (l\\<^sub>0 |` W) V))\\<rangle>", "show ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:?T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, (l\\<^sub>1 |` insert V W)\n                   (V := (l\\<^sub>0 |` W) V))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                    (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>e\\<^sub>1,\n                    (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V) |` W)\\<rangle>", "by fastforce"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; e\\<^sub>0},\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1,\n                  (h\\<^sub>1, l\\<^sub>1(V := l\\<^sub>0 V) |` W)\\<rangle>\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 42 subgoals...", "next"], ["proof (state)\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 42 subgoals...", "case Seq"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>0_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>0_;; e\\<^sub>1_) \\<subseteq> W\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 42 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>0_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>0_;; e\\<^sub>1_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>0_;; e\\<^sub>1_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>e\\<^sub>2_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro:eval_evals.Seq)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_;; e\\<^sub>1_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2_,(a_, b_ |` W)\\<rangle>\n\ngoal (41 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 41 subgoals...", "next"], ["proof (state)\ngoal (41 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 41 subgoals...", "case New"], ["proof (state)\nthis:\n  new_Addr h_ = \\<lfloor>a_\\<rfloor>\n  P \\<turnstile> C_ has_fields FDTs_\n  h'_ = h_(a_ \\<mapsto> (C_, init_fields FDTs_))\n  fv (new C_) \\<subseteq> W\n\ngoal (41 subgoals):\n 1. \\<And>h a C FDTs h' l W.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr a,(h', l |` W)\\<rangle>\n 2. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n         \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(ab, bb |` W)\\<rangle>\nA total of 41 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  new_Addr h_ = \\<lfloor>a_\\<rfloor>\n  P \\<turnstile> C_ has_fields FDTs_\n  h'_ = h_(a_ \\<mapsto> (C_, init_fields FDTs_))\n  fv (new C_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>new C_,(h_, l_ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>addr a_,(h'_, l_ |` W)\\<rangle>", "by(simp add:eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>new C_,(h_, l_ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h'_, l_ |` W)\\<rangle>\n\ngoal (40 subgoals):\n 1. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 2. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 10. \\<And>l V v h W.\n        \\<lbrakk>l V = \\<lfloor>v\\<rfloor>;\n         fv (Var V) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    (h, l |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Val v,(h, l |` W)\\<rangle>\nA total of 40 subgoals...", "next"], ["proof (state)\ngoal (40 subgoals):\n 1. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 2. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 10. \\<And>l V v h W.\n        \\<lbrakk>l V = \\<lfloor>v\\<rfloor>;\n         fv (Var V) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    (h, l |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Val v,(h, l |` W)\\<rangle>\nA total of 40 subgoals...", "case NewFail"], ["proof (state)\nthis:\n  new_Addr h_ = None\n  fv (new C_) \\<subseteq> W\n\ngoal (40 subgoals):\n 1. \\<And>h C l W.\n       \\<lbrakk>new_Addr h = None; fv (new C) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW OutOfMemory,(h, l |` W)\\<rangle>\n 2. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 10. \\<And>l V v h W.\n        \\<lbrakk>l V = \\<lfloor>v\\<rfloor>;\n         fv (Var V) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    (h, l |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Val v,(h, l |` W)\\<rangle>\nA total of 40 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  new_Addr h_ = None\n  fv (new C_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>new C_,(h_, l_ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>THROW OutOfMemory,(h_, l_ |` W)\\<rangle>", "by(simp add:eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>new C_,(h_, l_ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>THROW OutOfMemory,(h_, l_ |` W)\\<rangle>\n\ngoal (39 subgoals):\n 1. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 2. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 9. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 10. \\<And>e a b v h l l' V W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(h, l)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(h, l |` W)\\<rangle>;\n         l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>unit,(h, l' |` W)\\<rangle>\nA total of 39 subgoals...", "next"], ["proof (state)\ngoal (39 subgoals):\n 1. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 2. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 9. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 10. \\<And>e a b v h l l' V W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(h, l)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(h, l |` W)\\<rangle>;\n         l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>unit,(h, l' |` W)\\<rangle>\nA total of 39 subgoals...", "case Cast"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_ |` ?W)\\<rangle>\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  fv (Cast C_ e_) \\<subseteq> W\n\ngoal (39 subgoals):\n 1. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>addr aa,(h, l |` W)\\<rangle>\n 2. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 9. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 10. \\<And>e a b v h l l' V W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(h, l)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(h, l |` W)\\<rangle>;\n         l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>unit,(h, l' |` W)\\<rangle>\nA total of 39 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_ |` ?W)\\<rangle>\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  fv (Cast C_ e_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ e_,\n                    (a___, b_ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>addr a_,(h_, l_ |` W)\\<rangle>", "by simp (blast intro:eval_evals.Cast)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ e_,(a___, b_ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_ |` W)\\<rangle>\n\ngoal (38 subgoals):\n 1. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 8. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 9. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba V W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (V:=e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 38 subgoals...", "next"], ["proof (state)\ngoal (38 subgoals):\n 1. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 8. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 9. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba V W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (V:=e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 38 subgoals...", "case CastNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_ |` ?W)\\<rangle>\n  fv (Cast C_ e_) \\<subseteq> W\n\ngoal (38 subgoals):\n 1. \\<And>e a b aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>null,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 8. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 9. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba V W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (V:=e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 38 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_ |` ?W)\\<rangle>\n  fv (Cast C_ e_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ e_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>null,(a_, b_ |` W)\\<rangle>", "by simp (blast intro:eval_evals.CastNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ e_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_ |` W)\\<rangle>\n\ngoal (37 subgoals):\n 1. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 7. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 8. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa h l C fs F D v W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(h, l)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(h, l |` W)\\<rangle>;\n         h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n         fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Val v,(h, l |` W)\\<rangle>\nA total of 37 subgoals...", "next"], ["proof (state)\ngoal (37 subgoals):\n 1. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 7. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 8. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa h l C fs F D v W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(h, l)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(h, l |` W)\\<rangle>;\n         h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n         fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Val v,(h, l |` W)\\<rangle>\nA total of 37 subgoals...", "case CastFail"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_ |` ?W)\\<rangle>\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  (D_, C_) \\<notin> (subcls1 P)\\<^sup>*\n  fv (Cast C_ e_) \\<subseteq> W\n\ngoal (37 subgoals):\n 1. \\<And>e a b aa h l D fs C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW ClassCast,(h, l |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 7. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 8. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa h l C fs F D v W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(h, l)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(h, l |` W)\\<rangle>;\n         h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n         fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Val v,(h, l |` W)\\<rangle>\nA total of 37 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_ |` ?W)\\<rangle>\n  h_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  (D_, C_) \\<notin> (subcls1 P)\\<^sup>*\n  fv (Cast C_ e_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ e_,\n                    (a___, b_ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>THROW ClassCast,(h_, l_ |` W)\\<rangle>", "by simp (blast intro:eval_evals.CastFail)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ e_,(a___, b_ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>THROW ClassCast,(h_, l_ |` W)\\<rangle>\n\ngoal (36 subgoals):\n 1. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 6. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 7. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 10. \\<And>e a b aa ba F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\nA total of 36 subgoals...", "next"], ["proof (state)\ngoal (36 subgoals):\n 1. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 6. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 7. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 10. \\<And>e a b aa ba F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\nA total of 36 subgoals...", "case CastThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (Cast C_ e_) \\<subseteq> W\n\ngoal (36 subgoals):\n 1. \\<And>e a b e' aa ba C W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (Cast C e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 6. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 7. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 10. \\<And>e a b aa ba F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\nA total of 36 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (Cast C_ e_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ e_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by(simp add:eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ e_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (35 subgoals):\n 1. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 5. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 6. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 9. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 35 subgoals...", "next"], ["proof (state)\ngoal (35 subgoals):\n 1. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 5. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 6. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 9. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 35 subgoals...", "case Val"], ["proof (state)\nthis:\n  fv (Val v_) \\<subseteq> W\n\ngoal (35 subgoals):\n 1. \\<And>v a b W.\n       fv (Val v) \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v,(a, b |` W)\\<rangle> \\<Rightarrow>\n                      \\<langle>Val v,(a, b |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 5. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 6. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 9. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 35 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  fv (Val v_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v_,(a_, b_ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>Val v_,(a_, b_ |` W)\\<rangle>", "by(simp add:eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v_,(a_, b_ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(a_, b_ |` W)\\<rangle>\n\ngoal (34 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 4. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 5. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 8. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,\n                            (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\nA total of 34 subgoals...", "next"], ["proof (state)\ngoal (34 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 4. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 5. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 8. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,\n                            (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\nA total of 34 subgoals...", "case BinOp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>2_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>2_,(a_, b_ |` ?W)\\<rangle>\n  binop (bop_, v\\<^sub>1_, v\\<^sub>2_) = \\<lfloor>v_\\<rfloor>\n  fv (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<subseteq> W\n\ngoal (34 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>2,(ab, bb |` W)\\<rangle>;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(ab, bb |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 4. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 5. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 8. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n        D h\\<^sub>2' W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,\n                            (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         fs' = fs((F, D) \\<mapsto> v);\n         h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\nA total of 34 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>2_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>2_,(a_, b_ |` ?W)\\<rangle>\n  binop (bop_, v\\<^sub>1_, v\\<^sub>2_) = \\<lfloor>v_\\<rfloor>\n  fv (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>Val v_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro:eval_evals.BinOp)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(a_, b_ |` W)\\<rangle>\n\ngoal (33 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 3. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 4. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 7. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\nA total of 33 subgoals...", "next"], ["proof (state)\ngoal (33 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 3. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 4. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 7. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\nA total of 33 subgoals...", "case BinOpThrow1"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<subseteq> W\n\ngoal (33 subgoals):\n 1. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 3. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 4. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 7. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\nA total of 33 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro:eval_evals.BinOpThrow1)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_ |` W)\\<rangle>\n\ngoal (32 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 2. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 3. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 6. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 32 subgoals...", "next"], ["proof (state)\ngoal (32 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 2. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 3. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 6. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 32 subgoals...", "case BinOpThrow2"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<subseteq> W\n\ngoal (32 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\n        \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(ab, bb |` W)\\<rangle>\n 2. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 3. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 6. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 32 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_)\n  \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro:eval_evals.BinOpThrow2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_ |` W)\\<rangle>\n\ngoal (31 subgoals):\n 1. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 2. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 5. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(ab, bb |` W)\\<rangle>\nA total of 31 subgoals...", "next"], ["proof (state)\ngoal (31 subgoals):\n 1. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 2. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 5. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(ab, bb |` W)\\<rangle>\nA total of 31 subgoals...", "case Var"], ["proof (state)\nthis:\n  l_ V_ = \\<lfloor>v_\\<rfloor>\n  fv (Var V_) \\<subseteq> W\n\ngoal (31 subgoals):\n 1. \\<And>l V v h W.\n       \\<lbrakk>l V = \\<lfloor>v\\<rfloor>; fv (Var V) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   (h, l |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 2. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 5. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n         fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(ab, bb |` W)\\<rangle>\nA total of 31 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  l_ V_ = \\<lfloor>v_\\<rfloor>\n  fv (Var V_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Var V_,(h_, l_ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>Val v_,(h_, l_ |` W)\\<rangle>", "by(simp add:eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Var V_,(h_, l_ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h_, l_ |` W)\\<rangle>\n\ngoal (30 subgoals):\n 1. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba M ps W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 30 subgoals...", "next"], ["proof (state)\ngoal (30 subgoals):\n 1. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba M ps W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 30 subgoals...", "case (LAss e h\\<^sub>0 l\\<^sub>0 v h l l' V)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h, l)\\<rangle>\n  fv e \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,\n                  (h\\<^sub>0, l\\<^sub>0 |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h, l |` ?W)\\<rangle>\n  l' = l(V \\<mapsto> v)\n  fv (V:=e) \\<subseteq> W\n\ngoal (30 subgoals):\n 1. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba M ps W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 30 subgoals...", "have IH: \"\\<And>W. fv e \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>e,(h\\<^sub>0,l\\<^sub>0|`W)\\<rangle> \\<Rightarrow> \\<langle>Val v,(h,l|`W)\\<rangle>\"\n   and [simp]: \"l' = l(V \\<mapsto> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>W.\n        fv e \\<subseteq> W \\<Longrightarrow>\n        P \\<turnstile> \\<langle>e,\n                        (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h, l |` W)\\<rangle>) &&&\n    l' = l(V \\<mapsto> v)", "by fact+"], ["proof (state)\nthis:\n  fv e \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,\n                  (h\\<^sub>0, l\\<^sub>0 |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h, l |` ?W)\\<rangle>\n  l' = l(V \\<mapsto> v)\n\ngoal (30 subgoals):\n 1. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba M ps W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 30 subgoals...", "have \"fv (V:=e) \\<subseteq> W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (V:=e) \\<subseteq> W", "by fact"], ["proof (state)\nthis:\n  fv (V:=e) \\<subseteq> W\n\ngoal (30 subgoals):\n 1. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba M ps W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 30 subgoals...", "hence fv: \"fv e \\<subseteq> W\" and VinW: \"V \\<in> W\""], ["proof (prove)\nusing this:\n  fv (V:=e) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. fv e \\<subseteq> W &&& V \\<in> W", "by auto"], ["proof (state)\nthis:\n  fv e \\<subseteq> W\n  V \\<in> W\n\ngoal (30 subgoals):\n 1. \\<And>e a b v h l l' V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(h, l |` W)\\<rangle>;\n        l' = l(V \\<mapsto> v); fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h, l' |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 4. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba M ps W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 30 subgoals...", "from eval_evals.LAss[OF IH[OF fv] refl, of V] VinW"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>V:=e,\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>unit,(h, (l |` W)(V \\<mapsto> v))\\<rangle>\n  V \\<in> W", "show ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>V:=e,\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>unit,(h, (l |` W)(V \\<mapsto> v))\\<rangle>\n  V \\<in> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>V:=e,\n                    (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>unit,(h, l' |` W)\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>V:=e,\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>unit,(h, l' |` W)\\<rangle>\n\ngoal (29 subgoals):\n 1. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs @ throw ex # es',\n                         (ab, bb)\\<rangle>;\n         \\<And>W.\n            fvs es \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,\n                            (aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>map Val vs @ throw ex # es',\n                            (ab, bb |` W)\\<rangle>;\n         fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw ex,(ab, bb |` W)\\<rangle>\nA total of 29 subgoals...", "next"], ["proof (state)\ngoal (29 subgoals):\n 1. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs @ throw ex # es',\n                         (ab, bb)\\<rangle>;\n         \\<And>W.\n            fvs es \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,\n                            (aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>map Val vs @ throw ex # es',\n                            (ab, bb |` W)\\<rangle>;\n         fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw ex,(ab, bb |` W)\\<rangle>\nA total of 29 subgoals...", "case LAssThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (V_:=e_) \\<subseteq> W\n\ngoal (29 subgoals):\n 1. \\<And>e a b e' aa ba V W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (V:=e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 3. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs @ throw ex # es',\n                         (ab, bb)\\<rangle>;\n         \\<And>W.\n            fvs es \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,\n                            (aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>map Val vs @ throw ex # es',\n                            (ab, bb |` W)\\<rangle>;\n         fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw ex,(ab, bb |` W)\\<rangle>\nA total of 29 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (V_:=e_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>V_:=e_,(a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by(fastforce intro: eval_evals.LAssThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>V_:=e_,(a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (28 subgoals):\n 1. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 2. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ba ps vs ab bb M W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fvs ps \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>ps,\n                            (aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\nA total of 28 subgoals...", "next"], ["proof (state)\ngoal (28 subgoals):\n 1. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 2. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ba ps vs ab bb M W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fvs ps \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>ps,\n                            (aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\nA total of 28 subgoals...", "case FAcc"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_ |` ?W)\\<rangle>\n  h_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs_ (F_, D_) = \\<lfloor>v_\\<rfloor>\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> W\n\ngoal (28 subgoals):\n 1. \\<And>e a b aa h l C fs F D v W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(h, l |` W)\\<rangle>;\n        h aa = \\<lfloor>(C, fs)\\<rfloor>; fs (F, D) = \\<lfloor>v\\<rfloor>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v,(h, l |` W)\\<rangle>\n 2. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ba ps vs ab bb M W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fvs ps \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>ps,\n                            (aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\nA total of 28 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a_,(h_, l_ |` ?W)\\<rangle>\n  h_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs_ (F_, D_) = \\<lfloor>v_\\<rfloor>\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                    (a___, b_ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>Val v_,(h_, l_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.FAcc)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                  (a___, b_ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h_, l_ |` W)\\<rangle>\n\ngoal (27 subgoals):\n 1. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n        l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>W.\n            fvs ps \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>ps,\n                            (ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>map Val vs,\n                            (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n         length vs = length pns;\n         l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n         \\<And>W.\n            fv body \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>body,\n                            (h\\<^sub>2,\n                             l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\nA total of 27 subgoals...", "next"], ["proof (state)\ngoal (27 subgoals):\n 1. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n        l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>W.\n            fvs ps \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>ps,\n                            (ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>map Val vs,\n                            (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n         length vs = length pns;\n         l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n         \\<And>W.\n            fv body \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>body,\n                            (h\\<^sub>2,\n                             l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\nA total of 27 subgoals...", "case FAccNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> W\n\ngoal (27 subgoals):\n 1. \\<And>e a b aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n        l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>W.\n            fvs ps \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>ps,\n                            (ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>map Val vs,\n                            (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n         h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n         length vs = length pns;\n         l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n         \\<And>W.\n            fv body \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>body,\n                            (h\\<^sub>2,\n                             l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n         fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\nA total of 27 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>THROW NullPointer,(a_, b_ |` W)\\<rangle>", "by(fastforce intro: eval_evals.FAccNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>THROW NullPointer,(a_, b_ |` W)\\<rangle>\n\ngoal (26 subgoals):\n 1. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 10. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>0,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n         fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(aa, ba |` W)\\<rangle>\nA total of 26 subgoals...", "next"], ["proof (state)\ngoal (26 subgoals):\n 1. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 10. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>0,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n         fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(aa, ba |` W)\\<rangle>\nA total of 26 subgoals...", "case FAccThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> W\n\ngoal (26 subgoals):\n 1. \\<And>e a b e' aa ba F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>F{D}) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 10. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>0,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n         fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e,(aa, ba |` W)\\<rangle>\nA total of 26 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>F_{D_}) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by(fastforce intro: eval_evals.FAccThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>F_{D_},\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (25 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 9. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>true,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>true,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e',(ab, bb |` W)\\<rangle>;\n         fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e',(ab, bb |` W)\\<rangle>\nA total of 25 subgoals...", "next"], ["proof (state)\ngoal (25 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 9. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>true,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>true,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e',(ab, bb |` W)\\<rangle>;\n         fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e',(ab, bb |` W)\\<rangle>\nA total of 25 subgoals...", "case FAss"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(a_, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(a_, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h\\<^sub>2_, l\\<^sub>2_ |` ?W)\\<rangle>\n  h\\<^sub>2_ aa___ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs'_ = fs_((F_, D_) \\<mapsto> v_)\n  h\\<^sub>2'_ = h\\<^sub>2_(aa___ \\<mapsto> (C_, fs'_))\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> W\n\ngoal (25 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ab ba e\\<^sub>2 v h\\<^sub>2 l\\<^sub>2 C fs fs' F\n       D h\\<^sub>2' W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(ab, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (ab, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        fs' = fs((F, D) \\<mapsto> v);\n        h\\<^sub>2' = h\\<^sub>2(aa \\<mapsto> (C, fs'));\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(h\\<^sub>2', l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 9. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>true,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>true,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e',(ab, bb |` W)\\<rangle>;\n         fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e',(ab, bb |` W)\\<rangle>\nA total of 25 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(a_, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(a_, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h\\<^sub>2_, l\\<^sub>2_ |` ?W)\\<rangle>\n  h\\<^sub>2_ aa___ = \\<lfloor>(C_, fs_)\\<rfloor>\n  fs'_ = fs_((F_, D_) \\<mapsto> v_)\n  h\\<^sub>2'_ = h\\<^sub>2_(aa___ \\<mapsto> (C_, fs'_))\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>unit,(h\\<^sub>2'_, l\\<^sub>2_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.FAss)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>unit,(h\\<^sub>2'_, l\\<^sub>2_ |` W)\\<rangle>\n\ngoal (24 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 8. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>false,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>false,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e',(ab, bb |` W)\\<rangle>;\n         fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e',(ab, bb |` W)\\<rangle>\nA total of 24 subgoals...", "next"], ["proof (state)\ngoal (24 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 8. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>false,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>false,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e',(ab, bb |` W)\\<rangle>;\n         fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e',(ab, bb |` W)\\<rangle>\nA total of 24 subgoals...", "case FAssNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> W\n\ngoal (24 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa ba e\\<^sub>2 v ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 8. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>false,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>false,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e',(ab, bb |` W)\\<rangle>;\n         fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e',(ab, bb |` W)\\<rangle>\nA total of 24 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>THROW NullPointer,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.FAssNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>THROW NullPointer,(a_, b_ |` W)\\<rangle>\n\ngoal (23 subgoals):\n 1. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 7. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 23 subgoals...", "next"], ["proof (state)\ngoal (23 subgoals):\n 1. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 7. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 23 subgoals...", "case FAssThrow1"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> W\n\ngoal (23 subgoals):\n 1. \\<And>e\\<^sub>1 a b e' aa ba F D e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 7. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 23 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.FAssThrow1)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (22 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 6. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba c W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>false,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>false,(aa, ba |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>unit,(aa, ba |` W)\\<rangle>\nA total of 22 subgoals...", "next"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 6. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba c W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>false,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>false,(aa, ba |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>unit,(aa, ba |` W)\\<rangle>\nA total of 22 subgoals...", "case FAssThrow2"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> W\n\ngoal (22 subgoals):\n 1. \\<And>e\\<^sub>1 a b v aa ba e\\<^sub>2 e' ab bb F D W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 6. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba c W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>false,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>false,(aa, ba |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>unit,(aa, ba |` W)\\<rangle>\nA total of 22 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.FAssThrow2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_\\<bullet>F_{D_} := e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (21 subgoals):\n 1. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 5. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>true,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>true,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv c \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n         \\<And>W.\n            fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>while (e) c,\n                            (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 5. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>true,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>true,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv c \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n         \\<And>W.\n            fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>while (e) c,\n                            (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\nA total of 21 subgoals...", "case CallObjThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>M_(ps_)) \\<subseteq> W\n\ngoal (21 subgoals):\n 1. \\<And>e a b e' aa ba M ps W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 5. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>true,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>true,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv c \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n         \\<And>W.\n            fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>while (e) c,\n                            (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\nA total of 21 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>M_(ps_)) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>M_(ps_),\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>M_(ps_),\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (20 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 4. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba c W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 20 subgoals...", "next"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 4. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba c W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 20 subgoals...", "case CallNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>ps_,(aa___, ba___)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_,(a_, b_)\\<rangle>\n  fvs ps_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>ps_,(aa___, ba___ |` ?W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_,(a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>M_(ps_)) \\<subseteq> W\n\ngoal (20 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ba ps vs ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,(ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 4. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba c W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 20 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>ps_,(aa___, ba___)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_,(a_, b_)\\<rangle>\n  fvs ps_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>ps_,(aa___, ba___ |` ?W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_,(a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>M_(ps_)) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>M_(ps_),\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>THROW NullPointer,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.CallNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>M_(ps_),\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>THROW NullPointer,(a_, b_ |` W)\\<rangle>\n\ngoal (19 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 3. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba c e' ab bb W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>true,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>true,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv c \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(ab, bb |` W)\\<rangle>\nA total of 19 subgoals...", "next"], ["proof (state)\ngoal (19 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 3. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba c e' ab bb W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>true,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>true,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv c \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(ab, bb |` W)\\<rangle>\nA total of 19 subgoals...", "case CallParamsThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>es_,(aa___, ba___)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_ @ throw ex_ # es'_,(a_, b_)\\<rangle>\n  fvs es_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es_,(aa___, ba___ |` ?W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_ @ throw ex_ # es'_,\n                  (a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>M_(es_)) \\<subseteq> W\n\ngoal (19 subgoals):\n 1. \\<And>e a b v aa ba es vs ex es' ab bb M W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs @ throw ex # es',\n                        (ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs @ throw ex # es',\n                           (ab, bb |` W)\\<rangle>;\n        fv (e\\<bullet>M(es)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw ex,(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 3. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba c e' ab bb W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>true,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>true,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fv c \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n         fv (while (e) c) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(ab, bb |` W)\\<rangle>\nA total of 19 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>es_,(aa___, ba___)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_ @ throw ex_ # es'_,(a_, b_)\\<rangle>\n  fvs es_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es_,(aa___, ba___ |` ?W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs_ @ throw ex_ # es'_,\n                  (a_, b_ |` ?W)\\<rangle>\n  fv (e_\\<bullet>M_(es_)) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>M_(es_),\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw ex_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.CallParamsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>M_(es_),\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw ex_,(a_, b_ |` W)\\<rangle>\n\ngoal (18 subgoals):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\nA total of 18 subgoals...", "next"], ["proof (state)\ngoal (18 subgoals):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\nA total of 18 subgoals...", "case (Call e h\\<^sub>0 l\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body\n      D l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,(h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  fv e \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,\n                  (h\\<^sub>0, l\\<^sub>0 |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,(h\\<^sub>1, l\\<^sub>1 |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>ps,(h\\<^sub>1, l\\<^sub>1)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  fvs ps \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>ps,\n                  (h\\<^sub>1, l\\<^sub>1 |` ?W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2 |` ?W)\\<rangle>\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n  fv body \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2' |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` ?W)\\<rangle>\n  fv (e\\<bullet>M(ps)) \\<subseteq> W\n\ngoal (18 subgoals):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\nA total of 18 subgoals...", "have IHe: \"\\<And>W. fv e \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>e,(h\\<^sub>0,l\\<^sub>0|`W)\\<rangle> \\<Rightarrow> \\<langle>addr a,(h\\<^sub>1,l\\<^sub>1|`W)\\<rangle>\"\n   and IHps: \"\\<And>W. fvs ps \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>ps,(h\\<^sub>1,l\\<^sub>1|`W)\\<rangle> [\\<Rightarrow>] \\<langle>map Val vs,(h\\<^sub>2,l\\<^sub>2|`W)\\<rangle>\"\n   and IHbd: \"\\<And>W. fv body \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>body,(h\\<^sub>2,l\\<^sub>2'|`W)\\<rangle> \\<Rightarrow> \\<langle>e',(h\\<^sub>3,l\\<^sub>3|`W)\\<rangle>\"\n   and h\\<^sub>2a: \"h\\<^sub>2 a = Some (C, fs)\"\n   and \"method\": \"P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\"\n   and same_len: \"size vs = size pns\"\n   and l\\<^sub>2': \"l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>W.\n         fv e \\<subseteq> W \\<Longrightarrow>\n         P \\<turnstile> \\<langle>e,\n                         (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                        \\<langle>addr a,\n                         (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>) &&&\n     (\\<And>W.\n         fvs ps \\<subseteq> W \\<Longrightarrow>\n         P \\<turnstile> \\<langle>ps,\n                         (h\\<^sub>1,\n                          l\\<^sub>1 |` W)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>map Val vs,\n                         (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>) &&&\n     (\\<And>W.\n         fv body \\<subseteq> W \\<Longrightarrow>\n         P \\<turnstile> \\<langle>body,\n                         (h\\<^sub>2, l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',\n                         (h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>)) &&&\n    (h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor> &&&\n     P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D) &&&\n    length vs = length pns &&&\n    l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]", "by fact+"], ["proof (state)\nthis:\n  fv e \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,\n                  (h\\<^sub>0, l\\<^sub>0 |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,(h\\<^sub>1, l\\<^sub>1 |` ?W)\\<rangle>\n  fvs ps \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>ps,\n                  (h\\<^sub>1, l\\<^sub>1 |` ?W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2 |` ?W)\\<rangle>\n  fv body \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2' |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` ?W)\\<rangle>\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n\ngoal (18 subgoals):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\nA total of 18 subgoals...", "have \"fv (e\\<bullet>M(ps)) \\<subseteq> W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (e\\<bullet>M(ps)) \\<subseteq> W", "by fact"], ["proof (state)\nthis:\n  fv (e\\<bullet>M(ps)) \\<subseteq> W\n\ngoal (18 subgoals):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\nA total of 18 subgoals...", "hence fve: \"fv e  \\<subseteq> W\" and fvps: \"fvs(ps) \\<subseteq> W\""], ["proof (prove)\nusing this:\n  fv (e\\<bullet>M(ps)) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. fv e \\<subseteq> W &&& fvs ps \\<subseteq> W", "by auto"], ["proof (state)\nthis:\n  fv e \\<subseteq> W\n  fvs ps \\<subseteq> W\n\ngoal (18 subgoals):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\nA total of 18 subgoals...", "have wfmethod: \"size Ts = size pns \\<and> this \\<notin> set pns\" and\n       fvbd: \"fv body \\<subseteq> {this} \\<union> set pns\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length Ts = length pns \\<and> this \\<notin> set pns &&&\n    fv body \\<subseteq> {this} \\<union> set pns", "using \"method\" wf"], ["proof (prove)\nusing this:\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  wwf_J_prog P\n\ngoal (1 subgoal):\n 1. length Ts = length pns \\<and> this \\<notin> set pns &&&\n    fv body \\<subseteq> {this} \\<union> set pns", "by(fastforce dest!:sees_wf_mdecl simp:wf_mdecl_def)+"], ["proof (state)\nthis:\n  length Ts = length pns \\<and> this \\<notin> set pns\n  fv body \\<subseteq> {this} \\<union> set pns\n\ngoal (18 subgoals):\n 1. \\<And>e a b aa ab ba ps vs h\\<^sub>2 l\\<^sub>2 C fs M Ts T pns body D\n       l\\<^sub>2' e' h\\<^sub>3 l\\<^sub>3 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>ps,(ab, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fvs ps \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>ps,(ab, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>map Val vs,\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        h\\<^sub>2 aa = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D;\n        length vs = length pns;\n        l\\<^sub>2' = [this \\<mapsto> Addr aa, pns [\\<mapsto>] vs];\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>;\n        \\<And>W.\n           fv body \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>body,\n                           (h\\<^sub>2,\n                            l\\<^sub>2' |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(h\\<^sub>3, l\\<^sub>3 |` W)\\<rangle>;\n        fv (e\\<bullet>M(ps)) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n 2. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b aa ab ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>addr aa,(ab, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\nA total of 18 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n                    (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>", "using IHbd[OF fvbd] l\\<^sub>2' same_len wfmethod h\\<^sub>2a\n      eval_evals.Call[OF IHe[OF fve] IHps[OF fvps] _ \"method\" same_len l\\<^sub>2']"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2,\n                   l\\<^sub>2' |`\n                   ({this} \\<union> set pns))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',\n                  (h\\<^sub>3,\n                   l\\<^sub>3 |` ({this} \\<union> set pns))\\<rangle>\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  length vs = length pns\n  length Ts = length pns \\<and> this \\<notin> set pns\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  \\<lbrakk>h\\<^sub>2 a = \\<lfloor>(C, ?fs)\\<rfloor>;\n   P \\<turnstile> \\<langle>body,\n                   (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                  \\<langle>?e',(?h\\<^sub>3, ?l\\<^sub>3)\\<rangle>\\<rbrakk>\n  \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n                                    (h\\<^sub>0,\n                                     l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                                   \\<langle>?e',\n                                    (?h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n                    (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>", "by (simp add:subset_insertI)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<bullet>M(ps),\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>2 |` W)\\<rangle>\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\nA total of 17 subgoals...", "next"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\nA total of 17 subgoals...", "case SeqThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  fv e\\<^sub>0_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>0_;; e\\<^sub>1_) \\<subseteq> W\n\ngoal (17 subgoals):\n 1. \\<And>e\\<^sub>0 a b e aa ba e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>0,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>0 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>0,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e,(aa, ba |` W)\\<rangle>;\n        fv (e\\<^sub>0;; e\\<^sub>1) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>0;; e\\<^sub>1,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 10. \\<And>e a b aa ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>null,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>null,(aa, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\nA total of 17 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_)\\<rangle>\n  fv e\\<^sub>0_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_ |` ?W)\\<rangle>\n  fv (e\\<^sub>0_;; e\\<^sub>1_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>0_;; e\\<^sub>1_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.SeqThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_;; e\\<^sub>1_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e_,(a_, b_ |` W)\\<rangle>\n\ngoal (16 subgoals):\n 1. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 16 subgoals...", "next"], ["proof (state)\ngoal (16 subgoals):\n 1. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 16 subgoals...", "case CondT"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<subseteq> W\n\ngoal (16 subgoals):\n 1. \\<And>e a b aa ba e\\<^sub>1 e' ab bb e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>1,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 9. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fv (throw e) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    (a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>throw e',(aa, ba |` W)\\<rangle>\nA total of 16 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>e'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.CondT)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (15 subgoals):\n 1. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\nA total of 15 subgoals...", "next"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\nA total of 15 subgoals...", "case CondF"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<subseteq> W\n\ngoal (15 subgoals):\n 1. \\<And>e a b aa ba e\\<^sub>2 e' ab bb e\\<^sub>1 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e',(ab, bb |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 8. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n         fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\nA total of 15 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_)\\<rangle>\n  fv e\\<^sub>2_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>e'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.CondF)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (14 subgoals):\n 1. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n        e\\<^sub>2' h\\<^sub>2 l\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw aa,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Throw aa,\n                            (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n         h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                          Addr aa))\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (h\\<^sub>1,\n                             l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                             W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e\\<^sub>2',\n                            (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n         fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e\\<^sub>2',\n    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n        e\\<^sub>2' h\\<^sub>2 l\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw aa,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Throw aa,\n                            (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n         h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                          Addr aa))\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (h\\<^sub>1,\n                             l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                             W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e\\<^sub>2',\n                            (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n         fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e\\<^sub>2',\n    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\nA total of 14 subgoals...", "case CondThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<subseteq> W\n\ngoal (14 subgoals):\n 1. \\<And>e a b e' aa ba e\\<^sub>1 e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (if (e) e\\<^sub>1 else e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 7. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V\n        e\\<^sub>2' h\\<^sub>2 l\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw aa,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Throw aa,\n                            (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n         h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                          Addr aa))\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>2,\n                            (h\\<^sub>1,\n                             l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                             W)\\<rangle> \\<Rightarrow>\n                           \\<langle>e\\<^sub>2',\n                            (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n         fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>e\\<^sub>2',\n    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\nA total of 14 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (if (e_) e\\<^sub>1_ else e\\<^sub>2_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.CondThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw aa,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Throw aa,\n                            (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n         h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n         (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n         fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw aa,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Throw aa,\n                            (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n         h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n         (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n         fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\nA total of 13 subgoals...", "case WhileF"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(a_, b_ |` ?W)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> W\n\ngoal (13 subgoals):\n 1. \\<And>e a b aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>false,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>false,(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>unit,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 6. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 10. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Throw aa,\n                                 (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n         \\<And>W.\n            fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e\\<^sub>1,\n                            (a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Throw aa,\n                            (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n         h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n         (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n         fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n    catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n   \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>false,(a_, b_ |` ?W)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (e_) c_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>unit,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.WhileF)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (e_) c_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>unit,(a_, b_ |` W)\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 10. \\<And>a b W.\n        fvs [] \\<subseteq> W \\<Longrightarrow>\n        P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>[],(a, b |` W)\\<rangle>\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 10. \\<And>a b W.\n        fvs [] \\<subseteq> W \\<Longrightarrow>\n        P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>[],(a, b |` W)\\<rangle>\nA total of 12 subgoals...", "case WhileT"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>c_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(ab___, bb___)\\<rangle>\n  fv c_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>c_,(aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(ab___, bb___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>while (e_) c_,\n                  (ab___, bb___)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>3_,(a_, b_)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>while (e_) c_,\n                  (ab___, bb___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>3_,(a_, b_ |` ?W)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> W\n\ngoal (12 subgoals):\n 1. \\<And>e a b aa ba c v\\<^sub>1 ab bb e\\<^sub>3 ac bc W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>1,(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(ab, bb |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>while (e) c,(ab, bb)\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>3,(ac, bc)\\<rangle>;\n        \\<And>W.\n           fv (while (e) c) \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>while (e) c,\n                           (ab, bb |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>3,(ac, bc |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 5. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 9. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 10. \\<And>a b W.\n        fvs [] \\<subseteq> W \\<Longrightarrow>\n        P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>[],(a, b |` W)\\<rangle>\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>c_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(ab___, bb___)\\<rangle>\n  fv c_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>c_,(aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(ab___, bb___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>while (e_) c_,\n                  (ab___, bb___)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>3_,(a_, b_)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>while (e_) c_,\n                  (ab___, bb___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>3_,(a_, b_ |` ?W)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (e_) c_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>e\\<^sub>3_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.WhileT)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (e_) c_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>3_,(a_, b_ |` W)\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 9. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 10. \\<And>e a b v aa ba es es' ab bb W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fvs es \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,\n                            (aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es',(ab, bb |` W)\\<rangle>;\n         fvs (e # es) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    (a, b |` W)\\<rangle> [\\<Rightarrow>]\n   \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 9. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 10. \\<And>e a b v aa ba es es' ab bb W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fvs es \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,\n                            (aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es',(ab, bb |` W)\\<rangle>;\n         fvs (e # es) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    (a, b |` W)\\<rangle> [\\<Rightarrow>]\n   \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\nA total of 11 subgoals...", "case WhileCondThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> W\n\ngoal (11 subgoals):\n 1. \\<And>e a b e' aa ba c W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 4. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 8. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 9. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 10. \\<And>e a b v aa ba es es' ab bb W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v,(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n         P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',(ab, bb)\\<rangle>;\n         \\<And>W.\n            fvs es \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,\n                            (aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es',(ab, bb |` W)\\<rangle>;\n         fvs (e # es) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    (a, b |` W)\\<rangle> [\\<Rightarrow>]\n   \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (e_) c_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.WhileCondThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (e_) c_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (10 subgoals):\n 1. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 8. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 9. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba es W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fvs (e # es) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    (a, b |` W)\\<rangle> [\\<Rightarrow>]\n   \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 8. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 9. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba es W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fvs (e # es) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    (a, b |` W)\\<rangle> [\\<Rightarrow>]\n   \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case WhileBodyThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>c_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv c_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>c_,(aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> W\n\ngoal (10 subgoals):\n 1. \\<And>e a b aa ba c e' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>true,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>true,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>c,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>throw e',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fv c \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>c,(aa, ba |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(ab, bb |` W)\\<rangle>;\n        fv (while (e) c) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>while (e) c,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 3. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 7. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 8. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 9. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 10. \\<And>e a b e' aa ba es W.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>throw e',(aa, ba)\\<rangle>;\n         \\<And>W.\n            fv e \\<subseteq> W \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                           \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n         fvs (e # es) \\<subseteq> W\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    (a, b |` W)\\<rangle> [\\<Rightarrow>]\n   \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>true,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>c_,(aa___, ba___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv c_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>c_,(aa___, ba___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (while (e_) c_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (e_) c_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.WhileBodyThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (e_) c_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (9 subgoals):\n 1. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 7. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 8. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 7. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 8. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case Throw"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_ |` ?W)\\<rangle>\n  fv (throw e_) \\<subseteq> W\n\ngoal (9 subgoals):\n 1. \\<And>e a b aa ab ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(ab, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>addr aa,(ab, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(ab, ba |` W)\\<rangle>\n 2. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 6. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 7. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 8. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 9. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>addr aa___,(a_, b_ |` ?W)\\<rangle>\n  fv (throw e_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>Throw aa___,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.Throw)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,(a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw aa___,(a_, b_ |` W)\\<rangle>\n\ngoal (8 subgoals):\n 1. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 6. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 7. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 6. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 7. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case ThrowNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_ |` ?W)\\<rangle>\n  fv (throw e_) \\<subseteq> W\n\ngoal (8 subgoals):\n 1. \\<And>e a b aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>null,(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>THROW NullPointer,(aa, ba |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 5. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 6. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 7. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 8. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>null,(a_, b_ |` ?W)\\<rangle>\n  fv (throw e_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>THROW NullPointer,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.ThrowNull)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,(a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>THROW NullPointer,(a_, b_ |` W)\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 5. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 6. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 5. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 6. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case ThrowThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (throw e_) \\<subseteq> W\n\ngoal (7 subgoals):\n 1. \\<And>e a b e' aa ba W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fv (throw e) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   (a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>throw e',(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 4. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 5. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 6. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 7. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fv (throw e_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.ThrowThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,(a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` W)\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 4. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 5. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 4. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 5. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case Try"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(a_, b_ |` ?W)\\<rangle>\n  fv (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_) \\<subseteq> W\n\ngoal (6 subgoals):\n 1. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Val v\\<^sub>1,(aa, ba |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 3. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 4. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 5. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 6. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(a_, b_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,\n                  (a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(a_, b_ |` ?W)\\<rangle>\n  fv (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                    (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>Val v\\<^sub>1_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.Try)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                  (a___, b___ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v\\<^sub>1_,(a_, b_ |` W)\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 3. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 3. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case (TryCatch e\\<^sub>1 h\\<^sub>0 l\\<^sub>0 a h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2' h\\<^sub>2 l\\<^sub>2)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>0, l\\<^sub>0)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1)\\<rangle>\n  fv e\\<^sub>1 \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>0, l\\<^sub>0 |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1 |` ?W)\\<rangle>\n  h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                   Addr a))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  fv e\\<^sub>2 \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1,\n                   l\\<^sub>1(V \\<mapsto> Addr a) |`\n                   ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2 |` ?W)\\<rangle>\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 3. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "have IH\\<^sub>1: \"\\<And>W. fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>1,(h\\<^sub>0,l\\<^sub>0|`W)\\<rangle> \\<Rightarrow> \\<langle>Throw a,(h\\<^sub>1,l\\<^sub>1|`W)\\<rangle>\"\n   and IH\\<^sub>2: \"\\<And>W. fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<^sub>2,(h\\<^sub>1,l\\<^sub>1(V\\<mapsto>Addr a)|`W)\\<rangle> \\<Rightarrow> \\<langle>e\\<^sub>2',(h\\<^sub>2,l\\<^sub>2|`W)\\<rangle>\"\n   and lookup: \"h\\<^sub>1 a = Some(D, fs)\" and subtype: \"P \\<turnstile> D \\<preceq>\\<^sup>* C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>W.\n         fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n         P \\<turnstile> \\<langle>e\\<^sub>1,\n                         (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                        \\<langle>Throw a,\n                         (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>) &&&\n     (\\<And>W.\n         fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n         P \\<turnstile> \\<langle>e\\<^sub>2,\n                         (h\\<^sub>1,\n                          l\\<^sub>1(V \\<mapsto> Addr a) |`\n                          W)\\<rangle> \\<Rightarrow>\n                        \\<langle>e\\<^sub>2',\n                         (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>)) &&&\n    h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor> &&&\n    P \\<turnstile> D \\<preceq>\\<^sup>* C", "by fact+"], ["proof (state)\nthis:\n  fv e\\<^sub>1 \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1,\n                  (h\\<^sub>0, l\\<^sub>0 |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h\\<^sub>1, l\\<^sub>1 |` ?W)\\<rangle>\n  fv e\\<^sub>2 \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1,\n                   l\\<^sub>1(V \\<mapsto> Addr a) |`\n                   ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2 |` ?W)\\<rangle>\n  h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 3. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "have \"fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W", "by fact"], ["proof (state)\nthis:\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 3. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "hence fv\\<^sub>1: \"fv e\\<^sub>1 \\<subseteq> W\" and fv\\<^sub>2: \"fv e\\<^sub>2 \\<subseteq> insert V W\""], ["proof (prove)\nusing this:\n  fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. fv e\\<^sub>1 \\<subseteq> W &&& fv e\\<^sub>2 \\<subseteq> insert V W", "by auto"], ["proof (state)\nthis:\n  fv e\\<^sub>1 \\<subseteq> W\n  fv e\\<^sub>2 \\<subseteq> insert V W\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 3. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "have IH\\<^sub>2': \"P \\<turnstile> \\<langle>e\\<^sub>2,(h\\<^sub>1,(l\\<^sub>1|`W)(V \\<mapsto> Addr a))\\<rangle> \\<Rightarrow> \\<langle>e\\<^sub>2',(h\\<^sub>2,l\\<^sub>2|`insert V W)\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>2,\n                    (h\\<^sub>1, (l\\<^sub>1 |` W)(V \\<mapsto>\n                     Addr a))\\<rangle> \\<Rightarrow>\n                   \\<langle>e\\<^sub>2',\n                    (h\\<^sub>2, l\\<^sub>2 |` insert V W)\\<rangle>", "using IH\\<^sub>2[OF fv\\<^sub>2] fun_upd_restrict[of l\\<^sub>1 W]"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1,\n                   l\\<^sub>1(V \\<mapsto> Addr a) |`\n                   insert V W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',\n                  (h\\<^sub>2, l\\<^sub>2 |` insert V W)\\<rangle>\n  (l\\<^sub>1 |` W)(?x := ?y) = (l\\<^sub>1 |` (W - {?x}))(?x := ?y)\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>2,\n                    (h\\<^sub>1, (l\\<^sub>1 |` W)(V \\<mapsto>\n                     Addr a))\\<rangle> \\<Rightarrow>\n                   \\<langle>e\\<^sub>2',\n                    (h\\<^sub>2, l\\<^sub>2 |` insert V W)\\<rangle>", "(*FIXME just l|W instead of l|(W-V) in simp rule??*)"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1,\n                   l\\<^sub>1(V \\<mapsto> Addr a) |`\n                   insert V W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',\n                  (h\\<^sub>2, l\\<^sub>2 |` insert V W)\\<rangle>\n  (l\\<^sub>1 |` W)(?x := ?y) = (l\\<^sub>1 |` (W - {?x}))(?x := ?y)\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<^sub>2,\n                    (h\\<^sub>1, (l\\<^sub>1 |` W)(V \\<mapsto>\n                     Addr a))\\<rangle> \\<Rightarrow>\n                   \\<langle>e\\<^sub>2',\n                    (h\\<^sub>2, l\\<^sub>2 |` insert V W)\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, (l\\<^sub>1 |` W)(V \\<mapsto>\n                   Addr a))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',\n                  (h\\<^sub>2, l\\<^sub>2 |` insert V W)\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C e\\<^sub>2 V e\\<^sub>2'\n       h\\<^sub>2 l\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>e\\<^sub>2,\n                        (h\\<^sub>1, l\\<^sub>1(V \\<mapsto>\n                         Addr aa))\\<rangle> \\<Rightarrow>\n                       \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>2 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>2,\n                           (h\\<^sub>1,\n                            l\\<^sub>1(V \\<mapsto> Addr aa) |`\n                            W)\\<rangle> \\<Rightarrow>\n                          \\<langle>e\\<^sub>2',\n                           (h\\<^sub>2, l\\<^sub>2 |` W)\\<rangle>;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>e\\<^sub>2',(h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n 2. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 3. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 4. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 5. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "with eval_evals.TryCatch[OF IH\\<^sub>1[OF fv\\<^sub>1] _ subtype IH\\<^sub>2'] lookup"], ["proof (chain)\npicking this:\n  h\\<^sub>1 a = \\<lfloor>(D, ?fs)\\<rfloor> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>try e\\<^sub>1 catch(C V) e\\<^sub>2,\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',\n                  (h\\<^sub>2, (l\\<^sub>2 |` insert V W)\n                   (V := (l\\<^sub>1 |` W) V))\\<rangle>\n  h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, (l\\<^sub>1 |` W)(V \\<mapsto>\n                   Addr a))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',\n                  (h\\<^sub>2, l\\<^sub>2 |` insert V W)\\<rangle>", "show ?case"], ["proof (prove)\nusing this:\n  h\\<^sub>1 a = \\<lfloor>(D, ?fs)\\<rfloor> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>try e\\<^sub>1 catch(C V) e\\<^sub>2,\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',\n                  (h\\<^sub>2, (l\\<^sub>2 |` insert V W)\n                   (V := (l\\<^sub>1 |` W) V))\\<rangle>\n  h\\<^sub>1 a = \\<lfloor>(D, fs)\\<rfloor>\n  P \\<turnstile> \\<langle>e\\<^sub>2,\n                  (h\\<^sub>1, (l\\<^sub>1 |` W)(V \\<mapsto>\n                   Addr a))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',\n                  (h\\<^sub>2, l\\<^sub>2 |` insert V W)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try e\\<^sub>1 catch(C V) e\\<^sub>2,\n                    (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>e\\<^sub>2',\n                    (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>", "by fastforce"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try e\\<^sub>1 catch(C V) e\\<^sub>2,\n                  (h\\<^sub>0, l\\<^sub>0 |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2',\n                  (h\\<^sub>2, l\\<^sub>2(V := l\\<^sub>1 V) |` W)\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 2. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 3. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 2. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 3. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case TryThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_ |` ?W)\\<rangle>\n  h\\<^sub>1_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  (D_, C_) \\<notin> (subcls1 P)\\<^sup>*\n  fv (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_) \\<subseteq> W\n\ngoal (4 subgoals):\n 1. \\<And>e\\<^sub>1 a b aa h\\<^sub>1 l\\<^sub>1 D fs C V e\\<^sub>2 W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Throw aa,\n                                (h\\<^sub>1, l\\<^sub>1)\\<rangle>;\n        \\<And>W.\n           fv e\\<^sub>1 \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e\\<^sub>1,\n                           (a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Throw aa,\n                           (h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>;\n        h\\<^sub>1 aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        fv (try e\\<^sub>1 catch(C V) e\\<^sub>2) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e\\<^sub>1\n   catch(C V) e\\<^sub>2,(a, b |` W)\\<rangle> \\<Rightarrow>\n  \\<langle>Throw aa,(h\\<^sub>1, l\\<^sub>1 |` W)\\<rangle>\n 2. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 3. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 4. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  fv e\\<^sub>1_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b_ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_ |` ?W)\\<rangle>\n  h\\<^sub>1_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  (D_, C_) \\<notin> (subcls1 P)\\<^sup>*\n  fv (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                    (a___, b_ |` W)\\<rangle> \\<Rightarrow>\n                   \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.TryThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_,\n                  (a___, b_ |` W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_ |` W)\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 2. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 2. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case Nil"], ["proof (state)\nthis:\n  fvs [] \\<subseteq> W\n\ngoal (3 subgoals):\n 1. \\<And>a b W.\n       fvs [] \\<subseteq> W \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],(a, b |` W)\\<rangle> [\\<Rightarrow>]\n                      \\<langle>[],(a, b |` W)\\<rangle>\n 2. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 3. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  fvs [] \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>[],(a_, b_ |` W)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>[],(a_, b_ |` W)\\<rangle>", "by (simp add: eval_evals.Nil)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>[],(a_, b_ |` W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>[],(a_, b_ |` W)\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case Cons"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>es_,(aa___, ba___)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es'_,(a_, b_)\\<rangle>\n  fvs es_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es_,(aa___, ba___ |` ?W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es'_,(a_, b_ |` ?W)\\<rangle>\n  fvs (e_ # es_) \\<subseteq> W\n\ngoal (2 subgoals):\n 1. \\<And>e a b v aa ba es es' ab bb W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v,(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>Val v,(aa, ba |` W)\\<rangle>;\n        P \\<turnstile> \\<langle>es,(aa, ba)\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',(ab, bb)\\<rangle>;\n        \\<And>W.\n           fvs es \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,(aa, ba |` W)\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es',(ab, bb |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>Val v # es',(ab, bb |` W)\\<rangle>\n 2. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(aa___, ba___ |` ?W)\\<rangle>\n  P \\<turnstile> \\<langle>es_,(aa___, ba___)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es'_,(a_, b_)\\<rangle>\n  fvs es_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es_,(aa___, ba___ |` ?W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es'_,(a_, b_ |` ?W)\\<rangle>\n  fvs (e_ # es_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_ # es_,\n                    (a___, b___ |` W)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>Val v_ # es'_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.Cons)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_ # es_,\n                  (a___, b___ |` W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>Val v_ # es'_,(a_, b_ |` W)\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "case ConsThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fvs (e_ # es_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. \\<And>e a b e' aa ba es W.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>W.\n           fv e \\<subseteq> W \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,(a, b |` W)\\<rangle> \\<Rightarrow>\n                          \\<langle>throw e',(aa, ba |` W)\\<rangle>;\n        fvs (e # es) \\<subseteq> W\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   (a, b |` W)\\<rangle> [\\<Rightarrow>]\n  \\<langle>throw e' # es,(aa, ba |` W)\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a___, b___)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_)\\<rangle>\n  fv e_ \\<subseteq> ?W \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(a___, b___ |` ?W)\\<rangle> \\<Rightarrow>\n                 \\<langle>throw e'_,(a_, b_ |` ?W)\\<rangle>\n  fvs (e_ # es_) \\<subseteq> W\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_ # es_,\n                    (a___, b___ |` W)\\<rangle> [\\<Rightarrow>]\n                   \\<langle>throw e'_ # es_,(a_, b_ |` W)\\<rangle>", "by simp (blast intro: eval_evals.ConsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_ # es_,\n                  (a___, b___ |` W)\\<rangle> [\\<Rightarrow>]\n                 \\<langle>throw e'_ # es_,(a_, b_ |` W)\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma eval_notfree_unchanged:\n  \"P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle> \\<Longrightarrow> (\\<And>V. V \\<notin> fv e \\<Longrightarrow> l' V = l V)\"\nand \"P \\<turnstile> \\<langle>es,(h,l)\\<rangle> [\\<Rightarrow>] \\<langle>es',(h',l')\\<rangle> \\<Longrightarrow> (\\<And>V. V \\<notin> fvs es \\<Longrightarrow> l' V = l V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                    \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>V. V \\<notin> fv e \\<Longrightarrow> l' V = l V)) &&&\n    (P \\<turnstile> \\<langle>es,(h, l)\\<rangle> [\\<Rightarrow>]\n                    \\<langle>es',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>V. V \\<notin> fvs es \\<Longrightarrow> l' V = l V))", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                    \\<langle>e',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>V. V \\<notin> fv e \\<Longrightarrow> l' V = l V)) &&&\n    (P \\<turnstile> \\<langle>es,(h, l)\\<rangle> [\\<Rightarrow>]\n                    \\<langle>es',(h', l')\\<rangle> \\<Longrightarrow>\n     (\\<And>V. V \\<notin> fvs es \\<Longrightarrow> l' V = l V))", "proof(induct rule:eval_evals_inducts)"], ["proof (state)\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l V.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 2. \\<And>h C l V.\n       \\<lbrakk>new_Addr h = None; V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 3. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 4. \\<And>e a b aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 5. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 6. \\<And>e a b e' aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 7. \\<And>v a b V. V \\<notin> fv (Val v) \\<Longrightarrow> b V = b V\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> bb V = b V\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n         V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> bb V = b V\nA total of 43 subgoals...", "case LAss"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(a_, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n  ?V \\<notin> fv e_ \\<Longrightarrow> l_ ?V = b_ ?V\n  l'_ = l_(V_ \\<mapsto> v_)\n  V \\<notin> fv (V_:=e_)\n\ngoal (43 subgoals):\n 1. \\<And>h a C FDTs h' l V.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 2. \\<And>h C l V.\n       \\<lbrakk>new_Addr h = None; V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 3. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 4. \\<And>e a b aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 5. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 6. \\<And>e a b e' aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 7. \\<And>v a b V. V \\<notin> fv (Val v) \\<Longrightarrow> b V = b V\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> bb V = b V\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n         V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> bb V = b V\nA total of 43 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(a_, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v_,(h_, l_)\\<rangle>\n  ?V \\<notin> fv e_ \\<Longrightarrow> l_ ?V = b_ ?V\n  l'_ = l_(V_ \\<mapsto> v_)\n  V \\<notin> fv (V_:=e_)\n\ngoal (1 subgoal):\n 1. l'_ V = b_ V", "by(simp add:fun_upd_apply)"], ["proof (state)\nthis:\n  l'_ V = b_ V\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l V.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 2. \\<And>h C l V.\n       \\<lbrakk>new_Addr h = None; V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 3. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 4. \\<And>e a b aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 5. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 6. \\<And>e a b e' aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 7. \\<And>v a b V. V \\<notin> fv (Val v) \\<Longrightarrow> b V = b V\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> bb V = b V\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n         V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> bb V = b V\nA total of 42 subgoals...", "next"], ["proof (state)\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l V.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 2. \\<And>h C l V.\n       \\<lbrakk>new_Addr h = None; V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 3. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 4. \\<And>e a b aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 5. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 6. \\<And>e a b e' aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 7. \\<And>v a b V. V \\<notin> fv (Val v) \\<Longrightarrow> b V = b V\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> bb V = b V\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n         V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> bb V = b V\nA total of 42 subgoals...", "case Block"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (h\\<^sub>0_, l\\<^sub>0_\n                   (V_ := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  ?V \\<notin> fv e\\<^sub>0_ \\<Longrightarrow>\n  l\\<^sub>1_ ?V = (l\\<^sub>0_(V_ := None)) ?V\n  V \\<notin> fv {V_:T_; e\\<^sub>0_}\n\ngoal (42 subgoals):\n 1. \\<And>h a C FDTs h' l V.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 2. \\<And>h C l V.\n       \\<lbrakk>new_Addr h = None; V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 3. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 4. \\<And>e a b aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 5. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 6. \\<And>e a b e' aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 7. \\<And>v a b V. V \\<notin> fv (Val v) \\<Longrightarrow> b V = b V\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> bb V = b V\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n         V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> bb V = b V\nA total of 42 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>0_,\n                  (h\\<^sub>0_, l\\<^sub>0_\n                   (V_ := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>1_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  ?V \\<notin> fv e\\<^sub>0_ \\<Longrightarrow>\n  l\\<^sub>1_ ?V = (l\\<^sub>0_(V_ := None)) ?V\n  V \\<notin> fv {V_:T_; e\\<^sub>0_}\n\ngoal (1 subgoal):\n 1. (l\\<^sub>1_(V_ := l\\<^sub>0_ V_)) V = l\\<^sub>0_ V", "by (simp only:fun_upd_apply split:if_splits) fastforce"], ["proof (state)\nthis:\n  (l\\<^sub>1_(V_ := l\\<^sub>0_ V_)) V = l\\<^sub>0_ V\n\ngoal (41 subgoals):\n 1. \\<And>h a C FDTs h' l V.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 2. \\<And>h C l V.\n       \\<lbrakk>new_Addr h = None; V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 3. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 4. \\<And>e a b aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 5. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 6. \\<And>e a b e' aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 7. \\<And>v a b V. V \\<notin> fv (Val v) \\<Longrightarrow> b V = b V\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> bb V = b V\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n         V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> bb V = b V\nA total of 41 subgoals...", "next"], ["proof (state)\ngoal (41 subgoals):\n 1. \\<And>h a C FDTs h' l V.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 2. \\<And>h C l V.\n       \\<lbrakk>new_Addr h = None; V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 3. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 4. \\<And>e a b aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 5. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 6. \\<And>e a b e' aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 7. \\<And>v a b V. V \\<notin> fv (Val v) \\<Longrightarrow> b V = b V\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> bb V = b V\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n         V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> bb V = b V\nA total of 41 subgoals...", "case TryCatch"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  ?V \\<notin> fv e\\<^sub>1_ \\<Longrightarrow> l\\<^sub>1_ ?V = b_ ?V\n  h\\<^sub>1_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (h\\<^sub>1_, l\\<^sub>1_(V_ \\<mapsto>\n                   Addr a_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2'_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  ?V \\<notin> fv e\\<^sub>2_ \\<Longrightarrow>\n  l\\<^sub>2_ ?V = (l\\<^sub>1_(V_ \\<mapsto> Addr a_)) ?V\n  V \\<notin> fv (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_)\n\ngoal (41 subgoals):\n 1. \\<And>h a C FDTs h' l V.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 2. \\<And>h C l V.\n       \\<lbrakk>new_Addr h = None; V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 3. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 4. \\<And>e a b aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 5. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 6. \\<And>e a b e' aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 7. \\<And>v a b V. V \\<notin> fv (Val v) \\<Longrightarrow> b V = b V\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> bb V = b V\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n         V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> bb V = b V\nA total of 41 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,(a___, b_)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a_,(h\\<^sub>1_, l\\<^sub>1_)\\<rangle>\n  ?V \\<notin> fv e\\<^sub>1_ \\<Longrightarrow> l\\<^sub>1_ ?V = b_ ?V\n  h\\<^sub>1_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  P \\<turnstile> \\<langle>e\\<^sub>2_,\n                  (h\\<^sub>1_, l\\<^sub>1_(V_ \\<mapsto>\n                   Addr a_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e\\<^sub>2'_,(h\\<^sub>2_, l\\<^sub>2_)\\<rangle>\n  ?V \\<notin> fv e\\<^sub>2_ \\<Longrightarrow>\n  l\\<^sub>2_ ?V = (l\\<^sub>1_(V_ \\<mapsto> Addr a_)) ?V\n  V \\<notin> fv (try e\\<^sub>1_ catch(C_ V_) e\\<^sub>2_)\n\ngoal (1 subgoal):\n 1. (l\\<^sub>2_(V_ := l\\<^sub>1_ V_)) V = b_ V", "by (simp only:fun_upd_apply split:if_splits) fastforce"], ["proof (state)\nthis:\n  (l\\<^sub>2_(V_ := l\\<^sub>1_ V_)) V = b_ V\n\ngoal (40 subgoals):\n 1. \\<And>h a C FDTs h' l V.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 2. \\<And>h C l V.\n       \\<lbrakk>new_Addr h = None; V \\<notin> fv (new C)\\<rbrakk>\n       \\<Longrightarrow> l V = l V\n 3. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 4. \\<And>e a b aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>null,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 5. \\<And>e a b aa h l D fs C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>addr aa,(h, l)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> l V = b V;\n        h aa = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> l V = b V\n 6. \\<And>e a b e' aa ba C V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,(a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e',(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (Cast C e)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 7. \\<And>v a b V. V \\<notin> fv (Val v) \\<Longrightarrow> b V = b V\n 8. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 v\\<^sub>2 ab bb bop v V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                       \\<langle>Val v\\<^sub>2,(ab, bb)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n        binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> bb V = b V\n 9. \\<And>e\\<^sub>1 a b e aa ba bop e\\<^sub>2 V.\n       \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                (a, b)\\<rangle> \\<Rightarrow>\n                               \\<langle>throw e,(aa, ba)\\<rangle>;\n        \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n        V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> ba V = b V\n 10. \\<And>e\\<^sub>1 a b v\\<^sub>1 aa ba e\\<^sub>2 e ab bb bop V.\n        \\<lbrakk>P \\<turnstile> \\<langle>e\\<^sub>1,\n                                 (a, b)\\<rangle> \\<Rightarrow>\n                                \\<langle>Val v\\<^sub>1,(aa, ba)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>1 \\<Longrightarrow> ba V = b V;\n         P \\<turnstile> \\<langle>e\\<^sub>2,(aa, ba)\\<rangle> \\<Rightarrow>\n                        \\<langle>throw e,(ab, bb)\\<rangle>;\n         \\<And>V. V \\<notin> fv e\\<^sub>2 \\<Longrightarrow> bb V = ba V;\n         V \\<notin> fv (e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2)\\<rbrakk>\n        \\<Longrightarrow> bb V = b V\nA total of 40 subgoals...", "qed simp_all"], ["", "(*>*)"], ["", "lemma eval_closed_lcl_unchanged:\n  \"\\<lbrakk> P \\<turnstile> \\<langle>e,(h,l)\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle>; fv e = {} \\<rbrakk> \\<Longrightarrow> l' = l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                            \\<langle>e',(h', l')\\<rangle>;\n     fv e = {}\\<rbrakk>\n    \\<Longrightarrow> l' = l", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,(h, l)\\<rangle> \\<Rightarrow>\n                            \\<langle>e',(h', l')\\<rangle>;\n     fv e = {}\\<rbrakk>\n    \\<Longrightarrow> l' = l", "by(fastforce dest:eval_notfree_unchanged simp add:fun_eq_iff [where 'b=\"val option\"])"], ["", "(*>*)"], ["", "lemma list_eval_Throw: \nassumes eval_e: \"P \\<turnstile> \\<langle>throw x,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\"\nshows \"P \\<turnstile> \\<langle>map Val vs @ throw x # es',s\\<rangle> [\\<Rightarrow>] \\<langle>map Val vs @ e' # es',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                    s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                    s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                    s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "from eval_e"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>throw x,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "obtain a where e': \"e' = Throw a\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw x,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>a. e' = Throw a \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases) (auto dest!: eval_final)"], ["proof (state)\nthis:\n  e' = Throw a\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                    s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "{"], ["proof (state)\nthis:\n  e' = Throw a\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                    s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "fix es"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                    s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "have \"\\<And>vs. es = map Val vs @ throw x # es' \n           \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle>[\\<Rightarrow>]\\<langle>map Val vs @ e' # es',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>vs.\n       es = map Val vs @ throw x # es' \\<Longrightarrow>\n       P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "proof (induct es type: list)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>vs.\n       [] = map Val vs @ throw x # es' \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>\n 2. \\<And>a list vs.\n       \\<lbrakk>\\<And>vs.\n                   list = map Val vs @ throw x # es' \\<Longrightarrow>\n                   P \\<turnstile> \\<langle>list,s\\<rangle> [\\<Rightarrow>]\n                                  \\<langle>map Val vs @ e' # es',\n                                   s'\\<rangle>;\n        a # list = map Val vs @ throw x # es'\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a # list,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>map Val vs @ e' # es',s'\\<rangle>", "case Nil"], ["proof (state)\nthis:\n  [] = map Val vs @ throw x # es'\n\ngoal (2 subgoals):\n 1. \\<And>vs.\n       [] = map Val vs @ throw x # es' \\<Longrightarrow>\n       P \\<turnstile> \\<langle>[],s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>\n 2. \\<And>a list vs.\n       \\<lbrakk>\\<And>vs.\n                   list = map Val vs @ throw x # es' \\<Longrightarrow>\n                   P \\<turnstile> \\<langle>list,s\\<rangle> [\\<Rightarrow>]\n                                  \\<langle>map Val vs @ e' # es',\n                                   s'\\<rangle>;\n        a # list = map Val vs @ throw x # es'\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a # list,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>map Val vs @ e' # es',s'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  [] = map Val vs @ throw x # es'\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>[],s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>[],s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ e' # es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a list vs.\n       \\<lbrakk>\\<And>vs.\n                   list = map Val vs @ throw x # es' \\<Longrightarrow>\n                   P \\<turnstile> \\<langle>list,s\\<rangle> [\\<Rightarrow>]\n                                  \\<langle>map Val vs @ e' # es',\n                                   s'\\<rangle>;\n        a # list = map Val vs @ throw x # es'\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a # list,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>map Val vs @ e' # es',s'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list vs.\n       \\<lbrakk>\\<And>vs.\n                   list = map Val vs @ throw x # es' \\<Longrightarrow>\n                   P \\<turnstile> \\<langle>list,s\\<rangle> [\\<Rightarrow>]\n                                  \\<langle>map Val vs @ e' # es',\n                                   s'\\<rangle>;\n        a # list = map Val vs @ throw x # es'\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a # list,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>map Val vs @ e' # es',s'\\<rangle>", "case (Cons e es vs)"], ["proof (state)\nthis:\n  es = map Val ?vs @ throw x # es' \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val ?vs @ e' # es',s'\\<rangle>\n  e # es = map Val vs @ throw x # es'\n\ngoal (1 subgoal):\n 1. \\<And>a list vs.\n       \\<lbrakk>\\<And>vs.\n                   list = map Val vs @ throw x # es' \\<Longrightarrow>\n                   P \\<turnstile> \\<langle>list,s\\<rangle> [\\<Rightarrow>]\n                                  \\<langle>map Val vs @ e' # es',\n                                   s'\\<rangle>;\n        a # list = map Val vs @ throw x # es'\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a # list,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>map Val vs @ e' # es',s'\\<rangle>", "have e_es: \"e # es = map Val vs @ throw x # es'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e # es = map Val vs @ throw x # es'", "by fact"], ["proof (state)\nthis:\n  e # es = map Val vs @ throw x # es'\n\ngoal (1 subgoal):\n 1. \\<And>a list vs.\n       \\<lbrakk>\\<And>vs.\n                   list = map Val vs @ throw x # es' \\<Longrightarrow>\n                   P \\<turnstile> \\<langle>list,s\\<rangle> [\\<Rightarrow>]\n                                  \\<langle>map Val vs @ e' # es',\n                                   s'\\<rangle>;\n        a # list = map Val vs @ throw x # es'\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a # list,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>map Val vs @ e' # es',s'\\<rangle>", "show \"P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>] \\<langle>map Val vs @ e' # es',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "proof (cases vs)"], ["proof (state)\ngoal (2 subgoals):\n 1. vs = [] \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>\n 2. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "case Nil"], ["proof (state)\nthis:\n  vs = []\n\ngoal (2 subgoals):\n 1. vs = [] \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>\n 2. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "with e_es"], ["proof (chain)\npicking this:\n  e # es = map Val vs @ throw x # es'\n  vs = []", "obtain \"e=throw x\" \"es=es'\""], ["proof (prove)\nusing this:\n  e # es = map Val vs @ throw x # es'\n  vs = []\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>e = throw x; es = es'\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  e = throw x\n  es = es'\n\ngoal (2 subgoals):\n 1. vs = [] \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>\n 2. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  e = throw x\n  es = es'\n\ngoal (2 subgoals):\n 1. vs = [] \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>\n 2. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "from eval_e e'"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>throw x,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n  e' = Throw a", "have \"P \\<turnstile> \\<langle>throw x # es,s\\<rangle> [\\<Rightarrow>] \\<langle>Throw a # es,s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw x,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n  e' = Throw a\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw x # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>Throw a # es,s'\\<rangle>", "by (iprover intro: ConsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw x # es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>Throw a # es,s'\\<rangle>\n\ngoal (2 subgoals):\n 1. vs = [] \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>\n 2. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  e = throw x\n  es = es'\n  P \\<turnstile> \\<langle>throw x # es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>Throw a # es,s'\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  e = throw x\n  es = es'\n  P \\<turnstile> \\<langle>throw x # es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>Throw a # es,s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "using Nil e'"], ["proof (prove)\nusing this:\n  e = throw x\n  es = es'\n  P \\<turnstile> \\<langle>throw x # es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>Throw a # es,s'\\<rangle>\n  vs = []\n  e' = Throw a\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ e' # es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "case (Cons v vs')"], ["proof (state)\nthis:\n  vs = v # vs'\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "have vs: \"vs = v # vs'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vs = v # vs'", "by fact"], ["proof (state)\nthis:\n  vs = v # vs'\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "with e_es"], ["proof (chain)\npicking this:\n  e # es = map Val vs @ throw x # es'\n  vs = v # vs'", "obtain \n          e: \"e=Val v\" and es:\"es= map Val vs' @ throw x # es'\""], ["proof (prove)\nusing this:\n  e # es = map Val vs @ throw x # es'\n  vs = v # vs'\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>e = Val v; es = map Val vs' @ throw x # es'\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  e = Val v\n  es = map Val vs' @ throw x # es'\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "from e"], ["proof (chain)\npicking this:\n  e = Val v", "have \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>Val v,s\\<rangle>\""], ["proof (prove)\nusing this:\n  e = Val v\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>Val v,s\\<rangle>", "by (iprover intro: eval_evals.Val)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,s\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,s\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "from es"], ["proof (chain)\npicking this:\n  es = map Val vs' @ throw x # es'", "have \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>] \\<langle>map Val vs' @ e' # es',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  es = map Val vs' @ throw x # es'\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs' @ e' # es',s'\\<rangle>", "by (rule Cons.hyps)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs' @ e' # es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       vs = a # list \\<Longrightarrow>\n       P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                      \\<langle>map Val vs @ e' # es',s'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,s\\<rangle>\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs' @ e' # es',s'\\<rangle>", "show \n          \"P \\<turnstile> \\<langle>e#es,s\\<rangle> [\\<Rightarrow>] \\<langle>map Val vs @ e' # es',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,s\\<rangle>\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs' @ e' # es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "using vs"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,s\\<rangle>\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs' @ e' # es',s'\\<rangle>\n  vs = v # vs'\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "by (auto intro: eval_evals.Cons)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ e' # es',s'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e # es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ e' # es',s'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  es = map Val ?vs @ throw x # es' \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val ?vs @ e' # es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                    s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "}"], ["proof (state)\nthis:\n  ?es3 = map Val ?vs @ throw x # es' \\<Longrightarrow>\n  P \\<turnstile> \\<langle>?es3,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val ?vs @ e' # es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                    s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?es3 = map Val ?vs @ throw x # es' \\<Longrightarrow>\n  P \\<turnstile> \\<langle>?es3,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val ?vs @ e' # es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                    s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ e' # es',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>map Val vs @ throw x # es',\n                  s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ e' # es',s'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)\n(* Hiermit kann man die ganze pair-Splitterei in den automatischen Taktiken\nabschalten. Wieder anschalten siehe nach dem Beweis. *)\n(*<*)"], ["", "declare split_paired_All [simp del] split_paired_Ex [simp del]"], ["", "(*>*)\n(* FIXME\n exercise 1: define a big step semantics where the body of a procedure can\n access not juts this and pns but all of the enclosing l. What exactly is fed\n in? What exactly is returned at the end? Notion: \"dynamic binding\"\n\n  excercise 2: the semantics of exercise 1 is closer to the small step\n  semantics. Reformulate equivalence proof by modifying call lemmas.\n*)"], ["", "text \\<open>The key lemma:\\<close>"], ["", "lemma\nassumes wf: \"wwf_J_prog P\"\nshows extend_1_eval:\n  \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow> \\<langle>e'',s''\\<rangle> \\<Longrightarrow>  (\\<And>s' e'. P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>)\"\nand extend_1_evals:\n  \"P \\<turnstile> \\<langle>es,t\\<rangle> [\\<rightarrow>] \\<langle>es'',t''\\<rangle> \\<Longrightarrow> (\\<And>t' es'. P \\<turnstile> \\<langle>es'',t''\\<rangle> [\\<Rightarrow>] \\<langle>es',t'\\<rangle> \\<Longrightarrow> P \\<turnstile> \\<langle>es,t\\<rangle> [\\<Rightarrow>] \\<langle>es',t'\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                    \\<langle>e'',s''\\<rangle> \\<Longrightarrow>\n     (\\<And>s' e'.\n         P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n         P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>)) &&&\n    (P \\<turnstile> \\<langle>es,t\\<rangle> [\\<rightarrow>]\n                    \\<langle>es'',t''\\<rangle> \\<Longrightarrow>\n     (\\<And>t' es'.\n         P \\<turnstile> \\<langle>es'',t''\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',t'\\<rangle> \\<Longrightarrow>\n         P \\<turnstile> \\<langle>es,t\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',t'\\<rangle>))", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                    \\<langle>e'',s''\\<rangle> \\<Longrightarrow>\n     (\\<And>s' e'.\n         P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n         P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>)) &&&\n    (P \\<turnstile> \\<langle>es,t\\<rangle> [\\<rightarrow>]\n                    \\<langle>es'',t''\\<rangle> \\<Longrightarrow>\n     (\\<And>t' es'.\n         P \\<turnstile> \\<langle>es'',t''\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',t'\\<rangle> \\<Longrightarrow>\n         P \\<turnstile> \\<langle>es,t\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',t'\\<rangle>))", "proof (induct rule: red_reds.inducts)"], ["proof (state)\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "case (RedCall s a C fs M Ts T pns body D vs s' e')"], ["proof (state)\nthis:\n  hp s a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  length Ts = length pns\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "have \"P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow> \\<langle>addr a,s\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                   \\<langle>addr a,s\\<rangle>", "by (rule eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,s\\<rangle>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "moreover"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,s\\<rangle>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "have finals: \"finals(map Val vs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finals (map Val vs)", "by simp"], ["proof (state)\nthis:\n  finals (map Val vs)\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "obtain h\\<^sub>2 l\\<^sub>2 where s: \"s = (h\\<^sub>2,l\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>h\\<^sub>2 l\\<^sub>2.\n        s = (h\\<^sub>2, l\\<^sub>2) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (cases s)"], ["proof (state)\nthis:\n  s = (h\\<^sub>2, l\\<^sub>2)\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "with finals"], ["proof (chain)\npicking this:\n  finals (map Val vs)\n  s = (h\\<^sub>2, l\\<^sub>2)", "have \"P \\<turnstile> \\<langle>map Val vs,s\\<rangle> [\\<Rightarrow>] \\<langle>map Val vs,(h\\<^sub>2,l\\<^sub>2)\\<rangle>\""], ["proof (prove)\nusing this:\n  finals (map Val vs)\n  s = (h\\<^sub>2, l\\<^sub>2)\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>map Val vs,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>", "by (iprover intro: eval_finalsId)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>map Val vs,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "moreover"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>map Val vs,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "from s"], ["proof (chain)\npicking this:\n  s = (h\\<^sub>2, l\\<^sub>2)", "have \"h\\<^sub>2 a = Some (C, fs)\""], ["proof (prove)\nusing this:\n  s = (h\\<^sub>2, l\\<^sub>2)\n\ngoal (1 subgoal):\n 1. h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>", "using RedCall"], ["proof (prove)\nusing this:\n  s = (h\\<^sub>2, l\\<^sub>2)\n  hp s a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  length Ts = length pns\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "moreover"], ["proof (state)\nthis:\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "have \"method\": \"P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "moreover"], ["proof (state)\nthis:\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "have same_len\\<^sub>1: \"length Ts = length pns\"\n   and this_distinct: \"this \\<notin> set pns\" and fv: \"fv body \\<subseteq> {this} \\<union> set pns\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length Ts = length pns &&&\n    this \\<notin> set pns &&& fv body \\<subseteq> {this} \\<union> set pns", "using \"method\" wf"], ["proof (prove)\nusing this:\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  wwf_J_prog P\n\ngoal (1 subgoal):\n 1. length Ts = length pns &&&\n    this \\<notin> set pns &&& fv body \\<subseteq> {this} \\<union> set pns", "by (fastforce dest!:sees_wf_mdecl simp:wf_mdecl_def)+"], ["proof (state)\nthis:\n  length Ts = length pns\n  this \\<notin> set pns\n  fv body \\<subseteq> {this} \\<union> set pns\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "have same_len: \"length vs = length pns\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length vs = length pns", "by fact"], ["proof (state)\nthis:\n  length vs = length pns\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "moreover"], ["proof (state)\nthis:\n  length vs = length pns\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "obtain l\\<^sub>2' where l\\<^sub>2': \"l\\<^sub>2' = [this\\<mapsto>Addr a,pns[\\<mapsto>]vs]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l\\<^sub>2'.\n        l\\<^sub>2' =\n        [this \\<mapsto> Addr a, pns [\\<mapsto>] vs] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "moreover"], ["proof (state)\nthis:\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "obtain h\\<^sub>3 l\\<^sub>3 where s': \"s' = (h\\<^sub>3,l\\<^sub>3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>h\\<^sub>3 l\\<^sub>3.\n        s' = (h\\<^sub>3, l\\<^sub>3) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (cases s')"], ["proof (state)\nthis:\n  s' = (h\\<^sub>3, l\\<^sub>3)\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "have eval_blocks:\n    \"P \\<turnstile> \\<langle>blocks (this # pns, Class D # Ts, Addr a # vs, body),s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks\n                             (this # pns, Class D # Ts, Addr a # vs, body),\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "hence id: \"l\\<^sub>3 = l\\<^sub>2\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. l\\<^sub>3 = l\\<^sub>2", "using fv s s' same_len\\<^sub>1 same_len"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n  fv body \\<subseteq> {this} \\<union> set pns\n  s = (h\\<^sub>2, l\\<^sub>2)\n  s' = (h\\<^sub>3, l\\<^sub>3)\n  length Ts = length pns\n  length vs = length pns\n\ngoal (1 subgoal):\n 1. l\\<^sub>3 = l\\<^sub>2", "by(fastforce elim: eval_closed_lcl_unchanged)"], ["proof (state)\nthis:\n  l\\<^sub>3 = l\\<^sub>2\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "from eval_blocks"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "obtain l\\<^sub>3' where \"P \\<turnstile> \\<langle>body,(h\\<^sub>2,l\\<^sub>2')\\<rangle> \\<Rightarrow> \\<langle>e',(h\\<^sub>3,l\\<^sub>3')\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>l\\<^sub>3'.\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                       \\<langle>e',\n                        (h\\<^sub>3, l\\<^sub>3')\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>l\\<^sub>3'.\n                P \\<turnstile> \\<langle>body,\n                                (h\\<^sub>2,\n                                 l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                               \\<langle>e',\n                                (h\\<^sub>3,\n                                 l\\<^sub>3')\\<rangle> \\<Longrightarrow>\n                thesis;\n     P \\<turnstile> \\<langle>blocks\n                              (this # pns, Class D # Ts, Addr a # vs, body),\n                     s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "from same_len\\<^sub>1"], ["proof (chain)\npicking this:\n  length Ts = length pns", "have \"length(this#pns) = length(Class D#Ts)\""], ["proof (prove)\nusing this:\n  length Ts = length pns\n\ngoal (1 subgoal):\n 1. length (this # pns) = length (Class D # Ts)", "by simp"], ["proof (state)\nthis:\n  length (this # pns) = length (Class D # Ts)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>l\\<^sub>3'.\n                P \\<turnstile> \\<langle>body,\n                                (h\\<^sub>2,\n                                 l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                               \\<langle>e',\n                                (h\\<^sub>3,\n                                 l\\<^sub>3')\\<rangle> \\<Longrightarrow>\n                thesis;\n     P \\<turnstile> \\<langle>blocks\n                              (this # pns, Class D # Ts, Addr a # vs, body),\n                     s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "moreover"], ["proof (state)\nthis:\n  length (this # pns) = length (Class D # Ts)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>l\\<^sub>3'.\n                P \\<turnstile> \\<langle>body,\n                                (h\\<^sub>2,\n                                 l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                               \\<langle>e',\n                                (h\\<^sub>3,\n                                 l\\<^sub>3')\\<rangle> \\<Longrightarrow>\n                thesis;\n     P \\<turnstile> \\<langle>blocks\n                              (this # pns, Class D # Ts, Addr a # vs, body),\n                     s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "from same_len\\<^sub>1 same_len"], ["proof (chain)\npicking this:\n  length Ts = length pns\n  length vs = length pns", "have \"length (this#pns) = length (Addr a#vs)\""], ["proof (prove)\nusing this:\n  length Ts = length pns\n  length vs = length pns\n\ngoal (1 subgoal):\n 1. length (this # pns) = length (Addr a # vs)", "by simp"], ["proof (state)\nthis:\n  length (this # pns) = length (Addr a # vs)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>l\\<^sub>3'.\n                P \\<turnstile> \\<langle>body,\n                                (h\\<^sub>2,\n                                 l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                               \\<langle>e',\n                                (h\\<^sub>3,\n                                 l\\<^sub>3')\\<rangle> \\<Longrightarrow>\n                thesis;\n     P \\<turnstile> \\<langle>blocks\n                              (this # pns, Class D # Ts, Addr a # vs, body),\n                     s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "moreover"], ["proof (state)\nthis:\n  length (this # pns) = length (Addr a # vs)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>l\\<^sub>3'.\n                P \\<turnstile> \\<langle>body,\n                                (h\\<^sub>2,\n                                 l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                               \\<langle>e',\n                                (h\\<^sub>3,\n                                 l\\<^sub>3')\\<rangle> \\<Longrightarrow>\n                thesis;\n     P \\<turnstile> \\<langle>blocks\n                              (this # pns, Class D # Ts, Addr a # vs, body),\n                     s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "from eval_blocks"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "have \"P \\<turnstile> \\<langle>blocks (this#pns,Class D#Ts,Addr a#vs,body),(h\\<^sub>2,l\\<^sub>2)\\<rangle>\n              \\<Rightarrow>\\<langle>e',(h\\<^sub>3,l\\<^sub>3)\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks\n                             (this # pns, Class D # Ts, Addr a # vs, body),\n                    (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>", "using s s'"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n  s = (h\\<^sub>2, l\\<^sub>2)\n  s' = (h\\<^sub>3, l\\<^sub>3)\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>blocks\n                             (this # pns, Class D # Ts, Addr a # vs, body),\n                    (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>l\\<^sub>3'.\n                P \\<turnstile> \\<langle>body,\n                                (h\\<^sub>2,\n                                 l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                               \\<langle>e',\n                                (h\\<^sub>3,\n                                 l\\<^sub>3')\\<rangle> \\<Longrightarrow>\n                thesis;\n     P \\<turnstile> \\<langle>blocks\n                              (this # pns, Class D # Ts, Addr a # vs, body),\n                     s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "ultimately"], ["proof (chain)\npicking this:\n  length (this # pns) = length (Class D # Ts)\n  length (this # pns) = length (Addr a # vs)\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>", "obtain l''\n      where \"P \\<turnstile> \\<langle>body,(h\\<^sub>2,l\\<^sub>2(this # pns[\\<mapsto>]Addr a # vs))\\<rangle>\\<Rightarrow>\\<langle>e',(h\\<^sub>3, l'')\\<rangle>\""], ["proof (prove)\nusing this:\n  length (this # pns) = length (Class D # Ts)\n  length (this # pns) = length (Addr a # vs)\n  P \\<turnstile> \\<langle>blocks\n                           (this # pns, Class D # Ts, Addr a # vs, body),\n                  (h\\<^sub>2, l\\<^sub>2)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3)\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>l''.\n        P \\<turnstile> \\<langle>body,\n                        (h\\<^sub>2, l\\<^sub>2(this # pns [\\<mapsto>]\n                         Addr a # vs))\\<rangle> \\<Rightarrow>\n                       \\<langle>e',\n                        (h\\<^sub>3, l'')\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (blast dest:blocksEval)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2(this # pns [\\<mapsto>]\n                   Addr a # vs))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l'')\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>l\\<^sub>3'.\n                P \\<turnstile> \\<langle>body,\n                                (h\\<^sub>2,\n                                 l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                               \\<langle>e',\n                                (h\\<^sub>3,\n                                 l\\<^sub>3')\\<rangle> \\<Longrightarrow>\n                thesis;\n     P \\<turnstile> \\<langle>blocks\n                              (this # pns, Class D # Ts, Addr a # vs, body),\n                     s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "from eval_restrict_lcl[OF wf this fv] this_distinct same_len\\<^sub>1 same_len"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2,\n                   l\\<^sub>2(this # pns [\\<mapsto>] Addr a # vs) |`\n                   ({this} \\<union> set pns))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',\n                  (h\\<^sub>3, l'' |` ({this} \\<union> set pns))\\<rangle>\n  this \\<notin> set pns\n  length Ts = length pns\n  length vs = length pns", "have \"P \\<turnstile> \\<langle>body,(h\\<^sub>2,[this # pns[\\<mapsto>]Addr a # vs])\\<rangle> \\<Rightarrow>\n               \\<langle>e',(h\\<^sub>3, l''|`(set(this#pns)))\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2,\n                   l\\<^sub>2(this # pns [\\<mapsto>] Addr a # vs) |`\n                   ({this} \\<union> set pns))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',\n                  (h\\<^sub>3, l'' |` ({this} \\<union> set pns))\\<rangle>\n  this \\<notin> set pns\n  length Ts = length pns\n  length vs = length pns\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>body,\n                    (h\\<^sub>2,\n                     [this # pns [\\<mapsto>]\n                      Addr a # vs])\\<rangle> \\<Rightarrow>\n                   \\<langle>e',(h\\<^sub>3, l'' |` set (this # pns))\\<rangle>", "by(simp add:subset_insert_iff insert_Diff_if)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2,\n                   [this # pns [\\<mapsto>]\n                    Addr a # vs])\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l'' |` set (this # pns))\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>l\\<^sub>3'.\n                P \\<turnstile> \\<langle>body,\n                                (h\\<^sub>2,\n                                 l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                               \\<langle>e',\n                                (h\\<^sub>3,\n                                 l\\<^sub>3')\\<rangle> \\<Longrightarrow>\n                thesis;\n     P \\<turnstile> \\<langle>blocks\n                              (this # pns, Class D # Ts, Addr a # vs, body),\n                     s\\<rangle> \\<Rightarrow>\n                    \\<langle>e',s'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2,\n                   [this # pns [\\<mapsto>]\n                    Addr a # vs])\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l'' |` set (this # pns))\\<rangle>\n\ngoal (1 subgoal):\n 1. thesis", "by(fastforce intro!:that simp add: l\\<^sub>2')"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3')\\<rangle>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,s\\<rangle>\n  P \\<turnstile> \\<langle>map Val vs,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3')\\<rangle>", "have \"P \\<turnstile> \\<langle>(addr a)\\<bullet>M(map Val vs),s\\<rangle> \\<Rightarrow> \\<langle>e',(h\\<^sub>3,l\\<^sub>2)\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>addr a,s\\<rangle>\n  P \\<turnstile> \\<langle>map Val vs,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs,(h\\<^sub>2, l\\<^sub>2)\\<rangle>\n  h\\<^sub>2 a = \\<lfloor>(C, fs)\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in D\n  length vs = length pns\n  l\\<^sub>2' = [this \\<mapsto> Addr a, pns [\\<mapsto>] vs]\n  P \\<turnstile> \\<langle>body,\n                  (h\\<^sub>2, l\\<^sub>2')\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>3')\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>addr a\\<bullet>M(map Val vs),\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "by (rule Call)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a\\<bullet>M(map Val vs),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n\ngoal (56 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 56 subgoals...", "with s' id"], ["proof (chain)\npicking this:\n  s' = (h\\<^sub>3, l\\<^sub>3)\n  l\\<^sub>3 = l\\<^sub>2\n  P \\<turnstile> \\<langle>addr a\\<bullet>M(map Val vs),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>", "show ?case"], ["proof (prove)\nusing this:\n  s' = (h\\<^sub>3, l\\<^sub>3)\n  l\\<^sub>3 = l\\<^sub>2\n  P \\<turnstile> \\<langle>addr a\\<bullet>M(map Val vs),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',(h\\<^sub>3, l\\<^sub>2)\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>addr a\\<bullet>M(map Val vs),\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a\\<bullet>M(map Val vs),\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (55 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 55 subgoals...", "next"], ["proof (state)\ngoal (55 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 55 subgoals...", "case RedNew"], ["proof (state)\nthis:\n  new_Addr h_ = \\<lfloor>a_\\<rfloor>\n  P \\<turnstile> C_ has_fields FDTs_\n  h'_ = h_(a_ \\<mapsto> (C_, init_fields FDTs_))\n  P \\<turnstile> \\<langle>addr a_,(h'_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (55 subgoals):\n 1. \\<And>h a C FDTs h' l s' e'.\n       \\<lbrakk>new_Addr h = \\<lfloor>a\\<rfloor>;\n        P \\<turnstile> C has_fields FDTs;\n        h' = h(a \\<mapsto> (C, init_fields FDTs));\n        P \\<turnstile> \\<langle>addr a,(h', l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s V v s' e'.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 55 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  new_Addr h_ = \\<lfloor>a_\\<rfloor>\n  P \\<turnstile> C_ has_fields FDTs_\n  h'_ = h_(a_ \\<mapsto> (C_, init_fields FDTs_))\n  P \\<turnstile> \\<langle>addr a_,(h'_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>new C_,(h_, l_)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (iprover elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>new C_,(h_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (54 subgoals):\n 1. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' V s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 54 subgoals...", "next"], ["proof (state)\ngoal (54 subgoals):\n 1. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' V s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 54 subgoals...", "case RedNewFail"], ["proof (state)\nthis:\n  new_Addr h_ = None\n  P \\<turnstile> \\<langle>THROW OutOfMemory,(h_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (54 subgoals):\n 1. \\<And>h C l s' e'.\n       \\<lbrakk>new_Addr h = None;\n        P \\<turnstile> \\<langle>THROW OutOfMemory,\n                        (h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>new C,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' V s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 54 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  new_Addr h_ = None\n  P \\<turnstile> \\<langle>THROW OutOfMemory,(h_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>new C_,(h_, l_)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>new C_,(h_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (53 subgoals):\n 1. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>V v h l s' e'.\n        P \\<turnstile> \\<langle>unit,\n                        (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 53 subgoals...", "next"], ["proof (state)\ngoal (53 subgoals):\n 1. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>V v h l s' e'.\n        P \\<turnstile> \\<langle>unit,\n                        (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 53 subgoals...", "case (CastRed e s e'' s'' C s' e')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'',s''\\<rangle>\n  P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>Cast C e'',s''\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (53 subgoals):\n 1. \\<And>e s e' s' C s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Cast C e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>V v h l s' e'.\n        P \\<turnstile> \\<langle>unit,\n                        (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 53 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'',s''\\<rangle>\n  P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>Cast C e'',s''\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by(cases s, cases s') (erule eval_cases, auto intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (52 subgoals):\n 1. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' F D s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 52 subgoals...", "next"], ["proof (state)\ngoal (52 subgoals):\n 1. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' F D s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 52 subgoals...", "case RedCastNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>null,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (52 subgoals):\n 1. \\<And>C s s' e'.\n       P \\<turnstile> \\<langle>null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' F D s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 52 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>null,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ null,s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (iprover elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ null,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (51 subgoals):\n 1. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>s a C fs F D v s' e'.\n        \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n         fs (F, D) = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 51 subgoals...", "next"], ["proof (state)\ngoal (51 subgoals):\n 1. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>s a C fs F D v s' e'.\n        \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n         fs (F, D) = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 51 subgoals...", "case (RedCast s a D fs C s'' e'')"], ["proof (state)\nthis:\n  hp s a = \\<lfloor>(D, fs)\\<rfloor>\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n  P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e'',s''\\<rangle>\n\ngoal (51 subgoals):\n 1. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>s a C fs F D v s' e'.\n        \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n         fs (F, D) = \\<lfloor>v\\<rfloor>;\n         P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 51 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  hp s a = \\<lfloor>(D, fs)\\<rfloor>\n  P \\<turnstile> D \\<preceq>\\<^sup>* C\n  P \\<turnstile> \\<langle>addr a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e'',s''\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C (addr a),s\\<rangle> \\<Rightarrow>\n                   \\<langle>e'',s''\\<rangle>", "by (cases s) (auto elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C (addr a),s\\<rangle> \\<Rightarrow>\n                 \\<langle>e'',s''\\<rangle>\n\ngoal (50 subgoals):\n 1. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>F D s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 50 subgoals...", "next"], ["proof (state)\ngoal (50 subgoals):\n 1. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>F D s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 50 subgoals...", "case (RedCastFail s a D fs C s'' e'')"], ["proof (state)\nthis:\n  hp s a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n  P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e'',s''\\<rangle>\n\ngoal (50 subgoals):\n 1. \\<And>s a D fs C s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Cast C (addr a),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>F D s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 50 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  hp s a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n  P \\<turnstile> \\<langle>THROW ClassCast,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e'',s''\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C (addr a),s\\<rangle> \\<Rightarrow>\n                   \\<langle>e'',s''\\<rangle>", "by (cases s) (auto elim!: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C (addr a),s\\<rangle> \\<Rightarrow>\n                 \\<langle>e'',s''\\<rangle>\n\ngoal (49 subgoals):\n 1. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 49 subgoals...", "next"], ["proof (state)\ngoal (49 subgoals):\n 1. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 49 subgoals...", "case (BinOpRed1 e s e' s' bop e\\<^sub>2 s'' e')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__ \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                  s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (49 subgoals):\n 1. \\<And>e s e' s' bop e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 49 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__ \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                  s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s''\\<rangle>", "by (cases s'')(erule eval_cases,auto intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (48 subgoals):\n 1. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>e s e' s' v F D s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 48 subgoals...", "next"], ["proof (state)\ngoal (48 subgoals):\n 1. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>e s e' s' v F D s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 48 subgoals...", "case BinOpRed2"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>Val v\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e'_,\n                  s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (48 subgoals):\n 1. \\<And>e s e' s' v\\<^sub>1 bop s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>e s e' s' v F D s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 48 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>Val v\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e'_,\n                  s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim!: eval_cases intro: eval_evals.intros eval_finalId)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> e_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (47 subgoals):\n 1. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>h a C fs F D v l s' e'.\n        \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> \\<langle>unit,\n                         (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                          l)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n             a\\<bullet>F{D} := Val v,\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 47 subgoals...", "next"], ["proof (state)\ngoal (47 subgoals):\n 1. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>h a C fs F D v l s' e'.\n        \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> \\<langle>unit,\n                         (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                          l)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n             a\\<bullet>F{D} := Val v,\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 47 subgoals...", "case RedBinOp"], ["proof (state)\nthis:\n  binop (bop_, v\\<^sub>1_, v\\<^sub>2_) = \\<lfloor>v_\\<rfloor>\n  P \\<turnstile> \\<langle>Val v_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (47 subgoals):\n 1. \\<And>bop v\\<^sub>1 v\\<^sub>2 v s s' e'.\n       \\<lbrakk>binop (bop, v\\<^sub>1, v\\<^sub>2) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val\n            v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Val v\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>h a C fs F D v l s' e'.\n        \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n         P \\<turnstile> \\<langle>unit,\n                         (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                          l)\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n             a\\<bullet>F{D} := Val v,\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 47 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  binop (bop_, v\\<^sub>1_, v\\<^sub>2_) = \\<lfloor>v_\\<rfloor>\n  P \\<turnstile> \\<langle>Val v_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> Val\n      v\\<^sub>2_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (iprover elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> Val\n    v\\<^sub>2_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (46 subgoals):\n 1. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>F D v s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 46 subgoals...", "next"], ["proof (state)\ngoal (46 subgoals):\n 1. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>F D v s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 46 subgoals...", "case (RedVar s V v s' e')"], ["proof (state)\nthis:\n  lcl s V = \\<lfloor>v\\<rfloor>\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (46 subgoals):\n 1. \\<And>s V v s' e'.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Var V,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>F D v s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 46 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  lcl s V = \\<lfloor>v\\<rfloor>\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Var V,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (cases s)(fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Var V,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (45 subgoals):\n 1. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' M es s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 45 subgoals...", "next"], ["proof (state)\ngoal (45 subgoals):\n 1. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' M es s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 45 subgoals...", "case (LAssRed e s e' s' V s'')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>V:=e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (45 subgoals):\n 1. \\<And>e s e' s' V s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>V:=e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>V:=e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' M es s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 45 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>V:=e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s''\\<rangle>", "by (cases s'')(erule eval_cases,auto intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>V:=e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (44 subgoals):\n 1. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>es s es' s' v M s'a e'.\n        \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                                \\<langle>es',s'\\<rangle>;\n         \\<And>t' es'a.\n            P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle>;\n         P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'a\\<rangle>\nA total of 44 subgoals...", "next"], ["proof (state)\ngoal (44 subgoals):\n 1. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>es s es' s' v M s'a e'.\n        \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                                \\<langle>es',s'\\<rangle>;\n         \\<And>t' es'a.\n            P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle>;\n         P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'a\\<rangle>\nA total of 44 subgoals...", "case RedLAss"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>unit,\n                  (h_, l_(V_ \\<mapsto> v_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (44 subgoals):\n 1. \\<And>V v h l s' e'.\n       P \\<turnstile> \\<langle>unit,\n                       (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=Val v,(h, l)\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>es s es' s' v M s'a e'.\n        \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                                \\<langle>es',s'\\<rangle>;\n         \\<And>t' es'a.\n            P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle>;\n         P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'a\\<rangle>\nA total of 44 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>unit,\n                  (h_, l_(V_ \\<mapsto> v_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>V_:=Val v_,(h_, l_)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>V_:=Val v_,(h_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (43 subgoals):\n 1. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 10. \\<And>M vs s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 43 subgoals...", "next"], ["proof (state)\ngoal (43 subgoals):\n 1. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 10. \\<And>M vs s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 43 subgoals...", "case (FAccRed e s e' s' F D s'')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (43 subgoals):\n 1. \\<And>e s e' s' F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 10. \\<And>M vs s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 43 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__\\<bullet>F{D},s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s''\\<rangle>", "by (cases s'')(erule eval_cases,auto intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (42 subgoals):\n 1. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 9. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e h l V e' h' l' T s' e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                 (h, l(V := None))\\<rangle> \\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<And>s' e'a.\n            P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,\n                            (h, l(V := None))\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle>;\n         l' V = None; \\<not> assigned V e;\n         P \\<turnstile> \\<langle>{V:T; e'},\n                         (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'\\<rangle>\nA total of 42 subgoals...", "next"], ["proof (state)\ngoal (42 subgoals):\n 1. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 9. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e h l V e' h' l' T s' e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                 (h, l(V := None))\\<rangle> \\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<And>s' e'a.\n            P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,\n                            (h, l(V := None))\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle>;\n         l' V = None; \\<not> assigned V e;\n         P \\<turnstile> \\<langle>{V:T; e'},\n                         (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'\\<rangle>\nA total of 42 subgoals...", "case (RedFAcc s a C fs F D v s' e')"], ["proof (state)\nthis:\n  hp s a = \\<lfloor>(C, fs)\\<rfloor>\n  fs (F, D) = \\<lfloor>v\\<rfloor>\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (42 subgoals):\n 1. \\<And>s a C fs F D v s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(C, fs)\\<rfloor>;\n        fs (F, D) = \\<lfloor>v\\<rfloor>;\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr a\\<bullet>F{D},\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 9. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e h l V e' h' l' T s' e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                 (h, l(V := None))\\<rangle> \\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<And>s' e'a.\n            P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,\n                            (h, l(V := None))\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle>;\n         l' V = None; \\<not> assigned V e;\n         P \\<turnstile> \\<langle>{V:T; e'},\n                         (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'\\<rangle>\nA total of 42 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  hp s a = \\<lfloor>(C, fs)\\<rfloor>\n  fs (F, D) = \\<lfloor>v\\<rfloor>\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>addr a\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (cases s)(fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (41 subgoals):\n 1. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 8. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 10. \\<And>e h l V e' h' l' v T s' e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                 (h, l(V := None))\\<rangle> \\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<And>s' e'a.\n            P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,\n                            (h, l(V := None))\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle>;\n         l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n         P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                         (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'\\<rangle>\nA total of 41 subgoals...", "next"], ["proof (state)\ngoal (41 subgoals):\n 1. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 8. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 10. \\<And>e h l V e' h' l' v T s' e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                 (h, l(V := None))\\<rangle> \\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<And>s' e'a.\n            P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,\n                            (h, l(V := None))\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle>;\n         l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n         P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                         (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'\\<rangle>\nA total of 41 subgoals...", "case RedFAccNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>THROW NullPointer,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (41 subgoals):\n 1. \\<And>F D s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 8. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 10. \\<And>e h l V e' h' l' v T s' e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                 (h, l(V := None))\\<rangle> \\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<And>s' e'a.\n            P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,\n                            (h, l(V := None))\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle>;\n         l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n         P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                         (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'\\<rangle>\nA total of 41 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>THROW NullPointer,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>null\\<bullet>F_{D_},s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim!: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>null\\<bullet>F_{D_},s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (40 subgoals):\n 1. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 7. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 9. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 10. \\<And>e h l V v e' h' l' v' T s' e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                 (h, l(V \\<mapsto>\n                                  v))\\<rangle> \\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<And>s' e'a.\n            P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,\n                            (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle>;\n         l' V = \\<lfloor>v'\\<rfloor>;\n         P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                         (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'\\<rangle>\nA total of 40 subgoals...", "next"], ["proof (state)\ngoal (40 subgoals):\n 1. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 7. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 9. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 10. \\<And>e h l V v e' h' l' v' T s' e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                 (h, l(V \\<mapsto>\n                                  v))\\<rangle> \\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<And>s' e'a.\n            P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,\n                            (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle>;\n         l' V = \\<lfloor>v'\\<rfloor>;\n         P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                         (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'\\<rangle>\nA total of 40 subgoals...", "case (FAssRed1 e s e' s'' F D e\\<^sub>2 s' e')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s''\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s''\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__\\<bullet>F{D} := e\\<^sub>2,\n                  s''\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (40 subgoals):\n 1. \\<And>e s e' s' F D e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>F{D} := e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 7. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 9. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 10. \\<And>e h l V v e' h' l' v' T s' e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                 (h, l(V \\<mapsto>\n                                  v))\\<rangle> \\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<And>s' e'a.\n            P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,\n                            (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'\\<rangle>;\n         l' V = \\<lfloor>v'\\<rfloor>;\n         P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                         (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n    (h, l)\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'\\<rangle>\nA total of 40 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s''\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s''\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__\\<bullet>F{D} := e\\<^sub>2,\n                  s''\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (cases s')(erule eval_cases, auto intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<bullet>F{D} := e\\<^sub>2,\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (39 subgoals):\n 1. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 6. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 8. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 9. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 10. \\<And>V T u s s' e'.\n        P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 39 subgoals...", "next"], ["proof (state)\ngoal (39 subgoals):\n 1. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 6. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 8. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 9. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 10. \\<And>V T u s s' e'.\n        P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 39 subgoals...", "case (FAssRed2 e s e' s'' v F D s' e')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s''\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s''\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e'__,\n                  s''\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (39 subgoals):\n 1. \\<And>e s e' s' v F D s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e',\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 6. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 8. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 9. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 10. \\<And>V T u s s' e'.\n        P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 39 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s''\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s''\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e'__,\n                  s''\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (cases s)\n       (fastforce elim!: eval_cases intro: eval_evals.intros eval_finalId)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (38 subgoals):\n 1. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 5. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 7. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 8. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 9. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>V T v u s s' e'.\n        P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 38 subgoals...", "next"], ["proof (state)\ngoal (38 subgoals):\n 1. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 5. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 7. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 8. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 9. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>V T v u s s' e'.\n        P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 38 subgoals...", "case RedFAss"], ["proof (state)\nthis:\n  h_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  P \\<turnstile> \\<langle>unit,\n                  (h_(a_ \\<mapsto> (C_, fs_((F_, D_) \\<mapsto> v_))),\n                   l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (38 subgoals):\n 1. \\<And>h a C fs F D v l s' e'.\n       \\<lbrakk>h a = \\<lfloor>(C, fs)\\<rfloor>;\n        P \\<turnstile> \\<langle>unit,\n                        (h(a \\<mapsto> (C, fs((F, D) \\<mapsto> v))),\n                         l)\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>addr\n            a\\<bullet>F{D} := Val v,\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 5. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 7. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 8. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 9. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>V T v u s s' e'.\n        P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 38 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  h_ a_ = \\<lfloor>(C_, fs_)\\<rfloor>\n  P \\<turnstile> \\<langle>unit,\n                  (h_(a_ \\<mapsto> (C_, fs_((F_, D_) \\<mapsto> v_))),\n                   l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>addr a_\\<bullet>F_{D_} := Val v_,\n                    (h_, l_)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim!: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>addr a_\\<bullet>F_{D_} := Val v_,\n                  (h_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (37 subgoals):\n 1. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 4. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 6. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 7. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 8. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 37 subgoals...", "next"], ["proof (state)\ngoal (37 subgoals):\n 1. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 4. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 6. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 7. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 8. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 37 subgoals...", "case RedFAssNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>THROW NullPointer,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (37 subgoals):\n 1. \\<And>F D v s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>F{D} := Val v,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 4. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 6. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 7. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 8. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 37 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>THROW NullPointer,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>null\\<bullet>F_{D_} := Val v_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim!: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>null\\<bullet>F_{D_} := Val v_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (36 subgoals):\n 1. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 3. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 5. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 6. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 7. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>v e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 36 subgoals...", "next"], ["proof (state)\ngoal (36 subgoals):\n 1. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 3. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 5. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 6. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 7. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>v e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 36 subgoals...", "case CallObj"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'_\\<bullet>M_(es_),s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (36 subgoals):\n 1. \\<And>e s e' s' M es s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e'\\<bullet>M(es),s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 3. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 5. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 6. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 7. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>v e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 36 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'_\\<bullet>M_(es_),s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_\\<bullet>M_(es_),s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim!: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_\\<bullet>M_(es_),s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (35 subgoals):\n 1. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 2. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 4. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 5. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 6. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 35 subgoals...", "next"], ["proof (state)\ngoal (35 subgoals):\n 1. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 2. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 4. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 5. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 6. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 35 subgoals...", "case CallParams"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>es_,s_\\<rangle> [\\<rightarrow>]\n                 \\<langle>es'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>es'_,s'_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>?es',?t'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es_,s_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>?es',?t'\\<rangle>\n  P \\<turnstile> \\<langle>Val v_\\<bullet>M_(es'_),s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (35 subgoals):\n 1. \\<And>es s es' s' v M s'a e'.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v\\<bullet>M(es'),\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'a\\<rangle>\n 2. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 4. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 5. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 6. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n    else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 35 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>es_,s_\\<rangle> [\\<rightarrow>]\n                 \\<langle>es'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>es'_,s'_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>?es',?t'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es_,s_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>?es',?t'\\<rangle>\n  P \\<turnstile> \\<langle>Val v_\\<bullet>M_(es'_),s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v_\\<bullet>M_(es_),s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim!: eval_cases intro: eval_evals.intros eval_finalId)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v_\\<bullet>M_(es_),s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (34 subgoals):\n 1. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 4. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 5. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 34 subgoals...", "next"], ["proof (state)\ngoal (34 subgoals):\n 1. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 4. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 5. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 34 subgoals...", "case RedCallNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>THROW NullPointer,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (34 subgoals):\n 1. \\<And>M vs s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>null\\<bullet>M(map Val vs),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 4. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 5. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 34 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>THROW NullPointer,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>null\\<bullet>M_(map Val vs_),\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros eval_finalsId)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>null\\<bullet>M_(map Val vs_),\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (33 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 4. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 33 subgoals...", "next"], ["proof (state)\ngoal (33 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 4. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 33 subgoals...", "case InitBlockRed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,\n                  (h_, l_(V_ \\<mapsto> v_))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  P \\<turnstile> \\<langle>e'_,(h'_, l'_)\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,\n                  (h_, l_(V_ \\<mapsto> v_))\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  l'_ V_ = \\<lfloor>v'_\\<rfloor>\n  P \\<turnstile> \\<langle>{V_:T_; V_:=Val v'_;; e'_},\n                  (h'_, l'_(V_ := l_ V_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (33 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>e h l V v e' h' l' v' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V \\<mapsto> v))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V \\<mapsto> v))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v'\\<rfloor>;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v';; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; V:=Val v;; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 4. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 33 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,\n                  (h_, l_(V_ \\<mapsto> v_))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  P \\<turnstile> \\<langle>e'_,(h'_, l'_)\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,\n                  (h_, l_(V_ \\<mapsto> v_))\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  l'_ V_ = \\<lfloor>v'_\\<rfloor>\n  P \\<turnstile> \\<langle>{V_:T_; V_:=Val v'_;; e'_},\n                  (h'_, l'_(V_ := l_ V_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V_:T_; V_:=Val v_;; e_},\n                    (h_, l_)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim!: eval_cases intro: eval_evals.intros eval_finalId\n                 simp add: map_upd_triv fun_upd_same)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V_:T_; V_:=Val v_;; e_},\n                  (h_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (32 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>b c s s' e'.\n        P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 32 subgoals...", "next"], ["proof (state)\ngoal (32 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>b c s s' e'.\n        P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 32 subgoals...", "case (RedInitBlock V T v u s s' e')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (32 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>b c s s' e'.\n        P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 32 subgoals...", "have \"P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (32 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>b c s s' e'.\n        P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 32 subgoals...", "then"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "obtain s': \"s'=s\" and e': \"e'=Val u\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>s' = s; e' = Val u\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by cases simp"], ["proof (state)\nthis:\n  s' = s\n  e' = Val u\n\ngoal (32 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>b c s s' e'.\n        P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 32 subgoals...", "obtain h l where s: \"s=(h,l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>h l. s = (h, l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases s)"], ["proof (state)\nthis:\n  s = (h, l)\n\ngoal (32 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>b c s s' e'.\n        P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 32 subgoals...", "have \"P \\<turnstile> \\<langle>{V:T :=Val v; Val u},(h,l)\\<rangle> \\<Rightarrow> \\<langle>Val u,(h, (l(V\\<mapsto>v))(V:=l V))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                    (h, l)\\<rangle> \\<Rightarrow>\n                   \\<langle>Val u,(h, (l(V \\<mapsto> v))(V := l V))\\<rangle>", "by (fastforce intro!: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val u,(h, (l(V \\<mapsto> v))(V := l V))\\<rangle>\n\ngoal (32 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>b c s s' e'.\n        P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 32 subgoals...", "thus \"P \\<turnstile> \\<langle>{V:T := Val v; Val u},s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val u,(h, (l(V \\<mapsto> v))(V := l V))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "using s s' e'"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val u,(h, (l(V \\<mapsto> v))(V := l V))\\<rangle>\n  s = (h, l)\n  s' = s\n  e' = Val u\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; Val u},s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (31 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 31 subgoals...", "next"], ["proof (state)\ngoal (31 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 31 subgoals...", "case BlockRedNone"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  P \\<turnstile> \\<langle>e'_,(h'_, l'_)\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  l'_ V_ = None\n  \\<not> assigned V_ e_\n  P \\<turnstile> \\<langle>{V_:T_; e'_},\n                  (h'_, l'_(V_ := l_ V_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (31 subgoals):\n 1. \\<And>e h l V e' h' l' T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = None; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 3. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 31 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  P \\<turnstile> \\<langle>e'_,(h'_, l'_)\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  l'_ V_ = None\n  \\<not> assigned V_ e_\n  P \\<turnstile> \\<langle>{V_:T_; e'_},\n                  (h'_, l'_(V_ := l_ V_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V_:T_; e_},(h_, l_)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim!: eval_cases intro: eval_evals.intros \n                 simp add: fun_upd_same fun_upd_idem)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V_:T_; e_},(h_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (30 subgoals):\n 1. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 30 subgoals...", "next"], ["proof (state)\ngoal (30 subgoals):\n 1. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 30 subgoals...", "case BlockRedSome"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  P \\<turnstile> \\<langle>e'_,(h'_, l'_)\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  l'_ V_ = \\<lfloor>v_\\<rfloor>\n  \\<not> assigned V_ e_\n  P \\<turnstile> \\<langle>{V_:T_; V_:=Val v_;; e'_},\n                  (h'_, l'_(V_ := l_ V_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (30 subgoals):\n 1. \\<And>e h l V e' h' l' v T s' e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,\n                                (h, l(V := None))\\<rangle> \\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<And>s' e'a.\n           P \\<turnstile> \\<langle>e',(h', l')\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,\n                           (h, l(V := None))\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'\\<rangle>;\n        l' V = \\<lfloor>v\\<rfloor>; \\<not> assigned V e;\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; e'},\n                        (h', l'(V := l V))\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>{V:T; e},\n   (h, l)\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'\\<rangle>\n 2. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>s s' e'.\n        P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 30 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,(h'_, l'_)\\<rangle>\n  P \\<turnstile> \\<langle>e'_,(h'_, l'_)\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,(h_, l_(V_ := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  l'_ V_ = \\<lfloor>v_\\<rfloor>\n  \\<not> assigned V_ e_\n  P \\<turnstile> \\<langle>{V_:T_; V_:=Val v_;; e'_},\n                  (h'_, l'_(V_ := l_ V_))\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V_:T_; e_},(h_, l_)\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim!: eval_cases intro: eval_evals.intros \n                 simp add:  fun_upd_same fun_upd_idem)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V_:T_; e_},(h_, l_)\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (29 subgoals):\n 1. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 29 subgoals...", "next"], ["proof (state)\ngoal (29 subgoals):\n 1. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 29 subgoals...", "case (RedBlock V T v s s' e')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (29 subgoals):\n 1. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 29 subgoals...", "have \"P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (29 subgoals):\n 1. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 29 subgoals...", "then"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "obtain s': \"s'=s\" and e': \"e'=Val v\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>s' = s; e' = Val v\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by cases simp"], ["proof (state)\nthis:\n  s' = s\n  e' = Val v\n\ngoal (29 subgoals):\n 1. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 29 subgoals...", "obtain h l where s: \"s=(h,l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>h l. s = (h, l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases s)"], ["proof (state)\nthis:\n  s = (h, l)\n\ngoal (29 subgoals):\n 1. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 29 subgoals...", "have \"P \\<turnstile> \\<langle>Val v,(h,l(V:=None))\\<rangle> \\<Rightarrow> \\<langle>Val v,(h,l(V:=None))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v,(h, l(V := None))\\<rangle> \\<Rightarrow>\n                   \\<langle>Val v,(h, l(V := None))\\<rangle>", "by (rule eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v,(h, l(V := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h, l(V := None))\\<rangle>\n\ngoal (29 subgoals):\n 1. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 29 subgoals...", "hence \"P \\<turnstile> \\<langle>{V:T;Val v},(h,l)\\<rangle> \\<Rightarrow> \\<langle>Val v,(h,(l(V:=None))(V:=l V))\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Val v,(h, l(V := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h, l(V := None))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; Val v},(h, l)\\<rangle> \\<Rightarrow>\n                   \\<langle>Val v,(h, l(V := None, V := l V))\\<rangle>", "by (rule eval_evals.Block)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; Val v},(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h, l(V := None, V := l V))\\<rangle>\n\ngoal (29 subgoals):\n 1. \\<And>V T u s s' e'.\n       P \\<turnstile> \\<langle>Val u,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Val u},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                         s'\\<rangle> \\<Rightarrow>\n                        \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try e\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e'a,s'a\\<rangle>\nA total of 29 subgoals...", "thus \"P \\<turnstile> \\<langle>{V:T; Val v},s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; Val v},(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h, l(V := None, V := l V))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; Val v},s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "using s s' e'"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; Val v},(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,(h, l(V := None, V := l V))\\<rangle>\n  s = (h, l)\n  s' = s\n  e' = Val v\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; Val v},s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; Val v},s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (28 subgoals):\n 1. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>v C V e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 28 subgoals...", "next"], ["proof (state)\ngoal (28 subgoals):\n 1. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>v C V e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 28 subgoals...", "case SeqRed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'_;; e\\<^sub>2_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (28 subgoals):\n 1. \\<And>e s e' s' e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e';; e\\<^sub>2,s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e;; e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 10. \\<And>v C V e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 28 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'_;; e\\<^sub>2_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_;; e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_;; e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (27 subgoals):\n 1. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n        \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                         s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 27 subgoals...", "next"], ["proof (state)\ngoal (27 subgoals):\n 1. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n        \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                         s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 27 subgoals...", "case RedSeq"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (27 subgoals):\n 1. \\<And>v e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 9. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n        \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                         s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 27 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v_;; e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v_;; e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (26 subgoals):\n 1. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n        \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n         (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n         P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 26 subgoals...", "next"], ["proof (state)\ngoal (26 subgoals):\n 1. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n        \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n         (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n         P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 26 subgoals...", "case CondRed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>if (e'_) e\\<^sub>1_ else e\\<^sub>2_,\n                  s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (26 subgoals):\n 1. \\<And>e s e' s' e\\<^sub>1 e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>if (e') e\\<^sub>1 else e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>if (e) e\\<^sub>1\n   else e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 8. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n        \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n         (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n         P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n    catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 26 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>if (e'_) e\\<^sub>1_ else e\\<^sub>2_,\n                  s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (e_) e\\<^sub>1_ else e\\<^sub>2_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (25 subgoals):\n 1. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' es t' es'.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',t'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    s\\<rangle> [\\<Rightarrow>]\n   \\<langle>es',t'\\<rangle>\nA total of 25 subgoals...", "next"], ["proof (state)\ngoal (25 subgoals):\n 1. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' es t' es'.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',t'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    s\\<rangle> [\\<Rightarrow>]\n   \\<langle>es',t'\\<rangle>\nA total of 25 subgoals...", "case RedCondT"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (25 subgoals):\n 1. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (true) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 7. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>e s e' s' es t' es'.\n        \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<And>s'a e'a.\n            P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                           \\<langle>e'a,s'a\\<rangle>;\n         P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es',t'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n    s\\<rangle> [\\<Rightarrow>]\n   \\<langle>es',t'\\<rangle>\nA total of 25 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>1_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (true) e\\<^sub>1_ else e\\<^sub>2_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (true) e\\<^sub>1_ else e\\<^sub>2_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (24 subgoals):\n 1. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 10. \\<And>es s es' s' v t' es'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                                \\<langle>es',s'\\<rangle>;\n         \\<And>t' es'a.\n            P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle>;\n         P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n    s\\<rangle> [\\<Rightarrow>]\n   \\<langle>es'a,t'\\<rangle>\nA total of 24 subgoals...", "next"], ["proof (state)\ngoal (24 subgoals):\n 1. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 10. \\<And>es s es' s' v t' es'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                                \\<langle>es',s'\\<rangle>;\n         \\<And>t' es'a.\n            P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle>;\n         P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n    s\\<rangle> [\\<Rightarrow>]\n   \\<langle>es'a,t'\\<rangle>\nA total of 24 subgoals...", "case RedCondF"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (24 subgoals):\n 1. \\<And>e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (false) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 6. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 10. \\<And>es s es' s' v t' es'a.\n        \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                                \\<langle>es',s'\\<rangle>;\n         \\<And>t' es'a.\n            P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n            P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                           \\<langle>es'a,t'\\<rangle>;\n         P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                        \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n    s\\<rangle> [\\<Rightarrow>]\n   \\<langle>es'a,t'\\<rangle>\nA total of 24 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (false) e\\<^sub>1_ else e\\<^sub>2_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (false) e\\<^sub>1_ else e\\<^sub>2_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (23 subgoals):\n 1. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 9. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 10. \\<And>C e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 23 subgoals...", "next"], ["proof (state)\ngoal (23 subgoals):\n 1. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 9. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 10. \\<And>C e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 23 subgoals...", "case RedWhile"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (b_) (c_;; while (b_) c_) else unit,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (23 subgoals):\n 1. \\<And>b c s s' e'.\n       P \\<turnstile> \\<langle>if (b) (c;; while (b) c) else unit,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>while (b) c,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 5. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 9. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 10. \\<And>C e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 23 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>if (b_) (c_;; while (b_) c_) else unit,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>while (b_) c_,s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (auto simp add: unfold_while intro:eval_evals.intros elim:eval_cases)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>while (b_) c_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (22 subgoals):\n 1. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 8. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 9. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e bop e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw\n                                 e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 22 subgoals...", "next"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 8. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 9. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e bop e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw\n                                 e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 22 subgoals...", "case ThrowRed"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>throw e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (22 subgoals):\n 1. \\<And>e s e' s' s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>throw e',s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>throw e,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 4. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 8. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 9. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e bop e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw\n                                 e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 22 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>throw e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (21 subgoals):\n 1. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 7. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 8. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>v\\<^sub>1 bop e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n        e,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 7. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 8. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>v\\<^sub>1 bop e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n        e,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 21 subgoals...", "case RedThrowNull"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>THROW NullPointer,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (21 subgoals):\n 1. \\<And>s s' e'.\n       P \\<turnstile> \\<langle>THROW NullPointer,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw null,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 3. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 7. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 8. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>v\\<^sub>1 bop e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n        e,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 21 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>THROW NullPointer,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw null,s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw null,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (20 subgoals):\n 1. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 6. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 7. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>V e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 20 subgoals...", "next"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 6. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 7. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>V e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 20 subgoals...", "case (TryRed e s e' s' C V e\\<^sub>2 s'' e')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>try e'__ catch(C V) e\\<^sub>2,\n                  s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (20 subgoals):\n 1. \\<And>e s e' s' C V e\\<^sub>2 s'a e'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>try e' catch(C V) e\\<^sub>2,\n                        s'\\<rangle> \\<Rightarrow>\n                       \\<langle>e'a,s'a\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e'a,s'a\\<rangle>\n 2. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 6. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 7. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>V e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 20 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                 \\<langle>e'__,s'\\<rangle>\n  P \\<turnstile> \\<langle>e'__,s'\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>try e'__ catch(C V) e\\<^sub>2,\n                  s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s''\\<rangle>", "by (cases s, cases s'', auto elim!: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try e catch(C V) e\\<^sub>2,\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s''\\<rangle>\n\ngoal (19 subgoals):\n 1. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 5. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 6. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e F D s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e\\<bullet>F{D},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 19 subgoals...", "next"], ["proof (state)\ngoal (19 subgoals):\n 1. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 5. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 6. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e F D s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e\\<bullet>F{D},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 19 subgoals...", "case RedTry"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (19 subgoals):\n 1. \\<And>v C V e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>try Val v catch(C V) e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 5. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 6. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e F D s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e\\<bullet>F{D},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 19 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Val v_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try Val v_ catch(C_ V_) e\\<^sub>2_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try Val v_ catch(C_ V_) e\\<^sub>2_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (18 subgoals):\n 1. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 4. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 5. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e F D e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 18 subgoals...", "next"], ["proof (state)\ngoal (18 subgoals):\n 1. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 4. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 5. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e F D e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 18 subgoals...", "case RedTryCatch"], ["proof (state)\nthis:\n  hp s_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  P \\<turnstile> \\<langle>{V_:Class C_; V_:=addr a_;; e\\<^sub>2_},\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (18 subgoals):\n 1. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        P \\<turnstile> \\<langle>{V:Class C; V:=addr a;; e\\<^sub>2},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 4. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 5. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e F D e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 18 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  hp s_ a_ = \\<lfloor>(D_, fs_)\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  P \\<turnstile> \\<langle>{V_:Class C_; V_:=addr a_;; e\\<^sub>2_},\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try Throw a_ catch(C_ V_) e\\<^sub>2_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try Throw a_ catch(C_ V_) e\\<^sub>2_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (17 subgoals):\n 1. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 3. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 4. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>v F D e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 17 subgoals...", "next"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 3. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 4. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>v F D e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 17 subgoals...", "case (RedTryFail s a D fs C V e\\<^sub>2 s' e')"], ["proof (state)\nthis:\n  hp s a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (17 subgoals):\n 1. \\<And>s a D fs C V e\\<^sub>2 s' e'.\n       \\<lbrakk>hp s a = \\<lfloor>(D, fs)\\<rfloor>;\n        (D, C) \\<notin> (subcls1 P)\\<^sup>*;\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>try Throw a\n   catch(C V) e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 3. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 4. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>v F D e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 17 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  hp s a = \\<lfloor>(D, fs)\\<rfloor>\n  (D, C) \\<notin> (subcls1 P)\\<^sup>*\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>try Throw a catch(C V) e\\<^sub>2,\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (cases s)(auto elim!: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>try Throw a catch(C V) e\\<^sub>2,\n                  s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (16 subgoals):\n 1. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 2. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 3. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e M es s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 16 subgoals...", "next"], ["proof (state)\ngoal (16 subgoals):\n 1. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 2. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 3. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e M es s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 16 subgoals...", "case ListRed1"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'_ # es_,s'_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',t'\\<rangle>\n\ngoal (16 subgoals):\n 1. \\<And>e s e' s' es t' es'.\n       \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<And>s'a e'a.\n           P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                          \\<langle>e'a,s'a\\<rangle>;\n        P \\<turnstile> \\<langle>e' # es,s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>e # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',t'\\<rangle>\n 2. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 3. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e M es s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 16 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<rightarrow>\n                 \\<langle>e'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>e'_,s'_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>?e',?s'\\<rangle>\n  P \\<turnstile> \\<langle>e'_ # es_,s'_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',t'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e_ # es_,s_\\<rangle> [\\<Rightarrow>]\n                   \\<langle>es',t'\\<rangle>", "by (fastforce elim: evals_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e_ # es_,s_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',t'\\<rangle>\n\ngoal (15 subgoals):\n 1. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 2. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>es vs e es' v M s s' e'.\n        \\<lbrakk>es = map Val vs @ throw e # es';\n         P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 15 subgoals...", "next"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 2. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>es vs e es' v M s s' e'.\n        \\<lbrakk>es = map Val vs @ throw e # es';\n         P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 15 subgoals...", "case ListRed2"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>es_,s_\\<rangle> [\\<rightarrow>]\n                 \\<langle>es'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>es'_,s'_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>?es',?t'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es_,s_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>?es',?t'\\<rangle>\n  P \\<turnstile> \\<langle>Val v_ # es'_,s'_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',t'\\<rangle>\n\ngoal (15 subgoals):\n 1. \\<And>es s es' s' v t' es'a.\n       \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<And>t' es'a.\n           P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle> \\<Longrightarrow>\n           P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                          \\<langle>es'a,t'\\<rangle>;\n        P \\<turnstile> \\<langle>Val v # es',s'\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es'a,t'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v # es,\n   s\\<rangle> [\\<Rightarrow>]\n  \\<langle>es'a,t'\\<rangle>\n 2. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>es vs e es' v M s s' e'.\n        \\<lbrakk>es = map Val vs @ throw e # es';\n         P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                        \\<langle>e',s'\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n    s\\<rangle> \\<Rightarrow>\n   \\<langle>e',s'\\<rangle>\nA total of 15 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>es_,s_\\<rangle> [\\<rightarrow>]\n                 \\<langle>es'_,s'_\\<rangle>\n  P \\<turnstile> \\<langle>es'_,s'_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>?es',?t'\\<rangle> \\<Longrightarrow>\n  P \\<turnstile> \\<langle>es_,s_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>?es',?t'\\<rangle>\n  P \\<turnstile> \\<langle>Val v_ # es'_,s'_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',t'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v_ # es_,s_\\<rangle> [\\<Rightarrow>]\n                   \\<langle>es',t'\\<rangle>", "by (fastforce elim!: evals_cases eval_cases \n                 intro: eval_evals.intros eval_finalId)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v_ # es_,s_\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',t'\\<rangle>\n\ngoal (14 subgoals):\n 1. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>V T a s s' e'.\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>V T a s s' e'.\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 14 subgoals...", "case CastThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (14 subgoals):\n 1. \\<And>C e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Cast C (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 10. \\<And>V T a s s' e'.\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 14 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Cast C_ (throw e_),s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Cast C_ (throw e_),s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>V T v a s s' e'.\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>V T v a s s' e'.\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 13 subgoals...", "case BinOpThrow1"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (13 subgoals):\n 1. \\<And>e bop e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw\n                                e \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 9. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>V T v a s s' e'.\n        P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw\n                             e_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw\n                           e_ \\<guillemotleft>bop_\\<guillemotright> e\\<^sub>2_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 12 subgoals...", "case BinOpThrow2"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (12 subgoals):\n 1. \\<And>v\\<^sub>1 bop e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> throw\n       e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 8. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> throw\n      e_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v\\<^sub>1_ \\<guillemotleft>bop_\\<guillemotright> throw\n    e_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 11 subgoals...", "case LAssThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (11 subgoals):\n 1. \\<And>V e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>V:=throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 7. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                        s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>V_:=throw e_,s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>V_:=throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (10 subgoals):\n 1. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>", "case FAccThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (10 subgoals):\n 1. \\<And>e F D s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 6. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 10. \\<And>e s s' e'.\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_\\<bullet>F_{D_},\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_\\<bullet>F_{D_},s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (9 subgoals):\n 1. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "case FAssThrow1"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (9 subgoals):\n 1. \\<And>e F D e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>F{D} := e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 5. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 9. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_\\<bullet>F_{D_} := e\\<^sub>2_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_\\<bullet>F_{D_} := e\\<^sub>2_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (8 subgoals):\n 1. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "case FAssThrow2"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (8 subgoals):\n 1. \\<And>v F D e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>Val v\\<bullet>F{D} := throw e,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 4. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 8. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v_\\<bullet>F_{D_} := throw e_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v_\\<bullet>F_{D_} := throw e_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "case CallThrowObj"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>e M es s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e\\<bullet>M(es),\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 3. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 7. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_\\<bullet>M_(es_),\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_\\<bullet>M_(es_),s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "case (CallThrowParams es vs e es' v M s s' e')"], ["proof (state)\nthis:\n  es = map Val vs @ throw e # es'\n  P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "have \"P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow> \\<langle>Val v,s\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                   \\<langle>Val v,s\\<rangle>", "by (rule eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,s\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,s\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "have es: \"es = map Val vs @ throw e # es'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. es = map Val vs @ throw e # es'", "by fact"], ["proof (state)\nthis:\n  es = map Val vs @ throw e # es'\n\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "have eval_e: \"P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "obtain xa where e': \"e' = Throw xa\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>xa. e' = Throw xa \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases) (auto dest!: eval_final)"], ["proof (state)\nthis:\n  e' = Throw xa\n\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "with list_eval_Throw [OF eval_e] es"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>map Val ?vs @ throw e # ?es',\n                  s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val ?vs @ e' # ?es',s'\\<rangle>\n  es = map Val vs @ throw e # es'\n  e' = Throw xa", "have \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>] \\<langle>map Val vs @ Throw xa # es',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>map Val ?vs @ throw e # ?es',\n                  s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val ?vs @ e' # ?es',s'\\<rangle>\n  es = map Val vs @ throw e # es'\n  e' = Throw xa\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>map Val vs @ Throw xa # es',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ Throw xa # es',s'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,s\\<rangle>\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ Throw xa # es',s'\\<rangle>", "have \"P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<Rightarrow> \\<langle>Throw xa,s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Val v,s\\<rangle> \\<Rightarrow>\n                 \\<langle>Val v,s\\<rangle>\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>map Val vs @ Throw xa # es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<Rightarrow>\n                   \\<langle>Throw xa,s'\\<rangle>", "by (rule eval_evals.CallParamsThrow)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw xa,s'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>es vs e es' v M s s' e'.\n       \\<lbrakk>es = map Val vs @ throw e # es';\n        P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>Val v\\<bullet>M(es),\n   s\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>\n 2. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 6. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw xa,s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "using e'"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw xa,s'\\<rangle>\n  e' = Throw xa\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Val v\\<bullet>M(es),s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "case (InitBlockThrow V T v a s s' e')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "have \"P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "obtain s': \"s' = s\" and e': \"e' = Throw a\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>s' = s; e' = Throw a\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by cases (auto elim!:eval_cases)"], ["proof (state)\nthis:\n  s' = s\n  e' = Throw a\n\ngoal (5 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "obtain h l where s: \"s = (h,l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>h l. s = (h, l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases s)"], ["proof (state)\nthis:\n  s = (h, l)\n\ngoal (5 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "have \"P \\<turnstile> \\<langle>{V:T :=Val v; Throw a},(h,l)\\<rangle> \\<Rightarrow> \\<langle>Throw a, (h, (l(V\\<mapsto>v))(V:=l V))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                    (h, l)\\<rangle> \\<Rightarrow>\n                   \\<langle>Throw a,\n                    (h, (l(V \\<mapsto> v))(V := l V))\\<rangle>", "by(fastforce intro:eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h, (l(V \\<mapsto> v))(V := l V))\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>V T v a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 5. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "thus \"P \\<turnstile> \\<langle>{V:T := Val v; Throw a},s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h, (l(V \\<mapsto> v))(V := l V))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "using s s' e'"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                  (h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h, (l(V \\<mapsto> v))(V := l V))\\<rangle>\n  s = (h, l)\n  s' = s\n  e' = Throw a\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},\n                    s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; V:=Val v;; Throw a},s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "case (BlockThrow V T a s s' e')"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "have \"P \\<turnstile> \\<langle>Throw a, s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "obtain s': \"s' = s\" and e': \"e' = Throw a\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>s' = s; e' = Throw a\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by cases (auto elim!:eval_cases)"], ["proof (state)\nthis:\n  s' = s\n  e' = Throw a\n\ngoal (4 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "obtain h l where s: \"s=(h,l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>h l. s = (h, l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases s)"], ["proof (state)\nthis:\n  s = (h, l)\n\ngoal (4 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "have \"P \\<turnstile> \\<langle>Throw a, (h,l(V:=None))\\<rangle> \\<Rightarrow> \\<langle>Throw a, (h,l(V:=None))\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>Throw a,(h, l(V := None))\\<rangle> \\<Rightarrow>\n                   \\<langle>Throw a,(h, l(V := None))\\<rangle>", "by (simp add:eval_evals.intros eval_finalId)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>Throw a,(h, l(V := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h, l(V := None))\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "hence \"P\\<turnstile>\\<langle>{V:T;Throw a},(h,l)\\<rangle>\\<Rightarrow>\\<langle>Throw a, (h,(l(V:=None))(V:=l V))\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>Throw a,(h, l(V := None))\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h, l(V := None))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; Throw a},(h, l)\\<rangle> \\<Rightarrow>\n                   \\<langle>Throw a,(h, l(V := None, V := l V))\\<rangle>", "by (rule eval_evals.Block)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; Throw a},(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h, l(V := None, V := l V))\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>V T a s s' e'.\n       P \\<turnstile> \\<langle>Throw a,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 4. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "thus \"P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; Throw a},(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h, l(V := None, V := l V))\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "using s s' e'"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>{V:T; Throw a},(h, l)\\<rangle> \\<Rightarrow>\n                 \\<langle>Throw a,(h, l(V := None, V := l V))\\<rangle>\n  s = (h, l)\n  s' = s\n  e' = Throw a\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>{V:T; Throw a},s\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "case SeqThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>e e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw e;; e\\<^sub>2,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 3. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw e_;; e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_;; e\\<^sub>2_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "case CondThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>e e\\<^sub>1 e\\<^sub>2 s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>if (throw e) e\\<^sub>1 else e\\<^sub>2,\n                       s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>\n 2. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>if (throw e_) e\\<^sub>1_ else e\\<^sub>2_,\n                    s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>if (throw e_) e\\<^sub>1_ else e\\<^sub>2_,\n                  s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "case ThrowThrow"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>e s s' e'.\n       P \\<turnstile> \\<langle>throw e,s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n       P \\<turnstile> \\<langle>throw (throw e),s\\<rangle> \\<Rightarrow>\n                      \\<langle>e',s'\\<rangle>", "thus ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>throw e_,s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>throw (throw e_),s_\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (fastforce elim: eval_cases intro: eval_evals.intros)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>throw (throw e_),s_\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)\n(*<*)\n(* ... und wieder anschalten: *)"], ["", "declare split_paired_All [simp] split_paired_Ex [simp]"], ["", "(*>*)"], ["", "text \\<open>Its extension to \\<open>\\<rightarrow>*\\<close>:\\<close>"], ["", "lemma extend_eval:\nassumes wf: \"wwf_J_prog P\"\nand reds: \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e'',s''\\<rangle>\" and eval_rest:  \"P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\"\nshows \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "using reds eval_rest"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                 \\<langle>e'',s''\\<rangle>\n  P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "apply (induct rule: converse_rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,b\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,b\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,b\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "apply (rule extend_1_eval)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wwf_J_prog P\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n  \\<langle>?e''2 a b aa ba,?s''2 a b aa ba\\<rangle>\n 3. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>?e''2 a b aa ba,\n   ?s''2 a b aa ba\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "apply (rule wf)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n  \\<langle>?e''2 a b aa ba,?s''2 a b aa ba\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>?e''2 a b aa ba,\n   ?s''2 a b aa ba\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> \\<rightarrow>\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<rightarrow>*\n                       \\<langle>e'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>;\n        P \\<turnstile> \\<langle>e'',s''\\<rangle> \\<Rightarrow>\n                       \\<langle>e',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>aa,\n   ba\\<rangle> \\<Rightarrow>\n  \\<langle>e',s'\\<rangle>", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma extend_evals:\nassumes wf: \"wwf_J_prog P\"\nand reds: \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es'',s''\\<rangle>\" and eval_rest:  \"P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle>\"\nshows \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>es',s'\\<rangle>", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>es',s'\\<rangle>", "using reds eval_rest"], ["proof (prove)\nusing this:\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                 \\<langle>es'',s''\\<rangle>\n  P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>es',s'\\<rangle>", "apply (induct rule: converse_rtrancl_induct2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                   \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n    P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                   \\<langle>es',s'\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,\n   b\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',s'\\<rangle>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,\n   b\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',s'\\<rangle>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,\n   b\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',s'\\<rangle>", "apply (rule extend_1_evals)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wwf_J_prog P\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,\n   b\\<rangle> [\\<rightarrow>]\n  \\<langle>?es''2 a b aa ba,?t''2 a b aa ba\\<rangle>\n 3. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>?es''2 a b aa ba,\n   ?t''2 a b aa ba\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',s'\\<rangle>", "apply (rule wf)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>a,\n   b\\<rangle> [\\<rightarrow>]\n  \\<langle>?es''2 a b aa ba,?t''2 a b aa ba\\<rangle>\n 2. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>?es''2 a b aa ba,\n   ?t''2 a b aa ba\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',s'\\<rangle>", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>P \\<turnstile> \\<langle>a,b\\<rangle> [\\<rightarrow>]\n                               \\<langle>aa,ba\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<rightarrow>]*\n                       \\<langle>es'',s''\\<rangle>;\n        P \\<turnstile> \\<langle>aa,ba\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>;\n        P \\<turnstile> \\<langle>es'',s''\\<rangle> [\\<Rightarrow>]\n                       \\<langle>es',s'\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> P \\<turnstile> \\<langle>aa,\n   ba\\<rangle> [\\<Rightarrow>]\n  \\<langle>es',s'\\<rangle>", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "text \\<open>Finally, small step semantics can be simulated by big step semantics:\n\\<close>"], ["", "theorem\nassumes wf: \"wwf_J_prog P\"\nshows small_by_big: \"\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle>; final e'\\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\"\nand \"\\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es',s'\\<rangle>; finals es'\\<rbrakk> \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                             \\<langle>e',s'\\<rangle>;\n      final e'\\<rbrakk>\n     \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n\\<langle>e',s'\\<rangle>) &&&\n    (\\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                             \\<langle>es',s'\\<rangle>;\n      finals es'\\<rbrakk>\n     \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n\\<langle>es',s'\\<rangle>)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                             \\<langle>e',s'\\<rangle>;\n      final e'\\<rbrakk>\n     \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n\\<langle>e',s'\\<rangle>) &&&\n    (\\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                             \\<langle>es',s'\\<rangle>;\n      finals es'\\<rbrakk>\n     \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n\\<langle>es',s'\\<rangle>)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>e',s'\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                                     \\<langle>e',s'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "note wf"], ["proof (state)\nthis:\n  wwf_J_prog P\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>e',s'\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                                     \\<langle>e',s'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  wwf_J_prog P\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>e',s'\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                                     \\<langle>e',s'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "assume \"P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle>\""], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                 \\<langle>e',s'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>e',s'\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                                     \\<langle>e',s'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                 \\<langle>e',s'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>e',s'\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                                     \\<langle>e',s'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "assume \"final e'\""], ["proof (state)\nthis:\n  final e'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>e',s'\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                                     \\<langle>e',s'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  final e'", "have \"P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  final e'\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (rule eval_finalId)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                            \\<langle>e',s'\\<rangle>;\n     final e'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                                     \\<langle>e',s'\\<rangle>\n 2. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  wwf_J_prog P\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                 \\<langle>e',s'\\<rangle>\n  P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>", "show \"P \\<turnstile> \\<langle>e,s\\<rangle>\\<Rightarrow>\\<langle>e',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                 \\<langle>e',s'\\<rangle>\n  P \\<turnstile> \\<langle>e',s'\\<rangle> \\<Rightarrow>\n                 \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle>", "by (rule extend_eval)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "note wf"], ["proof (state)\nthis:\n  wwf_J_prog P\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  wwf_J_prog P\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "assume \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]* \\<langle>es',s'\\<rangle>\""], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                 \\<langle>es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "moreover"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                 \\<langle>es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "assume \"finals es'\""], ["proof (state)\nthis:\n  finals es'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "then"], ["proof (chain)\npicking this:\n  finals es'", "have \"P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  finals es'\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                   \\<langle>es',s'\\<rangle>", "by (rule eval_finalsId)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                            \\<langle>es',s'\\<rangle>;\n     finals es'\\<rbrakk>\n    \\<Longrightarrow> P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                                     \\<langle>es',s'\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  wwf_J_prog P\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                 \\<langle>es',s'\\<rangle>\n  P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',s'\\<rangle>", "show \"P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>] \\<langle>es',s'\\<rangle>\""], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<rightarrow>]*\n                 \\<langle>es',s'\\<rangle>\n  P \\<turnstile> \\<langle>es',s'\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                   \\<langle>es',s'\\<rangle>", "by (rule extend_evals)"], ["proof (state)\nthis:\n  P \\<turnstile> \\<langle>es,s\\<rangle> [\\<Rightarrow>]\n                 \\<langle>es',s'\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "subsection \"Equivalence\""], ["", "text\\<open>And now, the crowning achievement:\\<close>"], ["", "corollary big_iff_small:\n  \"wwf_J_prog P \\<Longrightarrow>\n  P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow> \\<langle>e',s'\\<rangle>  =  (P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>* \\<langle>e',s'\\<rangle> \\<and> final e')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wwf_J_prog P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> =\n    (P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s'\\<rangle> \\<and>\n     final e')", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. wwf_J_prog P \\<Longrightarrow>\n    P \\<turnstile> \\<langle>e,s\\<rangle> \\<Rightarrow>\n                   \\<langle>e',s'\\<rangle> =\n    (P \\<turnstile> \\<langle>e,s\\<rangle> \\<rightarrow>*\n                    \\<langle>e',s'\\<rangle> \\<and>\n     final e')", "by(blast dest: big_by_small eval_final small_by_big)"], ["", "(*>*)"], ["", "end"]]}