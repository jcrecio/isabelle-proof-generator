{"file_name": "/home/qj213/afp-2021-10-22/thys/Jinja/Compiler/Compiler.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Jinja", "problem_names": ["theorem comp_correct:\nassumes wwf: \"wwf_J_prog P\"\nand \"method\": \"P \\<turnstile> C sees M:Ts\\<rightarrow>T = (pns,body) in C\"\nand eval: \"P \\<turnstile> \\<langle>body,(h,[this#pns [\\<mapsto>] vs])\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle>\"\nand sizes: \"size vs = size pns + 1\"    \"size rest = max_vars body\"\nshows \"J2JVM P \\<turnstile> (None,h,[([],vs@rest,C,M,0)]) -jvm\\<rightarrow> (exception e',h',[])\""], "translations": [["", "theorem comp_correct:\nassumes wwf: \"wwf_J_prog P\"\nand \"method\": \"P \\<turnstile> C sees M:Ts\\<rightarrow>T = (pns,body) in C\"\nand eval: \"P \\<turnstile> \\<langle>body,(h,[this#pns [\\<mapsto>] vs])\\<rangle> \\<Rightarrow> \\<langle>e',(h',l')\\<rangle>\"\nand sizes: \"size vs = size pns + 1\"    \"size rest = max_vars body\"\nshows \"J2JVM P \\<turnstile> (None,h,[([],vs@rest,C,M,0)]) -jvm\\<rightarrow> (exception e',h',[])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "let ?P\\<^sub>1 = \"compP\\<^sub>1 P\""], ["proof (state)\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "have fv: \"fv body \\<subseteq> set (this#pns)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv body \\<subseteq> set (this # pns)", "using wwf \"method\""], ["proof (prove)\nusing this:\n  wwf_J_prog P\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = (pns, body) in C\n\ngoal (1 subgoal):\n 1. fv body \\<subseteq> set (this # pns)", "by(auto dest!:sees_wf_mdecl simp:wf_mdecl_def)"], ["proof (state)\nthis:\n  fv body \\<subseteq> set (this # pns)\n\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "have init: \"[this#pns [\\<mapsto>] vs] \\<subseteq>\\<^sub>m [this#pns [\\<mapsto>] vs@rest]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [this # pns [\\<mapsto>] vs] \\<subseteq>\\<^sub>m\n    [this # pns [\\<mapsto>] vs @ rest]", "using sizes"], ["proof (prove)\nusing this:\n  length vs = length pns + 1\n  length rest = max_vars body\n\ngoal (1 subgoal):\n 1. [this # pns [\\<mapsto>] vs] \\<subseteq>\\<^sub>m\n    [this # pns [\\<mapsto>] vs @ rest]", "by simp"], ["proof (state)\nthis:\n  [this # pns [\\<mapsto>] vs] \\<subseteq>\\<^sub>m\n  [this # pns [\\<mapsto>] vs @ rest]\n\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "have \"?P\\<^sub>1 \\<turnstile> C sees M: Ts\\<rightarrow>T = (compE\\<^sub>1 (this#pns) body) in C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n            body in C", "using sees_method_compP[OF \"method\", of \"\\<lambda>(pns,e). compE\\<^sub>1 (this#pns) e\"]"], ["proof (prove)\nusing this:\n  compP (\\<lambda>(pns, e). compE\\<^sub>1 (this # pns) e)\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = (case (pns, body) of\n          (pns, e) \\<Rightarrow> compE\\<^sub>1 (this # pns) e) in C\n\ngoal (1 subgoal):\n 1. compP\\<^sub>1\n     P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n            body in C", "by(simp)"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n          body in C\n\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "moreover"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n          body in C\n\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "obtain ls' where\n    \"?P\\<^sub>1 \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this#pns) body, (h, vs@rest)\\<rangle> \\<Rightarrow> \\<langle>fin\\<^sub>1 e', (h',ls')\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>ls'.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                                 (h, vs @ rest)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 e',\n                                 (h', ls')\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using eval\\<^sub>1_eval[OF wwf eval fv init] sizes"], ["proof (prove)\nusing this:\n  length (this # pns) + max_vars body\n  \\<le> length (vs @ rest) \\<Longrightarrow>\n  \\<exists>ls'.\n     compP\\<^sub>1\n      P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                              (h, vs @ rest)\\<rangle> \\<Rightarrow>\n                             \\<langle>fin\\<^sub>1 e',\n                              (h', ls')\\<rangle> \\<and>\n     l' \\<subseteq>\\<^sub>m [this # pns [\\<mapsto>] ls']\n  length vs = length pns + 1\n  length rest = max_vars body\n\ngoal (1 subgoal):\n 1. (\\<And>ls'.\n        compP\\<^sub>1\n         P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                                 (h, vs @ rest)\\<rangle> \\<Rightarrow>\n                                \\<langle>fin\\<^sub>1 e',\n                                 (h', ls')\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                           (h, vs @ rest)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>\n\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "ultimately"], ["proof (chain)\npicking this:\n  compP\\<^sub>1\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n          body in C\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                           (h, vs @ rest)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n          body in C\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                           (h, vs @ rest)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>\n\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "using comp\\<^sub>2_correct eval_final[OF eval]"], ["proof (prove)\nusing this:\n  compP\\<^sub>1\n   P \\<turnstile> C sees M: Ts\\<rightarrow>T = compE\\<^sub>1 (this # pns)\n          body in C\n  compP\\<^sub>1\n   P \\<turnstile>\\<^sub>1 \\<langle>compE\\<^sub>1 (this # pns) body,\n                           (h, vs @ rest)\\<rangle> \\<Rightarrow>\n                          \\<langle>fin\\<^sub>1 e',(h', ls')\\<rangle>\n  \\<lbrakk>?P\\<^sub>1 \\<turnstile> ?C sees ?M: ?Ts\\<rightarrow>?T = ?body in ?C;\n   ?P\\<^sub>1 \\<turnstile>\\<^sub>1 \\<langle>?body,\n                                    (?h, ?ls)\\<rangle> \\<Rightarrow>\n                                   \\<langle>?e',\n                                    (?h', ?ls')\\<rangle>\\<rbrakk>\n  \\<Longrightarrow> compP\\<^sub>2 ?P\\<^sub>1 \\<turnstile>\n                    (None, ?h, [([], ?ls, ?C, ?M, 0)]) -jvm\\<rightarrow>\n                    (exception ?e', ?h', [])\n  final e'\n\ngoal (1 subgoal):\n 1. J2JVM P \\<turnstile>\n    (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n    (exception e', h', [])", "by(fastforce simp add:J2JVM_def final_def)"], ["proof (state)\nthis:\n  J2JVM P \\<turnstile>\n  (None, h, [([], vs @ rest, C, M, 0)]) -jvm\\<rightarrow>\n  (exception e', h', [])\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "end"]]}